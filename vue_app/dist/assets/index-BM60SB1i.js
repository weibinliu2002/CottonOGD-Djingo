var tu=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import{r as F,c as _,a as Cn,b as n,d as V,e as re,w as be,f as gt,E as su,o as g,g as ee,h as na,u as Ss,i as nu,p as Ts,s as ou,j as vt,k as ru,l as je,m as Js,n as oa,q as Hs,t as Gt,v as iu,x as ke,y as Ye,z as au,A as pe,B as x,C as _t,F as Q,D as _e,G as we,H as Wt,I as lu,J as yn,K as cu,L as uu,M as du,N as hu,O as vi,P as fu,Q as pu,R as mu,S as gu,T as _u,U as vu,V as bu,W as yu}from"./element-plus-CYcfbsgA.js";import{s as Lt,c as wu,d as ku,a as Eu,o as xu,b as Au,T as Cu,r as Su,e as bi,l as yi,m as Tu,f as wi,g as ki}from"./d3-FZRuB6XP.js";import{r as qu}from"./tools-BemMMEYA.js";import{C as ra,r as Ru}from"./chart-js-Bcjh2pZL.js";var Wy=tu((Ga,$o)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const ia="/assets/egg-CeAhh0Oe.jpg",Iu={class:"app"},$u={class:"navbar navbar-expand-lg custom-navbar"},Ou={class:"container"},Du={class:"collapse navbar-collapse",id:"navbarNav"},Pu={class:"navbar-nav"},Lu={class:"nav-item"},Nu={class:"nav-item dropdown"},Mu={class:"dropdown-menu","aria-labelledby":"BrowseDropdown"},Fu={class:"nav-item"},ju={class:"nav-item dropdown"},Bu={class:"dropdown-menu","aria-labelledby":"toolsDropdown"},Uu={class:"nav-item"},Gu={class:"nav-item"},Vu={class:"nav-item"},Ku={class:"container"},Hu={key:0,class:"loading-overlay"},zu={class:"backtop-content"},Ju={__name:"App",setup(t){const e=F(!1),r=()=>{e.value=!0},a=()=>{e.value=!1};return Ts("isLoading",e),Ts("showLoading",r),Ts("hideLoading",a),(o,i)=>{const c=gt("router-link"),p=gt("router-view"),u=na,f=su;return g(),_("div",Iu,[i[20]||(i[20]=Cn('<div id="head-container"><div class="head-content"><img src="'+ia+'" alt="Logo" style="height:90px;width:100px;"><div class="site-title"><span class="main-title"> CottonOGD </span><span class="sub-title"> —— a comprehensive cotton orthogroups database </span></div></div></div>',1)),n("nav",$u,[n("div",Ou,[i[18]||(i[18]=n("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[n("span",{class:"navbar-toggler-icon"})],-1)),n("div",Du,[n("ul",Pu,[n("li",Lu,[re(c,{class:"nav-link",to:"/","exact-active-class":"active"},{default:be(()=>[...i[0]||(i[0]=[ee("Home",-1)])]),_:1})]),n("li",Nu,[i[4]||(i[4]=n("a",{class:"nav-link dropdown-toggle",href:"#",id:"BrowseDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Browse",-1)),n("ul",Mu,[n("li",null,[re(c,{class:"dropdown-item",to:"/browse/genome"},{default:be(()=>[...i[1]||(i[1]=[ee("Genome",-1)])]),_:1})]),n("li",null,[re(c,{class:"dropdown-item",to:"/browse/species"},{default:be(()=>[...i[2]||(i[2]=[ee("Species",-1)])]),_:1})]),n("li",null,[re(c,{class:"dropdown-item",to:"/browse/tf"},{default:be(()=>[...i[3]||(i[3]=[ee("TF",-1)])]),_:1})])])]),n("li",Fu,[re(c,{class:"nav-link",to:"/jbrowse","exact-active-class":"active"},{default:be(()=>[...i[5]||(i[5]=[ee("Jbrowse",-1)])]),_:1})]),n("li",ju,[i[14]||(i[14]=n("a",{class:"nav-link dropdown-toggle",href:"#",id:"toolsDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Tools",-1)),n("ul",Bu,[n("li",null,[re(c,{class:"dropdown-item",to:"/tools/id-search"},{default:be(()=>[...i[6]||(i[6]=[ee("Search by GeneID",-1)])]),_:1})]),n("li",null,[re(c,{class:"dropdown-item",to:"/tools/blastp"},{default:be(()=>[...i[7]||(i[7]=[ee("blastp",-1)])]),_:1})]),n("li",null,[re(c,{class:"dropdown-item",to:"/tools/go-enrichment"},{default:be(()=>[...i[8]||(i[8]=[ee("go_enrichment",-1)])]),_:1})]),n("li",null,[re(c,{class:"dropdown-item",to:"/tools/go-annotation"},{default:be(()=>[...i[9]||(i[9]=[ee("go_annotation",-1)])]),_:1})]),n("li",null,[re(c,{class:"dropdown-item",to:"/tools/kegg-annotation"},{default:be(()=>[...i[10]||(i[10]=[ee("kegg_annotation",-1)])]),_:1})]),n("li",null,[re(c,{class:"dropdown-item",to:"/tools/kegg-enrichment"},{default:be(()=>[...i[11]||(i[11]=[ee("kegg_enrichment",-1)])]),_:1})]),n("li",null,[re(c,{class:"dropdown-item",to:"/tools/gene-expression"},{default:be(()=>[...i[12]||(i[12]=[ee("gene_expression",-1)])]),_:1})]),n("li",null,[re(c,{class:"dropdown-item",to:"/tools/gene-expression-efp"},{default:be(()=>[...i[13]||(i[13]=[ee("gene_expression_in_eFP",-1)])]),_:1})])])]),n("li",Uu,[re(c,{class:"nav-link",to:"/download"},{default:be(()=>[...i[15]||(i[15]=[ee("Download",-1)])]),_:1})]),n("li",Gu,[re(c,{class:"nav-link",to:"/about-us"},{default:be(()=>[...i[16]||(i[16]=[ee("About",-1)])]),_:1})]),n("li",Vu,[re(c,{class:"nav-link",to:"/contact-us"},{default:be(()=>[...i[17]||(i[17]=[ee("Contact us",-1)])]),_:1})])])])])]),n("main",Ku,[re(p)]),e.value?(g(),_("div",Hu,[...i[19]||(i[19]=[n("div",{class:"loading-content"},[n("div",{class:"spinner-border text-primary",role:"status"},[n("span",{class:"visually-hidden"},"Loading...")]),n("div",{class:"mt-3"},"正在检索中...")],-1)])])):V("",!0),i[21]||(i[21]=n("div",{class:"footer-section"},[n("footer",null,[n("div",{class:"container"},[n("p",{class:"mb-0"},"CottonOGD Website © 2025")])])],-1)),re(f,{"visibility-height":200,right:40,bottom:40,target:".app"},{default:be(()=>[n("div",zu,[re(u,{class:"backtop-icon"},{default:be(()=>[re(Ss(nu))]),_:1})])]),_:1})])}}};const Cs=typeof document<"u";function aa(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Wu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&aa(t.default)}const xe=Object.assign;function go(t,e){const r={};for(const a in e){const o=e[a];r[a]=qt(o)?o.map(t):t(o)}return r}const zs=()=>{},qt=Array.isArray;function Ei(t,e){const r={};for(const a in t)r[a]=a in e?e[a]:t[a];return r}const la=/#/g,Qu=/&/g,Xu=/\//g,Yu=/=/g,Zu=/\?/g,ca=/\+/g,ed=/%5B/g,td=/%5D/g,ua=/%5E/g,sd=/%60/g,da=/%7B/g,nd=/%7C/g,ha=/%7D/g,od=/%20/g;function Oo(t){return t==null?"":encodeURI(""+t).replace(nd,"|").replace(ed,"[").replace(td,"]")}function rd(t){return Oo(t).replace(da,"{").replace(ha,"}").replace(ua,"^")}function xo(t){return Oo(t).replace(ca,"%2B").replace(od,"+").replace(la,"%23").replace(Qu,"%26").replace(sd,"`").replace(da,"{").replace(ha,"}").replace(ua,"^")}function id(t){return xo(t).replace(Yu,"%3D")}function ad(t){return Oo(t).replace(la,"%23").replace(Zu,"%3F")}function ld(t){return ad(t).replace(Xu,"%2F")}function Ws(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const cd=/\/$/,ud=t=>t.replace(cd,"");function _o(t,e,r="/"){let a,o={},i="",c="";const p=e.indexOf("#");let u=e.indexOf("?");return u=p>=0&&u>p?-1:u,u>=0&&(a=e.slice(0,u),i=e.slice(u,p>0?p:e.length),o=t(i.slice(1))),p>=0&&(a=a||e.slice(0,p),c=e.slice(p,e.length)),a=pd(a??e,r),{fullPath:a+i+c,path:a,query:o,hash:Ws(c)}}function dd(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function xi(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function hd(t,e,r){const a=e.matched.length-1,o=r.matched.length-1;return a>-1&&a===o&&qs(e.matched[a],r.matched[o])&&fa(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function qs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function fa(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!fd(t[r],e[r]))return!1;return!0}function fd(t,e){return qt(t)?Ai(t,e):qt(e)?Ai(e,t):t?.valueOf()===e?.valueOf()}function Ai(t,e){return qt(e)?t.length===e.length&&t.every((r,a)=>r===e[a]):t.length===1&&t[0]===e}function pd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),a=t.split("/"),o=a[a.length-1];(o===".."||o===".")&&a.push("");let i=r.length-1,c,p;for(c=0;c<a.length;c++)if(p=a[c],p!==".")if(p==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+a.slice(c).join("/")}const zt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ao=(function(t){return t.pop="pop",t.push="push",t})({}),vo=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function md(t){if(!t)if(Cs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ud(t)}const gd=/^[^#]+#/;function _d(t,e){return t.replace(gd,"#")+e}function vd(t,e){const r=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{behavior:e.behavior,left:a.left-r.left-(e.left||0),top:a.top-r.top-(e.top||0)}}const Sn=()=>({left:window.scrollX,top:window.scrollY});function bd(t){let e;if("el"in t){const r=t.el,a=typeof r=="string"&&r.startsWith("#"),o=typeof r=="string"?a?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!o)return;e=vd(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ci(t,e){return(history.state?history.state.position-e:-1)+t}const Co=new Map;function yd(t,e){Co.set(t,e)}function wd(t){const e=Co.get(t);return Co.delete(t),e}function kd(t){return typeof t=="string"||t&&typeof t=="object"}function pa(t){return typeof t=="string"||typeof t=="symbol"}let Fe=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const ma=Symbol("");Fe.MATCHER_NOT_FOUND+"",Fe.NAVIGATION_GUARD_REDIRECT+"",Fe.NAVIGATION_ABORTED+"",Fe.NAVIGATION_CANCELLED+"",Fe.NAVIGATION_DUPLICATED+"";function Rs(t,e){return xe(new Error,{type:t,[ma]:!0},e)}function Ut(t,e){return t instanceof Error&&ma in t&&(e==null||!!(t.type&e))}const Ed=["params","query","hash"];function xd(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of Ed)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function Ad(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let a=0;a<r.length;++a){const o=r[a].replace(ca," "),i=o.indexOf("="),c=Ws(i<0?o:o.slice(0,i)),p=i<0?null:Ws(o.slice(i+1));if(c in e){let u=e[c];qt(u)||(u=e[c]=[u]),u.push(p)}else e[c]=p}return e}function Si(t){let e="";for(let r in t){const a=t[r];if(r=id(r),a==null){a!==void 0&&(e+=(e.length?"&":"")+r);continue}(qt(a)?a.map(o=>o&&xo(o)):[a&&xo(a)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+r,o!=null&&(e+="="+o))})}return e}function Cd(t){const e={};for(const r in t){const a=t[r];a!==void 0&&(e[r]=qt(a)?a.map(o=>o==null?null:""+o):a==null?a:""+a)}return e}const Sd=Symbol(""),Ti=Symbol(""),Tn=Symbol(""),Do=Symbol(""),So=Symbol("");function Vs(){let t=[];function e(a){return t.push(a),()=>{const o=t.indexOf(a);o>-1&&t.splice(o,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Jt(t,e,r,a,o,i=c=>c()){const c=a&&(a.enterCallbacks[o]=a.enterCallbacks[o]||[]);return()=>new Promise((p,u)=>{const f=b=>{b===!1?u(Rs(Fe.NAVIGATION_ABORTED,{from:r,to:e})):b instanceof Error?u(b):kd(b)?u(Rs(Fe.NAVIGATION_GUARD_REDIRECT,{from:e,to:b})):(c&&a.enterCallbacks[o]===c&&typeof b=="function"&&c.push(b),p())},m=i(()=>t.call(a&&a.instances[o],e,r,f));let v=Promise.resolve(m);t.length<3&&(v=v.then(f)),v.catch(b=>u(b))})}function bo(t,e,r,a,o=i=>i()){const i=[];for(const c of t)for(const p in c.components){let u=c.components[p];if(!(e!=="beforeRouteEnter"&&!c.instances[p]))if(aa(u)){const f=(u.__vccOpts||u)[e];f&&i.push(Jt(f,r,a,c,p,o))}else{let f=u();i.push(()=>f.then(m=>{if(!m)throw new Error(`Couldn't resolve component "${p}" at "${c.path}"`);const v=Wu(m)?m.default:m;c.mods[p]=m,c.components[p]=v;const b=(v.__vccOpts||v)[e];return b&&Jt(b,r,a,c,p,o)()}))}}return i}function Td(t,e){const r=[],a=[],o=[],i=Math.max(e.matched.length,t.matched.length);for(let c=0;c<i;c++){const p=e.matched[c];p&&(t.matched.find(f=>qs(f,p))?a.push(p):r.push(p));const u=t.matched[c];u&&(e.matched.find(f=>qs(f,u))||o.push(u))}return[r,a,o]}let qd=()=>location.protocol+"//"+location.host;function ga(t,e){const{pathname:r,search:a,hash:o}=e,i=t.indexOf("#");if(i>-1){let c=o.includes(t.slice(i))?t.slice(i).length:1,p=o.slice(c);return p[0]!=="/"&&(p="/"+p),xi(p,"")}return xi(r,t)+a+o}function Rd(t,e,r,a){let o=[],i=[],c=null;const p=({state:b})=>{const A=ga(t,location),k=r.value,C=e.value;let S=0;if(b){if(r.value=A,e.value=b,c&&c===k){c=null;return}S=C?b.position-C.position:0}else a(A);o.forEach(O=>{O(r.value,k,{delta:S,type:Ao.pop,direction:S?S>0?vo.forward:vo.back:vo.unknown})})};function u(){c=r.value}function f(b){o.push(b);const A=()=>{const k=o.indexOf(b);k>-1&&o.splice(k,1)};return i.push(A),A}function m(){if(document.visibilityState==="hidden"){const{history:b}=window;if(!b.state)return;b.replaceState(xe({},b.state,{scroll:Sn()}),"")}}function v(){for(const b of i)b();i=[],window.removeEventListener("popstate",p),window.removeEventListener("pagehide",m),document.removeEventListener("visibilitychange",m)}return window.addEventListener("popstate",p),window.addEventListener("pagehide",m),document.addEventListener("visibilitychange",m),{pauseListeners:u,listen:f,destroy:v}}function qi(t,e,r,a=!1,o=!1){return{back:t,current:e,forward:r,replaced:a,position:window.history.length,scroll:o?Sn():null}}function Id(t){const{history:e,location:r}=window,a={value:ga(t,r)},o={value:e.state};o.value||i(a.value,{back:null,current:a.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,f,m){const v=t.indexOf("#"),b=v>-1?(r.host&&document.querySelector("base")?t:t.slice(v))+u:qd()+t+u;try{e[m?"replaceState":"pushState"](f,"",b),o.value=f}catch(A){console.error(A),r[m?"replace":"assign"](b)}}function c(u,f){i(u,xe({},e.state,qi(o.value.back,u,o.value.forward,!0),f,{position:o.value.position}),!0),a.value=u}function p(u,f){const m=xe({},o.value,e.state,{forward:u,scroll:Sn()});i(m.current,m,!0),i(u,xe({},qi(a.value,u,null),{position:m.position+1},f),!1),a.value=u}return{location:a,state:o,push:p,replace:c}}function $d(t){t=md(t);const e=Id(t),r=Rd(t,e.state,e.location,e.replace);function a(i,c=!0){c||r.pauseListeners(),history.go(i)}const o=xe({location:"",base:t,go:a,createHref:_d.bind(null,t)},e,r);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}let as=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var ze=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(ze||{});const Od={type:as.Static,value:""},Dd=/[a-zA-Z0-9_]/;function Pd(t){if(!t)return[[]];if(t==="/")return[[Od]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(A){throw new Error(`ERR (${r})/"${f}": ${A}`)}let r=ze.Static,a=r;const o=[];let i;function c(){i&&o.push(i),i=[]}let p=0,u,f="",m="";function v(){f&&(r===ze.Static?i.push({type:as.Static,value:f}):r===ze.Param||r===ze.ParamRegExp||r===ze.ParamRegExpEnd?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:as.Param,value:f,regexp:m,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),f="")}function b(){f+=u}for(;p<t.length;){if(u=t[p++],u==="\\"&&r!==ze.ParamRegExp){a=r,r=ze.EscapeNext;continue}switch(r){case ze.Static:u==="/"?(f&&v(),c()):u===":"?(v(),r=ze.Param):b();break;case ze.EscapeNext:b(),r=a;break;case ze.Param:u==="("?r=ze.ParamRegExp:Dd.test(u)?b():(v(),r=ze.Static,u!=="*"&&u!=="?"&&u!=="+"&&p--);break;case ze.ParamRegExp:u===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+u:r=ze.ParamRegExpEnd:m+=u;break;case ze.ParamRegExpEnd:v(),r=ze.Static,u!=="*"&&u!=="?"&&u!=="+"&&p--,m="";break;default:e("Unknown state");break}}return r===ze.ParamRegExp&&e(`Unfinished custom RegExp for param "${f}"`),v(),c(),o}const Ri="[^/]+?",Ld={sensitive:!1,strict:!1,start:!0,end:!0};var lt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(lt||{});const Nd=/[.+*?^${}()[\]/\\]/g;function Md(t,e){const r=xe({},Ld,e),a=[];let o=r.start?"^":"";const i=[];for(const f of t){const m=f.length?[]:[lt.Root];r.strict&&!f.length&&(o+="/");for(let v=0;v<f.length;v++){const b=f[v];let A=lt.Segment+(r.sensitive?lt.BonusCaseSensitive:0);if(b.type===as.Static)v||(o+="/"),o+=b.value.replace(Nd,"\\$&"),A+=lt.Static;else if(b.type===as.Param){const{value:k,repeatable:C,optional:S,regexp:O}=b;i.push({name:k,repeatable:C,optional:S});const $=O||Ri;if($!==Ri){A+=lt.BonusCustomRegExp;try{`${$}`}catch(B){throw new Error(`Invalid custom RegExp for param "${k}" (${$}): `+B.message)}}let j=C?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;v||(j=S&&f.length<2?`(?:/${j})`:"/"+j),S&&(j+="?"),o+=j,A+=lt.Dynamic,S&&(A+=lt.BonusOptional),C&&(A+=lt.BonusRepeatable),$===".*"&&(A+=lt.BonusWildcard)}m.push(A)}a.push(m)}if(r.strict&&r.end){const f=a.length-1;a[f][a[f].length-1]+=lt.BonusStrict}r.strict||(o+="/?"),r.end?o+="$":r.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const c=new RegExp(o,r.sensitive?"":"i");function p(f){const m=f.match(c),v={};if(!m)return null;for(let b=1;b<m.length;b++){const A=m[b]||"",k=i[b-1];v[k.name]=A&&k.repeatable?A.split("/"):A}return v}function u(f){let m="",v=!1;for(const b of t){(!v||!m.endsWith("/"))&&(m+="/"),v=!1;for(const A of b)if(A.type===as.Static)m+=A.value;else if(A.type===as.Param){const{value:k,repeatable:C,optional:S}=A,O=k in f?f[k]:"";if(qt(O)&&!C)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const $=qt(O)?O.join("/"):O;if(!$)if(S)b.length<2&&(m.endsWith("/")?m=m.slice(0,-1):v=!0);else throw new Error(`Missing required param "${k}"`);m+=$}}return m||"/"}return{re:c,score:a,keys:i,parse:p,stringify:u}}function Fd(t,e){let r=0;for(;r<t.length&&r<e.length;){const a=e[r]-t[r];if(a)return a;r++}return t.length<e.length?t.length===1&&t[0]===lt.Static+lt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===lt.Static+lt.Segment?1:-1:0}function _a(t,e){let r=0;const a=t.score,o=e.score;for(;r<a.length&&r<o.length;){const i=Fd(a[r],o[r]);if(i)return i;r++}if(Math.abs(o.length-a.length)===1){if(Ii(a))return 1;if(Ii(o))return-1}return o.length-a.length}function Ii(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const jd={strict:!1,end:!0,sensitive:!1};function Bd(t,e,r){const a=Md(Pd(t.path),r),o=xe(a,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function Ud(t,e){const r=[],a=new Map;e=Ei(jd,e);function o(v){return a.get(v)}function i(v,b,A){const k=!A,C=Oi(v);C.aliasOf=A&&A.record;const S=Ei(e,v),O=[C];if("alias"in v){const B=typeof v.alias=="string"?[v.alias]:v.alias;for(const J of B)O.push(Oi(xe({},C,{components:A?A.record.components:C.components,path:J,aliasOf:A?A.record:C})))}let $,j;for(const B of O){const{path:J}=B;if(b&&J[0]!=="/"){const ie=b.record.path,te=ie[ie.length-1]==="/"?"":"/";B.path=b.record.path+(J&&te+J)}if($=Bd(B,b,S),A?A.alias.push($):(j=j||$,j!==$&&j.alias.push($),k&&v.name&&!Di($)&&c(v.name)),va($)&&u($),C.children){const ie=C.children;for(let te=0;te<ie.length;te++)i(ie[te],$,A&&A.children[te])}A=A||$}return j?()=>{c(j)}:zs}function c(v){if(pa(v)){const b=a.get(v);b&&(a.delete(v),r.splice(r.indexOf(b),1),b.children.forEach(c),b.alias.forEach(c))}else{const b=r.indexOf(v);b>-1&&(r.splice(b,1),v.record.name&&a.delete(v.record.name),v.children.forEach(c),v.alias.forEach(c))}}function p(){return r}function u(v){const b=Kd(v,r);r.splice(b,0,v),v.record.name&&!Di(v)&&a.set(v.record.name,v)}function f(v,b){let A,k={},C,S;if("name"in v&&v.name){if(A=a.get(v.name),!A)throw Rs(Fe.MATCHER_NOT_FOUND,{location:v});S=A.record.name,k=xe($i(b.params,A.keys.filter(j=>!j.optional).concat(A.parent?A.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),v.params&&$i(v.params,A.keys.map(j=>j.name))),C=A.stringify(k)}else if(v.path!=null)C=v.path,A=r.find(j=>j.re.test(C)),A&&(k=A.parse(C),S=A.record.name);else{if(A=b.name?a.get(b.name):r.find(j=>j.re.test(b.path)),!A)throw Rs(Fe.MATCHER_NOT_FOUND,{location:v,currentLocation:b});S=A.record.name,k=xe({},b.params,v.params),C=A.stringify(k)}const O=[];let $=A;for(;$;)O.unshift($.record),$=$.parent;return{name:S,path:C,params:k,matched:O,meta:Vd(O)}}t.forEach(v=>i(v));function m(){r.length=0,a.clear()}return{addRoute:i,resolve:f,removeRoute:c,clearRoutes:m,getRoutes:p,getRecordMatcher:o}}function $i(t,e){const r={};for(const a of e)a in t&&(r[a]=t[a]);return r}function Oi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Gd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Gd(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const a in t.components)e[a]=typeof r=="object"?r[a]:r;return e}function Di(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Vd(t){return t.reduce((e,r)=>xe(e,r.meta),{})}function Kd(t,e){let r=0,a=e.length;for(;r!==a;){const i=r+a>>1;_a(t,e[i])<0?a=i:r=i+1}const o=Hd(t);return o&&(a=e.lastIndexOf(o,a-1)),a}function Hd(t){let e=t;for(;e=e.parent;)if(va(e)&&_a(t,e)===0)return e}function va({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Pi(t){const e=Gt(Tn),r=Gt(Do),a=je(()=>{const u=Ss(t.to);return e.resolve(u)}),o=je(()=>{const{matched:u}=a.value,{length:f}=u,m=u[f-1],v=r.matched;if(!m||!v.length)return-1;const b=v.findIndex(qs.bind(null,m));if(b>-1)return b;const A=Li(u[f-2]);return f>1&&Li(m)===A&&v[v.length-1].path!==A?v.findIndex(qs.bind(null,u[f-2])):b}),i=je(()=>o.value>-1&&Xd(r.params,a.value.params)),c=je(()=>o.value>-1&&o.value===r.matched.length-1&&fa(r.params,a.value.params));function p(u={}){if(Qd(u)){const f=e[Ss(t.replace)?"replace":"push"](Ss(t.to)).catch(zs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:a,href:je(()=>a.value.href),isActive:i,isExactActive:c,navigate:p}}function zd(t){return t.length===1?t[0]:t}const Jd=vt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Pi,setup(t,{slots:e}){const r=iu(Pi(t)),{options:a}=Gt(Tn),o=je(()=>({[Ni(t.activeClass,a.linkActiveClass,"router-link-active")]:r.isActive,[Ni(t.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&zd(e.default(r));return t.custom?i:oa("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:o.value},i)}}}),Wd=Jd;function Qd(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Xd(t,e){for(const r in e){const a=e[r],o=t[r];if(typeof a=="string"){if(a!==o)return!1}else if(!qt(o)||o.length!==a.length||a.some((i,c)=>i.valueOf()!==o[c].valueOf()))return!1}return!0}function Li(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ni=(t,e,r)=>t??e??r,Yd=vt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const a=Gt(So),o=je(()=>t.route||a.value),i=Gt(Ti,0),c=je(()=>{let f=Ss(i);const{matched:m}=o.value;let v;for(;(v=m[f])&&!v.components;)f++;return f}),p=je(()=>o.value.matched[c.value]);Ts(Ti,je(()=>c.value+1)),Ts(Sd,p),Ts(So,o);const u=F();return Js(()=>[u.value,p.value,t.name],([f,m,v],[b,A,k])=>{m&&(m.instances[v]=f,A&&A!==m&&f&&f===b&&(m.leaveGuards.size||(m.leaveGuards=A.leaveGuards),m.updateGuards.size||(m.updateGuards=A.updateGuards))),f&&m&&(!A||!qs(m,A)||!b)&&(m.enterCallbacks[v]||[]).forEach(C=>C(f))},{flush:"post"}),()=>{const f=o.value,m=t.name,v=p.value,b=v&&v.components[m];if(!b)return Mi(r.default,{Component:b,route:f});const A=v.props[m],k=A?A===!0?f.params:typeof A=="function"?A(f):A:null,S=oa(b,xe({},k,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(v.instances[m]=null)},ref:u}));return Mi(r.default,{Component:S,route:f})||S}}});function Mi(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Zd=Yd;function eh(t){const e=Ud(t.routes,t),r=t.parseQuery||Ad,a=t.stringifyQuery||Si,o=t.history,i=Vs(),c=Vs(),p=Vs(),u=ou(zt);let f=zt;Cs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=go.bind(null,E=>""+E),v=go.bind(null,ld),b=go.bind(null,Ws);function A(E,H){let G,Z;return pa(E)?(G=e.getRecordMatcher(E),Z=H):Z=E,e.addRoute(Z,G)}function k(E){const H=e.getRecordMatcher(E);H&&e.removeRoute(H)}function C(){return e.getRoutes().map(E=>E.record)}function S(E){return!!e.getRecordMatcher(E)}function O(E,H){if(H=xe({},H||u.value),typeof E=="string"){const ne=_o(r,E,H.path),Te=e.resolve({path:ne.path},H),bt=o.createHref(ne.fullPath);return xe(ne,Te,{params:b(Te.params),hash:Ws(ne.hash),redirectedFrom:void 0,href:bt})}let G;if(E.path!=null)G=xe({},E,{path:_o(r,E.path,H.path).path});else{const ne=xe({},E.params);for(const Te in ne)ne[Te]==null&&delete ne[Te];G=xe({},E,{params:v(ne)}),H.params=v(H.params)}const Z=e.resolve(G,H),he=E.hash||"";Z.params=m(b(Z.params));const Se=dd(a,xe({},E,{hash:rd(he),path:Z.path})),ue=o.createHref(Se);return xe({fullPath:Se,hash:he,query:a===Si?Cd(E.query):E.query||{}},Z,{redirectedFrom:void 0,href:ue})}function $(E){return typeof E=="string"?_o(r,E,u.value.path):xe({},E)}function j(E,H){if(f!==E)return Rs(Fe.NAVIGATION_CANCELLED,{from:H,to:E})}function B(E){return te(E)}function J(E){return B(xe($(E),{replace:!0}))}function ie(E,H){const G=E.matched[E.matched.length-1];if(G&&G.redirect){const{redirect:Z}=G;let he=typeof Z=="function"?Z(E,H):Z;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=$(he):{path:he},he.params={}),xe({query:E.query,hash:E.hash,params:he.path!=null?{}:E.params},he)}}function te(E,H){const G=f=O(E),Z=u.value,he=E.state,Se=E.force,ue=E.replace===!0,ne=ie(G,Z);if(ne)return te(xe($(ne),{state:typeof ne=="object"?xe({},he,ne.state):he,force:Se,replace:ue}),H||G);const Te=G;Te.redirectedFrom=H;let bt;return!Se&&hd(a,Z,G)&&(bt=Rs(Fe.NAVIGATION_DUPLICATED,{to:Te,from:Z}),Ve(Z,Z,!0,!1)),(bt?Promise.resolve(bt):P(Te,Z)).catch(M=>Ut(M)?Ut(M,Fe.NAVIGATION_GUARD_REDIRECT)?M:Je(M):Ie(M,Te,Z)).then(M=>{if(M){if(Ut(M,Fe.NAVIGATION_GUARD_REDIRECT))return te(xe({replace:ue},$(M.to),{state:typeof M.to=="object"?xe({},he,M.to.state):he,force:Se}),H||Te)}else M=N(Te,Z,!0,ue,he);return R(Te,Z,M),M})}function X(E,H){const G=j(E,H);return G?Promise.reject(G):Promise.resolve()}function T(E){const H=Ke.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(E):E()}function P(E,H){let G;const[Z,he,Se]=Td(E,H);G=bo(Z.reverse(),"beforeRouteLeave",E,H);for(const ne of Z)ne.leaveGuards.forEach(Te=>{G.push(Jt(Te,E,H))});const ue=X.bind(null,E,H);return G.push(ue),ct(G).then(()=>{G=[];for(const ne of i.list())G.push(Jt(ne,E,H));return G.push(ue),ct(G)}).then(()=>{G=bo(he,"beforeRouteUpdate",E,H);for(const ne of he)ne.updateGuards.forEach(Te=>{G.push(Jt(Te,E,H))});return G.push(ue),ct(G)}).then(()=>{G=[];for(const ne of Se)if(ne.beforeEnter)if(qt(ne.beforeEnter))for(const Te of ne.beforeEnter)G.push(Jt(Te,E,H));else G.push(Jt(ne.beforeEnter,E,H));return G.push(ue),ct(G)}).then(()=>(E.matched.forEach(ne=>ne.enterCallbacks={}),G=bo(Se,"beforeRouteEnter",E,H,T),G.push(ue),ct(G))).then(()=>{G=[];for(const ne of c.list())G.push(Jt(ne,E,H));return G.push(ue),ct(G)}).catch(ne=>Ut(ne,Fe.NAVIGATION_CANCELLED)?ne:Promise.reject(ne))}function R(E,H,G){p.list().forEach(Z=>T(()=>Z(E,H,G)))}function N(E,H,G,Z,he){const Se=j(E,H);if(Se)return Se;const ue=H===zt,ne=Cs?history.state:{};G&&(Z||ue?o.replace(E.fullPath,xe({scroll:ue&&ne&&ne.scroll},he)):o.push(E.fullPath,he)),u.value=E,Ve(E,H,G,ue),Je()}let Y;function Ee(){Y||(Y=o.listen((E,H,G)=>{if(!Le.listening)return;const Z=O(E),he=ie(Z,Le.currentRoute.value);if(he){te(xe(he,{replace:!0,force:!0}),Z).catch(zs);return}f=Z;const Se=u.value;Cs&&yd(Ci(Se.fullPath,G.delta),Sn()),P(Z,Se).catch(ue=>Ut(ue,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_CANCELLED)?ue:Ut(ue,Fe.NAVIGATION_GUARD_REDIRECT)?(te(xe($(ue.to),{force:!0}),Z).then(ne=>{Ut(ne,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_DUPLICATED)&&!G.delta&&G.type===Ao.pop&&o.go(-1,!1)}).catch(zs),Promise.reject()):(G.delta&&o.go(-G.delta,!1),Ie(ue,Z,Se))).then(ue=>{ue=ue||N(Z,Se,!1),ue&&(G.delta&&!Ut(ue,Fe.NAVIGATION_CANCELLED)?o.go(-G.delta,!1):G.type===Ao.pop&&Ut(ue,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),R(Z,Se,ue)}).catch(zs)}))}let Ne=Vs(),ge=Vs(),et;function Ie(E,H,G){Je(E);const Z=ge.list();return Z.length?Z.forEach(he=>he(E,H,G)):console.error(E),Promise.reject(E)}function D(){return et&&u.value!==zt?Promise.resolve():new Promise((E,H)=>{Ne.add([E,H])})}function Je(E){return et||(et=!E,Ee(),Ne.list().forEach(([H,G])=>E?G(E):H()),Ne.reset()),E}function Ve(E,H,G,Z){const{scrollBehavior:he}=t;if(!Cs||!he)return Promise.resolve();const Se=!G&&wd(Ci(E.fullPath,0))||(Z||!G)&&history.state&&history.state.scroll||null;return Hs().then(()=>he(E,H,Se)).then(ue=>ue&&bd(ue)).catch(ue=>Ie(ue,E,H))}const We=E=>o.go(E);let Ue;const Ke=new Set,Le={currentRoute:u,listening:!0,addRoute:A,removeRoute:k,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:C,resolve:O,options:t,push:B,replace:J,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:i.add,beforeResolve:c.add,afterEach:p.add,onError:ge.add,isReady:D,install(E){E.component("RouterLink",Wd),E.component("RouterView",Zd),E.config.globalProperties.$router=Le,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>Ss(u)}),Cs&&!Ue&&u.value===zt&&(Ue=!0,B(o.location).catch(Z=>{}));const H={};for(const Z in zt)Object.defineProperty(H,Z,{get:()=>u.value[Z],enumerable:!0});E.provide(Tn,Le),E.provide(Do,ru(H)),E.provide(So,u);const G=E.unmount;Ke.add(E),E.unmount=function(){Ke.delete(E),Ke.size<1&&(f=zt,Y&&Y(),Y=null,u.value=zt,Ue=!1,et=!1),G()}}};function ct(E){return E.reduce((H,G)=>H.then(()=>T(G)),Promise.resolve())}return Le}function $s(){return Gt(Tn)}function Os(t){return Gt(Do)}const Pe=(t,e)=>{const r=t.__vccOpts||t;for(const[a,o]of e)r[a]=o;return r},th={name:"HomeView",data(){return{searchQuery:""}},methods:{performSearch(){this.searchQuery.trim()&&this.$router.push({path:"/tools/id-search/results",query:{q:this.searchQuery.trim()}})}}},sh={class:"home"},nh={class:"hero-section"},oh={class:"container"},rh={class:"search-box-container"},ih={class:"input-group"},ah={class:"features-section py-8"},lh={class:"container"},ch={class:"row"},uh={class:"col-md-4 mb-4"},dh={class:"feature-card h-100"},hh={class:"col-md-4 mb-4"},fh={class:"feature-card h-100"},ph={class:"col-md-4 mb-4"},mh={class:"feature-card h-100"};function gh(t,e,r,a,o,i){const c=gt("router-link");return g(),_("div",sh,[n("div",nh,[n("div",oh,[e[4]||(e[4]=n("h1",{class:"text-center mb-4"},"Welcome to CottonOGD Website",-1)),e[5]||(e[5]=n("p",{class:"text-center mb-6"},"Comprehensive genomic database for cotton research",-1)),n("div",rh,[n("div",ih,[ke(n("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter gene ID, symbol or keyword...","onUpdate:modelValue":e[0]||(e[0]=p=>o.searchQuery=p),onKeyup:e[1]||(e[1]=au((...p)=>i.performSearch&&i.performSearch(...p),["enter"]))},null,544),[[Ye,o.searchQuery]]),n("button",{class:"btn btn-primary btn-lg",onClick:e[2]||(e[2]=(...p)=>i.performSearch&&i.performSearch(...p))},[...e[3]||(e[3]=[n("i",{class:"fas fa-search"},null,-1),ee(" Search ",-1)])])])])])]),n("div",ah,[n("div",lh,[n("div",ch,[n("div",uh,[n("div",dh,[e[7]||(e[7]=n("div",{class:"icon-container"},[n("i",{class:"fas fa-database fa-3x text-primary"})],-1)),e[8]||(e[8]=n("h3",{class:"mt-3 mb-2"},"Browse",-1)),e[9]||(e[9]=n("p",{class:"mb-4"},"Explore cotton genome data, species information and transcription factors",-1)),re(c,{to:"/browse/genome",class:"btn btn-outline-primary"},{default:be(()=>[...e[6]||(e[6]=[ee(" Get Started ",-1)])]),_:1})])]),n("div",hh,[n("div",fh,[e[11]||(e[11]=n("div",{class:"icon-container"},[n("i",{class:"fas fa-chart-line fa-3x text-primary"})],-1)),e[12]||(e[12]=n("h3",{class:"mt-3 mb-2"},"Visualization",-1)),e[13]||(e[13]=n("p",{class:"mb-4"},"View genomic data interactively with JBrowse and expression patterns",-1)),re(c,{to:"/jbrowse",class:"btn btn-outline-primary"},{default:be(()=>[...e[10]||(e[10]=[ee(" Launch JBrowse ",-1)])]),_:1})])]),n("div",ph,[n("div",mh,[e[15]||(e[15]=n("div",{class:"icon-container"},[n("i",{class:"fas fa-tools fa-3x text-primary"})],-1)),e[16]||(e[16]=n("h3",{class:"mt-3 mb-2"},"Tools",-1)),e[17]||(e[17]=n("p",{class:"mb-4"},"Use various analysis tools for gene function, expression and enrichment",-1)),re(c,{to:"/tools/id-search",class:"btn btn-outline-primary"},{default:be(()=>[...e[14]||(e[14]=[ee(" Explore Tools ",-1)])]),_:1})])])])])]),e[18]||(e[18]=Cn('<div class="research-section bg-light py-8" data-v-fafdabbe><div class="container" data-v-fafdabbe><h2 class="text-center mb-6" data-v-fafdabbe>Latest Research Highlights</h2><div class="row" data-v-fafdabbe><div class="col-md-6 mb-4" data-v-fafdabbe><div class="research-card bg-white rounded-lg shadow-sm p-4" data-v-fafdabbe><h4 data-v-fafdabbe>Genome-Wide Analysis of Cotton Transcription Factors</h4><p class="text-muted" data-v-fafdabbe>Identification and characterization of transcription factor families across cotton species</p></div></div><div class="col-md-6 mb-4" data-v-fafdabbe><div class="research-card bg-white rounded-lg shadow-sm p-4" data-v-fafdabbe><h4 data-v-fafdabbe>Comparative Genomics of Gossypium</h4><p class="text-muted" data-v-fafdabbe>Evolutionary insights from comparative analysis of multiple cotton genomes</p></div></div></div></div></div>',1))])}const _h=Pe(th,[["render",gh],["__scopeId","data-v-fafdabbe"]]),vh={name:"BrowseGenomeView"},bh={class:"container mt-4"};function yh(t,e,r,a,o,i){return g(),_("div",bh,[...e[0]||(e[0]=[n("h1",null,"浏览基因组",-1),n("p",null,"此页面正在开发中...",-1)])])}const wh=Pe(vh,[["render",yh]]);function ba(t,e){return function(){return t.apply(e,arguments)}}const{toString:kh}=Object.prototype,{getPrototypeOf:Po}=Object,{iterator:qn,toStringTag:ya}=Symbol,Rn=(t=>e=>{const r=kh.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Rt=t=>(t=t.toLowerCase(),e=>Rn(e)===t),In=t=>e=>typeof e===t,{isArray:Ds}=Array,Is=In("undefined");function Qs(t){return t!==null&&!Is(t)&&t.constructor!==null&&!Is(t.constructor)&&ut(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const wa=Rt("ArrayBuffer");function Eh(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&wa(t.buffer),e}const xh=In("string"),ut=In("function"),ka=In("number"),Xs=t=>t!==null&&typeof t=="object",Ah=t=>t===!0||t===!1,kn=t=>{if(Rn(t)!=="object")return!1;const e=Po(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ya in t)&&!(qn in t)},Ch=t=>{if(!Xs(t)||Qs(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Sh=Rt("Date"),Th=Rt("File"),qh=Rt("Blob"),Rh=Rt("FileList"),Ih=t=>Xs(t)&&ut(t.pipe),$h=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ut(t.append)&&((e=Rn(t))==="formdata"||e==="object"&&ut(t.toString)&&t.toString()==="[object FormData]"))},Oh=Rt("URLSearchParams"),[Dh,Ph,Lh,Nh]=["ReadableStream","Request","Response","Headers"].map(Rt),Mh=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ys(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,o;if(typeof t!="object"&&(t=[t]),Ds(t))for(a=0,o=t.length;a<o;a++)e.call(null,t[a],a,t);else{if(Qs(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),c=i.length;let p;for(a=0;a<c;a++)p=i[a],e.call(null,t[p],p,t)}}function Ea(t,e){if(Qs(t))return null;e=e.toLowerCase();const r=Object.keys(t);let a=r.length,o;for(;a-- >0;)if(o=r[a],e===o.toLowerCase())return o;return null}const ls=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xa=t=>!Is(t)&&t!==ls;function To(){const{caseless:t,skipUndefined:e}=xa(this)&&this||{},r={},a=(o,i)=>{const c=t&&Ea(r,i)||i;kn(r[c])&&kn(o)?r[c]=To(r[c],o):kn(o)?r[c]=To({},o):Ds(o)?r[c]=o.slice():(!e||!Is(o))&&(r[c]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Ys(arguments[o],a);return r}const Fh=(t,e,r,{allOwnKeys:a}={})=>(Ys(e,(o,i)=>{r&&ut(o)?t[i]=ba(o,r):t[i]=o},{allOwnKeys:a}),t),jh=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Bh=(t,e,r,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Uh=(t,e,r,a)=>{let o,i,c;const p={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)c=o[i],(!a||a(c,t,e))&&!p[c]&&(e[c]=t[c],p[c]=!0);t=r!==!1&&Po(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Gh=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const a=t.indexOf(e,r);return a!==-1&&a===r},Vh=t=>{if(!t)return null;if(Ds(t))return t;let e=t.length;if(!ka(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Kh=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Po(Uint8Array)),Hh=(t,e)=>{const a=(t&&t[qn]).call(t);let o;for(;(o=a.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},zh=(t,e)=>{let r;const a=[];for(;(r=t.exec(e))!==null;)a.push(r);return a},Jh=Rt("HTMLFormElement"),Wh=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,o){return a.toUpperCase()+o}),Fi=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Qh=Rt("RegExp"),Aa=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),a={};Ys(r,(o,i)=>{let c;(c=e(o,i,t))!==!1&&(a[i]=c||o)}),Object.defineProperties(t,a)},Xh=t=>{Aa(t,(e,r)=>{if(ut(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(ut(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Yh=(t,e)=>{const r={},a=o=>{o.forEach(i=>{r[i]=!0})};return Ds(t)?a(t):a(String(t).split(e)),r},Zh=()=>{},ef=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function tf(t){return!!(t&&ut(t.append)&&t[ya]==="FormData"&&t[qn])}const sf=t=>{const e=new Array(10),r=(a,o)=>{if(Xs(a)){if(e.indexOf(a)>=0)return;if(Qs(a))return a;if(!("toJSON"in a)){e[o]=a;const i=Ds(a)?[]:{};return Ys(a,(c,p)=>{const u=r(c,o+1);!Is(u)&&(i[p]=u)}),e[o]=void 0,i}}return a};return r(t,0)},nf=Rt("AsyncFunction"),of=t=>t&&(Xs(t)||ut(t))&&ut(t.then)&&ut(t.catch),Ca=((t,e)=>t?setImmediate:e?((r,a)=>(ls.addEventListener("message",({source:o,data:i})=>{o===ls&&i===r&&a.length&&a.shift()()},!1),o=>{a.push(o),ls.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ut(ls.postMessage)),rf=typeof queueMicrotask<"u"?queueMicrotask.bind(ls):typeof process<"u"&&process.nextTick||Ca,af=t=>t!=null&&ut(t[qn]),q={isArray:Ds,isArrayBuffer:wa,isBuffer:Qs,isFormData:$h,isArrayBufferView:Eh,isString:xh,isNumber:ka,isBoolean:Ah,isObject:Xs,isPlainObject:kn,isEmptyObject:Ch,isReadableStream:Dh,isRequest:Ph,isResponse:Lh,isHeaders:Nh,isUndefined:Is,isDate:Sh,isFile:Th,isBlob:qh,isRegExp:Qh,isFunction:ut,isStream:Ih,isURLSearchParams:Oh,isTypedArray:Kh,isFileList:Rh,forEach:Ys,merge:To,extend:Fh,trim:Mh,stripBOM:jh,inherits:Bh,toFlatObject:Uh,kindOf:Rn,kindOfTest:Rt,endsWith:Gh,toArray:Vh,forEachEntry:Hh,matchAll:zh,isHTMLForm:Jh,hasOwnProperty:Fi,hasOwnProp:Fi,reduceDescriptors:Aa,freezeMethods:Xh,toObjectSet:Yh,toCamelCase:Wh,noop:Zh,toFiniteNumber:ef,findKey:Ea,global:ls,isContextDefined:xa,isSpecCompliantForm:tf,toJSONObject:sf,isAsyncFn:nf,isThenable:of,setImmediate:Ca,asap:rf,isIterable:af};function ce(t,e,r,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),a&&(this.request=a),o&&(this.response=o,this.status=o.status?o.status:null)}q.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Sa=ce.prototype,Ta={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ta[t]={value:t}});Object.defineProperties(ce,Ta);Object.defineProperty(Sa,"isAxiosError",{value:!0});ce.from=(t,e,r,a,o,i)=>{const c=Object.create(Sa);q.toFlatObject(t,c,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const p=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return ce.call(c,p,u,r,a,o),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",i&&Object.assign(c,i),c};const lf=null;function qo(t){return q.isPlainObject(t)||q.isArray(t)}function qa(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function ji(t,e,r){return t?t.concat(e).map(function(o,i){return o=qa(o),!r&&i?"["+o+"]":o}).join(r?".":""):e}function cf(t){return q.isArray(t)&&!t.some(qo)}const uf=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function $n(t,e,r){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,S){return!q.isUndefined(S[C])});const a=r.metaTokens,o=r.visitor||m,i=r.dots,c=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(o))throw new TypeError("visitor must be a function");function f(k){if(k===null)return"";if(q.isDate(k))return k.toISOString();if(q.isBoolean(k))return k.toString();if(!u&&q.isBlob(k))throw new ce("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(k)||q.isTypedArray(k)?u&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function m(k,C,S){let O=k;if(k&&!S&&typeof k=="object"){if(q.endsWith(C,"{}"))C=a?C:C.slice(0,-2),k=JSON.stringify(k);else if(q.isArray(k)&&cf(k)||(q.isFileList(k)||q.endsWith(C,"[]"))&&(O=q.toArray(k)))return C=qa(C),O.forEach(function(j,B){!(q.isUndefined(j)||j===null)&&e.append(c===!0?ji([C],B,i):c===null?C:C+"[]",f(j))}),!1}return qo(k)?!0:(e.append(ji(S,C,i),f(k)),!1)}const v=[],b=Object.assign(uf,{defaultVisitor:m,convertValue:f,isVisitable:qo});function A(k,C){if(!q.isUndefined(k)){if(v.indexOf(k)!==-1)throw Error("Circular reference detected in "+C.join("."));v.push(k),q.forEach(k,function(O,$){(!(q.isUndefined(O)||O===null)&&o.call(e,O,q.isString($)?$.trim():$,C,b))===!0&&A(O,C?C.concat($):[$])}),v.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return A(t),e}function Bi(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function Lo(t,e){this._pairs=[],t&&$n(t,this,e)}const Ra=Lo.prototype;Ra.append=function(e,r){this._pairs.push([e,r])};Ra.toString=function(e){const r=e?function(a){return e.call(this,a,Bi)}:Bi;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function df(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ia(t,e,r){if(!e)return t;const a=r&&r.encode||df;q.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let i;if(o?i=o(e,r):i=q.isURLSearchParams(e)?e.toString():new Lo(e,r).toString(a),i){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Ui{constructor(){this.handlers=[]}use(e,r,a){return this.handlers.push({fulfilled:e,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(a){a!==null&&e(a)})}}const $a={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hf=typeof URLSearchParams<"u"?URLSearchParams:Lo,ff=typeof FormData<"u"?FormData:null,pf=typeof Blob<"u"?Blob:null,mf={isBrowser:!0,classes:{URLSearchParams:hf,FormData:ff,Blob:pf},protocols:["http","https","file","blob","url","data"]},No=typeof window<"u"&&typeof document<"u",Ro=typeof navigator=="object"&&navigator||void 0,gf=No&&(!Ro||["ReactNative","NativeScript","NS"].indexOf(Ro.product)<0),_f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vf=No&&window.location.href||"http://localhost",bf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:No,hasStandardBrowserEnv:gf,hasStandardBrowserWebWorkerEnv:_f,navigator:Ro,origin:vf},Symbol.toStringTag,{value:"Module"})),st={...bf,...mf};function yf(t,e){return $n(t,new st.classes.URLSearchParams,{visitor:function(r,a,o,i){return st.isNode&&q.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function wf(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kf(t){const e={},r=Object.keys(t);let a;const o=r.length;let i;for(a=0;a<o;a++)i=r[a],e[i]=t[i];return e}function Oa(t){function e(r,a,o,i){let c=r[i++];if(c==="__proto__")return!0;const p=Number.isFinite(+c),u=i>=r.length;return c=!c&&q.isArray(o)?o.length:c,u?(q.hasOwnProp(o,c)?o[c]=[o[c],a]:o[c]=a,!p):((!o[c]||!q.isObject(o[c]))&&(o[c]=[]),e(r,a,o[c],i)&&q.isArray(o[c])&&(o[c]=kf(o[c])),!p)}if(q.isFormData(t)&&q.isFunction(t.entries)){const r={};return q.forEachEntry(t,(a,o)=>{e(wf(a),o,r,0)}),r}return null}function Ef(t,e,r){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const Zs={transitional:$a,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const a=r.getContentType()||"",o=a.indexOf("application/json")>-1,i=q.isObject(e);if(i&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return o?JSON.stringify(Oa(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return yf(e,this.formSerializer).toString();if((p=q.isFileList(e))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return $n(p?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),Ef(e)):e}],transformResponse:[function(e){const r=this.transitional||Zs.transitional,a=r&&r.forcedJSONParsing,o=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(a&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(p){if(c)throw p.name==="SyntaxError"?ce.from(p,ce.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:st.classes.FormData,Blob:st.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{Zs.headers[t]={}});const xf=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Af=t=>{const e={};let r,a,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),a=c.substring(o+1).trim(),!(!r||e[r]&&xf[r])&&(r==="set-cookie"?e[r]?e[r].push(a):e[r]=[a]:e[r]=e[r]?e[r]+", "+a:a)}),e},Gi=Symbol("internals");function Ks(t){return t&&String(t).trim().toLowerCase()}function En(t){return t===!1||t==null?t:q.isArray(t)?t.map(En):String(t)}function Cf(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)e[a[1]]=a[2];return e}const Sf=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yo(t,e,r,a,o){if(q.isFunction(a))return a.call(this,e,r);if(o&&(e=r),!!q.isString(e)){if(q.isString(a))return e.indexOf(a)!==-1;if(q.isRegExp(a))return a.test(e)}}function Tf(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,a)=>r.toUpperCase()+a)}function qf(t,e){const r=q.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(o,i,c){return this[a].call(this,e,o,i,c)},configurable:!0})})}let dt=class{constructor(e){e&&this.set(e)}set(e,r,a){const o=this;function i(p,u,f){const m=Ks(u);if(!m)throw new Error("header name must be a non-empty string");const v=q.findKey(o,m);(!v||o[v]===void 0||f===!0||f===void 0&&o[v]!==!1)&&(o[v||u]=En(p))}const c=(p,u)=>q.forEach(p,(f,m)=>i(f,m,u));if(q.isPlainObject(e)||e instanceof this.constructor)c(e,r);else if(q.isString(e)&&(e=e.trim())&&!Sf(e))c(Af(e),r);else if(q.isObject(e)&&q.isIterable(e)){let p={},u,f;for(const m of e){if(!q.isArray(m))throw TypeError("Object iterator must return a key-value pair");p[f=m[0]]=(u=p[f])?q.isArray(u)?[...u,m[1]]:[u,m[1]]:m[1]}c(p,r)}else e!=null&&i(r,e,a);return this}get(e,r){if(e=Ks(e),e){const a=q.findKey(this,e);if(a){const o=this[a];if(!r)return o;if(r===!0)return Cf(o);if(q.isFunction(r))return r.call(this,o,a);if(q.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ks(e),e){const a=q.findKey(this,e);return!!(a&&this[a]!==void 0&&(!r||yo(this,this[a],a,r)))}return!1}delete(e,r){const a=this;let o=!1;function i(c){if(c=Ks(c),c){const p=q.findKey(a,c);p&&(!r||yo(a,a[p],p,r))&&(delete a[p],o=!0)}}return q.isArray(e)?e.forEach(i):i(e),o}clear(e){const r=Object.keys(this);let a=r.length,o=!1;for(;a--;){const i=r[a];(!e||yo(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const r=this,a={};return q.forEach(this,(o,i)=>{const c=q.findKey(a,i);if(c){r[c]=En(o),delete r[i];return}const p=e?Tf(i):String(i).trim();p!==i&&delete r[i],r[p]=En(o),a[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return q.forEach(this,(a,o)=>{a!=null&&a!==!1&&(r[o]=e&&q.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const a=new this(e);return r.forEach(o=>a.set(o)),a}static accessor(e){const a=(this[Gi]=this[Gi]={accessors:{}}).accessors,o=this.prototype;function i(c){const p=Ks(c);a[p]||(qf(o,c),a[p]=!0)}return q.isArray(e)?e.forEach(i):i(e),this}};dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(dt.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[r]=a}}});q.freezeMethods(dt);function wo(t,e){const r=this||Zs,a=e||r,o=dt.from(a.headers);let i=a.data;return q.forEach(t,function(p){i=p.call(r,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function Da(t){return!!(t&&t.__CANCEL__)}function Ps(t,e,r){ce.call(this,t??"canceled",ce.ERR_CANCELED,e,r),this.name="CanceledError"}q.inherits(Ps,ce,{__CANCEL__:!0});function Pa(t,e,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):e(new ce("Request failed with status code "+r.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Rf(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function If(t,e){t=t||10;const r=new Array(t),a=new Array(t);let o=0,i=0,c;return e=e!==void 0?e:1e3,function(u){const f=Date.now(),m=a[i];c||(c=f),r[o]=u,a[o]=f;let v=i,b=0;for(;v!==o;)b+=r[v++],v=v%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),f-c<e)return;const A=m&&f-m;return A?Math.round(b*1e3/A):void 0}}function $f(t,e){let r=0,a=1e3/e,o,i;const c=(f,m=Date.now())=>{r=m,o=null,i&&(clearTimeout(i),i=null),t(...f)};return[(...f)=>{const m=Date.now(),v=m-r;v>=a?c(f,m):(o=f,i||(i=setTimeout(()=>{i=null,c(o)},a-v)))},()=>o&&c(o)]}const An=(t,e,r=3)=>{let a=0;const o=If(50,250);return $f(i=>{const c=i.loaded,p=i.lengthComputable?i.total:void 0,u=c-a,f=o(u),m=c<=p;a=c;const v={loaded:c,total:p,progress:p?c/p:void 0,bytes:u,rate:f||void 0,estimated:f&&p&&m?(p-c)/f:void 0,event:i,lengthComputable:p!=null,[e?"download":"upload"]:!0};t(v)},r)},Vi=(t,e)=>{const r=t!=null;return[a=>e[0]({lengthComputable:r,total:t,loaded:a}),e[1]]},Ki=t=>(...e)=>q.asap(()=>t(...e)),Of=st.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,st.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(st.origin),st.navigator&&/(msie|trident)/i.test(st.navigator.userAgent)):()=>!0,Df=st.hasStandardBrowserEnv?{write(t,e,r,a,o,i,c){if(typeof document>"u")return;const p=[`${t}=${encodeURIComponent(e)}`];q.isNumber(r)&&p.push(`expires=${new Date(r).toUTCString()}`),q.isString(a)&&p.push(`path=${a}`),q.isString(o)&&p.push(`domain=${o}`),i===!0&&p.push("secure"),q.isString(c)&&p.push(`SameSite=${c}`),document.cookie=p.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Pf(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Lf(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function La(t,e,r){let a=!Pf(e);return t&&(a||r==!1)?Lf(t,e):e}const Hi=t=>t instanceof dt?{...t}:t;function us(t,e){e=e||{};const r={};function a(f,m,v,b){return q.isPlainObject(f)&&q.isPlainObject(m)?q.merge.call({caseless:b},f,m):q.isPlainObject(m)?q.merge({},m):q.isArray(m)?m.slice():m}function o(f,m,v,b){if(q.isUndefined(m)){if(!q.isUndefined(f))return a(void 0,f,v,b)}else return a(f,m,v,b)}function i(f,m){if(!q.isUndefined(m))return a(void 0,m)}function c(f,m){if(q.isUndefined(m)){if(!q.isUndefined(f))return a(void 0,f)}else return a(void 0,m)}function p(f,m,v){if(v in e)return a(f,m);if(v in t)return a(void 0,f)}const u={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:p,headers:(f,m,v)=>o(Hi(f),Hi(m),v,!0)};return q.forEach(Object.keys({...t,...e}),function(m){const v=u[m]||o,b=v(t[m],e[m],m);q.isUndefined(b)&&v!==p||(r[m]=b)}),r}const Na=t=>{const e=us({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:i,headers:c,auth:p}=e;if(e.headers=c=dt.from(c),e.url=Ia(La(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),p&&c.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),q.isFormData(r)){if(st.hasStandardBrowserEnv||st.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(q.isFunction(r.getHeaders)){const u=r.getHeaders(),f=["content-type","content-length"];Object.entries(u).forEach(([m,v])=>{f.includes(m.toLowerCase())&&c.set(m,v)})}}if(st.hasStandardBrowserEnv&&(a&&q.isFunction(a)&&(a=a(e)),a||a!==!1&&Of(e.url))){const u=o&&i&&Df.read(i);u&&c.set(o,u)}return e},Nf=typeof XMLHttpRequest<"u",Mf=Nf&&function(t){return new Promise(function(r,a){const o=Na(t);let i=o.data;const c=dt.from(o.headers).normalize();let{responseType:p,onUploadProgress:u,onDownloadProgress:f}=o,m,v,b,A,k;function C(){A&&A(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(m),o.signal&&o.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(o.method.toUpperCase(),o.url,!0),S.timeout=o.timeout;function O(){if(!S)return;const j=dt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),J={data:!p||p==="text"||p==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:j,config:t,request:S};Pa(function(te){r(te),C()},function(te){a(te),C()},J),S=null}"onloadend"in S?S.onloadend=O:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(O)},S.onabort=function(){S&&(a(new ce("Request aborted",ce.ECONNABORTED,t,S)),S=null)},S.onerror=function(B){const J=B&&B.message?B.message:"Network Error",ie=new ce(J,ce.ERR_NETWORK,t,S);ie.event=B||null,a(ie),S=null},S.ontimeout=function(){let B=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const J=o.transitional||$a;o.timeoutErrorMessage&&(B=o.timeoutErrorMessage),a(new ce(B,J.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,t,S)),S=null},i===void 0&&c.setContentType(null),"setRequestHeader"in S&&q.forEach(c.toJSON(),function(B,J){S.setRequestHeader(J,B)}),q.isUndefined(o.withCredentials)||(S.withCredentials=!!o.withCredentials),p&&p!=="json"&&(S.responseType=o.responseType),f&&([b,k]=An(f,!0),S.addEventListener("progress",b)),u&&S.upload&&([v,A]=An(u),S.upload.addEventListener("progress",v),S.upload.addEventListener("loadend",A)),(o.cancelToken||o.signal)&&(m=j=>{S&&(a(!j||j.type?new Ps(null,t,S):j),S.abort(),S=null)},o.cancelToken&&o.cancelToken.subscribe(m),o.signal&&(o.signal.aborted?m():o.signal.addEventListener("abort",m)));const $=Rf(o.url);if($&&st.protocols.indexOf($)===-1){a(new ce("Unsupported protocol "+$+":",ce.ERR_BAD_REQUEST,t));return}S.send(i||null)})},Ff=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let a=new AbortController,o;const i=function(f){if(!o){o=!0,p();const m=f instanceof Error?f:this.reason;a.abort(m instanceof ce?m:new Ps(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,i(new ce(`timeout ${e} of ms exceeded`,ce.ETIMEDOUT))},e);const p=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),t=null)};t.forEach(f=>f.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>q.asap(p),u}},jf=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let a=0,o;for(;a<r;)o=a+e,yield t.slice(a,o),a=o},Bf=async function*(t,e){for await(const r of Uf(t))yield*jf(r,e)},Uf=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:a}=await e.read();if(r)break;yield a}}finally{await e.cancel()}},zi=(t,e,r,a)=>{const o=Bf(t,e);let i=0,c,p=u=>{c||(c=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:f,value:m}=await o.next();if(f){p(),u.close();return}let v=m.byteLength;if(r){let b=i+=v;r(b)}u.enqueue(new Uint8Array(m))}catch(f){throw p(f),f}},cancel(u){return p(u),o.return()}},{highWaterMark:2})},Ji=64*1024,{isFunction:wn}=q,Gf=(({Request:t,Response:e})=>({Request:t,Response:e}))(q.global),{ReadableStream:Wi,TextEncoder:Qi}=q.global,Xi=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Vf=t=>{t=q.merge.call({skipUndefined:!0},Gf,t);const{fetch:e,Request:r,Response:a}=t,o=e?wn(e):typeof fetch=="function",i=wn(r),c=wn(a);if(!o)return!1;const p=o&&wn(Wi),u=o&&(typeof Qi=="function"?(k=>C=>k.encode(C))(new Qi):async k=>new Uint8Array(await new r(k).arrayBuffer())),f=i&&p&&Xi(()=>{let k=!1;const C=new r(st.origin,{body:new Wi,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!C}),m=c&&p&&Xi(()=>q.isReadableStream(new a("").body)),v={stream:m&&(k=>k.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!v[k]&&(v[k]=(C,S)=>{let O=C&&C[k];if(O)return O.call(C);throw new ce(`Response type '${k}' is not supported`,ce.ERR_NOT_SUPPORT,S)})});const b=async k=>{if(k==null)return 0;if(q.isBlob(k))return k.size;if(q.isSpecCompliantForm(k))return(await new r(st.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(q.isArrayBufferView(k)||q.isArrayBuffer(k))return k.byteLength;if(q.isURLSearchParams(k)&&(k=k+""),q.isString(k))return(await u(k)).byteLength},A=async(k,C)=>{const S=q.toFiniteNumber(k.getContentLength());return S??b(C)};return async k=>{let{url:C,method:S,data:O,signal:$,cancelToken:j,timeout:B,onDownloadProgress:J,onUploadProgress:ie,responseType:te,headers:X,withCredentials:T="same-origin",fetchOptions:P}=Na(k),R=e||fetch;te=te?(te+"").toLowerCase():"text";let N=Ff([$,j&&j.toAbortSignal()],B),Y=null;const Ee=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let Ne;try{if(ie&&f&&S!=="get"&&S!=="head"&&(Ne=await A(X,O))!==0){let Ve=new r(C,{method:"POST",body:O,duplex:"half"}),We;if(q.isFormData(O)&&(We=Ve.headers.get("content-type"))&&X.setContentType(We),Ve.body){const[Ue,Ke]=Vi(Ne,An(Ki(ie)));O=zi(Ve.body,Ji,Ue,Ke)}}q.isString(T)||(T=T?"include":"omit");const ge=i&&"credentials"in r.prototype,et={...P,signal:N,method:S.toUpperCase(),headers:X.normalize().toJSON(),body:O,duplex:"half",credentials:ge?T:void 0};Y=i&&new r(C,et);let Ie=await(i?R(Y,P):R(C,et));const D=m&&(te==="stream"||te==="response");if(m&&(J||D&&Ee)){const Ve={};["status","statusText","headers"].forEach(Le=>{Ve[Le]=Ie[Le]});const We=q.toFiniteNumber(Ie.headers.get("content-length")),[Ue,Ke]=J&&Vi(We,An(Ki(J),!0))||[];Ie=new a(zi(Ie.body,Ji,Ue,()=>{Ke&&Ke(),Ee&&Ee()}),Ve)}te=te||"text";let Je=await v[q.findKey(v,te)||"text"](Ie,k);return!D&&Ee&&Ee(),await new Promise((Ve,We)=>{Pa(Ve,We,{data:Je,headers:dt.from(Ie.headers),status:Ie.status,statusText:Ie.statusText,config:k,request:Y})})}catch(ge){throw Ee&&Ee(),ge&&ge.name==="TypeError"&&/Load failed|fetch/i.test(ge.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,k,Y),{cause:ge.cause||ge}):ce.from(ge,ge&&ge.code,k,Y)}}},Kf=new Map,Ma=t=>{let e=t&&t.env||{};const{fetch:r,Request:a,Response:o}=e,i=[a,o,r];let c=i.length,p=c,u,f,m=Kf;for(;p--;)u=i[p],f=m.get(u),f===void 0&&m.set(u,f=p?new Map:Vf(e)),m=f;return f};Ma();const Mo={http:lf,xhr:Mf,fetch:{get:Ma}};q.forEach(Mo,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Yi=t=>`- ${t}`,Hf=t=>q.isFunction(t)||t===null||t===!1;function zf(t,e){t=q.isArray(t)?t:[t];const{length:r}=t;let a,o;const i={};for(let c=0;c<r;c++){a=t[c];let p;if(o=a,!Hf(a)&&(o=Mo[(p=String(a)).toLowerCase()],o===void 0))throw new ce(`Unknown adapter '${p}'`);if(o&&(q.isFunction(o)||(o=o.get(e))))break;i[p||"#"+c]=o}if(!o){const c=Object.entries(i).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let p=r?c.length>1?`since :
`+c.map(Yi).join(`
`):" "+Yi(c[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return o}const Fa={getAdapter:zf,adapters:Mo};function ko(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ps(null,t)}function Zi(t){return ko(t),t.headers=dt.from(t.headers),t.data=wo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Fa.getAdapter(t.adapter||Zs.adapter,t)(t).then(function(a){return ko(t),a.data=wo.call(t,t.transformResponse,a),a.headers=dt.from(a.headers),a},function(a){return Da(a)||(ko(t),a&&a.response&&(a.response.data=wo.call(t,t.transformResponse,a.response),a.response.headers=dt.from(a.response.headers))),Promise.reject(a)})}const ja="1.13.2",On={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{On[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const ea={};On.transitional=function(e,r,a){function o(i,c){return"[Axios v"+ja+"] Transitional option '"+i+"'"+c+(a?". "+a:"")}return(i,c,p)=>{if(e===!1)throw new ce(o(c," has been removed"+(r?" in "+r:"")),ce.ERR_DEPRECATED);return r&&!ea[c]&&(ea[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,c,p):!0}};On.spelling=function(e){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function Jf(t,e,r){if(typeof t!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let o=a.length;for(;o-- >0;){const i=a[o],c=e[i];if(c){const p=t[i],u=p===void 0||c(p,i,t);if(u!==!0)throw new ce("option "+i+" must be "+u,ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ce("Unknown option "+i,ce.ERR_BAD_OPTION)}}const xn={assertOptions:Jf,validators:On},Nt=xn.validators;let cs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ui,response:new Ui}}async request(e,r){try{return await this._request(e,r)}catch(a){if(a instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=us(this.defaults,r);const{transitional:a,paramsSerializer:o,headers:i}=r;a!==void 0&&xn.assertOptions(a,{silentJSONParsing:Nt.transitional(Nt.boolean),forcedJSONParsing:Nt.transitional(Nt.boolean),clarifyTimeoutError:Nt.transitional(Nt.boolean)},!1),o!=null&&(q.isFunction(o)?r.paramsSerializer={serialize:o}:xn.assertOptions(o,{encode:Nt.function,serialize:Nt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),xn.assertOptions(r,{baseUrl:Nt.spelling("baseURL"),withXsrfToken:Nt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=i&&q.merge(i.common,i[r.method]);i&&q.forEach(["delete","get","head","post","put","patch","common"],k=>{delete i[k]}),r.headers=dt.concat(c,i);const p=[];let u=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(u=u&&C.synchronous,p.unshift(C.fulfilled,C.rejected))});const f=[];this.interceptors.response.forEach(function(C){f.push(C.fulfilled,C.rejected)});let m,v=0,b;if(!u){const k=[Zi.bind(this),void 0];for(k.unshift(...p),k.push(...f),b=k.length,m=Promise.resolve(r);v<b;)m=m.then(k[v++],k[v++]);return m}b=p.length;let A=r;for(;v<b;){const k=p[v++],C=p[v++];try{A=k(A)}catch(S){C.call(this,S);break}}try{m=Zi.call(this,A)}catch(k){return Promise.reject(k)}for(v=0,b=f.length;v<b;)m=m.then(f[v++],f[v++]);return m}getUri(e){e=us(this.defaults,e);const r=La(e.baseURL,e.url,e.allowAbsoluteUrls);return Ia(r,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){cs.prototype[e]=function(r,a){return this.request(us(a||{},{method:e,url:r,data:(a||{}).data}))}});q.forEach(["post","put","patch"],function(e){function r(a){return function(i,c,p){return this.request(us(p||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}cs.prototype[e]=r(),cs.prototype[e+"Form"]=r(!0)});let Wf=class Ba{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(o=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](o);a._listeners=null}),this.promise.then=o=>{let i;const c=new Promise(p=>{a.subscribe(p),i=p}).then(o);return c.cancel=function(){a.unsubscribe(i)},c},e(function(i,c,p){a.reason||(a.reason=new Ps(i,c,p),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=a=>{e.abort(a)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Ba(function(o){e=o}),cancel:e}}};function Qf(t){return function(r){return t.apply(null,r)}}function Xf(t){return q.isObject(t)&&t.isAxiosError===!0}const Io={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Io).forEach(([t,e])=>{Io[e]=t});function Ua(t){const e=new cs(t),r=ba(cs.prototype.request,e);return q.extend(r,cs.prototype,e,{allOwnKeys:!0}),q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return Ua(us(t,o))},r}const Be=Ua(Zs);Be.Axios=cs;Be.CanceledError=Ps;Be.CancelToken=Wf;Be.isCancel=Da;Be.VERSION=ja;Be.toFormData=$n;Be.AxiosError=ce;Be.Cancel=Be.CanceledError;Be.all=function(e){return Promise.all(e)};Be.spread=Qf;Be.isAxiosError=Xf;Be.mergeConfig=us;Be.AxiosHeaders=dt;Be.formToJSON=t=>Oa(q.isHTMLForm(t)?new FormData(t):t);Be.getAdapter=Fa.getAdapter;Be.HttpStatusCode=Io;Be.default=Be;const{Axios:n1,AxiosError:o1,CanceledError:r1,isCancel:i1,CancelToken:a1,VERSION:l1,all:c1,Cancel:u1,isAxiosError:d1,spread:h1,toFormData:f1,AxiosHeaders:p1,HttpStatusCode:m1,formToJSON:g1,getAdapter:_1,mergeConfig:v1}=Be,Ct=Be.create({timeout:1e12,withCredentials:!0});Ct.interceptors.response.use(t=>t.data,t=>Promise.reject(t));Ct.interceptors.request.use(t=>{const e=document.cookie.match(/csrftoken=([^;]+)/)?.[1];return e&&(t.headers["X-CSRFToken"]=e),t},t=>Promise.reject(t));const Ze=[];for(let t=0;t<256;++t)Ze.push((t+256).toString(16).slice(1));function Yf(t,e=0){return(Ze[t[e+0]]+Ze[t[e+1]]+Ze[t[e+2]]+Ze[t[e+3]]+"-"+Ze[t[e+4]]+Ze[t[e+5]]+"-"+Ze[t[e+6]]+Ze[t[e+7]]+"-"+Ze[t[e+8]]+Ze[t[e+9]]+"-"+Ze[t[e+10]]+Ze[t[e+11]]+Ze[t[e+12]]+Ze[t[e+13]]+Ze[t[e+14]]+Ze[t[e+15]]).toLowerCase()}let Eo;const Zf=new Uint8Array(16);function ep(){if(!Eo){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Eo=crypto.getRandomValues.bind(crypto)}return Eo(Zf)}const tp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ta={randomUUID:tp};function sp(t,e,r){t=t||{};const a=t.random??t.rng?.()??ep();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let o=0;o<16;++o)e[r+o]=a[o];return e}return Yf(a)}function Fo(t,e,r){return ta.randomUUID&&!e&&!t?ta.randomUUID():sp(t,e,r)}const np={name:"IdSearchView",inject:["showLoading","hideLoading"],data(){return{geneIds:"",fileName:"",errorMessage:"",upstreamLength:2e3,downstreamLength:2e3}},methods:{loadExample(){this.geneIds=`Ghir_A01G000040.1
Ghir_A01G000060
Ghir_A01G000290.1
Ghir_A01G000120.2`,this.errorMessage=""},reset(){this.geneIds="",this.fileName="",this.errorMessage="";const t=document.getElementById("fileInput");t&&(t.value="")},handleFileSelect(t){const e=t.target.files[0];if(e){const r=new FileReader;r.onload=a=>{try{const o=a.target.result;this.geneIds=o.trim(),this.fileName=e.name,console.log("已从文件中读取基因ID:",this.geneIds)}catch(o){this.errorMessage="文件读取失败: "+o.message,console.error("文件读取错误:",o)}},r.onerror=()=>{this.errorMessage="文件读取错误",console.error("文件读取器错误")},r.readAsText(e)}else this.geneIds="",this.fileName="";t.target.value=""},async handleSubmit(){this.errorMessage="",this.showLoading();try{if(!this.geneIds||!this.geneIds.trim())throw new Error("请输入或上传基因ID");const t=Fo();console.log("Request ID:",t);const e=`gene_ids=${encodeURIComponent(this.geneIds)}&request_id=${encodeURIComponent(t)}`;console.log("formDataString:",e);const r=await Ct.post("/tools/id-search/api/id-search-form/",e,{headers:{"Content-Type":"application/x-www-form-urlencoded","X-Request-ID":t}});if(!r)throw new Error("无效的响应数据");const a=r;if(a.status!=="success")throw new Error(a.error||"搜索失败");if(!a.query_ids||!Array.isArray(a.query_ids))throw new Error("无效的查询ID数据");if(a.query_ids.length===1)this.$router.push({path:"/tools/id-search/results/",query:{id:a.query_ids[0],request_id:t}});else if(a.query_ids.length>1)this.$router.push({path:"/tools/id-search/id-search-summary/",query:{id:a.query_ids.join(","),request_id:t}});else throw new Error("没有找到匹配的基因ID")}catch(t){console.error("搜索错误详情:",t),console.error("错误类型:",typeof t),console.error("错误堆栈:",t.stack),console.error("错误响应:",t.response),this.errorMessage=t.response?.data?.error||t.message||"未知搜索错误",console.error("搜索错误:",this.errorMessage)}finally{this.hideLoading()}}}},op={class:"container mt-4"},rp={class:"text-left"},ip={class:"card-body"},ap={class:"form-group"},lp={class:"mb-4"},cp={class:"mb-4"},up={class:"input-group"},dp={class:"input-group-text"},hp={key:0,class:"alert alert-danger mt-3"};function fp(t,e,r,a,o,i){return g(),_("div",op,[e[10]||(e[10]=n("h1",null,"Search by ID",-1)),n("div",rp,[n("div",ip,[n("form",{onSubmit:e[4]||(e[4]=pe((...c)=>i.handleSubmit&&i.handleSubmit(...c),["prevent"]))},[n("div",ap,[n("div",lp,[e[5]||(e[5]=n("label",{for:"geneIdInput",class:"form-label"},"Input Gene IDs",-1)),ke(n("textarea",{class:"form-control",id:"geneIdInput",rows:"6",placeholder:"","onUpdate:modelValue":e[0]||(e[0]=c=>o.geneIds=c),ref:"gene_ids"},null,512),[[Ye,o.geneIds]]),n("button",{type:"button",class:"btn btn-info mt-2 mr-3",onClick:e[1]||(e[1]=(...c)=>i.loadExample&&i.loadExample(...c))},"load example"),n("button",{type:"button",class:"btn btn-secondary mt-2",onClick:e[2]||(e[2]=(...c)=>i.reset&&i.reset(...c))},"Reset"),e[6]||(e[6]=n("p",{class:"text-muted mt-1"},"one gene ID per line",-1))]),n("div",cp,[e[7]||(e[7]=n("label",{class:"form-label"},"select file",-1)),n("div",up,[n("input",{type:"file",class:"form-control",id:"fileInput",accept:".txt,.csv,.xls,.xlsx",onChange:e[3]||(e[3]=(...c)=>i.handleFileSelect&&i.handleFileSelect(...c))},null,32),n("span",dp,x(o.fileName||"未选择文件"),1)]),e[8]||(e[8]=n("p",{class:"text-muted mt-1"},"support .txt or .csv file",-1))]),e[9]||(e[9]=n("div",{class:"d-flex gap-2"},[n("button",{type:"submit",class:"btn btn-primary"}," Search ")],-1))])],32),o.errorMessage?(g(),_("div",hp,x(o.errorMessage),1)):V("",!0)])])])}const pp=Pe(np,[["render",fp]]),mp={name:"SequenceDisplay",props:{displayMode:{type:String,default:"buttons",validator:t=>["buttons","full"].includes(t)},gene_seq:String,mrna_seq:String,upstream_seq:String,downstream_seq:String,cdna_seq:String,cds_seq:String,protein_seq:String,gene_id:String,currentTranscript:{type:Object,default:null},results:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},upstreamLength:{type:Number,default:1e4},downstreamLength:{type:Number,default:1e4}},emits:["show-sequence","download-all","copy-all"],data(){return{sequenceTypes:[{key:"genomic",title:"基因组序列"},{key:"mrna",title:"mRNA序列"},{key:"upstream",title:"上游序列"},{key:"downstream",title:"下游序列"},{key:"cdna",title:"cDNA序列"},{key:"cds",title:"CDS序列"},{key:"protein",title:"蛋白序列"}],showSequences:!1,selectedUpstreamLength:this.upstreamLength,selectedDownstreamLength:this.downstreamLength,lengthOptions:[500,1e3,2e3,3e3,4e3,5e3,1e4]}},methods:{toggleSequenceDisplay(){this.showSequences=!this.showSequences},hasSequences(t){let e=!1;t==="genomic"?e=this.gene_seq&&this.gene_seq!==""&&this.gene_seq!=="N/A":t==="mrna"?e=this.mrna_seq&&this.mrna_seq!==""&&this.mrna_seq!=="N/A":t==="upstream"?e=this.upstream_seq&&this.upstream_seq!==""&&this.upstream_seq!=="N/A":t==="downstream"?e=this.downstream_seq&&this.downstream_seq!==""&&this.downstream_seq!=="N/A":t==="cdna"?e=this.cdna_seq&&this.cdna_seq!==""&&this.cdna_seq!=="N/A"&&this.cdna_seq!=="unavailable":t==="cds"?e=this.cds_seq&&this.cds_seq!=="N/A"&&this.cds_seq!=="未找到CDS序列":t==="protein"&&(e=this.protein_seq&&this.protein_seq!=="N/A"&&this.protein_seq!=="未找到蛋白序列");let r=!1;this.currentTranscript&&(t==="mrna"?r=this.currentTranscript.mrna_seq&&this.currentTranscript.mrna_seq!=="N/A":t==="upstream"?r=this.currentTranscript.upstream_seq&&this.currentTranscript.upstream_seq!=="N/A":t==="downstream"?r=this.currentTranscript.downstream_seq&&this.currentTranscript.downstream_seq!=="N/A":t==="cdna"?r=this.currentTranscript.cdna_seq&&this.currentTranscript.cdna_seq!=="N/A"&&this.currentTranscript.cdna_seq!=="unavailable":t==="cds"?r=this.currentTranscript.cds_seq&&this.currentTranscript.cds_seq!=="N/A"&&this.currentTranscript.cds_seq!=="未找到CDS序列":t==="protein"&&(r=this.currentTranscript.protein_seq&&this.currentTranscript.protein_seq!=="N/A"&&this.currentTranscript.protein_seq!=="未找到蛋白序列"));let a=!1;return this.results&&this.results.length>0&&(a=this.results.some(o=>t==="genomic"?o.gene_seq&&o.gene_seq!==""&&o.gene_seq!=="N/A":t==="mrna"?o.mrna_seq&&o.mrna_seq!==""&&o.mrna_seq!=="N/A":t==="upstream"?o.upstream_seq&&o.upstream_seq!==""&&o.upstream_seq!=="N/A":t==="downstream"?o.downstream_seq&&o.downstream_seq!==""&&o.downstream_seq!=="N/A":t==="cdna"?o.cdna_seq&&o.cdna_seq!==""&&o.cdna_seq!=="N/A"&&o.cdna_seq!=="unavailable":t==="cds"?o.cds_seq&&o.cds_seq!=="N/A"&&o.cds_seq!=="未找到CDS序列":t==="protein"?o.protein_seq&&o.protein_seq!=="N/A"&&o.protein_seq!=="未找到蛋白序列":!1)),e||r||a},getSequence(t){if(this.currentTranscript){if(t==="mrna")return this.currentTranscript.mrna_seq;if(t==="upstream")return this.currentTranscript.upstream_seq?this.currentTranscript.upstream_seq.slice(0,this.selectedUpstreamLength):"";if(t==="downstream")return this.currentTranscript.downstream_seq?this.currentTranscript.downstream_seq.slice(0,this.selectedDownstreamLength):"";if(t==="cdna")return this.currentTranscript.cdna_seq;if(t==="cds")return this.currentTranscript.cds_seq;if(t==="protein")return this.currentTranscript.protein_seq}if(t==="genomic")return this.gene_seq;if(t==="mrna")return this.mrna_seq;if(t==="upstream")return this.upstream_seq?this.upstream_seq.slice(0,this.selectedUpstreamLength):"";if(t==="downstream")return this.downstream_seq?this.downstream_seq.slice(0,this.selectedDownstreamLength):"";if(t==="cdna")return this.cdna_seq;if(t==="cds")return this.cds_seq;if(t==="protein")return this.protein_seq;if(this.results&&this.results.length>0){const e=this.results[0];if(t==="genomic")return e.gene_seq;if(t==="mrna")return e.mrna_seq;if(t==="upstream")return e.upstream_seq?e.upstream_seq.slice(0,this.selectedUpstreamLength):"";if(t==="downstream")return e.downstream_seq?e.downstream_seq.slice(0,this.selectedDownstreamLength):"";if(t==="cdna")return e.cdna_seq;if(t==="cds")return e.cds_seq;if(t==="protein")return e.protein_seq}return""},getGeneId(){return this.results&&this.results.length===1?this.results[0].IDs||"":this.currentTranscript?this.currentTranscript.id||"":this.gene_id||""},handleButtonClick(t,e,r,a){console.log("按钮点击事件触发:",{type:t,title:e,content:r,id:a}),console.log("this.$emit:",this.$emit);let o="";const i=this.getGeneId();if(!this.results||this.results.length===0){t==="genomic"&&this.gene_seq&&this.gene_seq!=="N/A"&&(o+=`>${i} ${t}
${this.gene_seq}

`);let c="",p="";if(this.currentTranscript?t==="mrna"?c=this.currentTranscript.mrna_seq:t==="upstream"?(c=this.currentTranscript.upstream_seq?this.currentTranscript.upstream_seq.slice(0,this.selectedUpstreamLength):"",p=` (${this.selectedUpstreamLength}bp)`):t==="downstream"?(c=this.currentTranscript.downstream_seq?this.currentTranscript.downstream_seq.slice(0,this.selectedDownstreamLength):"",p=` (${this.selectedDownstreamLength}bp)`):t==="cdna"?c=this.currentTranscript.cdna_seq:t==="cds"?c=this.currentTranscript.cds_seq:t==="protein"&&(c=this.currentTranscript.protein_seq):t==="mrna"?c=this.mrna_seq:t==="upstream"?(c=this.upstream_seq?this.upstream_seq.slice(0,this.selectedUpstreamLength):"",p=` (${this.selectedUpstreamLength}bp)`):t==="downstream"?(c=this.downstream_seq?this.downstream_seq.slice(0,this.selectedDownstreamLength):"",p=` (${this.selectedDownstreamLength}bp)`):t==="cdna"?c=this.cdna_seq:t==="cds"?c=this.cds_seq:t==="protein"&&(c=this.protein_seq),c&&c!=="N/A"&&c!==""&&c!=="unavailable"&&c!=="未找到CDS序列"&&c!=="未找到蛋白序列"){const u=this.currentTranscript?this.currentTranscript.id:"",f=u?` (${u})`:"";o+=`>${i} ${t}${p}${f}
${c}

`}}else this.results.forEach(c=>{const p=c.IDs||"";t==="genomic"&&c.gene_seq&&c.gene_seq!=="N/A"?o+=`>${p} ${t}
${c.gene_seq}

`:t==="mrna"?c.mrna_transcripts&&c.mrna_transcripts.length>0&&c.mrna_transcripts.forEach((u,f)=>{u.mrna_seq&&u.mrna_seq!=="N/A"&&(o+=`>${p} ${t} (转录本 ${f+1}: ${u.id})
${u.mrna_seq}

`)}):t==="upstream"?c.mrna_transcripts&&c.mrna_transcripts.length>0&&c.mrna_transcripts.forEach((u,f)=>{u.upstream_seq&&u.upstream_seq!=="N/A"&&(o+=`>${p} ${t} (转录本 ${f+1}: ${u.id}, ${this.selectedUpstreamLength}bp)
${u.upstream_seq.slice(0,this.selectedUpstreamLength)}

`)}):t==="downstream"?c.mrna_transcripts&&c.mrna_transcripts.length>0&&c.mrna_transcripts.forEach((u,f)=>{u.downstream_seq&&u.downstream_seq!=="N/A"&&(o+=`>${p} ${t} (转录本 ${f+1}: ${u.id}, ${this.selectedDownstreamLength}bp)
${u.downstream_seq.slice(0,this.selectedDownstreamLength)}

`)}):t==="cdna"?c.mrna_transcripts&&c.mrna_transcripts.length>0&&c.mrna_transcripts.forEach((u,f)=>{u.cdna_seq&&u.cdna_seq!=="N/A"&&u.cdna_seq!=="unavailable"&&(o+=`>${p} ${t} (转录本 ${f+1}: ${u.id})
${u.cdna_seq}

`)}):t==="cds"?c.mrna_transcripts&&c.mrna_transcripts.length>0&&c.mrna_transcripts.forEach((u,f)=>{u.cds_seq&&u.cds_seq!=="N/A"&&u.cds_seq!=="未找到CDS序列"&&(o+=`>${p} ${t} (转录本 ${f+1}: ${u.id})
${u.cds_seq}

`)}):t==="protein"&&c.mrna_transcripts&&c.mrna_transcripts.length>0&&c.mrna_transcripts.forEach((u,f)=>{u.protein_seq&&u.protein_seq!=="N/A"&&u.protein_seq!=="未找到蛋白序列"&&(o+=`>${p} ${t} (转录本 ${f+1}: ${u.id})
${u.protein_seq}

`)})});this.$emit("show-sequence",{type:t,title:e,content:o,id:this.results&&this.results.length>1?"multiple_genes":i}),this.emit("show-sequence",{type:t,title:e,content:o,id:this.results&&this.results.length>1?"multiple_genes":i}),console.log("事件已触发")}}},gp={class:"sequence-display-component"},_p={key:0,class:"d-flex flex-wrap gap-3 mb-4"},vp={class:"text-center flex-shrink-0"},bp={class:"text-center flex-shrink-0"},yp={class:"text-center flex-shrink-0"},wp={class:"text-center flex-shrink-0"},kp={class:"text-center flex-shrink-0"},Ep={class:"text-center flex-shrink-0"},xp={class:"text-center flex-shrink-0"},Ap={key:1,class:"mb-4 d-flex justify-content-start"},Cp={class:"d-flex gap-3 align-items-end w-25"},Sp={class:"flex-shrink-0 flex-grow-1"},Tp=["value"],qp={class:"flex-shrink-0 flex-grow-1"},Rp=["value"],Ip={key:2},$p={key:0,class:"mt-6"},Op={class:"d-flex justify-content-between align-items-center mb-3"},Dp=["onClick"],Pp=["onClick"],Lp={class:"bg-light p-4 rounded overflow-y-auto",style:{"max-height":"300px","white-space":"pre-wrap","font-family":"monospace","text-align":"left"}},Np={key:0};function Mp(t,e,r,a,o,i){return g(),_("div",gp,[r.displayMode==="buttons"||r.displayMode==="full"?(g(),_("div",_p,[n("div",vp,[e[9]||(e[9]=n("h4",{class:"h6 mb-2"},"Genomic",-1)),n("button",{class:"btn btn-sm btn-info",onClick:e[0]||(e[0]=c=>i.handleButtonClick("genomic","Genomic Sequence",i.getSequence("genomic"),i.getGeneId()))},x(i.hasSequences("genomic")?"Show Sequence":"No Data"),1)]),n("div",bp,[e[10]||(e[10]=n("h4",{class:"h6 mb-2"},"mRNA",-1)),n("button",{class:"btn btn-sm btn-info",onClick:e[1]||(e[1]=c=>i.handleButtonClick("mrna","mRNA Sequence",i.getSequence("mrna"),i.getGeneId()))},x(i.hasSequences("mrna")?"Show Sequence":"No Data"),1)]),n("div",yp,[e[11]||(e[11]=n("h4",{class:"h6 mb-2"},"Upstream",-1)),n("button",{class:"btn btn-sm btn-info",onClick:e[2]||(e[2]=c=>i.handleButtonClick("upstream","Upstream Sequence",i.getSequence("upstream"),i.getGeneId()))},x(i.hasSequences("upstream")?"Show Sequence":"No Data"),1)]),n("div",wp,[e[12]||(e[12]=n("h4",{class:"h6 mb-2"},"Downstream",-1)),n("button",{class:"btn btn-sm btn-info",onClick:e[3]||(e[3]=c=>i.handleButtonClick("downstream","Downstream Sequence",i.getSequence("downstream"),i.getGeneId()))},x(i.hasSequences("downstream")?"Show Sequence":"No Data"),1)]),n("div",kp,[e[13]||(e[13]=n("h4",{class:"h6 mb-2"},"cDNA",-1)),n("button",{class:"btn btn-sm btn-info",onClick:e[4]||(e[4]=c=>i.handleButtonClick("cdna","cDNA Sequence",i.getSequence("cdna"),i.getGeneId()))},x(i.hasSequences("cdna")?"Show Sequence":"No Data"),1)]),n("div",Ep,[e[14]||(e[14]=n("h4",{class:"h6 mb-2"},"CDS",-1)),n("button",{class:"btn btn-sm btn-info",onClick:e[5]||(e[5]=c=>i.handleButtonClick("cds","CDS Sequence",i.getSequence("cds"),i.getGeneId()))},x(i.hasSequences("cds")?"Show Sequence":"No Data"),1)]),n("div",xp,[e[15]||(e[15]=n("h4",{class:"h6 mb-2"},"Protein",-1)),n("button",{class:"btn btn-sm btn-info",onClick:e[6]||(e[6]=c=>i.handleButtonClick("protein","Protein Sequence",i.getSequence("protein"),i.getGeneId()))},x(i.hasSequences("protein")?"Show Sequence":"No Data"),1)])])):V("",!0),r.displayMode==="buttons"||r.displayMode==="full"?(g(),_("div",Ap,[n("div",Cp,[n("div",Sp,[e[16]||(e[16]=n("label",{for:"upstreamLengthSelect",class:"form-label form-label-sm text-center"},"Upstream",-1)),ke(n("select",{class:"form-select form-select-sm",id:"upstreamLengthSelect","onUpdate:modelValue":e[7]||(e[7]=c=>o.selectedUpstreamLength=c)},[(g(!0),_(Q,null,_e(o.lengthOptions,c=>(g(),_("option",{key:c,value:c},x(c),9,Tp))),128))],512),[[_t,o.selectedUpstreamLength,void 0,{number:!0}]])]),n("div",qp,[e[17]||(e[17]=n("label",{for:"downstreamLengthSelect",class:"form-label form-label-sm text-center"},"Downstream",-1)),ke(n("select",{class:"form-select form-select-sm",id:"downstreamLengthSelect","onUpdate:modelValue":e[8]||(e[8]=c=>o.selectedDownstreamLength=c)},[(g(!0),_(Q,null,_e(o.lengthOptions,c=>(g(),_("option",{key:c,value:c},x(c),9,Rp))),128))],512),[[_t,o.selectedDownstreamLength,void 0,{number:!0}]])])])])):V("",!0),r.displayMode==="full"?(g(),_("div",Ip,[o.showSequences?(g(),_("div",$p,[(g(!0),_(Q,null,_e(o.sequenceTypes,(c,p)=>(g(),_("div",{key:p,class:"mb-6"},[n("div",Op,[n("h4",null,x(c.title),1),n("div",null,[n("button",{class:"btn btn-sm btn-primary me-2",onClick:u=>t.emit("download-all",c.key)},"下载全部",8,Dp),n("button",{class:"btn btn-sm btn-secondary",onClick:u=>t.emit("copy-all",c.key)},"复制全部",8,Pp)])]),n("div",Lp,[(g(!0),_(Q,null,_e(r.results,(u,f)=>(g(),_(Q,{key:`${c.key}-${f}`},[c.key==="genomic"&&u.gene_seq&&u.gene_seq!=="N/A"?(g(),_(Q,{key:0},[ee(" >"+x(u.IDs||`基因 ${f+1}`)+" genomic ",1),e[18]||(e[18]=n("br",null,null,-1)),ee(x(u.gene_seq)+" ",1),e[19]||(e[19]=n("br",null,null,-1)),e[20]||(e[20]=n("br",null,null,-1))],64)):V("",!0),c.key==="mrna"?(g(),_(Q,{key:1},[u.mrna_transcripts&&u.mrna_transcripts.length>0?(g(!0),_(Q,{key:0},_e(u.mrna_transcripts,(m,v)=>(g(),_(Q,{key:`${u.IDs}-${v}`},[m.mrna_seq&&m.mrna_seq!=="N/A"?(g(),_(Q,{key:0},[ee(" >"+x(u.IDs||`基因 ${f+1}`)+" mrna (转录本 "+x(v+1)+": "+x(m.id)+") ",1),e[21]||(e[21]=n("br",null,null,-1)),ee(x(m.mrna_seq)+" ",1),e[22]||(e[22]=n("br",null,null,-1)),e[23]||(e[23]=n("br",null,null,-1))],64)):V("",!0)],64))),128)):V("",!0)],64)):c.key==="upstream"?(g(),_(Q,{key:2},[u.mrna_transcripts&&u.mrna_transcripts.length>0?(g(!0),_(Q,{key:0},_e(u.mrna_transcripts,(m,v)=>(g(),_(Q,{key:`${u.IDs}-${v}`},[m.upstream_seq&&m.upstream_seq!=="N/A"?(g(),_(Q,{key:0},[ee(" >"+x(u.IDs||`基因 ${f+1}`)+" upstream (转录本 "+x(v+1)+": "+x(m.id)+", "+x(o.selectedUpstreamLength)+"bp) ",1),e[24]||(e[24]=n("br",null,null,-1)),ee(x(m.upstream_seq.slice(0,o.selectedUpstreamLength))+" ",1),e[25]||(e[25]=n("br",null,null,-1)),e[26]||(e[26]=n("br",null,null,-1))],64)):V("",!0)],64))),128)):V("",!0)],64)):c.key==="downstream"?(g(),_(Q,{key:3},[u.mrna_transcripts&&u.mrna_transcripts.length>0?(g(!0),_(Q,{key:0},_e(u.mrna_transcripts,(m,v)=>(g(),_(Q,{key:`${u.IDs}-${v}`},[m.downstream_seq&&m.downstream_seq!=="N/A"?(g(),_(Q,{key:0},[ee(" >"+x(u.IDs||`基因 ${f+1}`)+" downstream (转录本 "+x(v+1)+": "+x(m.id)+", "+x(o.selectedDownstreamLength)+"bp) ",1),e[27]||(e[27]=n("br",null,null,-1)),ee(x(m.downstream_seq.slice(0,o.selectedDownstreamLength))+" ",1),e[28]||(e[28]=n("br",null,null,-1)),e[29]||(e[29]=n("br",null,null,-1))],64)):V("",!0)],64))),128)):V("",!0)],64)):c.key==="cdna"?(g(),_(Q,{key:4},[u.mrna_transcripts&&u.mrna_transcripts.length>0?(g(!0),_(Q,{key:0},_e(u.mrna_transcripts,(m,v)=>(g(),_(Q,{key:`${u.IDs}-${v}`},[m.cdna_seq&&m.cdna_seq!=="N/A"&&m.cdna_seq!=="unavailable"?(g(),_(Q,{key:0},[ee(" >"+x(u.IDs||`基因 ${f+1}`)+" cdna (转录本 "+x(v+1)+": "+x(m.id)+") ",1),e[30]||(e[30]=n("br",null,null,-1)),ee(x(m.cdna_seq)+" ",1),e[31]||(e[31]=n("br",null,null,-1)),e[32]||(e[32]=n("br",null,null,-1))],64)):V("",!0)],64))),128)):V("",!0)],64)):c.key==="cds"?(g(),_(Q,{key:5},[u.mrna_transcripts&&u.mrna_transcripts.length>0?(g(!0),_(Q,{key:0},_e(u.mrna_transcripts,(m,v)=>(g(),_(Q,{key:`${u.IDs}-${v}`},[m.cds_seq&&m.cds_seq!=="N/A"&&m.cds_seq!=="未找到CDS序列"?(g(),_(Q,{key:0},[ee(" >"+x(u.IDs||`基因 ${f+1}`)+" cds (转录本 "+x(v+1)+": "+x(m.id)+") ",1),e[33]||(e[33]=n("br",null,null,-1)),ee(x(m.cds_seq)+" ",1),e[34]||(e[34]=n("br",null,null,-1)),e[35]||(e[35]=n("br",null,null,-1))],64)):V("",!0)],64))),128)):V("",!0)],64)):c.key==="protein"?(g(),_(Q,{key:6},[u.mrna_transcripts&&u.mrna_transcripts.length>0?(g(!0),_(Q,{key:0},_e(u.mrna_transcripts,(m,v)=>(g(),_(Q,{key:`${u.IDs}-${v}`},[m.protein_seq&&m.protein_seq!=="N/A"&&m.protein_seq!=="未找到蛋白序列"?(g(),_(Q,{key:0},[ee(" >"+x(u.IDs||`基因 ${f+1}`)+" protein (转录本 "+x(v+1)+": "+x(m.id)+") ",1),e[36]||(e[36]=n("br",null,null,-1)),ee(x(m.protein_seq)+" ",1),e[37]||(e[37]=n("br",null,null,-1)),e[38]||(e[38]=n("br",null,null,-1))],64)):V("",!0)],64))),128)):V("",!0)],64)):V("",!0)],64))),128)),i.hasSequences(c.key)?V("",!0):(g(),_("em",Np,"该类型没有可用序列"))])]))),128))])):V("",!0)])):V("",!0)])}const Dn=Pe(mp,[["render",Mp],["__scopeId","data-v-355dcee8"]]),Fp={name:"IdSearchResultsView",components:{SequenceDisplay:Dn},data(){return{result:null,annotations:{},jbrowse_url:"",isLoading:!1,errorMessage:"",has_sequences:!1,selectedTranscriptIndex:0,gffData:[],hasGffData:!1,currentPage:1,pageSize:10,showModal:!1,modalTitle:"",modalContent:"",currentSeqType:"",currentGeneId:"",svgWidth:800}},computed:{parsedGoAnnotations(){const t=this.annotations.GO_annotation||[],e=[];return t.forEach(r=>{r.replace(/;;+\s*$/,"").split(";; ").forEach(i=>{const c=i.match(/^(\w+\s+\w+):\s*([^\(]+)\s*\((GO:\d+)\)$/);c&&e.push({type:c[1],term:c[2].trim(),id:c[3]})})}),e},currentTranscript(){return!this.result||!this.result.mrna_transcripts||this.result.mrna_transcripts.length===0?null:this.result.mrna_transcripts[this.selectedTranscriptIndex]},hasMultipleTranscripts(){return this.result&&this.result.mrna_transcripts&&this.result.mrna_transcripts.length>1},totalPages(){return Math.ceil(this.gffData.length/this.pageSize)},currentPageGffData(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.gffData.slice(t,e)},visiblePages(){const t=[],e=this.totalPages,r=this.currentPage;let a=Math.max(1,r-2),o=Math.min(e,r+2);e<=5&&(a=1,o=e);for(let i=a;i<=o;i++)t.push(i);return t},currentTranscriptGffData(){if(!this.gffData||this.gffData.length===0)return[];const t=this.currentTranscript?this.currentTranscript.id:this.result.IDs;return t?this.gffData.filter(e=>e.attributes?e.attributes.includes(t):!1).sort((e,r)=>(e.start||0)-(r.start||0)):[]},geneStart(){return!this.currentTranscriptGffData||this.currentTranscriptGffData.length===0?0:Math.min(...this.currentTranscriptGffData.map(t=>t.start||0))},geneEnd(){return!this.currentTranscriptGffData||this.currentTranscriptGffData.length===0?0:Math.max(...this.currentTranscriptGffData.map(t=>t.end||0))},geneLength(){return this.geneEnd-this.geneStart+1},scale(){return(this.svgWidth-40)/Math.max(this.geneLength,1)}},mounted(){const t=this.$route.query.id;t?this.fetchGeneData(t):this.errorMessage="未提供基因ID"},watch:{"$route.query.id":function(t){t&&this.fetchGeneData(t)}},methods:{changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)},async fetchGeneData(t){const e=setTimeout(()=>{this.isLoading=!0},300);this.errorMessage="",this.selectedTranscriptIndex=0;try{const r=await Ct.get("/tools/id-search/api/id-search/",{params:{id:t,action:"results"}});if(clearTimeout(e),r.status==="error"||r.status==="not_found")throw new Error(r.error||"基因信息不存在");this.result=r.result,this.annotations=r.annotations||{},this.jbrowse_url=r.jbrowse_url||"",console.log("后端返回的result数据:",this.result),console.log("result"),console.log("result中的gene_seq:",this.result.gene_seq),console.log("result中的基因组"),console.log("result中的mrna_seq:",this.result.mrna_seq),console.log("result中的mRNA"),console.log("result中的cds_seq:",this.result.cds_seq),console.log("result中的cds"),console.log("result中的protein_seq:",this.result.protein_seq),console.log("result中的蛋白序列"),this.has_sequences=!!(this.result.gene_seq||this.result.mrna_seq||this.result.cds_seq&&this.result.cds_seq!=="未找到CDS序列"||this.result.protein_seq&&this.result.protein_seq!=="未找到蛋白序列"),console.log("has_sequences:",this.has_sequences),this.gffData=r.gff_data||[],this.hasGffData=this.gffData.length>0,this.currentPage=1}catch(r){clearTimeout(e),this.errorMessage=r.message,console.error("获取基因数据错误:",r)}finally{this.isLoading=!1}},switchTranscript(t){this.selectedTranscriptIndex=t},downloadCurrentTranscriptSequences(){if(!this.result||!this.currentTranscript){alert("无法获取基因序列数据");return}let t="";const e=this.currentGeneId||this.result.IDs,r=this.currentTranscript.id;if(this.result.gene_seq&&this.result.gene_seq!=="N/A"&&(t+=`>${e} genomic
${this.result.gene_seq}

`),this.currentTranscript.mrna_seq&&this.currentTranscript.mrna_seq!=="N/A"&&(t+=`>${r} mRNA
${this.currentTranscript.mrna_seq}

`),this.currentTranscript.upstream_seq&&this.currentTranscript.upstream_seq!=="N/A"&&(t+=`>${r} upstream
${this.currentTranscript.upstream_seq}

`),this.currentTranscript.downstream_seq&&this.currentTranscript.downstream_seq!=="N/A"&&(t+=`>${r} downstream
${this.currentTranscript.downstream_seq}

`),this.currentTranscript.cdna_seq&&this.currentTranscript.cdna_seq!=="N/A"&&this.currentTranscript.cdna_seq!=="unavailable"&&(t+=`>${r} cDNA
${this.currentTranscript.cdna_seq}

`),[{key:"cds_seq",type:"cds",label:"CDS Sequence"},{key:"protein_seq",type:"protein",label:"Protein Sequence"}].forEach(p=>{const u=this.currentTranscript[p.key];u&&u!=="N/A"&&u!=="unavailable"&&u!=="未找到CDS序列"&&u!=="未找到蛋白序列"&&(t+=`>${r} ${p.type}
${u}

`)}),!t){alert("没有找到可用的序列数据");return}const o=new Blob([t],{type:"text/plain"}),i=URL.createObjectURL(o),c=document.createElement("a");c.href=i,c.download=`${r}_all_sequences.fasta`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(i),this.showTemporaryMessage("当前转录本的所有序列已下载")},showSequenceModal(t,e,r,a){this.modalTitle=t,this.modalContent=e,this.currentSeqType=r,this.currentGeneId=a,this.showModal=!0},handleShowSequence({type:t,title:e,content:r,id:a}){this.showSequenceModal(e,r,t,a)},closeModal(){this.showModal=!1},copySequence(t){const r=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${t}`;navigator.clipboard.writeText(r).then(()=>{this.showTemporaryMessage("序列已复制到剪贴板")}).catch(a=>{console.error("复制失败:",a),this.showTemporaryMessage("复制失败，请手动复制")})},showTemporaryMessage(t){const e=document.createElement("div");e.textContent=t,e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="4px",e.style.zIndex="9999",e.style.fontSize="16px",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",e.style.transition="opacity 2s ease-out",setTimeout(()=>{document.body.removeChild(e)},1500)},1500)},downloadFasta(){const e=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${this.modalContent}`,r=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=`${this.currentGeneId}_${this.currentSeqType}.fasta`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)},downloadAllSequences(){if(!this.result){alert("无法获取基因序列数据");return}let t="";const e=this.currentGeneId||this.result.IDs;if(this.result.gene_seq&&this.result.gene_seq!=="N/A"&&(t+=`>${e} genomic
${this.result.gene_seq}

`),this.hasMultipleTranscripts)this.result.mrna_transcripts.forEach(i=>{const c=i.id;i.mrna_seq&&i.mrna_seq!=="N/A"&&(t+=`>${c} mRNA
${i.mrna_seq}

`),i.upstream_seq&&i.upstream_seq!=="N/A"&&(t+=`>${c} upstream
${i.upstream_seq}

`),i.downstream_seq&&i.downstream_seq!=="N/A"&&(t+=`>${c} downstream
${i.downstream_seq}

`),i.cdna_seq&&i.cdna_seq!=="N/A"&&i.cdna_seq!=="unavailable"&&(t+=`>${c} cDNA
${i.cdna_seq}

`),i.cds_seq&&i.cds_seq!=="N/A"&&i.cds_seq!=="unavailable"&&i.cds_seq!=="未找到CDS序列"&&(t+=`>${c} cds
${i.cds_seq}

`),i.protein_seq&&i.protein_seq!=="N/A"&&i.protein_seq!=="unavailable"&&i.protein_seq!=="未找到蛋白序列"&&(t+=`>${c} protein
${i.protein_seq}

`)});else{const i=this.result.mrna_transcripts[0]||this.currentTranscript,c=i?.id||e;i?.mrna_seq&&i.mrna_seq!=="N/A"&&(t+=`>${c} mRNA
${i.mrna_seq}

`),i?.upstream_seq&&i.upstream_seq!=="N/A"&&(t+=`>${c} upstream
${i.upstream_seq}

`),i?.downstream_seq&&i.downstream_seq!=="N/A"&&(t+=`>${c} downstream
${i.downstream_seq}

`),i?.cdna_seq&&i.cdna_seq!=="N/A"&&i.cdna_seq!=="unavailable"&&(t+=`>${c} cDNA
${i.cdna_seq}

`),i?.cds_seq&&i.cds_seq!=="N/A"&&i.cds_seq!=="unavailable"&&i.cds_seq!=="未找到CDS序列"&&(t+=`>${c} cds
${i.cds_seq}

`),i?.protein_seq&&i.protein_seq!=="N/A"&&i.protein_seq!=="unavailable"&&i.protein_seq!=="未找到蛋白序列"&&(t+=`>${c} protein
${i.protein_seq}

`),this.result.cdna_seq&&this.result.cdna_seq!=="N/A"&&this.result.cdna_seq!=="unavailable"&&(!i||i.cdna_seq!==this.result.cdna_seq)&&(t+=`>${e} cDNA
${this.result.cdna_seq}

`)}if(!t){alert("没有找到可用的序列数据");return}const r=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=`${e}_all_sequences.fasta`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a),this.showTemporaryMessage("All sequences have been downloaded"),setTimeout(()=>{this.closeModal()},500)},downloadGff(t){const e=this.currentGeneId||this.result.IDs;if(t==="txt"){let r="";this.gffData.forEach(c=>{const p=[c.seqid||"",c.source||"",c.type||"",c.start||"",c.end||"",c.score||"",c.strand||"",c.phase||"",c.attributes||""];r+=p.join("	")+`
`});const a=new Blob([r],{type:"text/plain"}),o=URL.createObjectURL(a),i=document.createElement("a");i.href=o,i.download=`${e}_gff.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o),this.showTemporaryMessage("GFF数据已下载为TXT格式")}else if(t==="gff"){let r="";this.gffData.forEach(c=>{const p=[c.seqid||"",c.source||".",c.type||".",c.start||".",c.end||".",c.score||".",c.strand||".",c.phase||".",c.attributes||"."];r+=p.join("	")+`
`});const a=new Blob([r],{type:"text/plain"}),o=URL.createObjectURL(a),i=document.createElement("a");i.href=o,i.download=`${e}_gff.gff`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o),this.showTemporaryMessage("GFF数据已下载为GFF格式")}},escapeCsvField(t){return typeof t!="string"&&(t=String(t)),t.includes(",")||t.includes('"')||t.includes(`
`)||t.includes("\r")?(t=t.replace(/"/g,'""'),`"${t}"`):t}}},jp={class:"container mt-4"},Bp={key:0,class:"text-center py-5"},Up={key:1,class:"alert alert-danger mt-3"},Gp={key:2,class:"mt-4"},Vp={class:"card mb-4"},Kp={class:"card-body"},Hp={class:"table table-bordered"},zp={class:"mb-4"},Jp={key:0,class:"mt-2"},Wp=["src"],Qp={key:1},Xp={key:0,class:"card mb-4"},Yp={class:"card-body"},Zp={key:0,class:"mb-4"},em=["value"],tm={key:1,class:"mb-4"},sm={class:"gene-structure-container"},nm=["width"],om={x:"20",y:"20","font-size":"12","font-weight":"bold",fill:"#333"},rm={key:0},im=["x","width"],am=["x","width"],lm=["x","width"],cm=["x1","x2"],um=["x","width"],dm={key:0},hm=["points"],fm=["x"],pm={x:"20",y:"110","font-size":"10",fill:"#666"},mm=["x"],gm={class:"mb-3"},_m={key:1,class:"card mb-4"},vm={class:"card-body"},bm={key:0,class:"mb-3"},ym={class:"table table-bordered"},wm={key:1,class:"mb-3"},km={class:"list-group"},Em={key:2,class:"mb-3"},xm={class:"list-group"},Am={key:3,class:"mb-3"},Cm={class:"list-group"},Sm={key:4,class:"mb-3"},Tm={class:"list-group"},qm={key:5,class:"mb-3"},Rm={class:"list-group"},Im={key:2,class:"card mb-4"},$m={class:"card-header d-flex justify-content-between align-items-center"},Om={class:"card-body"},Dm={class:"table-responsive"},Pm={class:"table table-bordered table-striped"},Lm={key:0,class:"mt-3"},Nm={"aria-label":"Page navigation"},Mm={class:"pagination justify-content-center"},Fm=["onClick"],jm={class:"text-center mt-2"},Bm={class:"text-muted"},Um={class:"mt-4"},Gm={class:"modal-dialog",style:{"max-width":"50vw","max-height":"50vh",margin:"0",width:"auto"}},Vm={class:"modal-content",style:{height:"100%",display:"flex","flex-direction":"column"}},Km={class:"modal-header"},Hm={class:"modal-title"},zm={class:"modal-body",style:{flex:"1","overflow-y":"auto"}},Jm={class:"bg-light p-3 rounded",style:{"max-height":"calc(40vh - 100px)","overflow-y":"auto","white-space":"pre-wrap","word-break":"break-all"}},Wm={class:"modal-footer"};function Qm(t,e,r,a,o,i){const c=gt("router-link"),p=Dn;return g(),_(Q,null,[n("div",jp,[e[40]||(e[40]=n("h1",null,"Search Results",-1)),o.isLoading?(g(),_("div",Bp,[...e[15]||(e[15]=[n("div",{class:"spinner-border",role:"status"},[n("span",{class:"visually-hidden"},"loading...")],-1),n("p",{class:"mt-3"},"loading results...",-1)])])):o.errorMessage?(g(),_("div",Up,[ee(x(o.errorMessage)+" ",1),re(c,{to:"/tools/id-search",class:"btn btn-primary btn-sm ml-2"},{default:be(()=>[...e[16]||(e[16]=[ee("new search",-1)])]),_:1})])):o.result?(g(),_("div",Gp,[n("div",Vp,[e[22]||(e[22]=n("div",{class:"card-header"},[n("h2",null,"Gene Basic Information")],-1)),n("div",Kp,[n("table",Hp,[n("tbody",null,[n("tr",null,[e[17]||(e[17]=n("td",null,[n("strong",null,"Gene ID:")],-1)),n("td",null,x(o.result.IDs),1)]),n("tr",null,[e[18]||(e[18]=n("td",null,[n("strong",null,"Chromosome:")],-1)),n("td",null,x(o.result.seqid),1)]),n("tr",null,[e[19]||(e[19]=n("td",null,[n("strong",null,"Start Position:")],-1)),n("td",null,x(o.result.start),1)]),n("tr",null,[e[20]||(e[20]=n("td",null,[n("strong",null,"End Position:")],-1)),n("td",null,x(o.result.end),1)]),n("tr",null,[e[21]||(e[21]=n("td",null,[n("strong",null,"Strand:")],-1)),n("td",null,x(o.result.strand),1)])])])])]),n("div",zp,[e[23]||(e[23]=n("strong",null,"JBrowse View:",-1)),o.jbrowse_url?(g(),_("div",Jp,[n("iframe",{src:o.jbrowse_url,style:{width:"100%",height:"400px",border:"1px solid #ddd","border-radius":"4px"}},null,8,Wp)])):(g(),_("div",Qp," JBrowse URL not available "))]),o.has_sequences?(g(),_("div",Xp,[e[27]||(e[27]=n("div",{class:"card-header"},[n("h2",null,"Sequence")],-1)),n("div",Yp,[i.hasMultipleTranscripts?(g(),_("div",Zp,[e[24]||(e[24]=n("h4",{class:"h6 mb-2"},"Transcript Selector",-1)),ke(n("select",{class:"form-select w-auto","onUpdate:modelValue":e[0]||(e[0]=u=>o.selectedTranscriptIndex=u),onChange:e[1]||(e[1]=u=>i.switchTranscript(o.selectedTranscriptIndex))},[(g(!0),_(Q,null,_e(o.result.mrna_transcripts,(u,f)=>(g(),_("option",{key:f,value:f},x(u.id)+" (Protein Length: "+x(u.protein_seq&&u.protein_seq!=="N/A"&&u.protein_seq!=="unavailable"&&u.protein_seq!=="未找到蛋白序列"?u.protein_seq.length:"N/A")+" aa) ",9,em))),128))],544),[[_t,o.selectedTranscriptIndex]])])):V("",!0),o.gffData.length>0?(g(),_("div",tm,[e[26]||(e[26]=n("h4",{class:"h6 mb-2"},"Transcript Structure",-1)),n("div",sm,[(g(),_("svg",{width:o.svgWidth,height:"150",class:"gene-structure-svg"},[n("text",om,x(i.currentTranscript?i.currentTranscript.id:o.result.IDs),1),i.currentTranscriptGffData.length>0?(g(),_("g",rm,[(g(!0),_(Q,null,_e(i.currentTranscriptGffData,(u,f)=>(g(),_("g",{key:"structure-"+f},[i.geneLength>0?(g(),_(Q,{key:0},[u.type==="CDS"?(g(),_("rect",{key:0,x:20+(u.start-i.geneStart)*i.scale,y:"35",width:(u.end-u.start+1)*i.scale,height:"50",fill:"#34A853",stroke:"#227A3D","stroke-width":"1"},null,8,im)):u.type==="five_prime_UTR"?(g(),_("rect",{key:1,x:20+(u.start-i.geneStart)*i.scale,y:"45",width:(u.end-u.start+1)*i.scale,height:"30",fill:"#FBBC05",stroke:"#F29900","stroke-width":"1"},null,8,am)):u.type==="three_prime_UTR"?(g(),_("rect",{key:2,x:20+(u.start-i.geneStart)*i.scale,y:"45",width:(u.end-u.start+1)*i.scale,height:"30",fill:"#EA4335",stroke:"#C5221F","stroke-width":"1"},null,8,lm)):V("",!0),f<i.currentTranscriptGffData.length-1?(g(),_("line",{key:3,x1:20+(u.end-i.geneStart)*i.scale,y1:"60",x2:20+(i.currentTranscriptGffData[f+1].start-i.geneStart)*i.scale,y2:"60",stroke:"#333","stroke-width":"2"},null,8,cm)):V("",!0),f<i.currentTranscriptGffData.length-1?(g(),_("rect",{key:4,x:20+(u.end-i.geneStart)*i.scale,y:"55",width:(i.currentTranscriptGffData[f+1].start-u.end-1)*i.scale,height:"10",fill:"#E0E0E0",stroke:"#BDBDBD","stroke-width":"1"},null,8,um)):V("",!0)],64)):V("",!0)]))),128)),i.currentTranscriptGffData.length>0?(g(),_("g",dm,[i.geneLength>0?(g(),_(Q,{key:0},[n("polygon",{points:[20+(i.currentTranscriptGffData[i.currentTranscriptGffData.length-1].end-i.geneStart)*i.scale+10,50,20+(i.currentTranscriptGffData[i.currentTranscriptGffData.length-1].end-i.geneStart)*i.scale+20,60,20+(i.currentTranscriptGffData[i.currentTranscriptGffData.length-1].end-i.geneStart)*i.scale+10,70].join(","),fill:"#333"},null,8,hm),n("text",{x:20+(i.currentTranscriptGffData[i.currentTranscriptGffData.length-1].end-i.geneStart)*i.scale+25,y:"65","font-size":"12",fill:"#333"}," Transcription Direction ",8,fm)],64)):V("",!0)])):V("",!0)])):V("",!0),n("text",pm,x(i.geneStart),1),n("text",{x:o.svgWidth-20,y:"110","font-size":"10",fill:"#666","text-anchor":"end"},x(i.geneEnd),9,mm),e[25]||(e[25]=Cn('<g transform="translate(20, 130)" data-v-36e65f48><text font-size="11" font-weight="bold" fill="#333" data-v-36e65f48>Legend:</text><g transform="translate(50, 0)" data-v-36e65f48><rect x="0" y="-8" width="15" height="15" fill="#34A853" stroke="#227A3D" stroke-width="1" data-v-36e65f48></rect><text x="20" y="5" font-size="10" fill="#333" data-v-36e65f48>CDS</text></g><g transform="translate(120, 0)" data-v-36e65f48><rect x="0" y="-8" width="15" height="15" fill="#FBBC05" stroke="#F29900" stroke-width="1" data-v-36e65f48></rect><text x="20" y="5" font-size="10" fill="#333" data-v-36e65f48>5&#39; UTR</text></g><g transform="translate(190, 0)" data-v-36e65f48><rect x="0" y="-8" width="15" height="15" fill="#EA4335" stroke="#C5221F" stroke-width="1" data-v-36e65f48></rect><text x="20" y="5" font-size="10" fill="#333" data-v-36e65f48>3&#39; UTR</text></g><g transform="translate(260, 0)" data-v-36e65f48><rect x="0" y="-3" width="30" height="5" fill="#E0E0E0" stroke="#BDBDBD" stroke-width="1" data-v-36e65f48></rect><text x="35" y="5" font-size="10" fill="#333" data-v-36e65f48>Intron</text></g></g>',1))],8,nm))])])):V("",!0),re(p,{"display-mode":"buttons",gene_seq:o.result.gene_seq,mrna_seq:o.result.mrna_seq,upstream_seq:o.result.upstream_seq,downstream_seq:o.result.downstream_seq,cdna_seq:o.result.cdna_seq,cds_seq:o.result.cds_seq,protein_seq:o.result.protein_seq,gene_id:o.result.IDs,"current-transcript":i.currentTranscript,loading:o.isLoading,onShowSequence:i.handleShowSequence},null,8,["gene_seq","mrna_seq","upstream_seq","downstream_seq","cdna_seq","cds_seq","protein_seq","gene_id","current-transcript","loading","onShowSequence"])]),e[28]||(e[28]=n("br",null,null,-1)),n("div",gm,[n("button",{class:"btn btn-success mr-2",onClick:e[2]||(e[2]=(...u)=>i.downloadAllSequences&&i.downloadAllSequences(...u))},"Download All Sequences"),i.hasMultipleTranscripts?(g(),_("button",{key:0,class:"btn btn-primary",onClick:e[3]||(e[3]=(...u)=>i.downloadCurrentTranscriptSequences&&i.downloadCurrentTranscriptSequences(...u))},"Download Current Transcript Sequences")):V("",!0)])])):V("",!0),o.annotations&&Object.keys(o.annotations).length>0?(g(),_("div",_m,[e[36]||(e[36]=n("div",{class:"card-header"},[n("h2",null,"Annotations")],-1)),n("div",vm,[o.annotations.GO_annotation&&o.annotations.GO_annotation.length>0?(g(),_("div",bm,[e[30]||(e[30]=n("h4",null,"GO Annotations",-1)),n("table",ym,[e[29]||(e[29]=n("thead",{class:"thead-light"},[n("tr",null,[n("th",null,"GO Type"),n("th",null,"Term"),n("th",null,"GO ID")])],-1)),n("tbody",null,[(g(!0),_(Q,null,_e(i.parsedGoAnnotations,(u,f)=>(g(),_("tr",{key:f},[n("td",null,x(u.type),1),n("td",null,x(u.term),1),n("td",null,x(u.id),1)]))),128))])])])):V("",!0),o.annotations.KEGG_annotation&&o.annotations.KEGG_annotation.length>0?(g(),_("div",wm,[e[31]||(e[31]=n("h4",null,"KEGG Annotations",-1)),n("ul",km,[(g(!0),_(Q,null,_e(o.annotations.KEGG_annotation,(u,f)=>(g(),_("li",{key:f,class:"list-group-item"},x(u),1))),128))])])):V("",!0),o.annotations.Pfam_annotation&&o.annotations.Pfam_annotation.length>0?(g(),_("div",Em,[e[32]||(e[32]=n("h4",null,"PFAM Annotations",-1)),n("ul",xm,[(g(!0),_(Q,null,_e(o.annotations.Pfam_annotation,(u,f)=>(g(),_("li",{key:f,class:"list-group-item"},x(u),1))),128))])])):V("",!0),o.annotations.TrEMBL_annotation&&o.annotations.TrEMBL_annotation.length>0?(g(),_("div",Am,[e[33]||(e[33]=n("h4",null,"TrEMBL Annotations",-1)),n("ul",Cm,[(g(!0),_(Q,null,_e(o.annotations.TrEMBL_annotation,(u,f)=>(g(),_("li",{key:f,class:"list-group-item"},x(u),1))),128))])])):V("",!0),o.annotations.nr_annotation&&o.annotations.nr_annotation.length>0?(g(),_("div",Sm,[e[34]||(e[34]=n("h4",null,"nr Annotations",-1)),n("ul",Tm,[(g(!0),_(Q,null,_e(o.annotations.nr_annotation,(u,f)=>(g(),_("li",{key:f,class:"list-group-item"},x(u),1))),128))])])):V("",!0),o.annotations.Swissprot_annotation&&o.annotations.Swissprot_annotation.length>0?(g(),_("div",qm,[e[35]||(e[35]=n("h4",null,"Swissprot Annotations",-1)),n("ul",Rm,[(g(!0),_(Q,null,_e(o.annotations.Swissprot_annotation,(u,f)=>(g(),_("li",{key:f,class:"list-group-item"},x(u),1))),128))])])):V("",!0)])])):V("",!0),o.hasGffData?(g(),_("div",Im,[n("div",$m,[e[37]||(e[37]=n("h2",null,"GFF Data",-1)),n("div",null,[n("button",{class:"btn btn-sm btn-success mr-2",onClick:e[4]||(e[4]=u=>i.downloadGff("txt"))},"Download as TXT"),n("button",{class:"btn btn-sm btn-success",onClick:e[5]||(e[5]=u=>i.downloadGff("gff"))},"Download as GFF")])]),n("div",Om,[n("div",Dm,[n("table",Pm,[e[38]||(e[38]=n("thead",{class:"thead-dark"},[n("tr",null,[n("th",null,"Seqid"),n("th",null,"Source"),n("th",null,"Type"),n("th",null,"Start"),n("th",null,"End"),n("th",null,"Score"),n("th",null,"Strand"),n("th",null,"Phase"),n("th",null,"Attributes")])],-1)),n("tbody",null,[(g(!0),_(Q,null,_e(i.currentPageGffData,(u,f)=>(g(),_("tr",{key:f},[n("td",null,x(u.seqid||"-"),1),n("td",null,x(u.source||"-"),1),n("td",null,x(u.type||"-"),1),n("td",null,x(u.start||"-"),1),n("td",null,x(u.end||"-"),1),n("td",null,x(u.score||"-"),1),n("td",null,x(u.strand||"-"),1),n("td",null,x(u.phase||"-"),1),n("td",null,x(u.attributes||"-"),1)]))),128))])])]),i.totalPages>1?(g(),_("div",Lm,[n("nav",Nm,[n("ul",Mm,[n("li",{class:we(["page-item",{disabled:o.currentPage===1}])},[n("button",{class:"page-link",onClick:e[6]||(e[6]=u=>i.changePage(1))},"First")],2),n("li",{class:we(["page-item",{disabled:o.currentPage===1}])},[n("button",{class:"page-link",onClick:e[7]||(e[7]=u=>i.changePage(o.currentPage-1))},"Previous")],2),(g(!0),_(Q,null,_e(i.visiblePages,u=>(g(),_("li",{key:u,class:we(["page-item",{active:o.currentPage===u}])},[n("button",{class:"page-link",onClick:f=>i.changePage(u)},x(u),9,Fm)],2))),128)),n("li",{class:we(["page-item",{disabled:o.currentPage===i.totalPages}])},[n("button",{class:"page-link",onClick:e[8]||(e[8]=u=>i.changePage(o.currentPage+1))},"Next")],2),n("li",{class:we(["page-item",{disabled:o.currentPage===i.totalPages}])},[n("button",{class:"page-link",onClick:e[9]||(e[9]=u=>i.changePage(i.totalPages))},"Last")],2)])]),n("div",jm,[n("p",Bm,"Page "+x(o.currentPage)+" of "+x(i.totalPages)+", showing "+x(i.currentPageGffData.length)+" of "+x(o.gffData.length)+" entries",1)])])):V("",!0)])])):V("",!0),n("div",Um,[re(c,{to:"/id-search",class:"btn btn-primary"},{default:be(()=>[...e[39]||(e[39]=[ee("Return to Search",-1)])]),_:1})])])):V("",!0)]),o.showModal?(g(),_("div",{key:0,class:"modal",style:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"1050"},onClick:e[14]||(e[14]=pe((...u)=>i.closeModal&&i.closeModal(...u),["self"]))},[n("div",Gm,[n("div",Vm,[n("div",Km,[n("h5",Hm,x(o.modalTitle),1),n("button",{type:"button",class:"close",onClick:e[10]||(e[10]=(...u)=>i.closeModal&&i.closeModal(...u)),style:{background:"none",border:"none","font-size":"1.5rem",cursor:"pointer"}},"×")]),n("div",zm,[n("div",Jm,x(o.modalContent),1)]),n("div",Wm,[n("button",{class:"btn btn-primary mr-2",onClick:e[11]||(e[11]=u=>i.copySequence(o.modalContent))},"Copy Sequence"),n("button",{class:"btn btn-secondary mr-2",onClick:e[12]||(e[12]=(...u)=>i.downloadFasta&&i.downloadFasta(...u))},"Download FASTA"),n("button",{class:"btn btn-secondary",onClick:e[13]||(e[13]=(...u)=>i.closeModal&&i.closeModal(...u))},"Close")])])])])):V("",!0)],64)}const Xm=Pe(Fp,[["render",Qm],["__scopeId","data-v-36e65f48"]]),Ym={name:"IdSearchSummaryView",components:{SequenceDisplay:Dn},data(){return{results:[],has_sequences:!1,loading:!1,error:null,showModal:!1,modalTitle:"",modalContent:"",currentSeqType:"",currentGeneId:""}},mounted(){console.log("页面已挂载，开始获取数据..."),console.log("当前URL参数:",new URLSearchParams(window.location.search).toString()),this.fetchSearchResults()},methods:{async fetchSearchResults(){this.loading=!0,this.error=null;try{const t=new URLSearchParams(window.location.search);console.log("解析的URL参数:",Object.fromEntries(t));let e=t.get("id")||t.get("ids")||t.get("query_ids");if(e&&e.startsWith("[")&&e.endsWith("]"))try{const c=JSON.parse(e);console.log("解析后的query_ids:",c),Array.isArray(c)&&c.length>0&&(e=c[0])}catch(c){console.error("Error parsing query_ids:",c),this.error="解析查询参数失败",this.loading=!1;return}if(console.log("提取的geneIds:",e),!e){this.error="URL中未找到基因ID参数",this.loading=!1;return}const r=e.split(",").join(`
`),a={gene_ids:r,request_id:Fo()};console.log("构建的表单数据:",a);const o=`gene_ids=${encodeURIComponent(r)}&request_id=${encodeURIComponent(a.request_id)}`,i=await Ct.post("/tools/id-search/api/id-search-form/",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(console.log("API返回数据:",i),i&&i.status==="success")if(i.query_ids&&Array.isArray(i.query_ids)){const c=i.query_ids;console.log("获取到的基因ID列表:",c),await this.fetchGeneDetails(c)}else i.results&&Array.isArray(i.results)&&(this.results=i.results,this.has_sequences=i.has_sequences||!1,this.loading=!1);else this.error=i.error||"请求处理失败",this.loading=!1;console.log("更新后results数组长度:",this.results.length),console.log("更新后has_sequences:",this.has_sequences)}catch(t){console.error("获取数据失败:",t),this.error="获取数据失败: "+(t.message||"未知错误"),this.loading=!1,alert("获取数据失败: "+(t.message||"未知错误"))}},async fetchGeneDetails(t){try{console.log("开始获取基因详细信息");const e=new URLSearchParams;e.append("id",t.join(",")),e.append("action","summary");const r=await Ct.get(`/tools/id-search/api/id-search/?${e.toString()}`);console.log("获取基因详情API返回:",r),r&&r.status==="success"?(this.results=r.results||[],this.has_sequences=r.has_sequences||!1,console.log("更新后的基因详情数据:",this.results)):(this.results=t.map(a=>({IDs:a,original_id:a,species:"未知",gene_seq:"N/A",mrna_seq:"N/A",cds_seq:"N/A",protein_seq:"N/A",description:"未知"})),this.has_sequences=!1)}catch(e){console.error("获取基因详情失败:",e),this.results=t.map(r=>({IDs:r,original_id:r,species:"未知",gene_seq:"N/A",mrna_seq:"N/A",cds_seq:"N/A",protein_seq:"N/A",description:"未知"})),this.has_sequences=!1}finally{this.loading=!1}},downloadAllFasta(t){let e="";if(this.results.forEach(r=>{let a="",o=`>${r.IDs} ${t}`;switch(t){case"genomic":a=r.gene_seq||"";break;case"mrna":a=r.mrna_seq||"";break;case"cds":a=r.cds_seq||"";break;case"protein":a=r.protein_seq||"";break}a&&a!=="N/A"&&a!=="未找到CDS序列"&&a!=="未找到蛋白序列"&&(e+=`${o}
${a}

`)}),e){const r=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=`all_${t}_sequences.fasta`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}},copyAllFasta(t){let e="";this.results.forEach(r=>{let a="",o=`>${r.IDs} ${t}`;switch(t){case"genomic":a=r.gene_seq||"";break;case"mrna":a=r.mrna_seq||"";break;case"cds":a=r.cds_seq||"";break;case"protein":a=r.protein_seq||"";break}a&&a!=="N/A"&&a!=="未找到CDS序列"&&a!=="未找到蛋白序列"&&(e+=`${o}
${a}

`)}),e&&navigator.clipboard.writeText(e).then(()=>{alert("序列已复制到剪贴板")}).catch(r=>{console.error("复制失败:",r)})},handleShowSequence({type:t,title:e,content:r,id:a}){this.modalTitle=e,this.modalContent=r,this.currentSeqType=t,this.currentGeneId=a,this.showModal=!0},closeModal(){this.showModal=!1},downloadAllSequences(){let t="";if(this.results.forEach(e=>{const r=e.IDs;e.gene_seq&&e.gene_seq!=="N/A"&&e.gene_seq!==""&&(t+=`>${r} genomic
${e.gene_seq}

`),e.mrna_seq&&e.mrna_seq!=="N/A"&&e.mrna_seq!==""&&(t+=`>${r} mrna
${e.mrna_seq}

`),e.cds_seq&&e.cds_seq!=="N/A"&&e.cds_seq!=="未找到CDS序列"&&(t+=`>${r} cds
${e.cds_seq}

`),e.protein_seq&&e.protein_seq!=="N/A"&&e.protein_seq!=="未找到蛋白序列"&&(t+=`>${r} protein
${e.protein_seq}

`)}),t){const e=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(e),a=document.createElement("a");a.href=r,a.download="all_sequences.fasta",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)}else alert("没有找到可用的序列数据")},copySequence(t){const r=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${t}`;navigator.clipboard.writeText(r).then(()=>{this.showTemporaryMessage("序列已复制到剪贴板")}).catch(a=>{console.error("复制失败:",a),this.showTemporaryMessage("复制失败，请手动复制")})},downloadFasta(){const e=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${this.modalContent}`,r=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download=`${this.currentGeneId}_${this.currentSeqType}.fasta`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)},showTemporaryMessage(t){const e=document.createElement("div");e.textContent=t,e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="4px",e.style.zIndex="9999",e.style.fontSize="16px",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",e.style.transition="opacity 0.5s ease-out",setTimeout(()=>{document.body.removeChild(e)},500)},1500)}}},Zm={class:"container mt-4"},eg={class:"status-info bg-light p-3 rounded mb-4"},tg={key:0,class:"text-success"},sg={key:1,class:"text-muted"},ng={key:0,class:"text-center py-5"},og={key:1,class:"alert alert-danger mt-4"},rg={class:"table-responsive"},ig={class:"table table-bordered"},ag={class:"text-center align-middle",style:{width:"10%"}},lg={class:"text-center align-middle",style:{width:"10%"}},cg={class:"text-center align-middle",style:{width:"10%"}},ug={key:0,class:"mt-6"},dg={class:"mt-4 d-flex gap-2"},hg={key:1,class:"text-muted"},fg={key:3,class:"text-center py-5"},pg={class:"modal-dialog",style:{"max-width":"50vw","max-height":"50vh",margin:"0",width:"auto"}},mg={class:"modal-content",style:{height:"100%",display:"flex","flex-direction":"column"}},gg={class:"modal-header"},_g={class:"modal-title"},vg={class:"modal-body",style:{flex:"1","overflow-y":"auto"}},bg={class:"bg-light p-3 rounded",style:{"max-height":"calc(40vh - 100px)","overflow-y":"auto","white-space":"pre-wrap","font-family":"monospace"}},yg={class:"modal-footer"};function wg(t,e,r,a,o,i){const c=gt("router-link"),p=Dn;return g(),_("div",Zm,[n("div",eg,[o.results.length>0?(g(),_("p",tg,"找到 "+x(o.results.length)+" 个基因序列",1)):!o.loading&&!o.error?(g(),_("p",sg,"暂无数据，请检查输入的基因ID")):V("",!0)]),e[11]||(e[11]=n("h1",null,"ID搜索结果汇总",-1)),o.loading?(g(),_("div",ng,[...e[6]||(e[6]=[n("div",{class:"spinner-border",role:"status"},[n("span",{class:"visually-hidden"},"loading...")],-1),n("p",{class:"mt-3"},"正在加载数据，请稍候...",-1)])])):o.error?(g(),_("div",og,[n("p",null,"错误: "+x(o.error),1),e[7]||(e[7]=n("p",null,"请检查URL参数格式或稍后重试",-1))])):o.results?(g(),_(Q,{key:2},[n("div",rg,[n("table",ig,[e[8]||(e[8]=n("thead",null,[n("tr",{class:"text-center"},[n("th",{style:{width:"10%"}},"Input ID"),n("th",{style:{width:"10%"}},"Query ID"),n("th",{style:{width:"10%"}},"Species")])],-1)),n("tbody",null,[(g(!0),_(Q,null,_e(o.results,(u,f)=>(g(),_("tr",{key:`result-${f}`},[n("td",ag,x(u.original_id||"-"),1),n("td",lg,[re(c,{to:{path:"/tools/id-search/results/",query:{id:u.IDs}}},{default:be(()=>[ee(x(u.IDs||"-"),1)]),_:2},1032,["to"])]),n("td",cg,x(u.species||"-"),1)]))),128))])])]),o.results.length>0?(g(),_("div",ug,[e[9]||(e[9]=n("h4",null,"Gene Sequences",-1)),re(p,{"display-mode":"full",results:o.results,loading:!1,onShowSequence:i.handleShowSequence,onDownloadAll:i.downloadAllFasta,onCopyAll:i.copyAllFasta},null,8,["results","onShowSequence","onDownloadAll","onCopyAll"]),n("div",dg,[n("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...u)=>i.downloadAllSequences&&i.downloadAllSequences(...u))},"Download All Sequences")])])):(g(),_("p",hg,"No gene sequences available."))],64)):(g(),_("div",fg,[...e[10]||(e[10]=[n("p",{class:"text-muted"},"准备加载数据...",-1)])])),o.showModal?(g(),_("div",{key:4,class:"modal",style:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"1050"},onClick:e[5]||(e[5]=pe((...u)=>i.closeModal&&i.closeModal(...u),["self"]))},[n("div",pg,[n("div",mg,[n("div",gg,[n("h5",_g,x(o.modalTitle),1),n("button",{type:"button",class:"close",onClick:e[1]||(e[1]=(...u)=>i.closeModal&&i.closeModal(...u)),style:{background:"none",border:"none","font-size":"1.5rem",cursor:"pointer"}},"×")]),n("div",vg,[n("div",bg,x(o.modalContent),1)]),n("div",yg,[n("button",{class:"btn btn-primary mr-2",onClick:e[2]||(e[2]=u=>i.copySequence(o.modalContent))},"Copy Sequence"),n("button",{class:"btn btn-secondary mr-2",onClick:e[3]||(e[3]=(...u)=>i.downloadFasta&&i.downloadFasta(...u))},"Download FASTA"),n("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...u)=>i.closeModal&&i.closeModal(...u))},"Close")])])])])):V("",!0)])}const kg=Pe(Ym,[["render",wg],["__scopeId","data-v-cead71c6"]]),Eg={name:"JbrowseView",data(){return{genomes:[{id:1,name:"陆地棉基因组 (Ghirsutum)",description:"陆地棉（Gossypium hirsutum）基因组序列，版本为HAU v1.0",assembly:"Ghirsutum_genome_HAU_v1.0",track:"TM-1.gff"}],currentIframeUrl:"/assets/jbrowse/index.html?assembly=Ghirsutum_genome_HAU_v1.0&tracks=TM-1.gff&loc=Ghir_A01:1-1000000",iframeKey:0}},mounted(){this.refreshIframe()},watch:{$route(){this.refreshIframe()}},methods:{openGenome(t){this.currentIframeUrl=`/assets/jbrowse/index.html?assembly=${t.assembly}&tracks=${t.track}&loc=Ghir_A01:1-1000000`,this.refreshIframe()},refreshIframe(){this.iframeKey++}}},xg={class:"container mt-4"},Ag={class:"card"},Cg={class:"card-body"},Sg={class:"table table-bordered table-hover"},Tg=["href"],qg=["onClick"],Rg={class:"embed-container"},Ig=["src"];function $g(t,e,r,a,o,i){return g(),_("div",xg,[e[3]||(e[3]=n("h1",null,"JBrowse 可视化",-1)),n("div",Ag,[n("div",Cg,[e[1]||(e[1]=n("h2",{class:"card-title mb-4"},"选择基因组",-1)),n("table",Sg,[e[0]||(e[0]=n("thead",{class:"thead-light"},[n("tr",null,[n("th",null,"基因组名称"),n("th",null,"描述"),n("th",null,"操作")])],-1)),n("tbody",null,[(g(!0),_(Q,null,_e(o.genomes,c=>(g(),_("tr",{key:c.id},[n("td",null,x(c.name),1),n("td",null,x(c.description),1),n("td",null,[n("a",{href:`/assets/jbrowse/index.html?config=config.json&assembly=${c.assembly}&tracks=${c.track}&loc=Ghir_A01:1-1000000`,target:"_blank",class:"btn btn-primary mr-2"}," 新窗口打开 ",8,Tg),n("button",{onClick:p=>i.openGenome(c),class:"btn btn-secondary"}," 嵌入查看 ",8,qg)])]))),128))])]),e[2]||(e[2]=n("h2",{class:"card-title mt-5 mb-4"},"JBrowse 可视化",-1)),n("div",Rg,[(g(),_("iframe",{key:o.iframeKey,src:o.currentIframeUrl,width:"100%",height:"600px",frameborder:"0"},null,8,Ig))])])])])}const Og=Pe(Eg,[["render",$g],["__scopeId","data-v-91513485"]]),Dg={name:"DownloadView"},Pg={class:"container mt-4"};function Lg(t,e,r,a,o,i){return g(),_("div",Pg,[...e[0]||(e[0]=[n("h1",null,"下载数据",-1),n("p",null,"此页面正在开发中...",-1)])])}const Ng=Pe(Dg,[["render",Lg]]),Mg={name:"Contact_usView"},Fg={class:"container mt-4"};function jg(t,e,r,a,o,i){return g(),_("div",Fg,[...e[0]||(e[0]=[n("h1",null,"联系我们",-1),n("p",null,"此页面正在开发中...",-1)])])}const Bg=Pe(Mg,[["render",jg]]),Ug={name:"AboutView"},Gg={class:"container mt-4"};function Vg(t,e,r,a,o,i){return g(),_("div",Gg,[...e[0]||(e[0]=[n("h1",null,"关于我们",-1),n("p",null,"这是关于我们的页面。",-1)])])}const Kg=Pe(Ug,[["render",Vg]]),Hg={class:"container mt-4"},zg={key:0,class:"alert alert-danger"},Jg={class:"card"},Wg={class:"card-body"},Qg={class:"form-group mb-3"},Xg={class:"row mb-3"},Yg={class:"col-md-6"},Zg={class:"form-group"},e_={class:"col-md-6"},t_={class:"form-group"},s_="MGEAIKKQEGVSTVKEDNKLIDSKKKKANNSNLAKKTSWRRIDLMATKNQRNDDSSTRKRKSSEGEFDMCGIEVAYEDELKRLKQEGKEDRDECKVKNPDKSLISAYIHDIQQLLVKYRKCRFEYIPPMENNLAHILATETLKNKKEFYLVGSVPKSAEKKEERDRVREPD",n_=vt({__name:"BlastpView",setup(t){const e=Gt("showLoading"),r=Gt("hideLoading"),a=$s(),o=F(""),i=F(.01),c=F(30),p=F(""),u=()=>{o.value=s_},f=async()=>{if(!o.value.trim()){p.value="Please enter a protein sequence";return}p.value="",e();try{console.log("Submitting BLASTP search:",{sequence:o.value,evalue:i.value,maxTargetSeqs:c.value});const v=new FormData;v.append("sequence",o.value),v.append("evalue",i.value.toString()),v.append("max_target_seqs",c.value.toString());const b="/tools/blastp/api/blastp/";console.log("API URL:",b),console.log("FormData entries:");for(const[C,S]of v.entries())console.log(`${C}: ${S}`);const A=await fetch(b,{method:"POST",body:v,headers:{Accept:"application/json"}});if(console.log("Response status:",A.status),console.log("Response statusText:",A.statusText),console.log("Response headers:",Object.fromEntries(A.headers.entries())),!A.ok){const C=await A.text();throw console.error("Response error text:",C),new Error(`HTTP error! status: ${A.status}, text: ${C}`)}const k=await A.json();a.push({name:"blastpResults",query:{results:encodeURIComponent(JSON.stringify(k))}})}catch(v){p.value="BLASTP search failed. Please try again. "+v.message,console.error("BLASTP error:",v),console.error("Error details:",JSON.stringify(v,Object.getOwnPropertyNames(v)))}finally{r()}},m=()=>{o.value="",i.value=.01,c.value=30,p.value=""};return(v,b)=>(g(),_("div",Hg,[b[8]||(b[8]=n("h2",{class:"mb-4"},"BLASTP",-1)),p.value?(g(),_("div",zg,x(p.value),1)):V("",!0),n("div",Jg,[n("div",Wg,[n("form",{onSubmit:pe(f,["prevent"])},[n("div",Qg,[b[3]||(b[3]=n("label",{for:"sequence",class:"form-label"},"Protein Sequence:",-1)),ke(n("textarea",{class:"form-control",id:"sequence","onUpdate:modelValue":b[0]||(b[0]=A=>o.value=A),rows:"10",required:""},null,512),[[Ye,o.value]]),n("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:u}," Load Example ")]),n("div",Xg,[n("div",Yg,[n("div",Zg,[b[4]||(b[4]=n("label",{for:"evalue",class:"form-label"},"E-value threshold:",-1)),ke(n("input",{type:"number",class:"form-control",id:"evalue","onUpdate:modelValue":b[1]||(b[1]=A=>i.value=A),step:"0.01",min:"0"},null,512),[[Ye,i.value,void 0,{number:!0}]])])]),n("div",e_,[n("div",t_,[b[5]||(b[5]=n("label",{for:"max_target_seqs",class:"form-label"},"Maximum target sequences:",-1)),ke(n("input",{type:"number",class:"form-control",id:"max_target_seqs","onUpdate:modelValue":b[2]||(b[2]=A=>c.value=A),min:"1",max:"50"},null,512),[[Ye,c.value,void 0,{number:!0}]])])])]),b[7]||(b[7]=n("button",{type:"submit",class:"btn btn-primary me-2"},[n("i",{class:"fas fa-search"}),ee(" Search ")],-1)),n("button",{type:"button",class:"btn btn-outline-secondary",onClick:m},[...b[6]||(b[6]=[n("i",{class:"fas fa-undo"},null,-1),ee(" Reset ",-1)])])],32)])])]))}}),o_=Pe(n_,[["__scopeId","data-v-ca4d24cb"]]),r_={class:"container mt-4"},i_={class:"d-flex justify-content-between align-items-center mb-4"},a_={key:0,class:"badge bg-info"},l_={class:"card mb-4"},c_={class:"card-body"},u_={class:"sequence-box"},d_={class:"mb-0"},h_={key:0,class:"text-muted"},f_={class:"card mb-4"},p_={class:"card-body"},m_={key:0,id:"chord-chart"},g_={key:1,class:"text-center py-4"},__={class:"row g-2 align-items-center"},v_={class:"col-auto"},b_={key:0,class:"text-center py-4"},y_={key:1},w_={class:"card mb-4"},k_={class:"card-header d-flex justify-content-between align-items-center"},E_={class:"mb-0"},x_={class:"badge bg-primary"},A_={class:"card-body p-0"},C_={class:"table-responsive"},S_={class:"table table-hover mb-0"},T_={class:"text-right"},q_={class:"text-right"},R_={class:"text-right"},I_={key:0,class:"card mb-4"},$_={class:"card-body p-0"},O_={class:"table-responsive"},D_={class:"table table-hover mb-0"},P_={key:1,"aria-label":"Page navigation"},L_={class:"pagination justify-content-center"},N_=["aria-disabled"],M_=["aria-disabled"],F_={class:"page-item active"},j_={class:"page-link"},B_=["aria-disabled"],U_=["aria-disabled"],G_={key:2,class:"alert alert-info"},V_={class:"mt-3"},K_=vt({__name:"BlastpResultView",setup(t){const e=Os(),r=F(10),a=F("");F("");const o=F(.01),i=F([]),c=F([]),p=F([]),u=F(!1),f=F(1),m=F(0),v=F(0),b=F(null),A=F([]),k=je(()=>Math.ceil(m.value/r.value)),C=T=>T<.001?T.toExponential(2):T.toFixed(4),S=(T,P)=>T?typeof T!="string"?String(T):T.length>P?T.substring(0,P)+"...":T:"",O=(T,P)=>T?typeof T!="string"?String(T):T.length>P?T.substring(0,P)+"...":T:"",$=()=>{f.value=1,B()},j=T=>{f.value=T,B()},B=()=>{const T=(f.value-1)*r.value,P=T+r.value;i.value=c.value.slice(T,P)},J=async()=>{u.value=!0;try{if(e.query.results){const T=JSON.parse(decodeURIComponent(e.query.results));if(console.log("Received BLASTP results:",T),T.hits){const P=T.hits.map((N,Y)=>({query:"Query_Protein",subject:N.protein_id,identity:N.identity,alignment_length:N.length,mismatches:0,gaps:0,query_start:N.qStart,query_end:N.qEnd,subject_start:0,subject_end:N.length,evalue:N.evalue,bit_score:N.score})),R=[...new Map(P.map(N=>[N.subject,N])).values()];R.sort((N,Y)=>Y.bit_score-N.bit_score),c.value=R,m.value=R.length,a.value=T.query_sequence||"",v.value=T.execution_time||0,o.value=T.evalue||.01,p.value=T.local_matches||[],A.value=R.map(N=>({identity:N.identity,evalue:N.evalue,bitScore:N.bit_score,subject:N.subject})),B(),ie(T)}}else console.error("No results found in route query"),i.value=[],m.value=0}catch(T){console.error("加载结果失败:",T),i.value=[],m.value=0}finally{u.value=!1}},ie=T=>{if(!T.hits||T.hits.length===0){b.value=null;return}const P={query:"Query_Protein",queryLength:T.query_length||0,proteins:[{id:"Query_Protein",length:T.query_length||0},...T.hits.map(R=>({id:R.protein_id,length:R.length}))],hits:T.hits.map(R=>({query:R.protein_id,target:"Query_Protein",score:R.score,evalue:R.evalue,identity:R.identity,qStart:R.qStart,qEnd:R.qEnd}))};b.value=P},te=()=>{if(!b.value)return;const T=b.value;function P(M){const De=[M.query,...M.proteins.map(tt=>tt.id)],nt=[M.queryLength,...M.proteins.map(tt=>tt.length)],It=nt.reduce((tt,Qe)=>tt+Qe,0),yt=Array(De.length).fill(0).map(()=>Array(De.length).fill(0));return M.hits.forEach(tt=>{const Qe=De.indexOf(tt.query),He=De.indexOf(tt.target);Qe!==-1&&He!==-1&&Qe<yt.length&&He<yt.length&&yt[Qe]&&yt[He]&&(yt[Qe][He]=tt.score,yt[He][Qe]=tt.score)}),{matrix:yt,proteins:De,lengths:nt,totalLength:It,hits:M.hits}}const R=P(T),N={};R.proteins.forEach(M=>{N[M]=0}),R.hits.forEach(M=>{M.query!==T.query&&(N[M.query]+=M.identity),M.target!==T.query&&(N[M.target]+=M.identity)});const Y={};R.hits.forEach(M=>{M.query!==T.query&&(Y[M.query]=(Y[M.query]||0)+1),M.target!==T.query&&(Y[M.target]=(Y[M.target]||0)+1)}),Object.keys(N).forEach(M=>{if(M!==T.query){const De=Y[M]||1;N[M]!==void 0&&(N[M]=N[M]/De)}});const Ee=T.query,ge=[...R.proteins.filter(M=>M!==Ee)].sort((M,De)=>{const nt=N[M]||0;return(N[De]||0)-nt}),Ie=[Ee,...ge].map(M=>R.proteins.indexOf(M)),D=Ie.map(M=>Ie.map(De=>R.matrix&&M>=0&&M<R.matrix.length&&R.matrix[M]&&De>=0&&De<R.matrix[M].length?R.matrix[M][De]:0)),Je=Ie.map(M=>R.lengths[M]),Ve=Ie.map(M=>R.proteins[M]);R.matrix=D,R.lengths=Je,R.proteins=Ve;const We=document.getElementById("chord-chart");if(!We)return;We.innerHTML="";const Ue=We.clientWidth,Ke=800,Le=Math.min(Ue,Ke)*.5-40,ct=Le-30,E=Lt("#chord-chart").append("svg").attr("width",Ue).attr("height",Ke).append("g").attr("transform",`translate(${Ue/2},${Ke/2})`),G=wu().padAngle(.1).sortSubgroups(ku)(R.matrix),Z=[0];let he=0;he+=R.lengths[0],Z.push(he/R.totalLength*2*Math.PI);for(let M=1;M<R.lengths.length;M++)he+=R.lengths[M],Z.push(he/R.totalLength*2*Math.PI);const Se=Eu().innerRadius(ct).outerRadius(Le).startAngle(M=>(Z[M.index]||0)+.02).endAngle(M=>(Z[M.index+1]||0)-.02),ue=xu().domain(R.proteins).range(Au.concat(Cu)),ne=E.append("g").selectAll("g").data(G.groups).enter().append("g");ne.append("path").attr("class","chord-group").style("fill",M=>ue(R.proteins[M.index])).style("stroke","#000").style("stroke-width","0.5px").attr("d",M=>Se(M)).append("title").text(M=>{const De=R.proteins[M.index],nt=R.lengths[M.index],It=N[De]||0;return`${De} (Length: ${nt}, Avg Identity: ${It.toFixed(2)}%)`}),ne.append("text").each(M=>{const De=Z[M.index]||0,nt=Z[M.index+1]||0;M.angle=(De+nt)/2}).attr("class","protein-label").attr("dy",".35em").attr("transform",M=>`
            rotate(${M.angle*180/Math.PI-90})
            translate(${ct-5})
            ${M.angle>Math.PI?"rotate(180)":""}
          `).style("text-anchor",M=>M.angle>Math.PI?"end":null).text(M=>{const nt=R.proteins[M.index];return nt.length>4?nt.substring(0,4)+"...":nt});const Te=Su().radius(ct),bt=Lt("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none");E.append("g").selectAll("path").data(G).enter().append("path").attr("class","chord-ribbon").style("fill",M=>ue(R.proteins[M.source.index])).style("stroke",M=>ue(R.proteins[M.source.index])).attr("d",Te).style("opacity",.8).on("mouseover",M=>{bi(".chord-ribbon").style("opacity",.1);const De=M.currentTarget;De&&Lt(De).style("opacity",1).style("stroke","#000").style("stroke-width","1px");const It=M.currentTarget?.__data__;if(It){const yt=R.proteins[It.source.index],tt=R.proteins[It.target.index],Qe=R.hits.find(He=>He.query===yt&&He.target===tt||He.query===tt&&He.target===yt);bt.transition().duration(200).style("opacity",.9),bt.html(`
          <strong>Query Protein → ${tt}</strong><br>
          ${Qe?`E-value: ${Qe.evalue}<br>Identity: ${Qe.identity}%<br>Alignment region: ${Qe.qStart}-${Qe.qEnd}`:""}
        `).style("left",M.pageX+15+"px").style("top",M.pageY-28+"px")}}).on("mouseout",()=>{bi(".chord-ribbon").style("opacity",.8).style("stroke","none"),bt.style("opacity",0)}).on("mousemove",M=>{bt.style("left",M.pageX+15+"px").style("top",M.pageY-28+"px")})},X=()=>{if(A.value.length===0)return;const T=document.getElementById("line-chart");if(!T)return;const P=T.clientWidth,R=400,N={top:20,right:30,bottom:40,left:60};T.innerHTML="";const Y=Lt("#line-chart").append("svg").attr("width",P).attr("height",R).append("g").attr("transform",`translate(${N.left},${N.top})`),Ee=P-N.left-N.right,Ne=R-N.top-N.bottom,ge=A.value.map(D=>({...D,logEvalue:-Math.log10(D.evalue+1e-100)})),et=yi().domain([0,100]).range([0,Ee]),Ie=yi().domain([0,Tu(ge,D=>D.logEvalue)||0]).range([Ne,0]);Y.append("g").attr("transform",`translate(0,${Ne})`).call(wi(et)).append("text").attr("x",Ee/2).attr("y",30).style("text-anchor","middle").style("font-size","12px").text("Identity (%)"),Y.append("g").call(ki(Ie)).append("text").attr("transform","rotate(-90)").attr("x",-Ne/2).attr("y",-40).style("text-anchor","middle").style("font-size","12px").text("-log10(E-value)"),Y.selectAll(".dot").data(ge).enter().append("circle").attr("class","dot").attr("cx",D=>et(D.identity)).attr("cy",D=>Ie(D.logEvalue)).attr("r",4).style("fill","#49B7CF").style("opacity",.7).style("stroke","#000").style("stroke-width","1px").on("mouseover",function(D,Je){Lt(this).style("opacity",1).style("stroke","#000").style("stroke-width","2px");const Ve=Lt("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","1000");Ve.transition().duration(200).style("opacity",.9),Ve.html(`
        <strong>${Je.subject}</strong><br>
        Identity: ${Je.identity.toFixed(2)}%<br>
        E-value: ${Je.evalue<.001?Je.evalue.toExponential(2):Je.evalue.toFixed(4)}<br>
        Bit Score: ${Je.bitScore.toFixed(0)}
      `).style("left",D.pageX+15+"px").style("top",D.pageY-28+"px"),Lt(this).datum({tooltip:Ve})}).on("mouseout",function(){Lt(this).style("opacity",.7).style("stroke","#000").style("stroke-width","1px");const D=Lt(this).datum();D.tooltip&&typeof D.tooltip.remove=="function"&&D.tooltip.remove(),Lt(this).datum(null)}),Y.append("g").attr("class","grid").attr("transform",`translate(0,${Ne})`).call(wi(et).ticks(10).tickSize(-Ne).tickFormat(()=>"")),Y.append("g").attr("class","grid").call(ki(Ie).ticks(10).tickSize(-Ee).tickFormat(()=>""))};return Wt(()=>{J()}),Js(b,T=>{T&&setTimeout(()=>{te()},100)}),Js(A,()=>{X()},{deep:!0}),(T,P)=>{const R=gt("router-link");return g(),_("div",r_,[n("div",i_,[P[5]||(P[5]=n("h2",null,"BLASTP Results",-1)),v.value?(g(),_("span",a_,"Executed in "+x(v.value)+" seconds",1)):V("",!0)]),n("div",l_,[P[6]||(P[6]=n("div",{class:"card-header"},[n("h5",{class:"mb-0"},"Query Sequence")],-1)),n("div",c_,[n("div",u_,[n("pre",d_,x(O(a.value,200)),1),a.value.length>200?(g(),_("small",h_,"(truncated - full sequence used for search)")):V("",!0)])])]),n("div",f_,[P[8]||(P[8]=n("div",{class:"card-header"},[n("h5",{class:"mb-0"},"Chord Diagram")],-1)),n("div",p_,[b.value?(g(),_("div",m_)):(g(),_("div",g_,[...P[7]||(P[7]=[n("div",{class:"spinner-border",role:"status"},[n("span",{class:"sr-only"},"加载中...")],-1)])]))])]),n("form",{onSubmit:pe($,["prevent"]),class:"mb-3"},[n("div",__,[P[10]||(P[10]=n("div",{class:"col-auto"},[n("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),n("div",v_,[ke(n("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":P[0]||(P[0]=N=>r.value=N)},[...P[9]||(P[9]=[n("option",{value:"5"},"5",-1),n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1)])],512),[[_t,r.value,void 0,{number:!0}]])]),P[11]||(P[11]=n("div",{class:"col-auto"},[n("span",{class:"form-text"},"条记录")],-1))])],32),u.value?(g(),_("div",b_,[...P[12]||(P[12]=[n("div",{class:"spinner-border",role:"status"},[n("span",{class:"sr-only"},"加载中...")],-1)])])):i.value.length>0?(g(),_("div",y_,[n("div",w_,[n("div",k_,[n("h5",E_,"BLASTP Hits (E-value ≤ "+x(o.value)+")",1),n("span",x_,x(m.value)+" results",1)]),n("div",A_,[n("div",C_,[n("table",S_,[P[13]||(P[13]=n("thead",{class:"thead-light"},[n("tr",null,[n("th",null,"Protein ID"),n("th",{class:"text-right"},"E-value"),n("th",{class:"text-right"},"Bit Score"),n("th",{class:"text-right"},"Identity (%)")])],-1)),n("tbody",null,[(g(!0),_(Q,null,_e(i.value,(N,Y)=>(g(),_("tr",{key:N.subject,class:"protein-row"},[n("td",null,[n("code",null,x(S(N.subject,15)),1)]),n("td",T_,x(C(N.evalue)),1),n("td",q_,x(N.bit_score.toFixed(0)),1),n("td",R_,x(N.identity.toFixed(2))+"%",1)]))),128))])])])])]),p.value.length>0?(g(),_("div",I_,[P[16]||(P[16]=n("div",{class:"card-header"},[n("h5",{class:"mb-0"},"Local Database Matches")],-1)),n("div",$_,[n("div",O_,[n("table",D_,[P[15]||(P[15]=n("thead",{class:"thead-light"},[n("tr",null,[n("th",null,"Protein ID"),n("th",null,"Gene ID"),n("th",null,"Description"),n("th",null,"Source"),n("th",null,"Actions")])],-1)),n("tbody",null,[(g(!0),_(Q,null,_e(p.value,(N,Y)=>(g(),_("tr",{key:N.protein_id},[n("td",null,[n("code",null,x(N.protein_id),1)]),n("td",null,x(N.gene_id),1),n("td",null,x(S(N.description,50)),1),n("td",null,x(S(N.file_source,20)),1),P[14]||(P[14]=n("td",null,[n("div",{class:"btn-group btn-group-sm"},[n("a",{href:"#",class:"btn btn-outline-info",title:"View details"},[n("i",{class:"fas fa-eye"})]),n("a",{href:"#",class:"btn btn-outline-secondary",title:"Download sequence"},[n("i",{class:"fas fa-download"})])])],-1))]))),128))])])])])])):V("",!0),m.value>r.value?(g(),_("nav",P_,[n("ul",L_,[n("li",{class:we(["page-item",{disabled:f.value===1}])},[n("a",{class:"page-link",href:"#",onClick:P[1]||(P[1]=pe(N=>j(1),["prevent"])),"aria-disabled":f.value===1}," 首页 ",8,N_)],2),n("li",{class:we(["page-item",{disabled:f.value===1}])},[n("a",{class:"page-link",href:"#",onClick:P[2]||(P[2]=pe(N=>j(f.value-1),["prevent"])),"aria-disabled":f.value===1}," 上一页 ",8,M_)],2),n("li",F_,[n("span",j_," 第 "+x(f.value)+" 页 / 共 "+x(k.value)+" 页 ",1)]),n("li",{class:we(["page-item",{disabled:f.value===k.value}])},[n("a",{class:"page-link",href:"#",onClick:P[3]||(P[3]=pe(N=>j(f.value+1),["prevent"])),"aria-disabled":f.value===k.value}," 下一页 ",8,B_)],2),n("li",{class:we(["page-item",{disabled:f.value===k.value}])},[n("a",{class:"page-link",href:"#",onClick:P[4]||(P[4]=pe(N=>j(k.value),["prevent"])),"aria-disabled":f.value===k.value}," 末页 ",8,U_)],2)])])):V("",!0)])):(g(),_("div",G_,"未找到匹配结果")),n("div",V_,[re(R,{to:"/tools/blastp",class:"btn btn-secondary"},{default:be(()=>[...P[17]||(P[17]=[ee("返回搜索",-1)])]),_:1})])])}}}),H_=Pe(K_,[["__scopeId","data-v-a4bf9ad8"]]),z_={class:"container mt-4"},J_={class:"form-group"},W_={class:"row mt-3"},Q_={class:"col-md-6"},X_={class:"form-group"},Y_={class:"col-md-6"},Z_={class:"form-group"},ev={class:"form-group mt-3"},tv={key:0,class:"alert alert-danger mt-3"},sv=vt({__name:"GoEnrichmentView",setup(t){const e=$s(),a=lu()?.appContext.config.globalProperties.$http,o=F(""),i=F(.05),c=F(.05),p=F(10),u=F(""),f=()=>{const v=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230`;o.value=v},m=async()=>{if(u.value="",!o.value.trim()){u.value="请输入基因列表";return}try{if(!a)throw new Error("未找到全局axios实例");const b=(await a.post("/tools/go_enrichment/api/start/",{gene_list:o.value,p_value:i.value,q_value:c.value,per_page:p.value})).data;b.status==="success"?e.push({path:"/tools/go-enrichment/results",query:{task_id:b.task_id}}):u.value=b.error||"提交失败"}catch(v){u.value="提交失败，请重试",console.error("提交失败:",v)}};return(v,b)=>(g(),_("div",z_,[b[10]||(b[10]=n("h2",{class:"mb-4"},"GO富集分析",-1)),n("form",{onSubmit:pe(m,["prevent"])},[n("div",J_,[b[4]||(b[4]=n("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),ke(n("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":b[0]||(b[0]=A=>o.value=A),rows:"10"},null,512),[[Ye,o.value]]),n("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:f}," load example ")]),n("div",W_,[n("div",Q_,[n("div",X_,[b[5]||(b[5]=n("label",{for:"p_value"},"P值阈值:",-1)),ke(n("input",{type:"number",class:"form-control",id:"p_value","onUpdate:modelValue":b[1]||(b[1]=A=>i.value=A),min:"0.0001",max:"1",step:"0.0001",required:""},null,512),[[Ye,i.value,void 0,{number:!0}]])])]),n("div",Y_,[n("div",Z_,[b[6]||(b[6]=n("label",{for:"q_value"},"Q值阈值:",-1)),ke(n("input",{type:"number",class:"form-control",id:"q_value","onUpdate:modelValue":b[2]||(b[2]=A=>c.value=A),min:"0.0001",max:"1",step:"0.0001",required:""},null,512),[[Ye,c.value,void 0,{number:!0}]])])])]),n("div",ev,[b[8]||(b[8]=n("label",{for:"per_page"},"每页显示结果数:",-1)),ke(n("select",{class:"form-control",id:"per_page","onUpdate:modelValue":b[3]||(b[3]=A=>p.value=A)},[...b[7]||(b[7]=[n("option",{value:"5"},"5",-1),n("option",{value:"10",selected:""},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1)])],512),[[_t,p.value,void 0,{number:!0}]])]),b[9]||(b[9]=n("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),u.value?(g(),_("div",tv,x(u.value),1)):V("",!0)],32)]))}}),nv=Pe(sv,[["__scopeId","data-v-ba0b4675"]]),ov={class:"container mt-4"},rv={key:0,class:"text-center py-4"},iv={key:1,class:"alert alert-danger",role:"alert"},av={key:2,class:"alert alert-warning",role:"alert"},lv={key:3},cv={class:"row g-2 align-items-center"},uv={class:"col-auto"},dv=["id"],hv={class:"text-danger"},fv={key:0},pv={key:1},mv={key:2},gv={class:"text-muted"},_v={class:"table-responsive"},vv={class:"table table-bordered table-hover"},bv=["id"],yv=["title"],wv={key:0,class:"mt-4"},kv=["src","alt"],Ev={"aria-label":"Page navigation"},xv=["id"],Av=["onClick","data-category"],Cv={key:1,class:"page-link"},Sv=["onClick","data-category"],Tv={key:1,class:"page-link"},qv={class:"page-item active"},Rv=["id"],Iv=["onClick","data-category"],$v={key:1,class:"page-link"},Ov=["onClick","data-category"],Dv={key:1,class:"page-link"},Pv=vt({__name:"GoEnrichmentResultView",setup(t){const e=Os(),r=F(10),a=F({BP:1,MF:1,CC:1}),o=F({BP:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},MF:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},CC:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1}}),i=F({}),c=F(!0),p=F(!1),u=F(""),f=F(0),m=S=>typeof S=="object"&&S!==null&&"name"in S?S.name:typeof S=="string"?S:"",v=S=>typeof S=="object"&&S!==null&&"definition"in S?S.definition:"",b=S=>{const O=S.target;O&&(O.style.display="none")},A=async()=>{a.value={BP:1,MF:1,CC:1},await C()},k=async(S,O)=>{a.value[S]=O,await C()},C=async()=>{p.value=!0;try{const S=e.query.task_id;if(!S){u.value="缺少任务ID",c.value=!1;return}const O={task_id:S,per_page:r.value};for(const j in a.value)O[`${j}_page`]=a.value[j];console.log("请求参数:",O);const $=await Ct.get("/tools/go_enrichment/api/results/",{params:O});if(console.log("完整的后端返回数据:",JSON.stringify($,null,2)),$.status==="success"||$.code===200||!$.error){let B=($.results||$.data||{}).results||{},J=$.plot_images||$.images||$.charts||{};console.log("处理后的结果对象:",B),console.log("处理后的图像对象:",J),o.value={BP:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},MF:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},CC:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1}};for(const te in B){const X=B[te];console.log(`处理类别 ${te} 的数据:`,X),X&&typeof X=="object"&&(Array.isArray(X.results)?o.value[te]={results:X.results,total:X.total||X.results.length,num_pages:X.num_pages||1,current_page:X.current_page||a.value[te]||1,has_next:X.has_next||!1,has_previous:X.has_previous||!1}:Array.isArray(X)&&(o.value[te]={results:X,total:X.length,num_pages:1,current_page:a.value[te]||1,has_next:!1,has_previous:!1}))}i.value=J,console.log("可视化图像数据:",J);let ie=!1;for(const te in o.value)if(o.value[te].results.length>0){ie=!0;break}c.value=ie,console.log("最终结果数据:",o.value),f.value=$.execution_time||$.elapsed_time||$.time||0}else $.status==="processing"?setTimeout(()=>C(),1e3):(u.value=$.error||"获取结果失败",c.value=!1)}catch(S){u.value="获取结果失败: "+(S.message||S),console.error("Error fetching results:",S),c.value=!1}finally{p.value=!1}};return Wt(async()=>{await C()}),Wt(()=>{}),(S,O)=>{const $=gt("router-link");return g(),_("div",ov,[O[9]||(O[9]=n("h2",{class:"mb-4"},"GO富集分析结果",-1)),re($,{to:"/tools/go-enrichment",class:"btn btn-secondary mb-4"},{default:be(()=>[...O[2]||(O[2]=[ee("返回",-1)])]),_:1}),p.value?(g(),_("div",rv,[...O[3]||(O[3]=[n("div",{class:"spinner-border",role:"status"},[n("span",{class:"sr-only"},"加载中...")],-1)])])):u.value?(g(),_("div",iv,x(u.value),1)):c.value?(g(),_("div",lv,[n("form",{onSubmit:pe(A,["prevent"]),class:"mb-3",id:"per-page-form"},[n("div",cv,[O[5]||(O[5]=n("div",{class:"col-auto"},[n("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),n("div",uv,[ke(n("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":O[0]||(O[0]=j=>r.value=j)},[...O[4]||(O[4]=[n("option",{value:"5"},"5",-1),n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1)])],512),[[_t,r.value,void 0,{number:!0}]])]),O[6]||(O[6]=n("div",{class:"col-auto"},[n("span",{class:"form-text"},"条记录")],-1))])],32),(g(!0),_(Q,null,_e(o.value,(j,B)=>(g(),_("div",{key:B,class:"mb-5",id:`category-${B}`},[n("h4",hv,[B==="MF"?(g(),_("span",fv,"Molecular Function")):B==="BP"?(g(),_("span",pv,"Biological Process")):B==="CC"?(g(),_("span",mv,"Cellular Component")):V("",!0),n("small",gv," (共 "+x(j.total)+" 条) ",1)]),n("div",_v,[n("table",vv,[O[7]||(O[7]=n("thead",{class:"bg-light"},[n("tr",null,[n("th",null,"GO ID"),n("th",null,"Description"),n("th",null,"GeneRatio"),n("th",null,"BgRatio"),n("th",null,"RichFactor"),n("th",null,"FoldEnrichment"),n("th",null,"zScore"),n("th",null,"pvalue"),n("th",null,"Genes")])],-1)),n("tbody",{id:`tbody-${B}`},[(g(!0),_(Q,null,_e(j.results,J=>(g(),_("tr",{key:J.go_id},[n("td",null,x(J.go_id),1),n("td",null,[ee(x(m(J.description))+" ",1),v(J.description)?(g(),_("i",{key:0,class:"fas fa-info-circle text-muted",title:v(J.description),"data-bs-toggle":"tooltip"},null,8,yv)):V("",!0)]),n("td",null,x(J.gene_ratio),1),n("td",null,x(J.bg_ratio),1),n("td",null,x(parseFloat(J.rich_factor).toFixed(4)),1),n("td",null,x(parseFloat(J.fold_enrichment).toFixed(4)),1),n("td",null,x(parseFloat(J.z_score).toFixed(4)),1),n("td",null,x(parseFloat(J.p_value).toFixed(6)),1),n("td",null,x(J.genes),1)]))),128))],8,bv)])]),i.value&&(i.value[B]||i.value[B.toLowerCase()]||i.value[B.toUpperCase()])?(g(),_("div",wv,[O[8]||(O[8]=n("h5",null,"可视化结果",-1)),n("img",{src:`data:image/png;base64,${i.value[B]||i.value[B.toLowerCase()]||i.value[B.toUpperCase()]}`,class:"img-fluid",alt:`${B} Plot`,onError:O[1]||(O[1]=J=>b(J))},null,40,kv)])):V("",!0),n("nav",Ev,[n("ul",{id:`pagination-${B}`,class:"pagination justify-content-center"},[n("li",{class:we(["page-item",{disabled:!j.has_previous}])},[j.has_previous?(g(),_("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(J=>k(B,1),["prevent"]),"data-category":B}," 首页 ",8,Av)):(g(),_("span",Cv,"首页"))],2),n("li",{class:we(["page-item",{disabled:!j.has_previous}])},[j.has_previous?(g(),_("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(J=>k(B,j.previous_page_number),["prevent"]),"data-category":B}," 上一页 ",8,Sv)):(g(),_("span",Tv,"上一页"))],2),n("li",qv,[n("span",{id:`current-page-${B}`,class:"page-link"}," 第 "+x(j.current_page)+" 页 / 共 "+x(j.num_pages)+" 页 ",9,Rv)]),n("li",{class:we(["page-item",{disabled:!j.has_next}])},[j.has_next?(g(),_("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(J=>k(B,j.next_page_number),["prevent"]),"data-category":B}," 下一页 ",8,Iv)):(g(),_("span",$v,"下一页"))],2),n("li",{class:we(["page-item",{disabled:!j.has_next}])},[j.has_next?(g(),_("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(J=>k(B,j.num_pages),["prevent"]),"data-category":B}," 末页 ",8,Ov)):(g(),_("span",Dv,"末页"))],2)],8,xv)])],8,dv))),128))])):(g(),_("div",av," 暂无富集结果 "))])}}}),Lv=Pe(Pv,[["__scopeId","data-v-2f118e97"]]),Nv={class:"container mt-4"},Mv={class:"form-group"},Fv={class:"form-group mt-3"},jv={key:0,class:"alert alert-danger mt-3"},Bv=vt({__name:"GoAnnotationView",setup(t){const e=$s(),r=F(""),a=F(10),o=F(""),i=()=>{const p=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100`;r.value=p},c=async()=>{if(o.value="",!r.value.trim()){o.value="请输入基因列表";return}const p={gene_list:r.value,per_page:a.value};try{e.push({path:"/tools/go-annotation/results",query:p})}catch(u){o.value="提交失败，请重试",console.error("提交失败:",u)}};return(p,u)=>(g(),_("div",Nv,[u[6]||(u[6]=n("h2",{class:"mb-4"},"GO注释",-1)),n("form",{onSubmit:pe(c,["prevent"])},[n("div",Mv,[u[2]||(u[2]=n("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),ke(n("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":u[0]||(u[0]=f=>r.value=f),rows:"10"},null,512),[[Ye,r.value]]),n("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:i}," load example ")]),n("div",Fv,[u[4]||(u[4]=n("label",{for:"per_page"},"每页显示结果数:",-1)),ke(n("select",{class:"form-control",id:"per_page","onUpdate:modelValue":u[1]||(u[1]=f=>a.value=f)},[...u[3]||(u[3]=[n("option",{value:"5"},"5",-1),n("option",{value:"10",selected:""},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1)])],512),[[_t,a.value,void 0,{number:!0}]])]),u[5]||(u[5]=n("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),o.value?(g(),_("div",jv,x(o.value),1)):V("",!0)],32)]))}}),Uv=Pe(Bv,[["__scopeId","data-v-846c266a"]]),Gv={class:"container mt-4"},Vv={key:0,class:"card mb-4"},Kv={class:"card-body"},Hv=["src"],zv={class:"row g-2 align-items-center"},Jv={class:"col-auto"},Wv={key:1,class:"text-center py-4"},Qv={key:2},Xv={class:"table-responsive"},Yv={class:"table table-bordered table-hover"},Zv={key:0,"aria-label":"Page navigation"},eb={class:"pagination justify-content-center"},tb=["aria-disabled"],sb=["aria-disabled"],nb={class:"page-item active"},ob={class:"page-link"},rb=["aria-disabled"],ib=["aria-disabled"],ab={key:3,class:"alert alert-info"},lb={class:"mt-3"},cb=vt({__name:"GoAnnotationResultView",setup(t){const e=Os(),r=F(10),a=F(""),o=F([]),i=F(!1),c=F(1),p=F(0),u=F(""),f=F(!0),m=je(()=>Math.ceil(p.value/r.value)),v=()=>{c.value=1,A()},b=k=>{c.value=k,A()},A=async()=>{i.value=!0;const k=e.query.gene_list||"";a.value=k,console.log("=== GO注释结果页面调试信息 ==="),console.log("路由参数:",e.query),console.log("获取的gene_list参数:",k),console.log("gene_list参数长度:",k.length),console.log("当前页码:",c.value),console.log("每页显示条数:",r.value);try{if(!k){console.log("没有获取到gene_list参数"),o.value=[],p.value=0,u.value="",f.value=!1;return}console.log("准备调用API");const C=await Ct.get("/tools/go_annotation/",{params:{gene_id:k,per_page:r.value,page:c.value,api:"true"}});if(console.log("API调用成功"),console.log("API响应数据:",C),C&&C.success){console.log("API响应成功");const S=C.data;console.log("数据对象:",S),console.log("结果数组:",S.results),console.log("结果数量:",S.results?S.results.length:0),console.log("是否有图表:",S.chart?"是":"否"),o.value=S.results||[],p.value=S.results.length||0,u.value=S.chart||"",f.value=o.value.length>0,console.log("是否有结果:",f.value)}else console.log("API响应失败或success为false"),console.log("响应数据:",C),o.value=[],p.value=0,u.value="",f.value=!1}catch(C){console.error("加载结果失败:",C),o.value=[],p.value=0,u.value="",f.value=!1}finally{i.value=!1}};return Wt(()=>{A()}),(k,C)=>{const S=gt("router-link");return g(),_("div",Gv,[C[12]||(C[12]=n("h2",{class:"mb-4"},"GO注释结果",-1)),u.value?(g(),_("div",Vv,[n("div",Kv,[C[5]||(C[5]=n("h5",{class:"card-title"},"GO注释分布",-1)),n("img",{src:`data:image/png;base64,${u.value}`,alt:"GO Annotation Chart",class:"img-fluid"},null,8,Hv)])])):V("",!0),n("form",{onSubmit:pe(v,["prevent"]),class:"mb-3"},[n("div",zv,[C[7]||(C[7]=n("div",{class:"col-auto"},[n("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),n("div",Jv,[ke(n("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":C[0]||(C[0]=O=>r.value=O)},[...C[6]||(C[6]=[n("option",{value:"5"},"5",-1),n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1)])],512),[[_t,r.value,void 0,{number:!0}]])]),C[8]||(C[8]=n("div",{class:"col-auto"},[n("span",{class:"form-text"},"条记录")],-1))])],32),i.value?(g(),_("div",Wv,[...C[9]||(C[9]=[n("div",{class:"spinner-border",role:"status"},[n("span",{class:"sr-only"},"加载中...")],-1)])])):o.value.length>0?(g(),_("div",Qv,[n("div",Xv,[n("table",Yv,[C[10]||(C[10]=n("thead",{class:"bg-light"},[n("tr",null,[n("th",null,"Chr"),n("th",null,"Start"),n("th",null,"End"),n("th",null,"ID"),n("th",null,"GO ID"),n("th",null,"Description"),n("th",null,"Gene Ontology")])],-1)),n("tbody",null,[(g(!0),_(Q,null,_e(o.value,O=>(g(),_("tr",{key:`${O.ID}-${O.GO_ID}`},[n("td",null,x(O.Chr),1),n("td",null,x(O.Start),1),n("td",null,x(O.End),1),n("td",null,x(O.ID),1),n("td",null,x(O.GO_ID),1),n("td",null,x(O.Description),1),n("td",null,x(O.Gene_Ontology),1)]))),128))])])]),p.value>r.value?(g(),_("nav",Zv,[n("ul",eb,[n("li",{class:we(["page-item",{disabled:c.value===1}])},[n("a",{class:"page-link",href:"#",onClick:C[1]||(C[1]=pe(O=>b(1),["prevent"])),"aria-disabled":c.value===1}," 首页 ",8,tb)],2),n("li",{class:we(["page-item",{disabled:c.value===1}])},[n("a",{class:"page-link",href:"#",onClick:C[2]||(C[2]=pe(O=>b(c.value-1),["prevent"])),"aria-disabled":c.value===1}," 上一页 ",8,sb)],2),n("li",nb,[n("span",ob," 第 "+x(c.value)+" 页 / 共 "+x(m.value)+" 页 ",1)]),n("li",{class:we(["page-item",{disabled:c.value===m.value}])},[n("a",{class:"page-link",href:"#",onClick:C[3]||(C[3]=pe(O=>b(c.value+1),["prevent"])),"aria-disabled":c.value===m.value}," 下一页 ",8,rb)],2),n("li",{class:we(["page-item",{disabled:c.value===m.value}])},[n("a",{class:"page-link",href:"#",onClick:C[4]||(C[4]=pe(O=>b(m.value),["prevent"])),"aria-disabled":c.value===m.value}," 末页 ",8,ib)],2)])])):V("",!0)])):(g(),_("div",ab,"暂无注释结果")),n("div",lb,[re(S,{to:"/tools/go-annotation",class:"btn btn-secondary"},{default:be(()=>[...C[11]||(C[11]=[ee("返回",-1)])]),_:1})])])}}}),ub=Pe(cb,[["__scopeId","data-v-03b3b785"]]),db={class:"container mt-4"},hb={class:"form-group"},fb={class:"form-group mt-3"},pb={class:"form-group mt-3"},mb={key:0,class:"alert alert-danger mt-3"},gb=vt({__name:"GeneExpressionView",setup(t){const e=$s(),r=F(""),a=F(""),o=F(10),i=F(""),c=()=>{const u=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100`;r.value=u},p=async()=>{if(i.value="",!r.value.trim()){i.value="请输入基因列表";return}const u={gene_list:r.value,tissue:a.value,per_page:o.value};try{e.push({path:"/tools/gene-expression/results",query:u})}catch(f){i.value="提交失败，请重试",console.error("提交失败:",f)}};return(u,f)=>(g(),_("div",db,[f[9]||(f[9]=n("h2",{class:"mb-4"},"基因表达分析",-1)),n("form",{onSubmit:pe(p,["prevent"])},[n("div",hb,[f[3]||(f[3]=n("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),ke(n("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":f[0]||(f[0]=m=>r.value=m),rows:"10"},null,512),[[Ye,r.value]]),n("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:c}," load example ")]),n("div",fb,[f[5]||(f[5]=n("label",{for:"tissue"},"选择组织:",-1)),ke(n("select",{class:"form-control",id:"tissue","onUpdate:modelValue":f[1]||(f[1]=m=>a.value=m)},[...f[4]||(f[4]=[Cn('<option value="" data-v-2e37b489>-- 全部组织 --</option><option value="leaf" data-v-2e37b489>叶</option><option value="root" data-v-2e37b489>根</option><option value="flower" data-v-2e37b489>花</option><option value="stem" data-v-2e37b489>茎</option><option value="seed" data-v-2e37b489>种子</option><option value="fiber" data-v-2e37b489>纤维</option>',7)])],512),[[_t,a.value]])]),n("div",pb,[f[7]||(f[7]=n("label",{for:"per_page"},"每页显示结果数:",-1)),ke(n("select",{class:"form-control",id:"per_page","onUpdate:modelValue":f[2]||(f[2]=m=>o.value=m)},[...f[6]||(f[6]=[n("option",{value:"5"},"5",-1),n("option",{value:"10",selected:""},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1)])],512),[[_t,o.value,void 0,{number:!0}]])]),f[8]||(f[8]=n("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),i.value?(g(),_("div",mb,x(i.value),1)):V("",!0)],32)]))}}),_b=Pe(gb,[["__scopeId","data-v-2e37b489"]]);qu();const vb={class:"container mt-4"},bb={class:"row g-2 align-items-center"},yb={class:"col-auto"},wb={key:0,class:"text-center py-4"},kb={key:1},Eb={class:"table-responsive"},xb={class:"table table-bordered table-hover"},Ab={class:"bg-light"},Cb={key:0},Sb={key:1},Tb={class:"mt-4"},qb={key:0,class:"heatmap-container mt-3"},Rb={class:"heatmap-wrapper"},Ib={class:"gene-labels"},$b={class:"heatmap-content"},Ob={class:"tissue-labels"},Db={key:1,class:"alert alert-info"},Pb={key:0,"aria-label":"Page navigation"},Lb={class:"pagination justify-content-center"},Nb=["aria-disabled"],Mb=["aria-disabled"],Fb={class:"page-item active"},jb={class:"page-link"},Bb=["aria-disabled"],Ub=["aria-disabled"],Gb={key:2,class:"alert alert-info"},Vb={class:"mt-3"},Kb=vt({__name:"GeneExpressionResultView",setup(t){const e=Os(),r=F(10),a=F(""),o=F(""),i=F([]),c=F(!1),p=F(1),u=F(0),f=F(null);F(null);const m=F(null),v=[{value:"leaf",label:"叶"},{value:"root",label:"根"},{value:"flower",label:"花"},{value:"stem",label:"茎"},{value:"seed",label:"种子"},{value:"fiber",label:"纤维"}],b=je(()=>Math.ceil(u.value/r.value)),A=je(()=>i.value.map(T=>({gene_id:T.gene_id,expression:T.expression}))),k=je(()=>o.value?v.filter(T=>T.value===o.value):v),C=()=>{p.value=1,X()},S=T=>{p.value=T,X()},O=T=>{const P=Math.min(T/10,1);if(P<.2){const R=P/.2,N=Math.floor(0),Y=Math.floor(255*R),Ee=Math.floor(255-255*R);return`rgb(${N}, ${Y}, ${Ee})`}else if(P<.4){const R=Math.floor(0),N=Math.floor(255),Y=Math.floor(0);return`rgb(${R}, ${N}, ${Y})`}else if(P<.6){const R=(P-.4)/.2,N=Math.floor(255*R),Y=Math.floor(255),Ee=Math.floor(0);return`rgb(${N}, ${Y}, ${Ee})`}else if(P<.8){const R=(P-.6)/.2,N=Math.floor(255),Y=Math.floor(255-102*R),Ee=Math.floor(0);return`rgb(${N}, ${Y}, ${Ee})`}else{const R=(P-.8)/.2,N=Math.floor(255),Y=Math.floor(153-153*R),Ee=Math.floor(0);return`rgb(${N}, ${Y}, ${Ee})`}},$=async()=>{if(await Hs(),console.log("开始绘制热图"),console.log("热图容器:",f.value),console.log("结果数据:",i.value),console.log("显示的组织:",k.value),!f.value){console.error("热图容器不存在");return}if(i.value.length===0){console.error("结果数据为空");return}if(k.value.length===0){console.error("显示的组织为空");return}f.value.innerHTML="",console.log("容器已清空");const T=document.createElement("div");T.style.width=`${k.value.length*45}px`,T.style.height=`${i.value.length*30}px`,T.style.position="relative",T.style.backgroundColor="#f0f0f0",T.style.border="1px solid #dee2e6",f.value.appendChild(T),console.log("创建热图元素，尺寸:",T.style.width,T.style.height);const P=Math.max(...i.value.flatMap(R=>k.value.map(N=>N.value&&R.expression[N.value]||0)));console.log("最大表达值:",P),i.value.forEach((R,N)=>{k.value.forEach((Y,Ee)=>{if(!Y||!Y.value||!Y.label)return;const Ne=R.expression[Y.value]||0,ge=document.createElement("div");ge.style.position="absolute",ge.style.left=`${Ee*45}px`,ge.style.top=`${N*30}px`,ge.style.width="45px",ge.style.height="30px",ge.style.border="1px solid #eee",ge.style.boxSizing="border-box",ge.style.cursor="pointer";const et=O(Ne);ge.style.backgroundColor=et,ge.addEventListener("mouseenter",Ie=>{m.value={gene:R.gene_id,tissue:Y.label,value:Ne},B(Ie.clientX,Ie.clientY)}),ge.addEventListener("mouseleave",()=>{j()}),T.appendChild(ge)})}),f.value.style.overflow="auto",f.value.style.border="1px solid #dee2e6",f.value.style.height="auto",f.value.style.minHeight="200px",f.value.style.padding="0",f.value.style.margin="0",console.log("热图绘制完成")},j=()=>{m.value=null,J()},B=(T,P)=>{let R=document.getElementById("heatmap-hover-info");R||(R=document.createElement("div"),R.id="heatmap-hover-info",R.style.position="absolute",R.style.backgroundColor="rgba(0, 0, 0, 0.8)",R.style.color="white",R.style.padding="8px",R.style.borderRadius="4px",R.style.zIndex="1000",R.style.fontSize="12px",document.body.appendChild(R)),m.value&&(R.innerHTML=`
      <div>基因: ${m.value.gene}</div>
      <div>组织: ${m.value.tissue}</div>
      <div>表达值: ${m.value.value.toFixed(4)}</div>
    `,R.style.left=`${T+window.scrollX+10}px`,R.style.top=`${P+window.scrollY+10}px`,R.style.display="block")},J=()=>{const T=document.getElementById("heatmap-hover-info");T&&(T.style.display="none")},ie=()=>{f.value&&alert("热图下载功能需要html2canvas库，请先安装：npm install html2canvas")},te=async()=>{console.log("开始测试热图绘制");const T=[{gene_id:"Test_Gene_1",gene_name:"测试基因1",expression:{leaf:2.5,root:3.8,flower:1.2,stem:4.5,seed:.8,fiber:5.2}},{gene_id:"Test_Gene_2",gene_name:"测试基因2",expression:{leaf:1.8,root:2.2,flower:3.5,stem:2.8,seed:4.2,fiber:1.5}},{gene_id:"Test_Gene_3",gene_name:"测试基因3",expression:{leaf:5,root:4.8,flower:3.2,stem:2.1,seed:.5,fiber:6}}];[...i.value];try{i.value=T,u.value=T.length,await Hs(),console.log("测试数据已设置，开始绘制热图"),await $(),console.log("热图绘制完成"),alert("热图测试完成，请查看控制台日志")}catch(P){console.error("热图测试失败:",P),alert("热图测试失败，请查看控制台日志")}};Js([i,k],()=>{$()},{deep:!0});const X=async()=>{c.value=!0;try{const T=e.query.gene_list||"",P=e.query.tissue||"";a.value=T,o.value=P;const R=T.trim().split(/[,\s]+/).filter(Y=>Y.trim());if(R.length===0){i.value=[],u.value=0,c.value=!1;return}console.log("用户输入的基因ID:",R);const N=R.map((Y,Ee)=>{const Ne={};return v.forEach(ge=>{Ne[ge.value]=Math.random()*10}),{gene_id:Y,gene_name:Y,expression:Ne}});i.value=N,u.value=R.length,console.log("生成的结果数据:",i.value),await Hs(),console.log("DOM更新完成，绘制热图"),$()}catch(T){console.error("加载结果失败:",T)}finally{c.value=!1}};return Wt(()=>{X()}),(T,P)=>{const R=gt("router-link");return g(),_("div",vb,[P[15]||(P[15]=n("h2",{class:"mb-4"},"基因表达分析结果",-1)),n("form",{onSubmit:pe(C,["prevent"]),class:"mb-3"},[n("div",bb,[P[6]||(P[6]=n("div",{class:"col-auto"},[n("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),n("div",yb,[ke(n("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":P[0]||(P[0]=N=>r.value=N)},[...P[5]||(P[5]=[n("option",{value:"5"},"5",-1),n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1)])],512),[[_t,r.value,void 0,{number:!0}]])]),P[7]||(P[7]=n("div",{class:"col-auto"},[n("span",{class:"form-text"},"条记录")],-1))])],32),c.value?(g(),_("div",wb,[...P[8]||(P[8]=[n("div",{class:"spinner-border",role:"status"},[n("span",{class:"sr-only"},"加载中...")],-1)])])):i.value.length>0?(g(),_("div",kb,[n("div",Eb,[n("table",xb,[n("thead",Ab,[n("tr",null,[P[9]||(P[9]=n("th",null,"Gene ID",-1)),P[10]||(P[10]=n("th",null,"基因名称",-1)),(g(),_(Q,null,_e(v,N=>n("th",{key:N.value},x(N.label),1)),64))])]),n("tbody",null,[(g(!0),_(Q,null,_e(i.value,N=>(g(),_("tr",{key:N.gene_id},[n("td",null,x(N.gene_id),1),n("td",null,x(N.gene_name||"-"),1),(g(),_(Q,null,_e(v,Y=>n("td",{key:Y.value},[N.expression[Y.value]!==void 0?(g(),_("div",Cb,x(N.expression[Y.value].toFixed(4)),1)):(g(),_("div",Sb,"-"))])),64))]))),128))])])]),n("div",Tb,[P[13]||(P[13]=n("h4",null,"表达水平可视化",-1)),A.value.length>0?(g(),_("div",qb,[n("div",{class:"d-flex justify-content-between align-items-center mb-2"},[P[11]||(P[11]=n("h5",{class:"mb-0"},"Gene Expression Heatmap",-1)),n("div",null,[n("button",{class:"btn btn-sm btn-primary me-2",onClick:ie},"下载图片"),n("button",{class:"btn btn-sm btn-warning",onClick:te},"测试热图")])]),n("div",Rb,[n("div",Ib,[(g(!0),_(Q,null,_e(i.value,N=>(g(),_("div",{key:N.gene_id,class:"gene-label"},x(N.gene_id),1))),128))]),n("div",$b,[n("div",Ob,[(g(!0),_(Q,null,_e(k.value,N=>(g(),_("div",{key:N.value,class:"tissue-label"},x(N.label),1))),128))]),n("div",{class:"heatmap",ref_key:"heatmapContainer",ref:f},null,512)])]),P[12]||(P[12]=n("div",{class:"color-scale mt-2"},[n("div",{class:"color-scale-label"},"Expression Level"),n("div",{class:"color-scale-gradient"}),n("div",{class:"color-scale-values"},[n("span",null,"0.0"),n("span",null,"2.0"),n("span",null,"4.0"),n("span",null,"6.0")])],-1))])):(g(),_("div",Db,"暂无可视化数据"))]),u.value>r.value?(g(),_("nav",Pb,[n("ul",Lb,[n("li",{class:we(["page-item",{disabled:p.value===1}])},[n("a",{class:"page-link",href:"#",onClick:P[1]||(P[1]=pe(N=>S(1),["prevent"])),"aria-disabled":p.value===1}," 首页 ",8,Nb)],2),n("li",{class:we(["page-item",{disabled:p.value===1}])},[n("a",{class:"page-link",href:"#",onClick:P[2]||(P[2]=pe(N=>S(p.value-1),["prevent"])),"aria-disabled":p.value===1}," 上一页 ",8,Mb)],2),n("li",Fb,[n("span",jb," 第 "+x(p.value)+" 页 / 共 "+x(b.value)+" 页 ",1)]),n("li",{class:we(["page-item",{disabled:p.value===b.value}])},[n("a",{class:"page-link",href:"#",onClick:P[3]||(P[3]=pe(N=>S(p.value+1),["prevent"])),"aria-disabled":p.value===b.value}," 下一页 ",8,Bb)],2),n("li",{class:we(["page-item",{disabled:p.value===b.value}])},[n("a",{class:"page-link",href:"#",onClick:P[4]||(P[4]=pe(N=>S(b.value),["prevent"])),"aria-disabled":p.value===b.value}," 末页 ",8,Ub)],2)])])):V("",!0)])):(g(),_("div",Gb,"暂无表达数据")),n("div",Vb,[re(R,{to:"/tools/gene-expression",class:"btn btn-secondary"},{default:be(()=>[...P[14]||(P[14]=[ee("返回",-1)])]),_:1})])])}}}),Hb=Pe(Kb,[["__scopeId","data-v-3b552fa3"]]),zb={name:"GeneExpressionEfpView",data(){return{geneId:"",lowColor:"#0000FF",midColor:"#00FF00",highColor:"#FF0000",isLoading:!1,resultImage:"",showResultImage:!1,message:"",messageType:"",currentRegionsInfo:[],currentImageSize:{width:0,height:0},mappedRegions:[],tooltipVisible:!1,tooltipContent:{name:"",value:""},tooltipStyle:{left:"0px",top:"0px"}}},mounted(){document.getElementById("gene_id").addEventListener("keypress",t=>{t.key==="Enter"&&this.generateImage()}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{fillExample(){const t="Ghjin_A01g000040";this.geneId=t},generateImage(){if(!this.geneId.trim()){this.showMessage("请输入基因ID","error");return}this.isLoading=!0,this.showResultImage=!1,this.hideMessage();const t={gene_id:this.geneId.trim(),low_color:this.lowColor,mid_color:this.midColor,high_color:this.highColor};fetch("/tools/gene_expression_in_eFP/generate-thermal-image/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":this.getCookie("csrftoken")},body:JSON.stringify(t)}).then(e=>e.ok?e.json():e.text().then(r=>{throw new Error(`HTTP错误 ${e.status}`)})).then(e=>{e.success?(this.currentRegionsInfo=e.regions_info||[],this.currentImageSize={width:e.image_width||0,height:e.image_height||0},this.resultImage=e.image,this.showResultImage=!0):this.showMessage("错误: "+e.error,"error")}).catch(e=>{this.showMessage("请求失败: "+e.message,"error")}).finally(()=>{this.isLoading=!1})},onImageLoad(){this.currentRegionsInfo.length>0&&this.currentImageSize.width>0&&this.createImageMap()},createImageMap(){const t=document.getElementById("result-image");if(!t||!t.complete||t.naturalWidth===0)return;const e=t.offsetWidth,r=t.offsetHeight,a=this.currentImageSize.width>0?e/this.currentImageSize.width:1,o=this.currentImageSize.height>0?r/this.currentImageSize.height:1;this.mappedRegions=this.currentRegionsInfo.filter(i=>i.polygon&&i.polygon.length>=3).map(i=>({coords:i.polygon.map(u=>[Math.round(u[0]*a),Math.round(u[1]*o)]).map(u=>`${u[0]},${u[1]}`).join(","),name:i.name,title:`${i.name}: ${typeof i.value=="number"?i.value.toFixed(4):i.value}`,value:i.value}))},showTooltip(t,e){let r;typeof e.value=="number"?r=e.value.toFixed(4):r=e.value,this.tooltipContent={name:e.name,value:r},this.tooltipVisible=!0,this.moveTooltip(t)},moveTooltip(t){const e=document.getElementById("result-image");if(!e||!e.complete||e.naturalWidth===0)return;e.getBoundingClientRect();const r=e.parentElement.getBoundingClientRect(),a=t.clientX-r.left+15,o=t.clientY-r.top+15;this.tooltipStyle={left:`${a}px`,top:`${o}px`}},hideTooltip(){this.tooltipVisible=!1},showMessage(t,e){this.message=t,this.messageType=e},hideMessage(){this.message=""},hideInitialImage(){},getCookie(t){let e=null;if(document.cookie&&document.cookie!==""){const r=document.cookie.split(";");for(let a=0;a<r.length;a++){const o=r[a].trim();if(o.substring(0,t.length+1)===t+"="){e=decodeURIComponent(o.substring(t.length+1));break}}}return e},updateColorBox(t,e){e==="low"?this.lowColor=t.target.value:e==="mid"?this.midColor=t.target.value:e==="high"&&(this.highColor=t.target.value),console.log(`Color updated: ${e} = ${t.target.value}`)},triggerColorInput(t){document.getElementById(`${t}-color`).click()},handleResize(){this.showResultImage&&this.currentRegionsInfo.length>0&&this.createImageMap()}}},Jb={class:"container"},Wb={class:"input-group"},Qb=["disabled"],Xb={key:0,class:"loading",id:"loading"},Yb={class:"color-picker-group"},Zb={class:"color-picker"},e0={class:"color-picker"},t0={class:"color-picker"},s0={id:"result"},n0={class:"image-container"},o0=["src"],r0={name:"regionMap",id:"regionMap"},i0=["coords","alt","title","onMouseenter"];function a0(t,e,r,a,o,i){return g(),_("div",Jb,[e[20]||(e[20]=n("h1",null,"gene_expression_in_eFP",-1)),n("div",Wb,[ke(n("input",{type:"text",id:"gene_id","onUpdate:modelValue":e[0]||(e[0]=c=>o.geneId=c),placeholder:"请输入基因ID，例如: Gh_A01G0001",autocomplete:"off"},null,512),[[Ye,o.geneId]]),n("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",id:"fillExample",onClick:e[1]||(e[1]=(...c)=>i.fillExample&&i.fillExample(...c))}," load example "),n("button",{onClick:e[2]||(e[2]=(...c)=>i.generateImage&&i.generateImage(...c)),id:"generate-btn",disabled:o.isLoading}," 生成热图 ",8,Qb),o.isLoading?(g(),_("span",Xb,"正在生成热图...")):V("",!0)]),n("div",Yb,[n("div",Zb,[e[16]||(e[16]=n("label",{for:"low-color"},"低值:",-1)),ke(n("input",{type:"color",id:"low-color","onUpdate:modelValue":e[3]||(e[3]=c=>o.lowColor=c),class:"color-input",onChange:e[4]||(e[4]=c=>i.updateColorBox(c,"low"))},null,544),[[Ye,o.lowColor]]),n("div",{class:"color-box",style:yn({backgroundColor:o.lowColor}),onClick:e[5]||(e[5]=c=>i.triggerColorInput("low"))},null,4)]),n("div",e0,[e[17]||(e[17]=n("label",{for:"mid-color"},"中值:",-1)),ke(n("input",{type:"color",id:"mid-color","onUpdate:modelValue":e[6]||(e[6]=c=>o.midColor=c),class:"color-input",onChange:e[7]||(e[7]=c=>i.updateColorBox(c,"mid"))},null,544),[[Ye,o.midColor]]),n("div",{class:"color-box",style:yn({backgroundColor:o.midColor}),onClick:e[8]||(e[8]=c=>i.triggerColorInput("mid"))},null,4)]),n("div",t0,[e[18]||(e[18]=n("label",{for:"high-color"},"高值:",-1)),ke(n("input",{type:"color",id:"high-color","onUpdate:modelValue":e[9]||(e[9]=c=>o.highColor=c),class:"color-input",onChange:e[10]||(e[10]=c=>i.updateColorBox(c,"high"))},null,544),[[Ye,o.highColor]]),n("div",{class:"color-box",style:yn({backgroundColor:o.highColor}),onClick:e[11]||(e[11]=c=>i.triggerColorInput("high"))},null,4)])]),o.showResultImage?V("",!0):(g(),_("img",{key:0,id:"initial-image",src:ia,alt:"初始热图模板",onError:e[12]||(e[12]=(...c)=>i.hideInitialImage&&i.hideInitialImage(...c))},null,32)),o.message?(g(),_("div",{key:1,id:"message",class:we(o.messageType)},x(o.message),3)):V("",!0),n("div",s0,[n("div",n0,[o.showResultImage?(g(),_("img",{key:0,id:"result-image",src:o.resultImage,alt:"热图结果",usemap:"#regionMap",onLoad:e[13]||(e[13]=(...c)=>i.onImageLoad&&i.onImageLoad(...c))},null,40,o0)):V("",!0),n("map",r0,[(g(!0),_(Q,null,_e(o.mappedRegions,(c,p)=>(g(),_("area",{key:p,shape:"poly",coords:c.coords,alt:c.name,title:c.title,onMouseenter:u=>i.showTooltip(u,c),onMousemove:e[14]||(e[14]=u=>i.moveTooltip(u)),onMouseleave:e[15]||(e[15]=(...u)=>i.hideTooltip&&i.hideTooltip(...u))},null,40,i0))),128))]),o.tooltipVisible?(g(),_("div",{key:1,id:"tooltip",class:"tooltip",style:yn(o.tooltipStyle)},[n("strong",null,x(o.tooltipContent.name),1),e[19]||(e[19]=n("br",null,null,-1)),ee(" 表达值: "+x(o.tooltipContent.value),1)],4)):V("",!0)])])])}const l0=Pe(zb,[["render",a0],["__scopeId","data-v-ee61d65d"]]),c0={class:"container mt-4"},u0={class:"form-group"},d0=["disabled"],h0=["disabled"],f0={class:"d-flex justify-content-end mt-3"},p0=["disabled"],m0={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},g0={key:1},_0={__name:"KeggAnnotationView",setup(t){const e=F(""),r=F(!1),a=$s(),o=()=>{const c=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230`;e.value=c},i=async()=>{if(!e.value.trim()){alert("Please enter gene IDs");return}r.value=!0;try{const c=await Ct.post("/tools/kegg_annotation/api/start/",{gene_id:e.value});c.status==="success"&&c.task_id?a.push({path:"/tools/kegg-annotation/results",query:{task_id:c.task_id}}):alert("Error: "+(c.error||"Failed to get task ID"))}catch(c){console.error("Error submitting form:",c),alert("Error submitting form: "+(c.message||"Unknown error"))}finally{r.value=!1}};return(c,p)=>(g(),_("div",c0,[p[2]||(p[2]=n("h2",null,"KEGG Annotation Search",-1)),n("form",{onSubmit:pe(i,["prevent"])},[n("div",u0,[p[1]||(p[1]=n("label",{for:"gene_id"},"Enter Gene IDs (one per line or space/comma separated):",-1)),ke(n("textarea",{id:"gene_id","onUpdate:modelValue":p[0]||(p[0]=u=>e.value=u),class:"form-control",rows:"5",disabled:r.value},null,8,d0),[[Ye,e.value]]),n("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",id:"fillExample",onClick:o,disabled:r.value}," load example ",8,h0)]),n("div",f0,[n("button",{type:"submit",class:"btn btn-primary",disabled:r.value},[r.value?(g(),_("span",m0)):(g(),_("span",g0,"Search"))],8,p0)])],32)]))}},v0=Pe(_0,[["__scopeId","data-v-6f69a42c"]]);ra.register(...Ru);const b0={class:"container mt-4"},y0={class:"d-flex justify-content-between align-items-center mb-4"},w0={key:0,class:"badge bg-info"},k0={key:0,class:"text-center py-4"},E0={key:1,class:"alert alert-danger",role:"alert"},x0={key:2,class:"alert alert-warning",role:"alert"},A0={key:3},C0={key:0,class:"mt-5"},S0={class:"row g-2 align-items-center"},T0={class:"col-auto"},q0={class:"card"},R0={class:"card-header d-flex justify-content-between align-items-center"},I0={class:"badge bg-primary"},$0={class:"card-body p-0"},O0={class:"table-responsive"},D0={class:"table table-striped table-bordered mb-0"},P0={key:0,"aria-label":"Page navigation"},L0={class:"pagination justify-content-center mt-3 mb-0"},N0=["onClick"],M0={key:1,class:"text-center mt-2 mb-3"},F0={class:"text-muted mb-0"},j0=vt({__name:"KeggAnnotationResultView",setup(t){const e=Os(),r=F([]),a=F(10),o=F(1),i=F(!0),c=F(null),p=F(!1),u=F(""),f=F(0),m=F(0),v=F(0),b=F(0),A=F({labels:[],data:[]}),k=je(()=>Math.ceil(m.value/a.value)),C=je(()=>(o.value-1)*a.value+1),S=je(()=>Math.min(o.value*a.value,m.value)),O=je(()=>{const X=(o.value-1)*a.value,T=X+a.value;return r.value.slice(X,T)}),$=je(()=>{const X=k.value,T=o.value,P=[];if(X<=5)for(let R=1;R<=X;R++)P.push(R);else if(T<=3)for(let R=1;R<=5;R++)P.push(R);else if(T>=X-2)for(let R=X-4;R<=X;R++)P.push(R);else for(let R=T-2;R<=T+2;R++)P.push(R);return P}),j=()=>{o.value=1,ie()},B=()=>{o.value=1,ie()},J=X=>{X<1||X>k.value||(o.value=X,ie())},ie=async()=>{p.value=!0;try{const X=e.query.task_id;if(!X){u.value="缺少任务ID",i.value=!1;return}const T=await Ct.get("/tools/kegg_annotation/api/results/",{params:{task_id:X,page_size:a.value,page:o.value}});console.log("KEGG注释API响应:",T),T&&T.status==="success"?(r.value=T.results||[],m.value=T.total||0,v.value=T.total_genes||0,b.value=T.annotated_genes||0,T.chart_data?A.value={labels:T.chart_data.labels||[],data:T.chart_data.data||[]}:A.value={labels:[],data:[]},i.value=r.value.length>0,console.log("KEGG注释结果:",r.value),console.log("图表数据:",A.value),console.log("图表标签数量:",A.value.labels.length),console.log("图表数据数量:",A.value.data.length),te()):T&&T.status==="processing"?setTimeout(()=>ie(),1e3):(u.value=T.error||"获取结果失败",i.value=!1)}catch(X){u.value="获取结果失败: "+(X.message||X),console.error("Error fetching results:",X),i.value=!1}finally{p.value=!1}},te=()=>{console.log("渲染KEGG通路分布图表..."),console.log("图表数据:",A.value);const X=document.getElementById("keggChart");if(!X){console.error("没有找到keggChart元素");return}if(c.value&&(c.value.destroy(),c.value=null),!A.value.labels||A.value.labels.length===0){console.log("没有图表数据，不渲染图表");return}c.value=new ra(X,{type:"bar",data:{labels:A.value.labels,datasets:[{label:"",data:A.value.data,backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Count"}},x:{title:{display:!0,text:""}}}}})};return Js(()=>A.value,async X=>{X&&X.labels&&X.labels.length>0&&(await Hs(),te())},{deep:!0}),Wt(async()=>{await ie()}),(X,T)=>{const P=gt("router-link");return g(),_("div",b0,[n("div",y0,[T[5]||(T[5]=n("h2",null,"KEGG Annotation Results",-1)),f.value?(g(),_("span",w0,"Executed in "+x(f.value)+" seconds",1)):V("",!0)]),re(P,{to:"/tools/kegg-annotation",class:"btn btn-secondary mb-4"},{default:be(()=>[...T[6]||(T[6]=[ee("返回搜索",-1)])]),_:1}),p.value?(g(),_("div",k0,[...T[7]||(T[7]=[n("div",{class:"spinner-border",role:"status"},[n("span",{class:"sr-only"},"加载中...")],-1)])])):u.value?(g(),_("div",E0,x(u.value),1)):i.value?(g(),_("div",A0,[A.value.labels&&A.value.labels.length>0?(g(),_("div",C0,[...T[8]||(T[8]=[n("h3",null,"KEGG Pathway",-1),n("div",{class:"chart-container",style:{height:"400px"}},[n("canvas",{id:"keggChart"})],-1)])])):V("",!0),n("form",{onSubmit:pe(j,["prevent"]),class:"mb-3"},[n("div",S0,[T[10]||(T[10]=n("div",{class:"col-auto"},[n("label",{for:"pageSize",class:"col-form-label"},"每页显示:")],-1)),n("div",T0,[ke(n("select",{id:"pageSize","onUpdate:modelValue":T[0]||(T[0]=R=>a.value=R),class:"form-select",onChange:B},[...T[9]||(T[9]=[n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1),n("option",{value:"100"},"100",-1)])],544),[[_t,a.value,void 0,{number:!0}]])]),T[11]||(T[11]=n("div",{class:"col-auto"},[n("span",{class:"form-text"},"条记录")],-1))])],32),n("div",q0,[n("div",R0,[T[12]||(T[12]=n("span",null,"Annotation Results",-1)),n("span",I0,x(m.value)+" results",1)]),n("div",$0,[n("div",O0,[n("table",D0,[T[13]||(T[13]=n("thead",null,[n("tr",null,[n("th",null,"Chr"),n("th",null,"Start"),n("th",null,"End"),n("th",null,"ID"),n("th",null,"KO"),n("th",null,"Pathway Name")])],-1)),n("tbody",null,[(g(!0),_(Q,null,_e(O.value,R=>(g(),_("tr",{key:R.ID},[n("td",null,x(R.Chr),1),n("td",null,x(R.Start),1),n("td",null,x(R.End),1),n("td",null,x(R.ID),1),n("td",null,x(R.match),1),n("td",null,x(R.Description),1)]))),128))])])]),k.value>1?(g(),_("nav",P0,[n("ul",L0,[n("li",{class:we(["page-item",{disabled:o.value===1}])},[n("a",{class:"page-link",href:"#",onClick:T[1]||(T[1]=pe(R=>J(1),["prevent"]))}," 首页 ")],2),n("li",{class:we(["page-item",{disabled:o.value===1}])},[n("a",{class:"page-link",href:"#",onClick:T[2]||(T[2]=pe(R=>J(o.value-1),["prevent"]))}," 上一页 ")],2),(g(!0),_(Q,null,_e($.value,R=>(g(),_("li",{key:R,class:we(["page-item",{active:R===o.value}])},[n("a",{class:"page-link",href:"#",onClick:pe(N=>J(R),["prevent"])},x(R),9,N0)],2))),128)),n("li",{class:we(["page-item",{disabled:o.value===k.value}])},[n("a",{class:"page-link",href:"#",onClick:T[3]||(T[3]=pe(R=>J(o.value+1),["prevent"]))}," 下一页 ")],2),n("li",{class:we(["page-item",{disabled:o.value===k.value}])},[n("a",{class:"page-link",href:"#",onClick:T[4]||(T[4]=pe(R=>J(k.value),["prevent"]))}," 末页 ")],2)])])):V("",!0),k.value>1?(g(),_("div",M0,[n("p",F0," Showing "+x(C.value)+" to "+x(S.value)+" of "+x(m.value)+" entries ",1)])):V("",!0)])])])):(g(),_("div",x0," No results found. Please try with different gene IDs. "))])}}}),B0=Pe(j0,[["__scopeId","data-v-7cf733fe"]]),U0={class:"container mt-4"},G0={class:"form-group"},V0=["disabled"],K0=["disabled"],H0={class:"row g-3 mt-3"},z0={class:"col-md-6"},J0=["disabled"],W0={class:"col-md-6"},Q0=["disabled"],X0={class:"d-flex justify-content-end mt-3"},Y0=["disabled"],Z0={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ey={key:1},ty=vt({__name:"KeggEnrichmentView",setup(t){const e=F(""),r=F(.05),a=F(.05),o=F(!1),i=$s(),c=()=>{const u=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230
Kirkii_Juiced.00g000240
Kirkii_Juiced.00g000250
Kirkii_Juiced.00g000260
Kirkii_Juiced.00g000270
Kirkii_Juiced.00g000280
Kirkii_Juiced.00g000290
Kirkii_Juiced.00g000300`;e.value=u},p=async()=>{if(!e.value.trim()){alert("请输入基因ID");return}if(r.value<0||r.value>1){alert("P值阈值必须在0到1之间");return}if(a.value<0||a.value>1){alert("Q值阈值必须在0到1之间");return}o.value=!0;try{const u=await Ct.post("/tools/kegg_enrichment/api/start/",{gene_list:e.value,p_value_threshold:r.value});u&&u.status==="success"&&u.task_id&&i.push({path:"/tools/kegg-enrichment/results",query:{task_id:u.task_id}})}catch(u){console.error("提交表单时出错:",u),alert("提交表单时出错: "+(u.message||"未知错误"))}finally{o.value=!1}};return(u,f)=>(g(),_("div",U0,[f[6]||(f[6]=n("h2",null,"KEGG通路富集分析",-1)),n("form",{onSubmit:pe(p,["prevent"])},[n("div",G0,[f[3]||(f[3]=n("label",{for:"gene_list"},"输入基因ID（每行一个或空格/逗号分隔）:",-1)),ke(n("textarea",{id:"gene_list","onUpdate:modelValue":f[0]||(f[0]=m=>e.value=m),class:"form-control",rows:"10",placeholder:"请在此输入基因ID...",disabled:o.value},null,8,V0),[[Ye,e.value]]),n("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:c,disabled:o.value}," 加载示例 ",8,K0)]),n("div",H0,[n("div",z0,[f[4]||(f[4]=n("label",{for:"p_value_threshold",class:"form-label"},"P值阈值:",-1)),ke(n("input",{type:"number",id:"p_value_threshold","onUpdate:modelValue":f[1]||(f[1]=m=>r.value=m),class:"form-control",min:"0",max:"1",step:"0.001",disabled:o.value},null,8,J0),[[Ye,r.value,void 0,{number:!0}]])]),n("div",W0,[f[5]||(f[5]=n("label",{for:"q_value_threshold",class:"form-label"},"Q值阈值:",-1)),ke(n("input",{type:"number",id:"q_value_threshold","onUpdate:modelValue":f[2]||(f[2]=m=>a.value=m),class:"form-control",min:"0",max:"1",step:"0.001",disabled:o.value},null,8,Q0),[[Ye,a.value,void 0,{number:!0}]])])]),n("div",X0,[n("button",{type:"submit",class:"btn btn-primary",disabled:o.value},[o.value?(g(),_("span",Z0)):(g(),_("span",ey,"提交"))],8,Y0)])],32)]))}}),sy=Pe(ty,[["__scopeId","data-v-2da975a3"]]),ny={class:"container mt-4"},oy={key:0,class:"text-center py-4"},ry={key:1,class:"alert alert-danger",role:"alert"},iy={key:2},ay={key:0,class:"alert alert-warning mb-4",role:"alert"},ly={key:1,class:"mb-4"},cy={class:"text-center"},uy=["src"],dy={key:2},hy={class:"row g-2 align-items-center"},fy={class:"col-auto"},py={class:"mb-5"},my={class:"text-danger"},gy={class:"text-muted"},_y={class:"table-responsive"},vy={class:"table table-bordered table-hover"},by=["title"],yy={key:0,"aria-label":"Page navigation"},wy={class:"pagination justify-content-center",id:"pagination-results"},ky={class:"page-item active"},Ey={class:"page-link"},xy=vt({__name:"KeggEnrichmentResultView",setup(t){const e=Os(),r=F([]),a=F(10),o=F(1),i=F(!0),c=F(!1),p=F(""),u=F(0),f=F(null),m=F(0),v=je(()=>Math.ceil(m.value/a.value)),b=je(()=>{const O=(o.value-1)*a.value,$=O+a.value;return r.value.slice(O,$)}),A=()=>{o.value=1,S()},k=()=>{o.value=1,S()},C=O=>{O<1||O>v.value||(o.value=O,S())},S=async()=>{c.value=!0;try{const O=e.query.task_id;if(!O){p.value="缺少任务ID",i.value=!1;return}const $=await Ct.get("/tools/kegg_enrichment/api/results/",{params:{task_id:O,page_size:a.value,page:o.value}});console.log("KEGG富集API响应:",$),typeof $=="object"&&$!==null?$.status==="success"?(r.value=$.results||[],m.value=$.total||r.value.length,i.value=r.value.length>0,u.value=$.execution_time||0,f.value=$.plot_image||null):$.status==="processing"?setTimeout(()=>S(),1e3):(p.value=$.error||"获取结果失败",i.value=!1):(p.value="无效的API响应",i.value=!1)}catch(O){p.value="获取结果失败: "+(O.message||O),console.error("Error fetching results:",O),i.value=!1}finally{c.value=!1}};return Wt(async()=>{await S()}),(O,$)=>{const j=gt("router-link");return g(),_("div",ny,[$[13]||($[13]=n("h2",{class:"mb-4"},"KEGG通路富集分析结果",-1)),re(j,{to:"/tools/kegg-enrichment",class:"btn btn-secondary mb-3"},{default:be(()=>[...$[5]||($[5]=[ee("返回",-1)])]),_:1}),c.value?(g(),_("div",oy,[...$[6]||($[6]=[n("div",{class:"spinner-border",role:"status"},[n("span",{class:"sr-only"},"加载中...")],-1)])])):p.value?(g(),_("div",ry,x(p.value),1)):(g(),_("div",iy,[i.value?V("",!0):(g(),_("div",ay," 未找到显著的KEGG通路富集结果 ")),f.value?(g(),_("div",ly,[$[7]||($[7]=n("h4",{class:"mb-3"},"KEGG Enrichment Plot",-1)),n("div",cy,[n("img",{src:"data:image/png;base64,"+f.value,alt:"KEGG Enrichment Plot",class:"img-fluid"},null,8,uy)])])):V("",!0),i.value?(g(),_("div",dy,[n("form",{onSubmit:pe(A,["prevent"]),class:"mb-3",id:"per-page-form"},[n("div",hy,[$[9]||($[9]=n("div",{class:"col-auto"},[n("label",{for:"pageSize",class:"col-form-label"},"每页显示:")],-1)),n("div",fy,[ke(n("select",{id:"pageSize","onUpdate:modelValue":$[0]||($[0]=B=>a.value=B),class:"form-select",onChange:k},[...$[8]||($[8]=[n("option",{value:"5"},"5",-1),n("option",{value:"10"},"10",-1),n("option",{value:"25"},"25",-1),n("option",{value:"50"},"50",-1)])],544),[[_t,a.value,void 0,{number:!0}]])]),$[10]||($[10]=n("div",{class:"col-auto"},[n("span",{class:"form-text"},"条记录")],-1))])],32),n("div",py,[n("h4",my,[$[11]||($[11]=ee(" KEGG通路 ",-1)),n("small",gy,"(共 "+x(m.value)+" 条)",1)]),n("div",_y,[n("table",vy,[$[12]||($[12]=n("thead",{class:"bg-light"},[n("tr",null,[n("th",null,"通路ID"),n("th",null,"描述"),n("th",null,"GeneRatio"),n("th",null,"BgRatio"),n("th",null,"RichFactor"),n("th",null,"FoldEnrichment"),n("th",null,"zScore"),n("th",null,"pvalue")])],-1)),n("tbody",null,[(g(!0),_(Q,null,_e(b.value,B=>(g(),_("tr",{key:B.pathway_id},[n("td",null,x(B.pathway_id),1),n("td",null,[ee(x(B.description.name||"")+" ",1),B.description.definition?(g(),_("i",{key:0,class:"fas fa-info-circle text-muted","data-bs-toggle":"tooltip",title:B.description.definition},null,8,by)):V("",!0)]),n("td",null,x(B.gene_ratio),1),n("td",null,x(B.bg_ratio),1),n("td",null,x(B.rich_factor.toFixed(4)),1),n("td",null,x(B.fold_enrichment.toFixed(4)),1),n("td",null,x(B.z_score.toFixed(4)),1),n("td",null,x(B.p_value.toFixed(6)),1)]))),128))])])]),v.value>1?(g(),_("nav",yy,[n("ul",wy,[n("li",{class:we(["page-item",{disabled:o.value===1}])},[n("a",{class:"page-link",href:"#",onClick:$[1]||($[1]=pe(B=>C(1),["prevent"]))}," 首页 ")],2),n("li",{class:we(["page-item",{disabled:o.value===1}])},[n("a",{class:"page-link",href:"#",onClick:$[2]||($[2]=pe(B=>C(o.value-1),["prevent"]))}," 上一页 ")],2),n("li",ky,[n("span",Ey," 第 "+x(o.value)+" 页 / 共 "+x(v.value)+" 页 ",1)]),n("li",{class:we(["page-item",{disabled:o.value===v.value}])},[n("a",{class:"page-link",href:"#",onClick:$[3]||($[3]=pe(B=>C(o.value+1),["prevent"]))}," 下一页 ")],2),n("li",{class:we(["page-item",{disabled:o.value===v.value}])},[n("a",{class:"page-link",href:"#",onClick:$[4]||($[4]=pe(B=>C(v.value),["prevent"]))}," 末页 ")],2)])])):V("",!0)])])):V("",!0)]))])}}}),Ay=Pe(xy,[["__scopeId","data-v-67ac7871"]]),Cy={name:"TFView",components:{QuestionFilled:du,VideoPlay:uu,Search:cu},setup(){const t=F([]),e=F({multiple:!1,checkStrictly:!1,expandTrigger:"click",showAllLevels:!0}),r=F([]),a=F(!1),o=async()=>{a.value=!0;try{const j=await(await fetch("/Browse/api/species/")).json();if(j.status==="success"){const B=j.data,J={};B.forEach(ie=>{const te=ie.Genome_type||"未知类型";J[te]||(J[te]=[]),J[te].push({value:ie.name||ie.Cotton_Species,label:ie.Cotton_Species||ie.name})}),r.value=Object.entries(J).map(([ie,te])=>({value:ie,label:ie,children:te}))}}catch($){console.error("Error fetching genomes:",$)}finally{a.value=!1}},i=F([]),c=F([]),p=F(""),u=F(1),f=F(10),m=F(0),v=F(!1),b=async()=>{try{const j=await(await fetch("/Browse/api/tf/families/")).json();j.status==="success"&&(i.value=j.data.map((B,J)=>({name:B.name,count:B.count,checked:J===0})),A())}catch($){console.error("Error fetching TF families:",$)}},A=async()=>{v.value=!0;try{const $=new URLSearchParams;t.value.length>0&&$.append("genome",t.value[t.value.length-1]);const j=i.value.filter(ie=>ie.checked).map(ie=>ie.name);j.length>0&&$.append("family",j.join(",")),p.value&&$.append("search",p.value);const J=await(await fetch(`/Browse/api/tf/?${$}`)).json();J.status==="success"&&(c.value=J.data,m.value=J.total)}catch($){console.error("Error fetching TF data:",$)}finally{v.value=!1}},k=()=>{A()},C=()=>{A()},S=()=>{A()},O=$=>{console.log("Selected row:",$)};return Wt(()=>{o(),b()}),{selectedGenome:t,genomeOptions:r,genomeLoading:a,cascaderProps:e,tfFamilies:i,searchQuery:p,currentPage:u,pageSize:f,totalCount:m,tfData:c,loading:v,fetchGenomes:o,handleGenomeChange:k,handleFamilyChange:C,handleSearch:S,handlePageChange,handlePageSizeChange,handleRowClick:O}}},Sy={class:"container-fluid"},Ty={class:"row"},qy={class:"col-md-3"},Ry={class:"sidebar"},Iy={class:"mt-4"},$y={class:"sidebar-title"},Oy={class:"col-md-9"},Dy={class:"main-content"},Py={class:"tf-families mt-4"},Ly={class:"row"},Ny={class:"tf-table mt-4"},My={class:"d-flex justify-content-end align-items-center mb-3"},Fy={class:"table-search"},jy={class:"d-flex justify-content-end align-items-center mt-3"},By={class:"table-info"};function Uy(t,e,r,a,o,i){const c=gt("QuestionFilled"),p=na,u=gt("VideoPlay"),f=hu,m=mu,v=fu,b=gu,A=_u,k=pu;return g(),_("div",Sy,[n("div",Ty,[n("div",qy,[n("div",Ry,[n("h3",null,[e[2]||(e[2]=ee("Transcription factors ",-1)),re(p,{class:"info-icon"},{default:be(()=>[re(c)]),_:1})]),n("div",Iy,[n("h4",$y,[re(p,{class:"play-icon"},{default:be(()=>[re(u)]),_:1}),e[3]||(e[3]=ee(" Select a genome",-1))]),re(f,{modelValue:a.selectedGenome,"onUpdate:modelValue":e[0]||(e[0]=C=>a.selectedGenome=C),options:a.genomeOptions,props:a.cascaderProps,placeholder:"Select genome",class:"w-100 mt-2",onChange:a.handleGenomeChange,loading:a.genomeLoading},null,8,["modelValue","options","props","onChange","loading"])])])]),n("div",Oy,[n("div",Dy,[e[5]||(e[5]=n("h2",null,"Annotated transcription factors",-1)),n("div",Py,[n("div",Ly,[(g(!0),_(Q,null,_e(a.tfFamilies,C=>(g(),_("div",{class:"col-md-3",key:C.name},[re(m,{modelValue:C.checked,"onUpdate:modelValue":S=>C.checked=S,class:"tf-checkbox",onChange:a.handleFamilyChange},{default:be(()=>[ee(x(C.name)+"("+x(C.count)+") ",1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]))),128))])]),n("div",Ny,[e[4]||(e[4]=n("h4",{class:"table-title"},"Click on a row to check the details of the selected gene",-1)),n("div",My,[n("div",Fy,[re(v,{modelValue:a.searchQuery,"onUpdate:modelValue":e[1]||(e[1]=C=>a.searchQuery=C),placeholder:"Search","prefix-icon":"Search",size:"small",class:"w-100",onInput:a.handleSearch,clearable:""},null,8,["modelValue","onInput"])])]),a.loading?(g(),vi(b,{key:0,rows:10,animated:""})):(g(),vi(k,{key:1,data:a.tfData,style:{width:"100%"},onRowClick:a.handleRowClick,stripe:"",border:""},{default:be(()=>[re(A,{prop:"TF_name",label:"TF Name","min-width":"50"}),re(A,{prop:"TF_class",label:"TF Class","min-width":"50"}),re(A,{prop:"TF_gene",label:"Gene","min-width":"120"}),re(A,{prop:"TF_genome",label:"Genome","min-width":"120"})]),_:1},8,["data","onRowClick"])),n("div",jy,[n("span",By," Total: "+x(a.totalCount)+" entries ",1)])])])])])])}const Gy=Pe(Cy,[["render",Uy],["__scopeId","data-v-74ab5fc4"]]),Mt={props:["title"],template:`<div class="container mt-4">
    <h1>{{ title }}</h1>
    <p>此页面正在开发中...</p>
  </div>`},Vy=[{path:"/",name:"home",component:_h},{path:"/browse/genome",name:"BrowseGenome",component:wh},{path:"/browse/species",name:"BrowseSpecies",component:()=>({...Mt,propsData:{title:"浏览物种"}})},{path:"/browse/tf",name:"BrowseTF",component:Gy},{path:"/jbrowse",name:"jbrowse",component:Og},{path:"/tools/id-search",name:"idSearch",component:pp},{path:"/tools/id-search/results",name:"idSearchResults",component:Xm},{path:"/tools/id-search/id-search-summary/",name:"idSearchSummary",component:kg},{path:"/tools/blastp",name:"Blastp",component:o_},{path:"/tools/blastp/results",name:"blastpResults",component:H_},{path:"/tools/go-enrichment",name:"GoEnrichment",component:nv},{path:"/tools/go-enrichment/results",name:"goEnrichmentResults",component:Lv},{path:"/tools/go-annotation",name:"GoAnnotation",component:Uv},{path:"/tools/go-annotation/results",name:"goAnnotationResults",component:ub},{path:"/tools/kegg-annotation",name:"KeggAnnotation",component:v0},{path:"/tools/kegg-annotation/results",name:"KeggAnnotationResults",component:B0},{path:"/tools/kegg-enrichment",name:"KeggEnrichment",component:sy},{path:"/tools/kegg-enrichment/results",name:"KeggEnrichmentResults",component:Ay},{path:"/tools/heatmap",name:"Heatmap",component:()=>({...Mt,propsData:{title:"热图分析"}})},{path:"/tools/gene-expression",name:"GeneExpression",component:_b},{path:"/tools/gene-expression/results",name:"geneExpressionResults",component:Hb},{path:"/tools/gene-expression-efp",name:"GeneExpressionEfp",component:l0},{path:"/tools/ks-calculator",name:"KsCalculator",component:()=>({...Mt,propsData:{title:"KS计算器"}})},{path:"/tools/ks-calculator/results",name:"KsCalculatorResults",component:()=>({...Mt,propsData:{title:"KS计算器结果"}})},{path:"/tools/orthogroup",name:"Orthogroup",component:()=>({...Mt,propsData:{title:"Orthogroup分析"}})},{path:"/tools/orthogroup/results",name:"OrthogroupResults",component:()=>({...Mt,propsData:{title:"Orthogroup分析结果"}})},{path:"/tools/msa",name:"Msa",component:()=>({...Mt,propsData:{title:"多序列比对"}})},{path:"/tools/msa/results",name:"MsaResults",component:()=>({...Mt,propsData:{title:"多序列比对结果"}})},{path:"/tools/circos",name:"Circos",component:()=>({...Mt,propsData:{title:"Circos可视化"}})},{path:"/tools/circos/results",name:"CircosResults",component:()=>({...Mt,propsData:{title:"Circos可视化结果"}})},{path:"/download",name:"Download",component:Ng},{path:"/contact-us",name:"Contact_us",component:Bg},{path:"/about-us",name:"About_us",component:Kg}],Ky=eh({history:$d("/"),routes:Vy});const Hy=Symbol();var sa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(sa||(sa={}));function zy(){const t=vu(!0),e=t.run(()=>F({}));let r=[],a=[];const o=bu({install(i){o._a=i,i.provide(Hy,o),i.config.globalProperties.$pinia=o,a.forEach(c=>r.push(c)),a=[]},use(i){return this._a?r.push(i):a.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return o}const Jy=zy(),jo=yu(Ju),Bo=Be.create({baseURL:"http://localhost:8000",timeout:1e4,withCredentials:!0});Bo.interceptors.request.use(t=>{const e=document.cookie.match(/csrftoken=([^;]+)/)?.[1];return e&&(t.headers["X-CSRFToken"]=e),t},t=>Promise.reject(t));Bo.interceptors.response.use(t=>t,t=>Promise.reject(t));jo.config.globalProperties.$uuid={v4:Fo};jo.config.globalProperties.$http=Bo;jo.use(Jy).use(Ky).mount("#app");(function(t,e){typeof Ga=="object"&&typeof $o<"u"?$o.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).bootstrap=e()})(void 0,function(){const t=new Map,e={set(d,s,l){t.has(d)||t.set(d,new Map);const h=t.get(d);h.has(s)||h.size===0?h.set(s,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(h.keys())[0]}.`)},get:(d,s)=>t.has(d)&&t.get(d).get(s)||null,remove(d,s){if(!t.has(d))return;const l=t.get(d);l.delete(s),l.size===0&&t.delete(d)}},r="transitionend",a=d=>(d&&window.CSS&&window.CSS.escape&&(d=d.replace(/#([^\s"#']+)/g,(s,l)=>`#${CSS.escape(l)}`)),d),o=d=>d==null?`${d}`:Object.prototype.toString.call(d).match(/\s([a-z]+)/i)[1].toLowerCase(),i=d=>{d.dispatchEvent(new Event(r))},c=d=>!(!d||typeof d!="object")&&(d.jquery!==void 0&&(d=d[0]),d.nodeType!==void 0),p=d=>c(d)?d.jquery?d[0]:d:typeof d=="string"&&d.length>0?document.querySelector(a(d)):null,u=d=>{if(!c(d)||d.getClientRects().length===0)return!1;const s=getComputedStyle(d).getPropertyValue("visibility")==="visible",l=d.closest("details:not([open])");if(!l)return s;if(l!==d){const h=d.closest("summary");if(h&&h.parentNode!==l||h===null)return!1}return s},f=d=>!d||d.nodeType!==Node.ELEMENT_NODE||!!d.classList.contains("disabled")||(d.disabled!==void 0?d.disabled:d.hasAttribute("disabled")&&d.getAttribute("disabled")!=="false"),m=d=>{if(!document.documentElement.attachShadow)return null;if(typeof d.getRootNode=="function"){const s=d.getRootNode();return s instanceof ShadowRoot?s:null}return d instanceof ShadowRoot?d:d.parentNode?m(d.parentNode):null},v=()=>{},b=d=>{d.offsetHeight},A=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],C=()=>document.documentElement.dir==="rtl",S=d=>{var s;s=()=>{const l=A();if(l){const h=d.NAME,y=l.fn[h];l.fn[h]=d.jQueryInterface,l.fn[h].Constructor=d,l.fn[h].noConflict=()=>(l.fn[h]=y,d.jQueryInterface)}},document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of k)l()}),k.push(s)):s()},O=(d,s=[],l=d)=>typeof d=="function"?d.call(...s):l,$=(d,s,l=!0)=>{if(!l)return void O(d);const h=(I=>{if(!I)return 0;let{transitionDuration:L,transitionDelay:U}=window.getComputedStyle(I);const z=Number.parseFloat(L),W=Number.parseFloat(U);return z||W?(L=L.split(",")[0],U=U.split(",")[0],1e3*(Number.parseFloat(L)+Number.parseFloat(U))):0})(s)+5;let y=!1;const w=({target:I})=>{I===s&&(y=!0,s.removeEventListener(r,w),O(d))};s.addEventListener(r,w),setTimeout(()=>{y||i(s)},h)},j=(d,s,l,h)=>{const y=d.length;let w=d.indexOf(s);return w===-1?!l&&h?d[y-1]:d[0]:(w+=l?1:-1,h&&(w=(w+y)%y),d[Math.max(0,Math.min(w,y-1))])},B=/[^.]*(?=\..*)\.|.*/,J=/\..*/,ie=/::\d+$/,te={};let X=1;const T={mouseenter:"mouseover",mouseleave:"mouseout"},P=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function R(d,s){return s&&`${s}::${X++}`||d.uidEvent||X++}function N(d){const s=R(d);return d.uidEvent=s,te[s]=te[s]||{},te[s]}function Y(d,s,l=null){return Object.values(d).find(h=>h.callable===s&&h.delegationSelector===l)}function Ee(d,s,l){const h=typeof s=="string",y=h?l:s||l;let w=Ie(d);return P.has(w)||(w=d),[h,y,w]}function Ne(d,s,l,h,y){if(typeof s!="string"||!d)return;let[w,I,L]=Ee(s,l,h);s in T&&(I=(ae=>function(oe){if(!oe.relatedTarget||oe.relatedTarget!==oe.delegateTarget&&!oe.delegateTarget.contains(oe.relatedTarget))return ae.call(this,oe)})(I));const U=N(d),z=U[L]||(U[L]={}),W=Y(z,I,w?l:null);if(W)return void(W.oneOff=W.oneOff&&y);const K=R(I,s.replace(B,"")),de=w?(function(se,ae,oe){return function le(qe){const Oe=se.querySelectorAll(ae);for(let{target:me}=qe;me&&me!==this;me=me.parentNode)for(const ye of Oe)if(ye===me)return Je(qe,{delegateTarget:me}),le.oneOff&&D.off(se,qe.type,ae,oe),oe.apply(me,[qe])}})(d,l,I):(function(se,ae){return function oe(le){return Je(le,{delegateTarget:se}),oe.oneOff&&D.off(se,le.type,ae),ae.apply(se,[le])}})(d,I);de.delegationSelector=w?l:null,de.callable=I,de.oneOff=y,de.uidEvent=K,z[K]=de,d.addEventListener(L,de,w)}function ge(d,s,l,h,y){const w=Y(s[l],h,y);w&&(d.removeEventListener(l,w,!!y),delete s[l][w.uidEvent])}function et(d,s,l,h){const y=s[l]||{};for(const[w,I]of Object.entries(y))w.includes(h)&&ge(d,s,l,I.callable,I.delegationSelector)}function Ie(d){return d=d.replace(J,""),T[d]||d}const D={on(d,s,l,h){Ne(d,s,l,h,!1)},one(d,s,l,h){Ne(d,s,l,h,!0)},off(d,s,l,h){if(typeof s!="string"||!d)return;const[y,w,I]=Ee(s,l,h),L=I!==s,U=N(d),z=U[I]||{},W=s.startsWith(".");if(w===void 0){if(W)for(const K of Object.keys(U))et(d,U,K,s.slice(1));for(const[K,de]of Object.entries(z)){const se=K.replace(ie,"");L&&!s.includes(se)||ge(d,U,I,de.callable,de.delegationSelector)}}else{if(!Object.keys(z).length)return;ge(d,U,I,w,y?l:null)}},trigger(d,s,l){if(typeof s!="string"||!d)return null;const h=A();let y=null,w=!0,I=!0,L=!1;s!==Ie(s)&&h&&(y=h.Event(s,l),h(d).trigger(y),w=!y.isPropagationStopped(),I=!y.isImmediatePropagationStopped(),L=y.isDefaultPrevented());const U=Je(new Event(s,{bubbles:w,cancelable:!0}),l);return L&&U.preventDefault(),I&&d.dispatchEvent(U),U.defaultPrevented&&y&&y.preventDefault(),U}};function Je(d,s={}){for(const[l,h]of Object.entries(s))try{d[l]=h}catch{Object.defineProperty(d,l,{configurable:!0,get:()=>h})}return d}function Ve(d){if(d==="true")return!0;if(d==="false")return!1;if(d===Number(d).toString())return Number(d);if(d===""||d==="null")return null;if(typeof d!="string")return d;try{return JSON.parse(decodeURIComponent(d))}catch{return d}}function We(d){return d.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`)}const Ue={setDataAttribute(d,s,l){d.setAttribute(`data-bs-${We(s)}`,l)},removeDataAttribute(d,s){d.removeAttribute(`data-bs-${We(s)}`)},getDataAttributes(d){if(!d)return{};const s={},l=Object.keys(d.dataset).filter(h=>h.startsWith("bs")&&!h.startsWith("bsConfig"));for(const h of l){let y=h.replace(/^bs/,"");y=y.charAt(0).toLowerCase()+y.slice(1),s[y]=Ve(d.dataset[h])}return s},getDataAttribute:(d,s)=>Ve(d.getAttribute(`data-bs-${We(s)}`))};class Ke{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(s){return s=this._mergeConfigObj(s),s=this._configAfterMerge(s),this._typeCheckConfig(s),s}_configAfterMerge(s){return s}_mergeConfigObj(s,l){const h=c(l)?Ue.getDataAttribute(l,"config"):{};return{...this.constructor.Default,...typeof h=="object"?h:{},...c(l)?Ue.getDataAttributes(l):{},...typeof s=="object"?s:{}}}_typeCheckConfig(s,l=this.constructor.DefaultType){for(const[h,y]of Object.entries(l)){const w=s[h],I=c(w)?"element":o(w);if(!new RegExp(y).test(I))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${h}" provided type "${I}" but expected type "${y}".`)}}}class Le extends Ke{constructor(s,l){super(),(s=p(s))&&(this._element=s,this._config=this._getConfig(l),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),D.off(this._element,this.constructor.EVENT_KEY);for(const s of Object.getOwnPropertyNames(this))this[s]=null}_queueCallback(s,l,h=!0){$(s,l,h)}_getConfig(s){return s=this._mergeConfigObj(s,this._element),s=this._configAfterMerge(s),this._typeCheckConfig(s),s}static getInstance(s){return e.get(p(s),this.DATA_KEY)}static getOrCreateInstance(s,l={}){return this.getInstance(s)||new this(s,typeof l=="object"?l:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(s){return`${s}${this.EVENT_KEY}`}}const ct=d=>{let s=d.getAttribute("data-bs-target");if(!s||s==="#"){let l=d.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),s=l&&l!=="#"?l.trim():null}return s?s.split(",").map(l=>a(l)).join(","):null},E={find:(d,s=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(s,d)),findOne:(d,s=document.documentElement)=>Element.prototype.querySelector.call(s,d),children:(d,s)=>[].concat(...d.children).filter(l=>l.matches(s)),parents(d,s){const l=[];let h=d.parentNode.closest(s);for(;h;)l.push(h),h=h.parentNode.closest(s);return l},prev(d,s){let l=d.previousElementSibling;for(;l;){if(l.matches(s))return[l];l=l.previousElementSibling}return[]},next(d,s){let l=d.nextElementSibling;for(;l;){if(l.matches(s))return[l];l=l.nextElementSibling}return[]},focusableChildren(d){const s=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(s,d).filter(l=>!f(l)&&u(l))},getSelectorFromElement(d){const s=ct(d);return s&&E.findOne(s)?s:null},getElementFromSelector(d){const s=ct(d);return s?E.findOne(s):null},getMultipleElementsFromSelector(d){const s=ct(d);return s?E.find(s):[]}},H=(d,s="hide")=>{const l=`click.dismiss${d.EVENT_KEY}`,h=d.NAME;D.on(document,l,`[data-bs-dismiss="${h}"]`,function(y){if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),f(this))return;const w=E.getElementFromSelector(this)||this.closest(`.${h}`);d.getOrCreateInstance(w)[s]()})},G=".bs.alert",Z=`close${G}`,he=`closed${G}`;class Se extends Le{static get NAME(){return"alert"}close(){if(D.trigger(this._element,Z).defaultPrevented)return;this._element.classList.remove("show");const s=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,s)}_destroyElement(){this._element.remove(),D.trigger(this._element,he),this.dispose()}static jQueryInterface(s){return this.each(function(){const l=Se.getOrCreateInstance(this);if(typeof s=="string"){if(l[s]===void 0||s.startsWith("_")||s==="constructor")throw new TypeError(`No method named "${s}"`);l[s](this)}})}}H(Se,"close"),S(Se);const ue='[data-bs-toggle="button"]';class ne extends Le{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(s){return this.each(function(){const l=ne.getOrCreateInstance(this);s==="toggle"&&l[s]()})}}D.on(document,"click.bs.button.data-api",ue,d=>{d.preventDefault();const s=d.target.closest(ue);ne.getOrCreateInstance(s).toggle()}),S(ne);const Te=".bs.swipe",bt=`touchstart${Te}`,M=`touchmove${Te}`,De=`touchend${Te}`,nt=`pointerdown${Te}`,It=`pointerup${Te}`,yt={endCallback:null,leftCallback:null,rightCallback:null},tt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qe extends Ke{constructor(s,l){super(),this._element=s,s&&Qe.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return yt}static get DefaultType(){return tt}static get NAME(){return"swipe"}dispose(){D.off(this._element,Te)}_start(s){this._supportPointerEvents?this._eventIsPointerPenTouch(s)&&(this._deltaX=s.clientX):this._deltaX=s.touches[0].clientX}_end(s){this._eventIsPointerPenTouch(s)&&(this._deltaX=s.clientX-this._deltaX),this._handleSwipe(),O(this._config.endCallback)}_move(s){this._deltaX=s.touches&&s.touches.length>1?0:s.touches[0].clientX-this._deltaX}_handleSwipe(){const s=Math.abs(this._deltaX);if(s<=40)return;const l=s/this._deltaX;this._deltaX=0,l&&O(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(D.on(this._element,nt,s=>this._start(s)),D.on(this._element,It,s=>this._end(s)),this._element.classList.add("pointer-event")):(D.on(this._element,bt,s=>this._start(s)),D.on(this._element,M,s=>this._move(s)),D.on(this._element,De,s=>this._end(s)))}_eventIsPointerPenTouch(s){return this._supportPointerEvents&&(s.pointerType==="pen"||s.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const He=".bs.carousel",Uo=".data-api",Va="ArrowLeft",Ka="ArrowRight",Ls="next",ds="prev",hs="left",en="right",Ha=`slide${He}`,Pn=`slid${He}`,za=`keydown${He}`,Ja=`mouseenter${He}`,Wa=`mouseleave${He}`,Qa=`dragstart${He}`,Xa=`load${He}${Uo}`,Ya=`click${He}${Uo}`,Go="carousel",tn="active",Vo=".active",Ko=".carousel-item",Za=Vo+Ko,el={[Va]:en,[Ka]:hs},tl={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},sl={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class fs extends Le{constructor(s,l){super(s,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=E.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Go&&this.cycle()}static get Default(){return tl}static get DefaultType(){return sl}static get NAME(){return"carousel"}next(){this._slide(Ls)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(ds)}pause(){this._isSliding&&i(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?D.one(this._element,Pn,()=>this.cycle()):this.cycle())}to(s){const l=this._getItems();if(s>l.length-1||s<0)return;if(this._isSliding)return void D.one(this._element,Pn,()=>this.to(s));const h=this._getItemIndex(this._getActive());if(h===s)return;const y=s>h?Ls:ds;this._slide(y,l[s])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(s){return s.defaultInterval=s.interval,s}_addEventListeners(){this._config.keyboard&&D.on(this._element,za,s=>this._keydown(s)),this._config.pause==="hover"&&(D.on(this._element,Ja,()=>this.pause()),D.on(this._element,Wa,()=>this._maybeEnableCycle())),this._config.touch&&Qe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of E.find(".carousel-item img",this._element))D.on(l,Qa,h=>h.preventDefault());const s={leftCallback:()=>this._slide(this._directionToOrder(hs)),rightCallback:()=>this._slide(this._directionToOrder(en)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Qe(this._element,s)}_keydown(s){if(/input|textarea/i.test(s.target.tagName))return;const l=el[s.key];l&&(s.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(s){return this._getItems().indexOf(s)}_setActiveIndicatorElement(s){if(!this._indicatorsElement)return;const l=E.findOne(Vo,this._indicatorsElement);l.classList.remove(tn),l.removeAttribute("aria-current");const h=E.findOne(`[data-bs-slide-to="${s}"]`,this._indicatorsElement);h&&(h.classList.add(tn),h.setAttribute("aria-current","true"))}_updateInterval(){const s=this._activeElement||this._getActive();if(!s)return;const l=Number.parseInt(s.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(s,l=null){if(this._isSliding)return;const h=this._getActive(),y=s===Ls,w=l||j(this._getItems(),h,y,this._config.wrap);if(w===h)return;const I=this._getItemIndex(w),L=K=>D.trigger(this._element,K,{relatedTarget:w,direction:this._orderToDirection(s),from:this._getItemIndex(h),to:I});if(L(Ha).defaultPrevented||!h||!w)return;const U=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(I),this._activeElement=w;const z=y?"carousel-item-start":"carousel-item-end",W=y?"carousel-item-next":"carousel-item-prev";w.classList.add(W),b(w),h.classList.add(z),w.classList.add(z),this._queueCallback(()=>{w.classList.remove(z,W),w.classList.add(tn),h.classList.remove(tn,W,z),this._isSliding=!1,L(Pn)},h,this._isAnimated()),U&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return E.findOne(Za,this._element)}_getItems(){return E.find(Ko,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(s){return C()?s===hs?ds:Ls:s===hs?Ls:ds}_orderToDirection(s){return C()?s===ds?hs:en:s===ds?en:hs}static jQueryInterface(s){return this.each(function(){const l=fs.getOrCreateInstance(this,s);if(typeof s!="number"){if(typeof s=="string"){if(l[s]===void 0||s.startsWith("_")||s==="constructor")throw new TypeError(`No method named "${s}"`);l[s]()}}else l.to(s)})}}D.on(document,Ya,"[data-bs-slide], [data-bs-slide-to]",function(d){const s=E.getElementFromSelector(this);if(!s||!s.classList.contains(Go))return;d.preventDefault();const l=fs.getOrCreateInstance(s),h=this.getAttribute("data-bs-slide-to");return h?(l.to(h),void l._maybeEnableCycle()):Ue.getDataAttribute(this,"slide")==="next"?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),D.on(window,Xa,()=>{const d=E.find('[data-bs-ride="carousel"]');for(const s of d)fs.getOrCreateInstance(s)}),S(fs);const Ns=".bs.collapse",nl=`show${Ns}`,ol=`shown${Ns}`,rl=`hide${Ns}`,il=`hidden${Ns}`,al=`click${Ns}.data-api`,Ln="show",ps="collapse",sn="collapsing",ll=`:scope .${ps} .${ps}`,Nn='[data-bs-toggle="collapse"]',cl={parent:null,toggle:!0},ul={parent:"(null|element)",toggle:"boolean"};class ms extends Le{constructor(s,l){super(s,l),this._isTransitioning=!1,this._triggerArray=[];const h=E.find(Nn);for(const y of h){const w=E.getSelectorFromElement(y),I=E.find(w).filter(L=>L===this._element);w!==null&&I.length&&this._triggerArray.push(y)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return cl}static get DefaultType(){return ul}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let s=[];if(this._config.parent&&(s=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(y=>y!==this._element).map(y=>ms.getOrCreateInstance(y,{toggle:!1}))),s.length&&s[0]._isTransitioning||D.trigger(this._element,nl).defaultPrevented)return;for(const y of s)y.hide();const l=this._getDimension();this._element.classList.remove(ps),this._element.classList.add(sn),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const h=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(sn),this._element.classList.add(ps,Ln),this._element.style[l]="",D.trigger(this._element,ol)},this._element,!0),this._element.style[l]=`${this._element[h]}px`}hide(){if(this._isTransitioning||!this._isShown()||D.trigger(this._element,rl).defaultPrevented)return;const s=this._getDimension();this._element.style[s]=`${this._element.getBoundingClientRect()[s]}px`,b(this._element),this._element.classList.add(sn),this._element.classList.remove(ps,Ln);for(const l of this._triggerArray){const h=E.getElementFromSelector(l);h&&!this._isShown(h)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0,this._element.style[s]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(sn),this._element.classList.add(ps),D.trigger(this._element,il)},this._element,!0)}_isShown(s=this._element){return s.classList.contains(Ln)}_configAfterMerge(s){return s.toggle=!!s.toggle,s.parent=p(s.parent),s}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const s=this._getFirstLevelChildren(Nn);for(const l of s){const h=E.getElementFromSelector(l);h&&this._addAriaAndCollapsedClass([l],this._isShown(h))}}_getFirstLevelChildren(s){const l=E.find(ll,this._config.parent);return E.find(s,this._config.parent).filter(h=>!l.includes(h))}_addAriaAndCollapsedClass(s,l){if(s.length)for(const h of s)h.classList.toggle("collapsed",!l),h.setAttribute("aria-expanded",l)}static jQueryInterface(s){const l={};return typeof s=="string"&&/show|hide/.test(s)&&(l.toggle=!1),this.each(function(){const h=ms.getOrCreateInstance(this,l);if(typeof s=="string"){if(h[s]===void 0)throw new TypeError(`No method named "${s}"`);h[s]()}})}}D.on(document,al,Nn,function(d){(d.target.tagName==="A"||d.delegateTarget&&d.delegateTarget.tagName==="A")&&d.preventDefault();for(const s of E.getMultipleElementsFromSelector(this))ms.getOrCreateInstance(s,{toggle:!1}).toggle()}),S(ms);var ot="top",ht="bottom",ft="right",rt="left",nn="auto",gs=[ot,ht,ft,rt],Qt="start",_s="end",Ho="clippingParents",Mn="viewport",vs="popper",zo="reference",Fn=gs.reduce(function(d,s){return d.concat([s+"-"+Qt,s+"-"+_s])},[]),jn=[].concat(gs,[nn]).reduce(function(d,s){return d.concat([s,s+"-"+Qt,s+"-"+_s])},[]),Jo="beforeRead",Wo="read",Qo="afterRead",Xo="beforeMain",Yo="main",Zo="afterMain",er="beforeWrite",tr="write",sr="afterWrite",nr=[Jo,Wo,Qo,Xo,Yo,Zo,er,tr,sr];function $t(d){return d?(d.nodeName||"").toLowerCase():null}function pt(d){if(d==null)return window;if(d.toString()!=="[object Window]"){var s=d.ownerDocument;return s&&s.defaultView||window}return d}function Xt(d){return d instanceof pt(d).Element||d instanceof Element}function wt(d){return d instanceof pt(d).HTMLElement||d instanceof HTMLElement}function Bn(d){return typeof ShadowRoot<"u"&&(d instanceof pt(d).ShadowRoot||d instanceof ShadowRoot)}const Un={name:"applyStyles",enabled:!0,phase:"write",fn:function(d){var s=d.state;Object.keys(s.elements).forEach(function(l){var h=s.styles[l]||{},y=s.attributes[l]||{},w=s.elements[l];wt(w)&&$t(w)&&(Object.assign(w.style,h),Object.keys(y).forEach(function(I){var L=y[I];L===!1?w.removeAttribute(I):w.setAttribute(I,L===!0?"":L)}))})},effect:function(d){var s=d.state,l={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,l.popper),s.styles=l,s.elements.arrow&&Object.assign(s.elements.arrow.style,l.arrow),function(){Object.keys(s.elements).forEach(function(h){var y=s.elements[h],w=s.attributes[h]||{},I=Object.keys(s.styles.hasOwnProperty(h)?s.styles[h]:l[h]).reduce(function(L,U){return L[U]="",L},{});wt(y)&&$t(y)&&(Object.assign(y.style,I),Object.keys(w).forEach(function(L){y.removeAttribute(L)}))})}},requires:["computeStyles"]};function Ot(d){return d.split("-")[0]}var Yt=Math.max,on=Math.min,bs=Math.round;function Gn(){var d=navigator.userAgentData;return d!=null&&d.brands&&Array.isArray(d.brands)?d.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function or(){return!/^((?!chrome|android).)*safari/i.test(Gn())}function ys(d,s,l){s===void 0&&(s=!1),l===void 0&&(l=!1);var h=d.getBoundingClientRect(),y=1,w=1;s&&wt(d)&&(y=d.offsetWidth>0&&bs(h.width)/d.offsetWidth||1,w=d.offsetHeight>0&&bs(h.height)/d.offsetHeight||1);var I=(Xt(d)?pt(d):window).visualViewport,L=!or()&&l,U=(h.left+(L&&I?I.offsetLeft:0))/y,z=(h.top+(L&&I?I.offsetTop:0))/w,W=h.width/y,K=h.height/w;return{width:W,height:K,top:z,right:U+W,bottom:z+K,left:U,x:U,y:z}}function Vn(d){var s=ys(d),l=d.offsetWidth,h=d.offsetHeight;return Math.abs(s.width-l)<=1&&(l=s.width),Math.abs(s.height-h)<=1&&(h=s.height),{x:d.offsetLeft,y:d.offsetTop,width:l,height:h}}function rr(d,s){var l=s.getRootNode&&s.getRootNode();if(d.contains(s))return!0;if(l&&Bn(l)){var h=s;do{if(h&&d.isSameNode(h))return!0;h=h.parentNode||h.host}while(h)}return!1}function Ft(d){return pt(d).getComputedStyle(d)}function dl(d){return["table","td","th"].indexOf($t(d))>=0}function Vt(d){return((Xt(d)?d.ownerDocument:d.document)||window.document).documentElement}function rn(d){return $t(d)==="html"?d:d.assignedSlot||d.parentNode||(Bn(d)?d.host:null)||Vt(d)}function ir(d){return wt(d)&&Ft(d).position!=="fixed"?d.offsetParent:null}function Ms(d){for(var s=pt(d),l=ir(d);l&&dl(l)&&Ft(l).position==="static";)l=ir(l);return l&&($t(l)==="html"||$t(l)==="body"&&Ft(l).position==="static")?s:l||(function(h){var y=/firefox/i.test(Gn());if(/Trident/i.test(Gn())&&wt(h)&&Ft(h).position==="fixed")return null;var w=rn(h);for(Bn(w)&&(w=w.host);wt(w)&&["html","body"].indexOf($t(w))<0;){var I=Ft(w);if(I.transform!=="none"||I.perspective!=="none"||I.contain==="paint"||["transform","perspective"].indexOf(I.willChange)!==-1||y&&I.willChange==="filter"||y&&I.filter&&I.filter!=="none")return w;w=w.parentNode}return null})(d)||s}function Kn(d){return["top","bottom"].indexOf(d)>=0?"x":"y"}function Fs(d,s,l){return Yt(d,on(s,l))}function ar(d){return Object.assign({},{top:0,right:0,bottom:0,left:0},d)}function lr(d,s){return s.reduce(function(l,h){return l[h]=d,l},{})}const cr={name:"arrow",enabled:!0,phase:"main",fn:function(d){var s,l=d.state,h=d.name,y=d.options,w=l.elements.arrow,I=l.modifiersData.popperOffsets,L=Ot(l.placement),U=Kn(L),z=[rt,ft].indexOf(L)>=0?"height":"width";if(w&&I){var W=(function(Re,Ce){return ar(typeof(Re=typeof Re=="function"?Re(Object.assign({},Ce.rects,{placement:Ce.placement})):Re)!="number"?Re:lr(Re,gs))})(y.padding,l),K=Vn(w),de=U==="y"?ot:rt,se=U==="y"?ht:ft,ae=l.rects.reference[z]+l.rects.reference[U]-I[U]-l.rects.popper[z],oe=I[U]-l.rects.reference[U],le=Ms(w),qe=le?U==="y"?le.clientHeight||0:le.clientWidth||0:0,Oe=ae/2-oe/2,me=W[de],ye=qe-K[z]-W[se],fe=qe/2-K[z]/2+Oe,ve=Fs(me,fe,ye),Ae=U;l.modifiersData[h]=((s={})[Ae]=ve,s.centerOffset=ve-fe,s)}},effect:function(d){var s=d.state,l=d.options.element,h=l===void 0?"[data-popper-arrow]":l;h!=null&&(typeof h!="string"||(h=s.elements.popper.querySelector(h)))&&rr(s.elements.popper,h)&&(s.elements.arrow=h)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ws(d){return d.split("-")[1]}var hl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ur(d){var s,l=d.popper,h=d.popperRect,y=d.placement,w=d.variation,I=d.offsets,L=d.position,U=d.gpuAcceleration,z=d.adaptive,W=d.roundOffsets,K=d.isFixed,de=I.x,se=de===void 0?0:de,ae=I.y,oe=ae===void 0?0:ae,le=typeof W=="function"?W({x:se,y:oe}):{x:se,y:oe};se=le.x,oe=le.y;var qe=I.hasOwnProperty("x"),Oe=I.hasOwnProperty("y"),me=rt,ye=ot,fe=window;if(z){var ve=Ms(l),Ae="clientHeight",Re="clientWidth";ve===pt(l)&&Ft(ve=Vt(l)).position!=="static"&&L==="absolute"&&(Ae="scrollHeight",Re="scrollWidth"),(y===ot||(y===rt||y===ft)&&w===_s)&&(ye=ht,oe-=(K&&ve===fe&&fe.visualViewport?fe.visualViewport.height:ve[Ae])-h.height,oe*=U?1:-1),y!==rt&&(y!==ot&&y!==ht||w!==_s)||(me=ft,se-=(K&&ve===fe&&fe.visualViewport?fe.visualViewport.width:ve[Re])-h.width,se*=U?1:-1)}var Ce,Ge=Object.assign({position:L},z&&hl),mt=W===!0?(function(Tt,it){var Et=Tt.x,xt=Tt.y,Me=it.devicePixelRatio||1;return{x:bs(Et*Me)/Me||0,y:bs(xt*Me)/Me||0}})({x:se,y:oe},pt(l)):{x:se,y:oe};return se=mt.x,oe=mt.y,U?Object.assign({},Ge,((Ce={})[ye]=Oe?"0":"",Ce[me]=qe?"0":"",Ce.transform=(fe.devicePixelRatio||1)<=1?"translate("+se+"px, "+oe+"px)":"translate3d("+se+"px, "+oe+"px, 0)",Ce)):Object.assign({},Ge,((s={})[ye]=Oe?oe+"px":"",s[me]=qe?se+"px":"",s.transform="",s))}const Hn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(d){var s=d.state,l=d.options,h=l.gpuAcceleration,y=h===void 0||h,w=l.adaptive,I=w===void 0||w,L=l.roundOffsets,U=L===void 0||L,z={placement:Ot(s.placement),variation:ws(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:y,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,ur(Object.assign({},z,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:I,roundOffsets:U})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,ur(Object.assign({},z,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:U})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})},data:{}};var an={passive:!0};const zn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(d){var s=d.state,l=d.instance,h=d.options,y=h.scroll,w=y===void 0||y,I=h.resize,L=I===void 0||I,U=pt(s.elements.popper),z=[].concat(s.scrollParents.reference,s.scrollParents.popper);return w&&z.forEach(function(W){W.addEventListener("scroll",l.update,an)}),L&&U.addEventListener("resize",l.update,an),function(){w&&z.forEach(function(W){W.removeEventListener("scroll",l.update,an)}),L&&U.removeEventListener("resize",l.update,an)}},data:{}};var fl={left:"right",right:"left",bottom:"top",top:"bottom"};function ln(d){return d.replace(/left|right|bottom|top/g,function(s){return fl[s]})}var pl={start:"end",end:"start"};function dr(d){return d.replace(/start|end/g,function(s){return pl[s]})}function Jn(d){var s=pt(d);return{scrollLeft:s.pageXOffset,scrollTop:s.pageYOffset}}function Wn(d){return ys(Vt(d)).left+Jn(d).scrollLeft}function Qn(d){var s=Ft(d),l=s.overflow,h=s.overflowX,y=s.overflowY;return/auto|scroll|overlay|hidden/.test(l+y+h)}function hr(d){return["html","body","#document"].indexOf($t(d))>=0?d.ownerDocument.body:wt(d)&&Qn(d)?d:hr(rn(d))}function js(d,s){var l;s===void 0&&(s=[]);var h=hr(d),y=h===((l=d.ownerDocument)==null?void 0:l.body),w=pt(h),I=y?[w].concat(w.visualViewport||[],Qn(h)?h:[]):h,L=s.concat(I);return y?L:L.concat(js(rn(I)))}function Xn(d){return Object.assign({},d,{left:d.x,top:d.y,right:d.x+d.width,bottom:d.y+d.height})}function fr(d,s,l){return s===Mn?Xn((function(h,y){var w=pt(h),I=Vt(h),L=w.visualViewport,U=I.clientWidth,z=I.clientHeight,W=0,K=0;if(L){U=L.width,z=L.height;var de=or();(de||!de&&y==="fixed")&&(W=L.offsetLeft,K=L.offsetTop)}return{width:U,height:z,x:W+Wn(h),y:K}})(d,l)):Xt(s)?(function(h,y){var w=ys(h,!1,y==="fixed");return w.top=w.top+h.clientTop,w.left=w.left+h.clientLeft,w.bottom=w.top+h.clientHeight,w.right=w.left+h.clientWidth,w.width=h.clientWidth,w.height=h.clientHeight,w.x=w.left,w.y=w.top,w})(s,l):Xn((function(h){var y,w=Vt(h),I=Jn(h),L=(y=h.ownerDocument)==null?void 0:y.body,U=Yt(w.scrollWidth,w.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0),z=Yt(w.scrollHeight,w.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0),W=-I.scrollLeft+Wn(h),K=-I.scrollTop;return Ft(L||w).direction==="rtl"&&(W+=Yt(w.clientWidth,L?L.clientWidth:0)-U),{width:U,height:z,x:W,y:K}})(Vt(d)))}function pr(d){var s,l=d.reference,h=d.element,y=d.placement,w=y?Ot(y):null,I=y?ws(y):null,L=l.x+l.width/2-h.width/2,U=l.y+l.height/2-h.height/2;switch(w){case ot:s={x:L,y:l.y-h.height};break;case ht:s={x:L,y:l.y+l.height};break;case ft:s={x:l.x+l.width,y:U};break;case rt:s={x:l.x-h.width,y:U};break;default:s={x:l.x,y:l.y}}var z=w?Kn(w):null;if(z!=null){var W=z==="y"?"height":"width";switch(I){case Qt:s[z]=s[z]-(l[W]/2-h[W]/2);break;case _s:s[z]=s[z]+(l[W]/2-h[W]/2)}}return s}function ks(d,s){s===void 0&&(s={});var l=s,h=l.placement,y=h===void 0?d.placement:h,w=l.strategy,I=w===void 0?d.strategy:w,L=l.boundary,U=L===void 0?Ho:L,z=l.rootBoundary,W=z===void 0?Mn:z,K=l.elementContext,de=K===void 0?vs:K,se=l.altBoundary,ae=se!==void 0&&se,oe=l.padding,le=oe===void 0?0:oe,qe=ar(typeof le!="number"?le:lr(le,gs)),Oe=de===vs?zo:vs,me=d.rects.popper,ye=d.elements[ae?Oe:de],fe=(function(it,Et,xt,Me){var Dt=Et==="clippingParents"?(function($e){var at=js(rn($e)),At=["absolute","fixed"].indexOf(Ft($e).position)>=0&&wt($e)?Ms($e):$e;return Xt(At)?at.filter(function(Ht){return Xt(Ht)&&rr(Ht,At)&&$t(Ht)!=="body"}):[]})(it):[].concat(Et),Pt=[].concat(Dt,[xt]),As=Pt[0],Xe=Pt.reduce(function($e,at){var At=fr(it,at,Me);return $e.top=Yt(At.top,$e.top),$e.right=on(At.right,$e.right),$e.bottom=on(At.bottom,$e.bottom),$e.left=Yt(At.left,$e.left),$e},fr(it,As,Me));return Xe.width=Xe.right-Xe.left,Xe.height=Xe.bottom-Xe.top,Xe.x=Xe.left,Xe.y=Xe.top,Xe})(Xt(ye)?ye:ye.contextElement||Vt(d.elements.popper),U,W,I),ve=ys(d.elements.reference),Ae=pr({reference:ve,element:me,placement:y}),Re=Xn(Object.assign({},me,Ae)),Ce=de===vs?Re:ve,Ge={top:fe.top-Ce.top+qe.top,bottom:Ce.bottom-fe.bottom+qe.bottom,left:fe.left-Ce.left+qe.left,right:Ce.right-fe.right+qe.right},mt=d.modifiersData.offset;if(de===vs&&mt){var Tt=mt[y];Object.keys(Ge).forEach(function(it){var Et=[ft,ht].indexOf(it)>=0?1:-1,xt=[ot,ht].indexOf(it)>=0?"y":"x";Ge[it]+=Tt[xt]*Et})}return Ge}function ml(d,s){s===void 0&&(s={});var l=s,h=l.placement,y=l.boundary,w=l.rootBoundary,I=l.padding,L=l.flipVariations,U=l.allowedAutoPlacements,z=U===void 0?jn:U,W=ws(h),K=W?L?Fn:Fn.filter(function(ae){return ws(ae)===W}):gs,de=K.filter(function(ae){return z.indexOf(ae)>=0});de.length===0&&(de=K);var se=de.reduce(function(ae,oe){return ae[oe]=ks(d,{placement:oe,boundary:y,rootBoundary:w,padding:I})[Ot(oe)],ae},{});return Object.keys(se).sort(function(ae,oe){return se[ae]-se[oe]})}const mr={name:"flip",enabled:!0,phase:"main",fn:function(d){var s=d.state,l=d.options,h=d.name;if(!s.modifiersData[h]._skip){for(var y=l.mainAxis,w=y===void 0||y,I=l.altAxis,L=I===void 0||I,U=l.fallbackPlacements,z=l.padding,W=l.boundary,K=l.rootBoundary,de=l.altBoundary,se=l.flipVariations,ae=se===void 0||se,oe=l.allowedAutoPlacements,le=s.options.placement,qe=Ot(le),Oe=U||(qe!==le&&ae?(function($e){if(Ot($e)===nn)return[];var at=ln($e);return[dr($e),at,dr(at)]})(le):[ln(le)]),me=[le].concat(Oe).reduce(function($e,at){return $e.concat(Ot(at)===nn?ml(s,{placement:at,boundary:W,rootBoundary:K,padding:z,flipVariations:ae,allowedAutoPlacements:oe}):at)},[]),ye=s.rects.reference,fe=s.rects.popper,ve=new Map,Ae=!0,Re=me[0],Ce=0;Ce<me.length;Ce++){var Ge=me[Ce],mt=Ot(Ge),Tt=ws(Ge)===Qt,it=[ot,ht].indexOf(mt)>=0,Et=it?"width":"height",xt=ks(s,{placement:Ge,boundary:W,rootBoundary:K,altBoundary:de,padding:z}),Me=it?Tt?ft:rt:Tt?ht:ot;ye[Et]>fe[Et]&&(Me=ln(Me));var Dt=ln(Me),Pt=[];if(w&&Pt.push(xt[mt]<=0),L&&Pt.push(xt[Me]<=0,xt[Dt]<=0),Pt.every(function($e){return $e})){Re=Ge,Ae=!1;break}ve.set(Ge,Pt)}if(Ae)for(var As=function($e){var at=me.find(function(At){var Ht=ve.get(At);if(Ht)return Ht.slice(0,$e).every(function(_n){return _n})});if(at)return Re=at,"break"},Xe=ae?3:1;Xe>0&&As(Xe)!=="break";Xe--);s.placement!==Re&&(s.modifiersData[h]._skip=!0,s.placement=Re,s.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function gr(d,s,l){return l===void 0&&(l={x:0,y:0}),{top:d.top-s.height-l.y,right:d.right-s.width+l.x,bottom:d.bottom-s.height+l.y,left:d.left-s.width-l.x}}function _r(d){return[ot,ft,ht,rt].some(function(s){return d[s]>=0})}const vr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(d){var s=d.state,l=d.name,h=s.rects.reference,y=s.rects.popper,w=s.modifiersData.preventOverflow,I=ks(s,{elementContext:"reference"}),L=ks(s,{altBoundary:!0}),U=gr(I,h),z=gr(L,y,w),W=_r(U),K=_r(z);s.modifiersData[l]={referenceClippingOffsets:U,popperEscapeOffsets:z,isReferenceHidden:W,hasPopperEscaped:K},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":W,"data-popper-escaped":K})}},br={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(d){var s=d.state,l=d.options,h=d.name,y=l.offset,w=y===void 0?[0,0]:y,I=jn.reduce(function(W,K){return W[K]=(function(de,se,ae){var oe=Ot(de),le=[rt,ot].indexOf(oe)>=0?-1:1,qe=typeof ae=="function"?ae(Object.assign({},se,{placement:de})):ae,Oe=qe[0],me=qe[1];return Oe=Oe||0,me=(me||0)*le,[rt,ft].indexOf(oe)>=0?{x:me,y:Oe}:{x:Oe,y:me}})(K,s.rects,w),W},{}),L=I[s.placement],U=L.x,z=L.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=U,s.modifiersData.popperOffsets.y+=z),s.modifiersData[h]=I}},Yn={name:"popperOffsets",enabled:!0,phase:"read",fn:function(d){var s=d.state,l=d.name;s.modifiersData[l]=pr({reference:s.rects.reference,element:s.rects.popper,placement:s.placement})},data:{}},yr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(d){var s=d.state,l=d.options,h=d.name,y=l.mainAxis,w=y===void 0||y,I=l.altAxis,L=I!==void 0&&I,U=l.boundary,z=l.rootBoundary,W=l.altBoundary,K=l.padding,de=l.tether,se=de===void 0||de,ae=l.tetherOffset,oe=ae===void 0?0:ae,le=ks(s,{boundary:U,rootBoundary:z,padding:K,altBoundary:W}),qe=Ot(s.placement),Oe=ws(s.placement),me=!Oe,ye=Kn(qe),fe=ye==="x"?"y":"x",ve=s.modifiersData.popperOffsets,Ae=s.rects.reference,Re=s.rects.popper,Ce=typeof oe=="function"?oe(Object.assign({},s.rects,{placement:s.placement})):oe,Ge=typeof Ce=="number"?{mainAxis:Ce,altAxis:Ce}:Object.assign({mainAxis:0,altAxis:0},Ce),mt=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,Tt={x:0,y:0};if(ve){if(w){var it,Et=ye==="y"?ot:rt,xt=ye==="y"?ht:ft,Me=ye==="y"?"height":"width",Dt=ve[ye],Pt=Dt+le[Et],As=Dt-le[xt],Xe=se?-Re[Me]/2:0,$e=Oe===Qt?Ae[Me]:Re[Me],at=Oe===Qt?-Re[Me]:-Ae[Me],At=s.elements.arrow,Ht=se&&At?Vn(At):{width:0,height:0},_n=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ii=_n[Et],ai=_n[xt],vn=Fs(0,Ae[Me],Ht[Me]),zc=me?Ae[Me]/2-Xe-vn-ii-Ge.mainAxis:$e-vn-ii-Ge.mainAxis,Jc=me?-Ae[Me]/2+Xe+vn+ai+Ge.mainAxis:at+vn+ai+Ge.mainAxis,fo=s.elements.arrow&&Ms(s.elements.arrow),Wc=fo?ye==="y"?fo.clientTop||0:fo.clientLeft||0:0,li=(it=mt?.[ye])!=null?it:0,Qc=Dt+Jc-li,ci=Fs(se?on(Pt,Dt+zc-li-Wc):Pt,Dt,se?Yt(As,Qc):As);ve[ye]=ci,Tt[ye]=ci-Dt}if(L){var ui,Xc=ye==="x"?ot:rt,Yc=ye==="x"?ht:ft,is=ve[fe],bn=fe==="y"?"height":"width",di=is+le[Xc],hi=is-le[Yc],po=[ot,rt].indexOf(qe)!==-1,fi=(ui=mt?.[fe])!=null?ui:0,pi=po?di:is-Ae[bn]-Re[bn]-fi+Ge.altAxis,mi=po?is+Ae[bn]+Re[bn]-fi-Ge.altAxis:hi,gi=se&&po?(function(Zc,eu,mo){var _i=Fs(Zc,eu,mo);return _i>mo?mo:_i})(pi,is,mi):Fs(se?pi:di,is,se?mi:hi);ve[fe]=gi,Tt[fe]=gi-is}s.modifiersData[h]=Tt}},requiresIfExists:["offset"]};function gl(d,s,l){l===void 0&&(l=!1);var h,y,w=wt(s),I=wt(s)&&(function(K){var de=K.getBoundingClientRect(),se=bs(de.width)/K.offsetWidth||1,ae=bs(de.height)/K.offsetHeight||1;return se!==1||ae!==1})(s),L=Vt(s),U=ys(d,I,l),z={scrollLeft:0,scrollTop:0},W={x:0,y:0};return(w||!w&&!l)&&(($t(s)!=="body"||Qn(L))&&(z=(h=s)!==pt(h)&&wt(h)?{scrollLeft:(y=h).scrollLeft,scrollTop:y.scrollTop}:Jn(h)),wt(s)?((W=ys(s,!0)).x+=s.clientLeft,W.y+=s.clientTop):L&&(W.x=Wn(L))),{x:U.left+z.scrollLeft-W.x,y:U.top+z.scrollTop-W.y,width:U.width,height:U.height}}function _l(d){var s=new Map,l=new Set,h=[];function y(w){l.add(w.name),[].concat(w.requires||[],w.requiresIfExists||[]).forEach(function(I){if(!l.has(I)){var L=s.get(I);L&&y(L)}}),h.push(w)}return d.forEach(function(w){s.set(w.name,w)}),d.forEach(function(w){l.has(w.name)||y(w)}),h}var wr={placement:"bottom",modifiers:[],strategy:"absolute"};function kr(){for(var d=arguments.length,s=new Array(d),l=0;l<d;l++)s[l]=arguments[l];return!s.some(function(h){return!(h&&typeof h.getBoundingClientRect=="function")})}function cn(d){d===void 0&&(d={});var s=d,l=s.defaultModifiers,h=l===void 0?[]:l,y=s.defaultOptions,w=y===void 0?wr:y;return function(I,L,U){U===void 0&&(U=w);var z,W,K={placement:"bottom",orderedModifiers:[],options:Object.assign({},wr,w),modifiersData:{},elements:{reference:I,popper:L},attributes:{},styles:{}},de=[],se=!1,ae={state:K,setOptions:function(le){var qe=typeof le=="function"?le(K.options):le;oe(),K.options=Object.assign({},w,K.options,qe),K.scrollParents={reference:Xt(I)?js(I):I.contextElement?js(I.contextElement):[],popper:js(L)};var Oe,me,ye=(function(fe){var ve=_l(fe);return nr.reduce(function(Ae,Re){return Ae.concat(ve.filter(function(Ce){return Ce.phase===Re}))},[])})((Oe=[].concat(h,K.options.modifiers),me=Oe.reduce(function(fe,ve){var Ae=fe[ve.name];return fe[ve.name]=Ae?Object.assign({},Ae,ve,{options:Object.assign({},Ae.options,ve.options),data:Object.assign({},Ae.data,ve.data)}):ve,fe},{}),Object.keys(me).map(function(fe){return me[fe]})));return K.orderedModifiers=ye.filter(function(fe){return fe.enabled}),K.orderedModifiers.forEach(function(fe){var ve=fe.name,Ae=fe.options,Re=Ae===void 0?{}:Ae,Ce=fe.effect;if(typeof Ce=="function"){var Ge=Ce({state:K,name:ve,instance:ae,options:Re});de.push(Ge||function(){})}}),ae.update()},forceUpdate:function(){if(!se){var le=K.elements,qe=le.reference,Oe=le.popper;if(kr(qe,Oe)){K.rects={reference:gl(qe,Ms(Oe),K.options.strategy==="fixed"),popper:Vn(Oe)},K.reset=!1,K.placement=K.options.placement,K.orderedModifiers.forEach(function(Ce){return K.modifiersData[Ce.name]=Object.assign({},Ce.data)});for(var me=0;me<K.orderedModifiers.length;me++)if(K.reset!==!0){var ye=K.orderedModifiers[me],fe=ye.fn,ve=ye.options,Ae=ve===void 0?{}:ve,Re=ye.name;typeof fe=="function"&&(K=fe({state:K,options:Ae,name:Re,instance:ae})||K)}else K.reset=!1,me=-1}}},update:(z=function(){return new Promise(function(le){ae.forceUpdate(),le(K)})},function(){return W||(W=new Promise(function(le){Promise.resolve().then(function(){W=void 0,le(z())})})),W}),destroy:function(){oe(),se=!0}};if(!kr(I,L))return ae;function oe(){de.forEach(function(le){return le()}),de=[]}return ae.setOptions(U).then(function(le){!se&&U.onFirstUpdate&&U.onFirstUpdate(le)}),ae}}var vl=cn(),bl=cn({defaultModifiers:[zn,Yn,Hn,Un]}),Zn=cn({defaultModifiers:[zn,Yn,Hn,Un,br,mr,yr,cr,vr]});const Er=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Zo,afterRead:Qo,afterWrite:sr,applyStyles:Un,arrow:cr,auto:nn,basePlacements:gs,beforeMain:Xo,beforeRead:Jo,beforeWrite:er,bottom:ht,clippingParents:Ho,computeStyles:Hn,createPopper:Zn,createPopperBase:vl,createPopperLite:bl,detectOverflow:ks,end:_s,eventListeners:zn,flip:mr,hide:vr,left:rt,main:Yo,modifierPhases:nr,offset:br,placements:jn,popper:vs,popperGenerator:cn,popperOffsets:Yn,preventOverflow:yr,read:Wo,reference:zo,right:ft,start:Qt,top:ot,variationPlacements:Fn,viewport:Mn,write:tr},Symbol.toStringTag,{value:"Module"})),xr="dropdown",Zt=".bs.dropdown",eo=".data-api",yl="ArrowUp",Ar="ArrowDown",wl=`hide${Zt}`,kl=`hidden${Zt}`,El=`show${Zt}`,xl=`shown${Zt}`,Cr=`click${Zt}${eo}`,Sr=`keydown${Zt}${eo}`,Al=`keyup${Zt}${eo}`,Es="show",es='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Cl=`${es}.${Es}`,un=".dropdown-menu",Sl=C()?"top-end":"top-start",Tl=C()?"top-start":"top-end",ql=C()?"bottom-end":"bottom-start",Rl=C()?"bottom-start":"bottom-end",Il=C()?"left-start":"right-start",$l=C()?"right-start":"left-start",Ol={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Dl={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class St extends Le{constructor(s,l){super(s,l),this._popper=null,this._parent=this._element.parentNode,this._menu=E.next(this._element,un)[0]||E.prev(this._element,un)[0]||E.findOne(un,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ol}static get DefaultType(){return Dl}static get NAME(){return xr}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const s={relatedTarget:this._element};if(!D.trigger(this._element,El,s).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const l of[].concat(...document.body.children))D.on(l,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Es),this._element.classList.add(Es),D.trigger(this._element,xl,s)}}hide(){if(f(this._element)||!this._isShown())return;const s={relatedTarget:this._element};this._completeHide(s)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(s){if(!D.trigger(this._element,wl,s).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))D.off(l,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(Es),this._element.classList.remove(Es),this._element.setAttribute("aria-expanded","false"),Ue.removeDataAttribute(this._menu,"popper"),D.trigger(this._element,kl,s)}}_getConfig(s){if(typeof(s=super._getConfig(s)).reference=="object"&&!c(s.reference)&&typeof s.reference.getBoundingClientRect!="function")throw new TypeError(`${xr.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return s}_createPopper(){if(Er===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let s=this._element;this._config.reference==="parent"?s=this._parent:c(this._config.reference)?s=p(this._config.reference):typeof this._config.reference=="object"&&(s=this._config.reference);const l=this._getPopperConfig();this._popper=Zn(s,this._menu,l)}_isShown(){return this._menu.classList.contains(Es)}_getPlacement(){const s=this._parent;if(s.classList.contains("dropend"))return Il;if(s.classList.contains("dropstart"))return $l;if(s.classList.contains("dropup-center"))return"top";if(s.classList.contains("dropdown-center"))return"bottom";const l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return s.classList.contains("dropup")?l?Tl:Sl:l?Rl:ql}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:s}=this._config;return typeof s=="string"?s.split(",").map(l=>Number.parseInt(l,10)):typeof s=="function"?l=>s(l,this._element):s}_getPopperConfig(){const s={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ue.setDataAttribute(this._menu,"popper","static"),s.modifiers=[{name:"applyStyles",enabled:!1}]),{...s,...O(this._config.popperConfig,[void 0,s])}}_selectMenuItem({key:s,target:l}){const h=E.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(y=>u(y));h.length&&j(h,l,s===Ar,!h.includes(l)).focus()}static jQueryInterface(s){return this.each(function(){const l=St.getOrCreateInstance(this,s);if(typeof s=="string"){if(l[s]===void 0)throw new TypeError(`No method named "${s}"`);l[s]()}})}static clearMenus(s){if(s.button===2||s.type==="keyup"&&s.key!=="Tab")return;const l=E.find(Cl);for(const h of l){const y=St.getInstance(h);if(!y||y._config.autoClose===!1)continue;const w=s.composedPath(),I=w.includes(y._menu);if(w.includes(y._element)||y._config.autoClose==="inside"&&!I||y._config.autoClose==="outside"&&I||y._menu.contains(s.target)&&(s.type==="keyup"&&s.key==="Tab"||/input|select|option|textarea|form/i.test(s.target.tagName)))continue;const L={relatedTarget:y._element};s.type==="click"&&(L.clickEvent=s),y._completeHide(L)}}static dataApiKeydownHandler(s){const l=/input|textarea/i.test(s.target.tagName),h=s.key==="Escape",y=[yl,Ar].includes(s.key);if(!y&&!h||l&&!h)return;s.preventDefault();const w=this.matches(es)?this:E.prev(this,es)[0]||E.next(this,es)[0]||E.findOne(es,s.delegateTarget.parentNode),I=St.getOrCreateInstance(w);if(y)return s.stopPropagation(),I.show(),void I._selectMenuItem(s);I._isShown()&&(s.stopPropagation(),I.hide(),w.focus())}}D.on(document,Sr,es,St.dataApiKeydownHandler),D.on(document,Sr,un,St.dataApiKeydownHandler),D.on(document,Cr,St.clearMenus),D.on(document,Al,St.clearMenus),D.on(document,Cr,es,function(d){d.preventDefault(),St.getOrCreateInstance(this).toggle()}),S(St);const Tr="backdrop",qr="show",Rr=`mousedown.bs.${Tr}`,Pl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ll={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ir extends Ke{constructor(s){super(),this._config=this._getConfig(s),this._isAppended=!1,this._element=null}static get Default(){return Pl}static get DefaultType(){return Ll}static get NAME(){return Tr}show(s){if(!this._config.isVisible)return void O(s);this._append();const l=this._getElement();this._config.isAnimated&&b(l),l.classList.add(qr),this._emulateAnimation(()=>{O(s)})}hide(s){this._config.isVisible?(this._getElement().classList.remove(qr),this._emulateAnimation(()=>{this.dispose(),O(s)})):O(s)}dispose(){this._isAppended&&(D.off(this._element,Rr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const s=document.createElement("div");s.className=this._config.className,this._config.isAnimated&&s.classList.add("fade"),this._element=s}return this._element}_configAfterMerge(s){return s.rootElement=p(s.rootElement),s}_append(){if(this._isAppended)return;const s=this._getElement();this._config.rootElement.append(s),D.on(s,Rr,()=>{O(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(s){$(s,this._getElement(),this._config.isAnimated)}}const dn=".bs.focustrap",Nl=`focusin${dn}`,Ml=`keydown.tab${dn}`,$r="backward",Fl={autofocus:!0,trapElement:null},jl={autofocus:"boolean",trapElement:"element"};class Or extends Ke{constructor(s){super(),this._config=this._getConfig(s),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Fl}static get DefaultType(){return jl}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),D.off(document,dn),D.on(document,Nl,s=>this._handleFocusin(s)),D.on(document,Ml,s=>this._handleKeydown(s)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,D.off(document,dn))}_handleFocusin(s){const{trapElement:l}=this._config;if(s.target===document||s.target===l||l.contains(s.target))return;const h=E.focusableChildren(l);h.length===0?l.focus():this._lastTabNavDirection===$r?h[h.length-1].focus():h[0].focus()}_handleKeydown(s){s.key==="Tab"&&(this._lastTabNavDirection=s.shiftKey?$r:"forward")}}const Dr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Pr=".sticky-top",hn="padding-right",Lr="margin-right";class to{constructor(){this._element=document.body}getWidth(){const s=document.documentElement.clientWidth;return Math.abs(window.innerWidth-s)}hide(){const s=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,hn,l=>l+s),this._setElementAttributes(Dr,hn,l=>l+s),this._setElementAttributes(Pr,Lr,l=>l-s)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,hn),this._resetElementAttributes(Dr,hn),this._resetElementAttributes(Pr,Lr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(s,l,h){const y=this.getWidth();this._applyManipulationCallback(s,w=>{if(w!==this._element&&window.innerWidth>w.clientWidth+y)return;this._saveInitialAttribute(w,l);const I=window.getComputedStyle(w).getPropertyValue(l);w.style.setProperty(l,`${h(Number.parseFloat(I))}px`)})}_saveInitialAttribute(s,l){const h=s.style.getPropertyValue(l);h&&Ue.setDataAttribute(s,l,h)}_resetElementAttributes(s,l){this._applyManipulationCallback(s,h=>{const y=Ue.getDataAttribute(h,l);y!==null?(Ue.removeDataAttribute(h,l),h.style.setProperty(l,y)):h.style.removeProperty(l)})}_applyManipulationCallback(s,l){if(c(s))l(s);else for(const h of E.find(s,this._element))l(h)}}const kt=".bs.modal",Bl=`hide${kt}`,Ul=`hidePrevented${kt}`,Nr=`hidden${kt}`,Mr=`show${kt}`,Gl=`shown${kt}`,Vl=`resize${kt}`,Kl=`click.dismiss${kt}`,Hl=`mousedown.dismiss${kt}`,zl=`keydown.dismiss${kt}`,Jl=`click${kt}.data-api`,Fr="modal-open",jr="show",so="modal-static",Wl={backdrop:!0,focus:!0,keyboard:!0},Ql={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ts extends Le{constructor(s,l){super(s,l),this._dialog=E.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new to,this._addEventListeners()}static get Default(){return Wl}static get DefaultType(){return Ql}static get NAME(){return"modal"}toggle(s){return this._isShown?this.hide():this.show(s)}show(s){this._isShown||this._isTransitioning||D.trigger(this._element,Mr,{relatedTarget:s}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Fr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(s)))}hide(){this._isShown&&!this._isTransitioning&&(D.trigger(this._element,Bl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(jr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){D.off(window,kt),D.off(this._dialog,kt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ir({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Or({trapElement:this._element})}_showElement(s){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=E.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),b(this._element),this._element.classList.add(jr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,D.trigger(this._element,Gl,{relatedTarget:s})},this._dialog,this._isAnimated())}_addEventListeners(){D.on(this._element,zl,s=>{s.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),D.on(window,Vl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),D.on(this._element,Hl,s=>{D.one(this._element,Kl,l=>{this._element===s.target&&this._element===l.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Fr),this._resetAdjustments(),this._scrollBar.reset(),D.trigger(this._element,Nr)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(D.trigger(this._element,Ul).defaultPrevented)return;const s=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(so)||(s||(this._element.style.overflowY="hidden"),this._element.classList.add(so),this._queueCallback(()=>{this._element.classList.remove(so),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const s=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),h=l>0;if(h&&!s){const y=C()?"paddingLeft":"paddingRight";this._element.style[y]=`${l}px`}if(!h&&s){const y=C()?"paddingRight":"paddingLeft";this._element.style[y]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(s,l){return this.each(function(){const h=ts.getOrCreateInstance(this,s);if(typeof s=="string"){if(h[s]===void 0)throw new TypeError(`No method named "${s}"`);h[s](l)}})}}D.on(document,Jl,'[data-bs-toggle="modal"]',function(d){const s=E.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&d.preventDefault(),D.one(s,Mr,h=>{h.defaultPrevented||D.one(s,Nr,()=>{u(this)&&this.focus()})});const l=E.findOne(".modal.show");l&&ts.getInstance(l).hide(),ts.getOrCreateInstance(s).toggle(this)}),H(ts),S(ts);const jt=".bs.offcanvas",Br=".data-api",Xl=`load${jt}${Br}`,Ur="show",Gr="showing",Vr="hiding",Kr=".offcanvas.show",Yl=`show${jt}`,Zl=`shown${jt}`,ec=`hide${jt}`,Hr=`hidePrevented${jt}`,zr=`hidden${jt}`,tc=`resize${jt}`,sc=`click${jt}${Br}`,nc=`keydown.dismiss${jt}`,oc={backdrop:!0,keyboard:!0,scroll:!1},rc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Bt extends Le{constructor(s,l){super(s,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return oc}static get DefaultType(){return rc}static get NAME(){return"offcanvas"}toggle(s){return this._isShown?this.hide():this.show(s)}show(s){this._isShown||D.trigger(this._element,Yl,{relatedTarget:s}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new to().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Gr),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ur),this._element.classList.remove(Gr),D.trigger(this._element,Zl,{relatedTarget:s})},this._element,!0))}hide(){this._isShown&&(D.trigger(this._element,ec).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Vr),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ur,Vr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new to().reset(),D.trigger(this._element,zr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const s=!!this._config.backdrop;return new Ir({className:"offcanvas-backdrop",isVisible:s,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:s?()=>{this._config.backdrop!=="static"?this.hide():D.trigger(this._element,Hr)}:null})}_initializeFocusTrap(){return new Or({trapElement:this._element})}_addEventListeners(){D.on(this._element,nc,s=>{s.key==="Escape"&&(this._config.keyboard?this.hide():D.trigger(this._element,Hr))})}static jQueryInterface(s){return this.each(function(){const l=Bt.getOrCreateInstance(this,s);if(typeof s=="string"){if(l[s]===void 0||s.startsWith("_")||s==="constructor")throw new TypeError(`No method named "${s}"`);l[s](this)}})}}D.on(document,sc,'[data-bs-toggle="offcanvas"]',function(d){const s=E.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),f(this))return;D.one(s,zr,()=>{u(this)&&this.focus()});const l=E.findOne(Kr);l&&l!==s&&Bt.getInstance(l).hide(),Bt.getOrCreateInstance(s).toggle(this)}),D.on(window,Xl,()=>{for(const d of E.find(Kr))Bt.getOrCreateInstance(d).show()}),D.on(window,tc,()=>{for(const d of E.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(d).position!=="fixed"&&Bt.getOrCreateInstance(d).hide()}),H(Bt),S(Bt);const Jr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ic=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ac=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,lc=(d,s)=>{const l=d.nodeName.toLowerCase();return s.includes(l)?!ic.has(l)||!!ac.test(d.nodeValue):s.filter(h=>h instanceof RegExp).some(h=>h.test(l))},cc={allowList:Jr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},uc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},dc={entry:"(string|element|function|null)",selector:"(string|element)"};class hc extends Ke{constructor(s){super(),this._config=this._getConfig(s)}static get Default(){return cc}static get DefaultType(){return uc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(s=>this._resolvePossibleFunction(s)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(s){return this._checkContent(s),this._config.content={...this._config.content,...s},this}toHtml(){const s=document.createElement("div");s.innerHTML=this._maybeSanitize(this._config.template);for(const[y,w]of Object.entries(this._config.content))this._setContent(s,w,y);const l=s.children[0],h=this._resolvePossibleFunction(this._config.extraClass);return h&&l.classList.add(...h.split(" ")),l}_typeCheckConfig(s){super._typeCheckConfig(s),this._checkContent(s.content)}_checkContent(s){for(const[l,h]of Object.entries(s))super._typeCheckConfig({selector:l,entry:h},dc)}_setContent(s,l,h){const y=E.findOne(h,s);y&&((l=this._resolvePossibleFunction(l))?c(l)?this._putElementInTemplate(p(l),y):this._config.html?y.innerHTML=this._maybeSanitize(l):y.textContent=l:y.remove())}_maybeSanitize(s){return this._config.sanitize?(function(l,h,y){if(!l.length)return l;if(y&&typeof y=="function")return y(l);const w=new window.DOMParser().parseFromString(l,"text/html"),I=[].concat(...w.body.querySelectorAll("*"));for(const L of I){const U=L.nodeName.toLowerCase();if(!Object.keys(h).includes(U)){L.remove();continue}const z=[].concat(...L.attributes),W=[].concat(h["*"]||[],h[U]||[]);for(const K of z)lc(K,W)||L.removeAttribute(K.nodeName)}return w.body.innerHTML})(s,this._config.allowList,this._config.sanitizeFn):s}_resolvePossibleFunction(s){return O(s,[void 0,this])}_putElementInTemplate(s,l){if(this._config.html)return l.innerHTML="",void l.append(s);l.textContent=s.textContent}}const fc=new Set(["sanitize","allowList","sanitizeFn"]),no="fade",fn="show",pc=".tooltip-inner",Wr=".modal",Qr="hide.bs.modal",Bs="hover",oo="focus",ro="click",mc={AUTO:"auto",TOP:"top",RIGHT:C()?"left":"right",BOTTOM:"bottom",LEFT:C()?"right":"left"},gc={allowList:Jr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},_c={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ss extends Le{constructor(s,l){if(Er===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(s,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return gc}static get DefaultType(){return _c}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),D.off(this._element.closest(Wr),Qr,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const s=D.trigger(this._element,this.constructor.eventName("show")),l=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(s.defaultPrevented||!l)return;this._disposePopper();const h=this._getTipElement();this._element.setAttribute("aria-describedby",h.getAttribute("id"));const{container:y}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(y.append(h),D.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(h),h.classList.add(fn),"ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))D.on(w,"mouseover",v);this._queueCallback(()=>{D.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!D.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(fn),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))D.off(s,"mouseover",v);this._activeTrigger[ro]=!1,this._activeTrigger[oo]=!1,this._activeTrigger[Bs]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),D.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(s){const l=this._getTemplateFactory(s).toHtml();if(!l)return null;l.classList.remove(no,fn),l.classList.add(`bs-${this.constructor.NAME}-auto`);const h=(y=>{do y+=Math.floor(1e6*Math.random());while(document.getElementById(y));return y})(this.constructor.NAME).toString();return l.setAttribute("id",h),this._isAnimated()&&l.classList.add(no),l}setContent(s){this._newContent=s,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(s){return this._templateFactory?this._templateFactory.changeContent(s):this._templateFactory=new hc({...this._config,content:s,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[pc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(s){return this.constructor.getOrCreateInstance(s.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(no)}_isShown(){return this.tip&&this.tip.classList.contains(fn)}_createPopper(s){const l=O(this._config.placement,[this,s,this._element]),h=mc[l.toUpperCase()];return Zn(this._element,s,this._getPopperConfig(h))}_getOffset(){const{offset:s}=this._config;return typeof s=="string"?s.split(",").map(l=>Number.parseInt(l,10)):typeof s=="function"?l=>s(l,this._element):s}_resolvePossibleFunction(s){return O(s,[this._element,this._element])}_getPopperConfig(s){const l={placement:s,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:h=>{this._getTipElement().setAttribute("data-popper-placement",h.state.placement)}}]};return{...l,...O(this._config.popperConfig,[void 0,l])}}_setListeners(){const s=this._config.trigger.split(" ");for(const l of s)if(l==="click")D.on(this._element,this.constructor.eventName("click"),this._config.selector,h=>{const y=this._initializeOnDelegatedTarget(h);y._activeTrigger[ro]=!(y._isShown()&&y._activeTrigger[ro]),y.toggle()});else if(l!=="manual"){const h=l===Bs?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),y=l===Bs?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");D.on(this._element,h,this._config.selector,w=>{const I=this._initializeOnDelegatedTarget(w);I._activeTrigger[w.type==="focusin"?oo:Bs]=!0,I._enter()}),D.on(this._element,y,this._config.selector,w=>{const I=this._initializeOnDelegatedTarget(w);I._activeTrigger[w.type==="focusout"?oo:Bs]=I._element.contains(w.relatedTarget),I._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},D.on(this._element.closest(Wr),Qr,this._hideModalHandler)}_fixTitle(){const s=this._element.getAttribute("title");s&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",s),this._element.setAttribute("data-bs-original-title",s),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(s,l){clearTimeout(this._timeout),this._timeout=setTimeout(s,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(s){const l=Ue.getDataAttributes(this._element);for(const h of Object.keys(l))fc.has(h)&&delete l[h];return s={...l,...typeof s=="object"&&s?s:{}},s=this._mergeConfigObj(s),s=this._configAfterMerge(s),this._typeCheckConfig(s),s}_configAfterMerge(s){return s.container=s.container===!1?document.body:p(s.container),typeof s.delay=="number"&&(s.delay={show:s.delay,hide:s.delay}),typeof s.title=="number"&&(s.title=s.title.toString()),typeof s.content=="number"&&(s.content=s.content.toString()),s}_getDelegateConfig(){const s={};for(const[l,h]of Object.entries(this._config))this.constructor.Default[l]!==h&&(s[l]=h);return s.selector=!1,s.trigger="manual",s}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(s){return this.each(function(){const l=ss.getOrCreateInstance(this,s);if(typeof s=="string"){if(l[s]===void 0)throw new TypeError(`No method named "${s}"`);l[s]()}})}}S(ss);const vc=".popover-header",bc=".popover-body",yc={...ss.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},wc={...ss.DefaultType,content:"(null|string|element|function)"};class pn extends ss{static get Default(){return yc}static get DefaultType(){return wc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[vc]:this._getTitle(),[bc]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(s){return this.each(function(){const l=pn.getOrCreateInstance(this,s);if(typeof s=="string"){if(l[s]===void 0)throw new TypeError(`No method named "${s}"`);l[s]()}})}}S(pn);const io=".bs.scrollspy",kc=`activate${io}`,Xr=`click${io}`,Ec=`load${io}.data-api`,xs="active",ao="[href]",Yr=".nav-link",xc=`${Yr}, .nav-item > ${Yr}, .list-group-item`,Ac={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Cc={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Us extends Le{constructor(s,l){super(s,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ac}static get DefaultType(){return Cc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const s of this._observableSections.values())this._observer.observe(s)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(s){return s.target=p(s.target)||document.body,s.rootMargin=s.offset?`${s.offset}px 0px -30%`:s.rootMargin,typeof s.threshold=="string"&&(s.threshold=s.threshold.split(",").map(l=>Number.parseFloat(l))),s}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(D.off(this._config.target,Xr),D.on(this._config.target,Xr,ao,s=>{const l=this._observableSections.get(s.target.hash);if(l){s.preventDefault();const h=this._rootElement||window,y=l.offsetTop-this._element.offsetTop;if(h.scrollTo)return void h.scrollTo({top:y,behavior:"smooth"});h.scrollTop=y}}))}_getNewObserver(){const s={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),s)}_observerCallback(s){const l=I=>this._targetLinks.get(`#${I.target.id}`),h=I=>{this._previousScrollData.visibleEntryTop=I.target.offsetTop,this._process(l(I))},y=(this._rootElement||document.documentElement).scrollTop,w=y>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=y;for(const I of s){if(!I.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(I));continue}const L=I.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(w&&L){if(h(I),!y)return}else w||L||h(I)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const s=E.find(ao,this._config.target);for(const l of s){if(!l.hash||f(l))continue;const h=E.findOne(decodeURI(l.hash),this._element);u(h)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,h))}}_process(s){this._activeTarget!==s&&(this._clearActiveClass(this._config.target),this._activeTarget=s,s.classList.add(xs),this._activateParents(s),D.trigger(this._element,kc,{relatedTarget:s}))}_activateParents(s){if(s.classList.contains("dropdown-item"))E.findOne(".dropdown-toggle",s.closest(".dropdown")).classList.add(xs);else for(const l of E.parents(s,".nav, .list-group"))for(const h of E.prev(l,xc))h.classList.add(xs)}_clearActiveClass(s){s.classList.remove(xs);const l=E.find(`${ao}.${xs}`,s);for(const h of l)h.classList.remove(xs)}static jQueryInterface(s){return this.each(function(){const l=Us.getOrCreateInstance(this,s);if(typeof s=="string"){if(l[s]===void 0||s.startsWith("_")||s==="constructor")throw new TypeError(`No method named "${s}"`);l[s]()}})}}D.on(window,Ec,()=>{for(const d of E.find('[data-bs-spy="scroll"]'))Us.getOrCreateInstance(d)}),S(Us);const ns=".bs.tab",Sc=`hide${ns}`,Tc=`hidden${ns}`,qc=`show${ns}`,Rc=`shown${ns}`,Ic=`click${ns}`,$c=`keydown${ns}`,Oc=`load${ns}`,Dc="ArrowLeft",Zr="ArrowRight",Pc="ArrowUp",ei="ArrowDown",lo="Home",ti="End",os="active",si="fade",co="show",ni=".dropdown-toggle",uo=`:not(${ni})`,oi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ho=`.nav-link${uo}, .list-group-item${uo}, [role="tab"]${uo}, ${oi}`,Lc=`.${os}[data-bs-toggle="tab"], .${os}[data-bs-toggle="pill"], .${os}[data-bs-toggle="list"]`;class rs extends Le{constructor(s){super(s),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),D.on(this._element,$c,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const s=this._element;if(this._elemIsActive(s))return;const l=this._getActiveElem(),h=l?D.trigger(l,Sc,{relatedTarget:s}):null;D.trigger(s,qc,{relatedTarget:l}).defaultPrevented||h&&h.defaultPrevented||(this._deactivate(l,s),this._activate(s,l))}_activate(s,l){s&&(s.classList.add(os),this._activate(E.getElementFromSelector(s)),this._queueCallback(()=>{s.getAttribute("role")==="tab"?(s.removeAttribute("tabindex"),s.setAttribute("aria-selected",!0),this._toggleDropDown(s,!0),D.trigger(s,Rc,{relatedTarget:l})):s.classList.add(co)},s,s.classList.contains(si)))}_deactivate(s,l){s&&(s.classList.remove(os),s.blur(),this._deactivate(E.getElementFromSelector(s)),this._queueCallback(()=>{s.getAttribute("role")==="tab"?(s.setAttribute("aria-selected",!1),s.setAttribute("tabindex","-1"),this._toggleDropDown(s,!1),D.trigger(s,Tc,{relatedTarget:l})):s.classList.remove(co)},s,s.classList.contains(si)))}_keydown(s){if(![Dc,Zr,Pc,ei,lo,ti].includes(s.key))return;s.stopPropagation(),s.preventDefault();const l=this._getChildren().filter(y=>!f(y));let h;if([lo,ti].includes(s.key))h=l[s.key===lo?0:l.length-1];else{const y=[Zr,ei].includes(s.key);h=j(l,s.target,y,!0)}h&&(h.focus({preventScroll:!0}),rs.getOrCreateInstance(h).show())}_getChildren(){return E.find(ho,this._parent)}_getActiveElem(){return this._getChildren().find(s=>this._elemIsActive(s))||null}_setInitialAttributes(s,l){this._setAttributeIfNotExists(s,"role","tablist");for(const h of l)this._setInitialAttributesOnChild(h)}_setInitialAttributesOnChild(s){s=this._getInnerElement(s);const l=this._elemIsActive(s),h=this._getOuterElement(s);s.setAttribute("aria-selected",l),h!==s&&this._setAttributeIfNotExists(h,"role","presentation"),l||s.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(s,"role","tab"),this._setInitialAttributesOnTargetPanel(s)}_setInitialAttributesOnTargetPanel(s){const l=E.getElementFromSelector(s);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),s.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${s.id}`))}_toggleDropDown(s,l){const h=this._getOuterElement(s);if(!h.classList.contains("dropdown"))return;const y=(w,I)=>{const L=E.findOne(w,h);L&&L.classList.toggle(I,l)};y(ni,os),y(".dropdown-menu",co),h.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(s,l,h){s.hasAttribute(l)||s.setAttribute(l,h)}_elemIsActive(s){return s.classList.contains(os)}_getInnerElement(s){return s.matches(ho)?s:E.findOne(ho,s)}_getOuterElement(s){return s.closest(".nav-item, .list-group-item")||s}static jQueryInterface(s){return this.each(function(){const l=rs.getOrCreateInstance(this);if(typeof s=="string"){if(l[s]===void 0||s.startsWith("_")||s==="constructor")throw new TypeError(`No method named "${s}"`);l[s]()}})}}D.on(document,Ic,oi,function(d){["A","AREA"].includes(this.tagName)&&d.preventDefault(),f(this)||rs.getOrCreateInstance(this).show()}),D.on(window,Oc,()=>{for(const d of E.find(Lc))rs.getOrCreateInstance(d)}),S(rs);const Kt=".bs.toast",Nc=`mouseover${Kt}`,Mc=`mouseout${Kt}`,Fc=`focusin${Kt}`,jc=`focusout${Kt}`,Bc=`hide${Kt}`,Uc=`hidden${Kt}`,Gc=`show${Kt}`,Vc=`shown${Kt}`,ri="hide",mn="show",gn="showing",Kc={animation:"boolean",autohide:"boolean",delay:"number"},Hc={animation:!0,autohide:!0,delay:5e3};class Gs extends Le{constructor(s,l){super(s,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Hc}static get DefaultType(){return Kc}static get NAME(){return"toast"}show(){D.trigger(this._element,Gc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ri),b(this._element),this._element.classList.add(mn,gn),this._queueCallback(()=>{this._element.classList.remove(gn),D.trigger(this._element,Vc),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(D.trigger(this._element,Bc).defaultPrevented||(this._element.classList.add(gn),this._queueCallback(()=>{this._element.classList.add(ri),this._element.classList.remove(gn,mn),D.trigger(this._element,Uc)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(mn),super.dispose()}isShown(){return this._element.classList.contains(mn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(s,l){switch(s.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const h=s.relatedTarget;this._element===h||this._element.contains(h)||this._maybeScheduleHide()}_setListeners(){D.on(this._element,Nc,s=>this._onInteraction(s,!0)),D.on(this._element,Mc,s=>this._onInteraction(s,!1)),D.on(this._element,Fc,s=>this._onInteraction(s,!0)),D.on(this._element,jc,s=>this._onInteraction(s,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(s){return this.each(function(){const l=Gs.getOrCreateInstance(this,s);if(typeof s=="string"){if(l[s]===void 0)throw new TypeError(`No method named "${s}"`);l[s](this)}})}}return H(Gs),S(Gs),{Alert:Se,Button:ne,Carousel:fs,Collapse:ms,Dropdown:St,Modal:ts,Offcanvas:Bt,Popover:pn,ScrollSpy:Us,Tab:rs,Toast:Gs,Tooltip:ss}})});export default Wy();
