var Iu=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import{r as L,c as x,a as Ds,b as s,d as Z,e as V,w as oe,f as nt,E as qu,o as k,g as te,h as Is,u as Dn,i as Ou,p as In,s as Lu,j as bt,k as $u,l as Le,m as Xt,n as xa,q as Vo,t as Ft,v as Ts,x as re,y as ve,z as Nu,A as pe,B as I,F as ye,C as De,D as dt,G as qn,H as zo,I as Ko,J as Ho,K as Jo,L as Wo,M as Qo,N as Xo,O as jt,P as qe,Q as Mu,R as xs,S as Sa,T as Ca,U as Ea,V as Aa,W as Ta,X as Pa,Y as Fu,Z as Ps,_ as Ra,$ as ju,a0 as Gu,a1 as Uu,a2 as Bu,a3 as Vu}from"./element-plus-CGmSc092.js";import{s as $t,c as zu,d as Ku,a as Hu,o as Ju,b as Wu,T as Qu,r as Xu,e as Ni,l as Mi,m as Yu,f as Fi,g as ji}from"./d3-FZRuB6XP.js";import{r as Zu}from"./tools-BemMMEYA.js";import{C as Da,r as ed}from"./chart-js-Bcjh2pZL.js";var vw=Iu((yl,Bo)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=o(i);fetch(i.href,a)}})();const Ia="/assets/egg-CeAhh0Oe.jpg",td={class:"app"},nd={class:"navbar navbar-expand-lg custom-navbar"},sd={class:"container"},od={class:"collapse navbar-collapse",id:"navbarNav"},rd={class:"navbar-nav"},id={class:"nav-item"},ad={class:"nav-item dropdown"},ld={class:"dropdown-menu","aria-labelledby":"BrowseDropdown"},cd={class:"nav-item"},ud={class:"nav-item dropdown"},dd={class:"dropdown-menu","aria-labelledby":"toolsDropdown"},pd={class:"nav-item"},fd={class:"nav-item"},hd={class:"nav-item"},md={class:"container"},gd={key:0,class:"loading-overlay"},_d={class:"backtop-content"},vd={__name:"App",setup(t){const e=L(!1),o=()=>{e.value=!0},r=()=>{e.value=!1};return In("isLoading",e),In("showLoading",o),In("hideLoading",r),(i,a)=>{const c=nt("router-link"),d=nt("router-view"),p=Is,h=qu;return k(),x("div",td,[a[22]||(a[22]=Ds('<div id="head-container"><div class="head-content"><img src="'+Ia+'" alt="Logo" style="height:90px;width:100px;"><div class="site-title"><span class="main-title"> CottonOGD </span><span class="sub-title"> —— a comprehensive cotton orthogroups database </span></div></div></div>',1)),s("nav",nd,[s("div",sd,[a[20]||(a[20]=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[s("span",{class:"navbar-toggler-icon"})],-1)),s("div",od,[s("ul",rd,[s("li",id,[V(c,{class:"nav-link",to:"/","exact-active-class":"active"},{default:oe(()=>[...a[0]||(a[0]=[te("Home",-1)])]),_:1})]),s("li",ad,[a[5]||(a[5]=s("a",{class:"nav-link dropdown-toggle",href:"#",id:"BrowseDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Browse",-1)),s("ul",ld,[s("li",null,[V(c,{class:"dropdown-item",to:"/browse/genome"},{default:oe(()=>[...a[1]||(a[1]=[te("Genome",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/browse/species"},{default:oe(()=>[...a[2]||(a[2]=[te("Species",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/browse/tf"},{default:oe(()=>[...a[3]||(a[3]=[te("TF",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/browse/tr"},{default:oe(()=>[...a[4]||(a[4]=[te("TR",-1)])]),_:1})])])]),s("li",cd,[V(c,{class:"nav-link",to:"/jbrowse","exact-active-class":"active"},{default:oe(()=>[...a[6]||(a[6]=[te("Jbrowse",-1)])]),_:1})]),s("li",ud,[a[16]||(a[16]=s("a",{class:"nav-link dropdown-toggle",href:"#",id:"toolsDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Tools",-1)),s("ul",dd,[s("li",null,[V(c,{class:"dropdown-item",to:"/tools/id-search"},{default:oe(()=>[...a[7]||(a[7]=[te("Search by GeneID",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/tools/blastp"},{default:oe(()=>[...a[8]||(a[8]=[te("blastp",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/tools/go-enrichment"},{default:oe(()=>[...a[9]||(a[9]=[te("go_enrichment",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/tools/go-annotation"},{default:oe(()=>[...a[10]||(a[10]=[te("go_annotation",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/tools/kegg-annotation"},{default:oe(()=>[...a[11]||(a[11]=[te("kegg_annotation",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/tools/kegg-enrichment"},{default:oe(()=>[...a[12]||(a[12]=[te("kegg_enrichment",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/tools/gene-expression"},{default:oe(()=>[...a[13]||(a[13]=[te("gene_expression",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/tools/gene-expression-efp"},{default:oe(()=>[...a[14]||(a[14]=[te("gene_expression_in_eFP",-1)])]),_:1})]),s("li",null,[V(c,{class:"dropdown-item",to:"/tools/primer-design"},{default:oe(()=>[...a[15]||(a[15]=[te("primer_design",-1)])]),_:1})])])]),s("li",pd,[V(c,{class:"nav-link",to:"/download"},{default:oe(()=>[...a[17]||(a[17]=[te("Download",-1)])]),_:1})]),s("li",fd,[V(c,{class:"nav-link",to:"/about-us"},{default:oe(()=>[...a[18]||(a[18]=[te("About",-1)])]),_:1})]),s("li",hd,[V(c,{class:"nav-link",to:"/contact-us"},{default:oe(()=>[...a[19]||(a[19]=[te("Contact us",-1)])]),_:1})])])])])]),s("main",md,[V(d)]),e.value?(k(),x("div",gd,[...a[21]||(a[21]=[s("div",{class:"loading-content"},[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")]),s("div",{class:"mt-3"},"正在检索中...")],-1)])])):Z("",!0),a[23]||(a[23]=s("div",{class:"footer-section"},[s("footer",null,[s("div",{class:"container"},[s("p",{class:"mb-0"},"CottonOGD Website © 2025")])])],-1)),V(h,{"visibility-height":200,right:40,bottom:40,target:".app"},{default:oe(()=>[s("div",_d,[V(p,{class:"backtop-icon"},{default:oe(()=>[V(Dn(Ou))]),_:1})])]),_:1})])}}};const Rn=typeof document<"u";function qa(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function bd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&qa(t.default)}const we=Object.assign;function xo(t,e){const o={};for(const r in e){const i=e[r];o[r]=Pt(i)?i.map(t):t(i)}return o}const Xn=()=>{},Pt=Array.isArray;function Gi(t,e){const o={};for(const r in t)o[r]=r in e?e[r]:t[r];return o}const Oa=/#/g,yd=/&/g,wd=/\//g,kd=/=/g,xd=/\?/g,La=/\+/g,Sd=/%5B/g,Cd=/%5D/g,$a=/%5E/g,Ed=/%60/g,Na=/%7B/g,Ad=/%7C/g,Ma=/%7D/g,Td=/%20/g;function Yo(t){return t==null?"":encodeURI(""+t).replace(Ad,"|").replace(Sd,"[").replace(Cd,"]")}function Pd(t){return Yo(t).replace(Na,"{").replace(Ma,"}").replace($a,"^")}function qo(t){return Yo(t).replace(La,"%2B").replace(Td,"+").replace(Oa,"%23").replace(yd,"%26").replace(Ed,"`").replace(Na,"{").replace(Ma,"}").replace($a,"^")}function Rd(t){return qo(t).replace(kd,"%3D")}function Dd(t){return Yo(t).replace(Oa,"%23").replace(xd,"%3F")}function Id(t){return Dd(t).replace(wd,"%2F")}function Zn(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const qd=/\/$/,Od=t=>t.replace(qd,"");function So(t,e,o="/"){let r,i={},a="",c="";const d=e.indexOf("#");let p=e.indexOf("?");return p=d>=0&&p>d?-1:p,p>=0&&(r=e.slice(0,p),a=e.slice(p,d>0?d:e.length),i=t(a.slice(1))),d>=0&&(r=r||e.slice(0,d),c=e.slice(d,e.length)),r=Md(r??e,o),{fullPath:r+a+c,path:r,query:i,hash:Zn(c)}}function Ld(t,e){const o=e.query?t(e.query):"";return e.path+(o&&"?")+o+(e.hash||"")}function Ui(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $d(t,e,o){const r=e.matched.length-1,i=o.matched.length-1;return r>-1&&r===i&&On(e.matched[r],o.matched[i])&&Fa(e.params,o.params)&&t(e.query)===t(o.query)&&e.hash===o.hash}function On(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Fa(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var o in t)if(!Nd(t[o],e[o]))return!1;return!0}function Nd(t,e){return Pt(t)?Bi(t,e):Pt(e)?Bi(e,t):t?.valueOf()===e?.valueOf()}function Bi(t,e){return Pt(e)?t.length===e.length&&t.every((o,r)=>o===e[r]):t.length===1&&t[0]===e}function Md(t,e){if(t.startsWith("/"))return t;if(!t)return e;const o=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let a=o.length-1,c,d;for(c=0;c<r.length;c++)if(d=r[c],d!==".")if(d==="..")a>1&&a--;else break;return o.slice(0,a).join("/")+"/"+r.slice(c).join("/")}const Jt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Oo=(function(t){return t.pop="pop",t.push="push",t})({}),Co=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Fd(t){if(!t)if(Rn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Od(t)}const jd=/^[^#]+#/;function Gd(t,e){return t.replace(jd,"#")+e}function Ud(t,e){const o=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-o.left-(e.left||0),top:r.top-o.top-(e.top||0)}}const qs=()=>({left:window.scrollX,top:window.scrollY});function Bd(t){let e;if("el"in t){const o=t.el,r=typeof o=="string"&&o.startsWith("#"),i=typeof o=="string"?r?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!i)return;e=Ud(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Vi(t,e){return(history.state?history.state.position-e:-1)+t}const Lo=new Map;function Vd(t,e){Lo.set(t,e)}function zd(t){const e=Lo.get(t);return Lo.delete(t),e}function Kd(t){return typeof t=="string"||t&&typeof t=="object"}function ja(t){return typeof t=="string"||typeof t=="symbol"}let Ge=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Ga=Symbol("");Ge.MATCHER_NOT_FOUND+"",Ge.NAVIGATION_GUARD_REDIRECT+"",Ge.NAVIGATION_ABORTED+"",Ge.NAVIGATION_CANCELLED+"",Ge.NAVIGATION_DUPLICATED+"";function Ln(t,e){return we(new Error,{type:t,[Ga]:!0},e)}function Vt(t,e){return t instanceof Error&&Ga in t&&(e==null||!!(t.type&e))}const Hd=["params","query","hash"];function Jd(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const o of Hd)o in t&&(e[o]=t[o]);return JSON.stringify(e,null,2)}function Wd(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<o.length;++r){const i=o[r].replace(La," "),a=i.indexOf("="),c=Zn(a<0?i:i.slice(0,a)),d=a<0?null:Zn(i.slice(a+1));if(c in e){let p=e[c];Pt(p)||(p=e[c]=[p]),p.push(d)}else e[c]=d}return e}function zi(t){let e="";for(let o in t){const r=t[o];if(o=Rd(o),r==null){r!==void 0&&(e+=(e.length?"&":"")+o);continue}(Pt(r)?r.map(i=>i&&qo(i)):[r&&qo(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+o,i!=null&&(e+="="+i))})}return e}function Qd(t){const e={};for(const o in t){const r=t[o];r!==void 0&&(e[o]=Pt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Xd=Symbol(""),Ki=Symbol(""),Os=Symbol(""),Zo=Symbol(""),$o=Symbol("");function Wn(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function o(){t=[]}return{add:e,list:()=>t.slice(),reset:o}}function Qt(t,e,o,r,i,a=c=>c()){const c=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((d,p)=>{const h=f=>{f===!1?p(Ln(Ge.NAVIGATION_ABORTED,{from:o,to:e})):f instanceof Error?p(f):Kd(f)?p(Ln(Ge.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(c&&r.enterCallbacks[i]===c&&typeof f=="function"&&c.push(f),d())},g=a(()=>t.call(r&&r.instances[i],e,o,h));let _=Promise.resolve(g);t.length<3&&(_=_.then(h)),_.catch(f=>p(f))})}function Eo(t,e,o,r,i=a=>a()){const a=[];for(const c of t)for(const d in c.components){let p=c.components[d];if(!(e!=="beforeRouteEnter"&&!c.instances[d]))if(qa(p)){const h=(p.__vccOpts||p)[e];h&&a.push(Qt(h,o,r,c,d,i))}else{let h=p();a.push(()=>h.then(g=>{if(!g)throw new Error(`Couldn't resolve component "${d}" at "${c.path}"`);const _=bd(g)?g.default:g;c.mods[d]=g,c.components[d]=_;const f=(_.__vccOpts||_)[e];return f&&Qt(f,o,r,c,d,i)()}))}}return a}function Yd(t,e){const o=[],r=[],i=[],a=Math.max(e.matched.length,t.matched.length);for(let c=0;c<a;c++){const d=e.matched[c];d&&(t.matched.find(h=>On(h,d))?r.push(d):o.push(d));const p=t.matched[c];p&&(e.matched.find(h=>On(h,p))||i.push(p))}return[o,r,i]}let Zd=()=>location.protocol+"//"+location.host;function Ua(t,e){const{pathname:o,search:r,hash:i}=e,a=t.indexOf("#");if(a>-1){let c=i.includes(t.slice(a))?t.slice(a).length:1,d=i.slice(c);return d[0]!=="/"&&(d="/"+d),Ui(d,"")}return Ui(o,t)+r+i}function ep(t,e,o,r){let i=[],a=[],c=null;const d=({state:f})=>{const v=Ua(t,location),b=o.value,y=e.value;let S=0;if(f){if(o.value=v,e.value=f,c&&c===b){c=null;return}S=y?f.position-y.position:0}else r(v);i.forEach(E=>{E(o.value,b,{delta:S,type:Oo.pop,direction:S?S>0?Co.forward:Co.back:Co.unknown})})};function p(){c=o.value}function h(f){i.push(f);const v=()=>{const b=i.indexOf(f);b>-1&&i.splice(b,1)};return a.push(v),v}function g(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(we({},f.state,{scroll:qs()}),"")}}function _(){for(const f of a)f();a=[],window.removeEventListener("popstate",d),window.removeEventListener("pagehide",g),document.removeEventListener("visibilitychange",g)}return window.addEventListener("popstate",d),window.addEventListener("pagehide",g),document.addEventListener("visibilitychange",g),{pauseListeners:p,listen:h,destroy:_}}function Hi(t,e,o,r=!1,i=!1){return{back:t,current:e,forward:o,replaced:r,position:window.history.length,scroll:i?qs():null}}function tp(t){const{history:e,location:o}=window,r={value:Ua(t,o)},i={value:e.state};i.value||a(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(p,h,g){const _=t.indexOf("#"),f=_>-1?(o.host&&document.querySelector("base")?t:t.slice(_))+p:Zd()+t+p;try{e[g?"replaceState":"pushState"](h,"",f),i.value=h}catch(v){console.error(v),o[g?"replace":"assign"](f)}}function c(p,h){a(p,we({},e.state,Hi(i.value.back,p,i.value.forward,!0),h,{position:i.value.position}),!0),r.value=p}function d(p,h){const g=we({},i.value,e.state,{forward:p,scroll:qs()});a(g.current,g,!0),a(p,we({},Hi(r.value,p,null),{position:g.position+1},h),!1),r.value=p}return{location:r,state:i,push:d,replace:c}}function np(t){t=Fd(t);const e=tp(t),o=ep(t,e.state,e.location,e.replace);function r(a,c=!0){c||o.pauseListeners(),history.go(a)}const i=we({location:"",base:t,go:r,createHref:Gd.bind(null,t)},e,o);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let un=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Qe=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Qe||{});const sp={type:un.Static,value:""},op=/[a-zA-Z0-9_]/;function rp(t){if(!t)return[[]];if(t==="/")return[[sp]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${o})/"${h}": ${v}`)}let o=Qe.Static,r=o;const i=[];let a;function c(){a&&i.push(a),a=[]}let d=0,p,h="",g="";function _(){h&&(o===Qe.Static?a.push({type:un.Static,value:h}):o===Qe.Param||o===Qe.ParamRegExp||o===Qe.ParamRegExpEnd?(a.length>1&&(p==="*"||p==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),a.push({type:un.Param,value:h,regexp:g,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):e("Invalid state to consume buffer"),h="")}function f(){h+=p}for(;d<t.length;){if(p=t[d++],p==="\\"&&o!==Qe.ParamRegExp){r=o,o=Qe.EscapeNext;continue}switch(o){case Qe.Static:p==="/"?(h&&_(),c()):p===":"?(_(),o=Qe.Param):f();break;case Qe.EscapeNext:f(),o=r;break;case Qe.Param:p==="("?o=Qe.ParamRegExp:op.test(p)?f():(_(),o=Qe.Static,p!=="*"&&p!=="?"&&p!=="+"&&d--);break;case Qe.ParamRegExp:p===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+p:o=Qe.ParamRegExpEnd:g+=p;break;case Qe.ParamRegExpEnd:_(),o=Qe.Static,p!=="*"&&p!=="?"&&p!=="+"&&d--,g="";break;default:e("Unknown state");break}}return o===Qe.ParamRegExp&&e(`Unfinished custom RegExp for param "${h}"`),_(),c(),i}const Ji="[^/]+?",ip={sensitive:!1,strict:!1,start:!0,end:!0};var ut=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(ut||{});const ap=/[.+*?^${}()[\]/\\]/g;function lp(t,e){const o=we({},ip,e),r=[];let i=o.start?"^":"";const a=[];for(const h of t){const g=h.length?[]:[ut.Root];o.strict&&!h.length&&(i+="/");for(let _=0;_<h.length;_++){const f=h[_];let v=ut.Segment+(o.sensitive?ut.BonusCaseSensitive:0);if(f.type===un.Static)_||(i+="/"),i+=f.value.replace(ap,"\\$&"),v+=ut.Static;else if(f.type===un.Param){const{value:b,repeatable:y,optional:S,regexp:E}=f;a.push({name:b,repeatable:y,optional:S});const P=E||Ji;if(P!==Ji){v+=ut.BonusCustomRegExp;try{`${P}`}catch(D){throw new Error(`Invalid custom RegExp for param "${b}" (${P}): `+D.message)}}let w=y?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;_||(w=S&&h.length<2?`(?:/${w})`:"/"+w),S&&(w+="?"),i+=w,v+=ut.Dynamic,S&&(v+=ut.BonusOptional),y&&(v+=ut.BonusRepeatable),P===".*"&&(v+=ut.BonusWildcard)}g.push(v)}r.push(g)}if(o.strict&&o.end){const h=r.length-1;r[h][r[h].length-1]+=ut.BonusStrict}o.strict||(i+="/?"),o.end?i+="$":o.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const c=new RegExp(i,o.sensitive?"":"i");function d(h){const g=h.match(c),_={};if(!g)return null;for(let f=1;f<g.length;f++){const v=g[f]||"",b=a[f-1];_[b.name]=v&&b.repeatable?v.split("/"):v}return _}function p(h){let g="",_=!1;for(const f of t){(!_||!g.endsWith("/"))&&(g+="/"),_=!1;for(const v of f)if(v.type===un.Static)g+=v.value;else if(v.type===un.Param){const{value:b,repeatable:y,optional:S}=v,E=b in h?h[b]:"";if(Pt(E)&&!y)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const P=Pt(E)?E.join("/"):E;if(!P)if(S)f.length<2&&(g.endsWith("/")?g=g.slice(0,-1):_=!0);else throw new Error(`Missing required param "${b}"`);g+=P}}return g||"/"}return{re:c,score:r,keys:a,parse:d,stringify:p}}function cp(t,e){let o=0;for(;o<t.length&&o<e.length;){const r=e[o]-t[o];if(r)return r;o++}return t.length<e.length?t.length===1&&t[0]===ut.Static+ut.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===ut.Static+ut.Segment?1:-1:0}function Ba(t,e){let o=0;const r=t.score,i=e.score;for(;o<r.length&&o<i.length;){const a=cp(r[o],i[o]);if(a)return a;o++}if(Math.abs(i.length-r.length)===1){if(Wi(r))return 1;if(Wi(i))return-1}return i.length-r.length}function Wi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const up={strict:!1,end:!0,sensitive:!1};function dp(t,e,o){const r=lp(rp(t.path),o),i=we(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function pp(t,e){const o=[],r=new Map;e=Gi(up,e);function i(_){return r.get(_)}function a(_,f,v){const b=!v,y=Xi(_);y.aliasOf=v&&v.record;const S=Gi(e,_),E=[y];if("alias"in _){const D=typeof _.alias=="string"?[_.alias]:_.alias;for(const U of D)E.push(Xi(we({},y,{components:v?v.record.components:y.components,path:U,aliasOf:v?v.record:y})))}let P,w;for(const D of E){const{path:U}=D;if(f&&U[0]!=="/"){const z=f.record.path,H=z[z.length-1]==="/"?"":"/";D.path=f.record.path+(U&&H+U)}if(P=dp(D,f,S),v?v.alias.push(P):(w=w||P,w!==P&&w.alias.push(P),b&&_.name&&!Yi(P)&&c(_.name)),Va(P)&&p(P),y.children){const z=y.children;for(let H=0;H<z.length;H++)a(z[H],P,v&&v.children[H])}v=v||P}return w?()=>{c(w)}:Xn}function c(_){if(ja(_)){const f=r.get(_);f&&(r.delete(_),o.splice(o.indexOf(f),1),f.children.forEach(c),f.alias.forEach(c))}else{const f=o.indexOf(_);f>-1&&(o.splice(f,1),_.record.name&&r.delete(_.record.name),_.children.forEach(c),_.alias.forEach(c))}}function d(){return o}function p(_){const f=mp(_,o);o.splice(f,0,_),_.record.name&&!Yi(_)&&r.set(_.record.name,_)}function h(_,f){let v,b={},y,S;if("name"in _&&_.name){if(v=r.get(_.name),!v)throw Ln(Ge.MATCHER_NOT_FOUND,{location:_});S=v.record.name,b=we(Qi(f.params,v.keys.filter(w=>!w.optional).concat(v.parent?v.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),_.params&&Qi(_.params,v.keys.map(w=>w.name))),y=v.stringify(b)}else if(_.path!=null)y=_.path,v=o.find(w=>w.re.test(y)),v&&(b=v.parse(y),S=v.record.name);else{if(v=f.name?r.get(f.name):o.find(w=>w.re.test(f.path)),!v)throw Ln(Ge.MATCHER_NOT_FOUND,{location:_,currentLocation:f});S=v.record.name,b=we({},f.params,_.params),y=v.stringify(b)}const E=[];let P=v;for(;P;)E.unshift(P.record),P=P.parent;return{name:S,path:y,params:b,matched:E,meta:hp(E)}}t.forEach(_=>a(_));function g(){o.length=0,r.clear()}return{addRoute:a,resolve:h,removeRoute:c,clearRoutes:g,getRoutes:d,getRecordMatcher:i}}function Qi(t,e){const o={};for(const r of e)r in t&&(o[r]=t[r]);return o}function Xi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:fp(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function fp(t){const e={},o=t.props||!1;if("component"in t)e.default=o;else for(const r in t.components)e[r]=typeof o=="object"?o[r]:o;return e}function Yi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function hp(t){return t.reduce((e,o)=>we(e,o.meta),{})}function mp(t,e){let o=0,r=e.length;for(;o!==r;){const a=o+r>>1;Ba(t,e[a])<0?r=a:o=a+1}const i=gp(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function gp(t){let e=t;for(;e=e.parent;)if(Va(e)&&Ba(t,e)===0)return e}function Va({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Zi(t){const e=Ft(Os),o=Ft(Zo),r=Le(()=>{const p=Dn(t.to);return e.resolve(p)}),i=Le(()=>{const{matched:p}=r.value,{length:h}=p,g=p[h-1],_=o.matched;if(!g||!_.length)return-1;const f=_.findIndex(On.bind(null,g));if(f>-1)return f;const v=ea(p[h-2]);return h>1&&ea(g)===v&&_[_.length-1].path!==v?_.findIndex(On.bind(null,p[h-2])):f}),a=Le(()=>i.value>-1&&wp(o.params,r.value.params)),c=Le(()=>i.value>-1&&i.value===o.matched.length-1&&Fa(o.params,r.value.params));function d(p={}){if(yp(p)){const h=e[Dn(t.replace)?"replace":"push"](Dn(t.to)).catch(Xn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Le(()=>r.value.href),isActive:a,isExactActive:c,navigate:d}}function _p(t){return t.length===1?t[0]:t}const vp=bt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Zi,setup(t,{slots:e}){const o=Ts(Zi(t)),{options:r}=Ft(Os),i=Le(()=>({[ta(t.activeClass,r.linkActiveClass,"router-link-active")]:o.isActive,[ta(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const a=e.default&&_p(e.default(o));return t.custom?a:xa("a",{"aria-current":o.isExactActive?t.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:i.value},a)}}}),bp=vp;function yp(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function wp(t,e){for(const o in e){const r=e[o],i=t[o];if(typeof r=="string"){if(r!==i)return!1}else if(!Pt(i)||i.length!==r.length||r.some((a,c)=>a.valueOf()!==i[c].valueOf()))return!1}return!0}function ea(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ta=(t,e,o)=>t??e??o,kp=bt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:o}){const r=Ft($o),i=Le(()=>t.route||r.value),a=Ft(Ki,0),c=Le(()=>{let h=Dn(a);const{matched:g}=i.value;let _;for(;(_=g[h])&&!_.components;)h++;return h}),d=Le(()=>i.value.matched[c.value]);In(Ki,Le(()=>c.value+1)),In(Xd,d),In($o,i);const p=L();return Xt(()=>[p.value,d.value,t.name],([h,g,_],[f,v,b])=>{g&&(g.instances[_]=h,v&&v!==g&&h&&h===f&&(g.leaveGuards.size||(g.leaveGuards=v.leaveGuards),g.updateGuards.size||(g.updateGuards=v.updateGuards))),h&&g&&(!v||!On(g,v)||!f)&&(g.enterCallbacks[_]||[]).forEach(y=>y(h))},{flush:"post"}),()=>{const h=i.value,g=t.name,_=d.value,f=_&&_.components[g];if(!f)return na(o.default,{Component:f,route:h});const v=_.props[g],b=v?v===!0?h.params:typeof v=="function"?v(h):v:null,S=xa(f,we({},b,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(_.instances[g]=null)},ref:p}));return na(o.default,{Component:S,route:h})||S}}});function na(t,e){if(!t)return null;const o=t(e);return o.length===1?o[0]:o}const xp=kp;function Sp(t){const e=pp(t.routes,t),o=t.parseQuery||Wd,r=t.stringifyQuery||zi,i=t.history,a=Wn(),c=Wn(),d=Wn(),p=Lu(Jt);let h=Jt;Rn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=xo.bind(null,R=>""+R),_=xo.bind(null,Id),f=xo.bind(null,Zn);function v(R,Q){let J,ee;return ja(R)?(J=e.getRecordMatcher(R),ee=Q):ee=R,e.addRoute(ee,J)}function b(R){const Q=e.getRecordMatcher(R);Q&&e.removeRoute(Q)}function y(){return e.getRoutes().map(R=>R.record)}function S(R){return!!e.getRecordMatcher(R)}function E(R,Q){if(Q=we({},Q||p.value),typeof R=="string"){const se=So(o,R,Q.path),Ee=e.resolve({path:se.path},Q),yt=i.createHref(se.fullPath);return we(se,Ee,{params:f(Ee.params),hash:Zn(se.hash),redirectedFrom:void 0,href:yt})}let J;if(R.path!=null)J=we({},R,{path:So(o,R.path,Q.path).path});else{const se=we({},R.params);for(const Ee in se)se[Ee]==null&&delete se[Ee];J=we({},R,{params:_(se)}),Q.params=_(Q.params)}const ee=e.resolve(J,Q),fe=R.hash||"";ee.params=g(f(ee.params));const Ce=Ld(r,we({},R,{hash:Pd(fe),path:ee.path})),ue=i.createHref(Ce);return we({fullPath:Ce,hash:fe,query:r===zi?Qd(R.query):R.query||{}},ee,{redirectedFrom:void 0,href:ue})}function P(R){return typeof R=="string"?So(o,R,p.value.path):we({},R)}function w(R,Q){if(h!==R)return Ln(Ge.NAVIGATION_CANCELLED,{from:Q,to:R})}function D(R){return H(R)}function U(R){return D(we(P(R),{replace:!0}))}function z(R,Q){const J=R.matched[R.matched.length-1];if(J&&J.redirect){const{redirect:ee}=J;let fe=typeof ee=="function"?ee(R,Q):ee;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=P(fe):{path:fe},fe.params={}),we({query:R.query,hash:R.hash,params:fe.path!=null?{}:R.params},fe)}}function H(R,Q){const J=h=E(R),ee=p.value,fe=R.state,Ce=R.force,ue=R.replace===!0,se=z(J,ee);if(se)return H(we(P(se),{state:typeof se=="object"?we({},fe,se.state):fe,force:Ce,replace:ue}),Q||J);const Ee=J;Ee.redirectedFrom=Q;let yt;return!Ce&&$d(r,ee,J)&&(yt=Ln(Ge.NAVIGATION_DUPLICATED,{to:Ee,from:ee}),He(ee,ee,!0,!1)),(yt?Promise.resolve(yt):M(Ee,ee)).catch(j=>Vt(j)?Vt(j,Ge.NAVIGATION_GUARD_REDIRECT)?j:Xe(j):$e(j,Ee,ee)).then(j=>{if(j){if(Vt(j,Ge.NAVIGATION_GUARD_REDIRECT))return H(we({replace:ue},P(j.to),{state:typeof j.to=="object"?we({},fe,j.to.state):fe,force:Ce}),Q||Ee)}else j=K(Ee,ee,!0,ue,fe);return N(Ee,ee,j),j})}function G(R,Q){const J=w(R,Q);return J?Promise.reject(J):Promise.resolve()}function A(R){const Q=Je.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(R):R()}function M(R,Q){let J;const[ee,fe,Ce]=Yd(R,Q);J=Eo(ee.reverse(),"beforeRouteLeave",R,Q);for(const se of ee)se.leaveGuards.forEach(Ee=>{J.push(Qt(Ee,R,Q))});const ue=G.bind(null,R,Q);return J.push(ue),pt(J).then(()=>{J=[];for(const se of a.list())J.push(Qt(se,R,Q));return J.push(ue),pt(J)}).then(()=>{J=Eo(fe,"beforeRouteUpdate",R,Q);for(const se of fe)se.updateGuards.forEach(Ee=>{J.push(Qt(Ee,R,Q))});return J.push(ue),pt(J)}).then(()=>{J=[];for(const se of Ce)if(se.beforeEnter)if(Pt(se.beforeEnter))for(const Ee of se.beforeEnter)J.push(Qt(Ee,R,Q));else J.push(Qt(se.beforeEnter,R,Q));return J.push(ue),pt(J)}).then(()=>(R.matched.forEach(se=>se.enterCallbacks={}),J=Eo(Ce,"beforeRouteEnter",R,Q,A),J.push(ue),pt(J))).then(()=>{J=[];for(const se of c.list())J.push(Qt(se,R,Q));return J.push(ue),pt(J)}).catch(se=>Vt(se,Ge.NAVIGATION_CANCELLED)?se:Promise.reject(se))}function N(R,Q,J){d.list().forEach(ee=>A(()=>ee(R,Q,J)))}function K(R,Q,J,ee,fe){const Ce=w(R,Q);if(Ce)return Ce;const ue=Q===Jt,se=Rn?history.state:{};J&&(ee||ue?i.replace(R.fullPath,we({scroll:ue&&se&&se.scroll},fe)):i.push(R.fullPath,fe)),p.value=R,He(R,Q,J,ue),Xe()}let me;function Me(){me||(me=i.listen((R,Q,J)=>{if(!Fe.listening)return;const ee=E(R),fe=z(ee,Fe.currentRoute.value);if(fe){H(we(fe,{replace:!0,force:!0}),ee).catch(Xn);return}h=ee;const Ce=p.value;Rn&&Vd(Vi(Ce.fullPath,J.delta),qs()),M(ee,Ce).catch(ue=>Vt(ue,Ge.NAVIGATION_ABORTED|Ge.NAVIGATION_CANCELLED)?ue:Vt(ue,Ge.NAVIGATION_GUARD_REDIRECT)?(H(we(P(ue.to),{force:!0}),ee).then(se=>{Vt(se,Ge.NAVIGATION_ABORTED|Ge.NAVIGATION_DUPLICATED)&&!J.delta&&J.type===Oo.pop&&i.go(-1,!1)}).catch(Xn),Promise.reject()):(J.delta&&i.go(-J.delta,!1),$e(ue,ee,Ce))).then(ue=>{ue=ue||K(ee,Ce,!1),ue&&(J.delta&&!Vt(ue,Ge.NAVIGATION_CANCELLED)?i.go(-J.delta,!1):J.type===Oo.pop&&Vt(ue,Ge.NAVIGATION_ABORTED|Ge.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),N(ee,Ce,ue)}).catch(Xn)}))}let Ke=Wn(),Se=Wn(),Pe;function $e(R,Q,J){Xe(R);const ee=Se.list();return ee.length?ee.forEach(fe=>fe(R,Q,J)):console.error(R),Promise.reject(R)}function $(){return Pe&&p.value!==Jt?Promise.resolve():new Promise((R,Q)=>{Ke.add([R,Q])})}function Xe(R){return Pe||(Pe=!R,Me(),Ke.list().forEach(([Q,J])=>R?J(R):Q()),Ke.reset()),R}function He(R,Q,J,ee){const{scrollBehavior:fe}=t;if(!Rn||!fe)return Promise.resolve();const Ce=!J&&zd(Vi(R.fullPath,0))||(ee||!J)&&history.state&&history.state.scroll||null;return Vo().then(()=>fe(R,Q,Ce)).then(ue=>ue&&Bd(ue)).catch(ue=>$e(ue,R,Q))}const Ye=R=>i.go(R);let Be;const Je=new Set,Fe={currentRoute:p,listening:!0,addRoute:v,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:y,resolve:E,options:t,push:D,replace:U,go:Ye,back:()=>Ye(-1),forward:()=>Ye(1),beforeEach:a.add,beforeResolve:c.add,afterEach:d.add,onError:Se.add,isReady:$,install(R){R.component("RouterLink",bp),R.component("RouterView",xp),R.config.globalProperties.$router=Fe,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Dn(p)}),Rn&&!Be&&p.value===Jt&&(Be=!0,D(i.location).catch(ee=>{}));const Q={};for(const ee in Jt)Object.defineProperty(Q,ee,{get:()=>p.value[ee],enumerable:!0});R.provide(Os,Fe),R.provide(Zo,$u(Q)),R.provide($o,p);const J=R.unmount;Je.add(R),R.unmount=function(){Je.delete(R),Je.size<1&&(h=Jt,me&&me(),me=null,p.value=Jt,Be=!1,Pe=!1),J()}}};function pt(R){return R.reduce((Q,J)=>Q.then(()=>A(J)),Promise.resolve())}return Fe}function Nn(){return Ft(Os)}function Mn(t){return Ft(Zo)}const Oe=(t,e)=>{const o=t.__vccOpts||t;for(const[r,i]of e)o[r]=i;return o},Cp={name:"HomeView",data(){return{searchQuery:""}},methods:{performSearch(){this.searchQuery.trim()&&this.$router.push({path:"/tools/id-search/results",query:{q:this.searchQuery.trim()}})}}},Ep={class:"home"},Ap={class:"hero-section"},Tp={class:"container"},Pp={class:"search-box-container"},Rp={class:"input-group"},Dp={class:"features-section py-8"},Ip={class:"container"},qp={class:"row"},Op={class:"col-md-4 mb-4"},Lp={class:"feature-card h-100"},$p={class:"col-md-4 mb-4"},Np={class:"feature-card h-100"},Mp={class:"col-md-4 mb-4"},Fp={class:"feature-card h-100"};function jp(t,e,o,r,i,a){const c=nt("router-link");return k(),x("div",Ep,[s("div",Ap,[s("div",Tp,[e[4]||(e[4]=s("h1",{class:"text-center mb-4"},"Welcome to CottonOGD Website",-1)),e[5]||(e[5]=s("p",{class:"text-center mb-6"},"Comprehensive genomic database for cotton research",-1)),s("div",Pp,[s("div",Rp,[re(s("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter gene ID, symbol or keyword...","onUpdate:modelValue":e[0]||(e[0]=d=>i.searchQuery=d),onKeyup:e[1]||(e[1]=Nu((...d)=>a.performSearch&&a.performSearch(...d),["enter"]))},null,544),[[ve,i.searchQuery]]),s("button",{class:"btn btn-primary btn-lg",onClick:e[2]||(e[2]=(...d)=>a.performSearch&&a.performSearch(...d))},[...e[3]||(e[3]=[s("i",{class:"fas fa-search"},null,-1),te(" Search ",-1)])])])])])]),s("div",Dp,[s("div",Ip,[s("div",qp,[s("div",Op,[s("div",Lp,[e[7]||(e[7]=s("div",{class:"icon-container"},[s("i",{class:"fas fa-database fa-3x text-primary"})],-1)),e[8]||(e[8]=s("h3",{class:"mt-3 mb-2"},"Browse",-1)),e[9]||(e[9]=s("p",{class:"mb-4"},"Explore cotton genome data, species information and transcription factors",-1)),V(c,{to:"/browse/genome",class:"btn btn-outline-primary"},{default:oe(()=>[...e[6]||(e[6]=[te(" Get Started ",-1)])]),_:1})])]),s("div",$p,[s("div",Np,[e[11]||(e[11]=s("div",{class:"icon-container"},[s("i",{class:"fas fa-chart-line fa-3x text-primary"})],-1)),e[12]||(e[12]=s("h3",{class:"mt-3 mb-2"},"Visualization",-1)),e[13]||(e[13]=s("p",{class:"mb-4"},"View genomic data interactively with JBrowse and expression patterns",-1)),V(c,{to:"/jbrowse",class:"btn btn-outline-primary"},{default:oe(()=>[...e[10]||(e[10]=[te(" Launch JBrowse ",-1)])]),_:1})])]),s("div",Mp,[s("div",Fp,[e[15]||(e[15]=s("div",{class:"icon-container"},[s("i",{class:"fas fa-tools fa-3x text-primary"})],-1)),e[16]||(e[16]=s("h3",{class:"mt-3 mb-2"},"Tools",-1)),e[17]||(e[17]=s("p",{class:"mb-4"},"Use various analysis tools for gene function, expression and enrichment",-1)),V(c,{to:"/tools/id-search",class:"btn btn-outline-primary"},{default:oe(()=>[...e[14]||(e[14]=[te(" Explore Tools ",-1)])]),_:1})])])])])]),e[18]||(e[18]=Ds('<div class="research-section bg-light py-8" data-v-fafdabbe><div class="container" data-v-fafdabbe><h2 class="text-center mb-6" data-v-fafdabbe>Latest Research Highlights</h2><div class="row" data-v-fafdabbe><div class="col-md-6 mb-4" data-v-fafdabbe><div class="research-card bg-white rounded-lg shadow-sm p-4" data-v-fafdabbe><h4 data-v-fafdabbe>Genome-Wide Analysis of Cotton Transcription Factors</h4><p class="text-muted" data-v-fafdabbe>Identification and characterization of transcription factor families across cotton species</p></div></div><div class="col-md-6 mb-4" data-v-fafdabbe><div class="research-card bg-white rounded-lg shadow-sm p-4" data-v-fafdabbe><h4 data-v-fafdabbe>Comparative Genomics of Gossypium</h4><p class="text-muted" data-v-fafdabbe>Evolutionary insights from comparative analysis of multiple cotton genomes</p></div></div></div></div></div>',1))])}const Gp=Oe(Cp,[["render",jp],["__scopeId","data-v-fafdabbe"]]),Up={name:"BrowseGenomeView"},Bp={class:"container mt-4"};function Vp(t,e,o,r,i,a){return k(),x("div",Bp,[...e[0]||(e[0]=[s("h1",null,"浏览基因组",-1),s("p",null,"此页面正在开发中...",-1)])])}const zp=Oe(Up,[["render",Vp]]);function za(t,e){return function(){return t.apply(e,arguments)}}const{toString:Kp}=Object.prototype,{getPrototypeOf:er}=Object,{iterator:Ls,toStringTag:Ka}=Symbol,$s=(t=>e=>{const o=Kp.call(e);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Rt=t=>(t=t.toLowerCase(),e=>$s(e)===t),Ns=t=>e=>typeof e===t,{isArray:Fn}=Array,$n=Ns("undefined");function es(t){return t!==null&&!$n(t)&&t.constructor!==null&&!$n(t.constructor)&&ft(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ha=Rt("ArrayBuffer");function Hp(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ha(t.buffer),e}const Jp=Ns("string"),ft=Ns("function"),Ja=Ns("number"),ts=t=>t!==null&&typeof t=="object",Wp=t=>t===!0||t===!1,Cs=t=>{if($s(t)!=="object")return!1;const e=er(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ka in t)&&!(Ls in t)},Qp=t=>{if(!ts(t)||es(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Xp=Rt("Date"),Yp=Rt("File"),Zp=Rt("Blob"),ef=Rt("FileList"),tf=t=>ts(t)&&ft(t.pipe),nf=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ft(t.append)&&((e=$s(t))==="formdata"||e==="object"&&ft(t.toString)&&t.toString()==="[object FormData]"))},sf=Rt("URLSearchParams"),[of,rf,af,lf]=["ReadableStream","Request","Response","Headers"].map(Rt),cf=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ns(t,e,{allOwnKeys:o=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Fn(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(es(t))return;const a=o?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let d;for(r=0;r<c;r++)d=a[r],e.call(null,t[d],d,t)}}function Wa(t,e){if(es(t))return null;e=e.toLowerCase();const o=Object.keys(t);let r=o.length,i;for(;r-- >0;)if(i=o[r],e===i.toLowerCase())return i;return null}const dn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qa=t=>!$n(t)&&t!==dn;function No(){const{caseless:t,skipUndefined:e}=Qa(this)&&this||{},o={},r=(i,a)=>{const c=t&&Wa(o,a)||a;Cs(o[c])&&Cs(i)?o[c]=No(o[c],i):Cs(i)?o[c]=No({},i):Fn(i)?o[c]=i.slice():(!e||!$n(i))&&(o[c]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&ns(arguments[i],r);return o}const uf=(t,e,o,{allOwnKeys:r}={})=>(ns(e,(i,a)=>{o&&ft(i)?t[a]=za(i,o):t[a]=i},{allOwnKeys:r}),t),df=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),pf=(t,e,o,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),o&&Object.assign(t.prototype,o)},ff=(t,e,o,r)=>{let i,a,c;const d={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)c=i[a],(!r||r(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=o!==!1&&er(t)}while(t&&(!o||o(t,e))&&t!==Object.prototype);return e},hf=(t,e,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=e.length;const r=t.indexOf(e,o);return r!==-1&&r===o},mf=t=>{if(!t)return null;if(Fn(t))return t;let e=t.length;if(!Ja(e))return null;const o=new Array(e);for(;e-- >0;)o[e]=t[e];return o},gf=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&er(Uint8Array)),_f=(t,e)=>{const r=(t&&t[Ls]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},vf=(t,e)=>{let o;const r=[];for(;(o=t.exec(e))!==null;)r.push(o);return r},bf=Rt("HTMLFormElement"),yf=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,r,i){return r.toUpperCase()+i}),sa=(({hasOwnProperty:t})=>(e,o)=>t.call(e,o))(Object.prototype),wf=Rt("RegExp"),Xa=(t,e)=>{const o=Object.getOwnPropertyDescriptors(t),r={};ns(o,(i,a)=>{let c;(c=e(i,a,t))!==!1&&(r[a]=c||i)}),Object.defineProperties(t,r)},kf=t=>{Xa(t,(e,o)=>{if(ft(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const r=t[o];if(ft(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},xf=(t,e)=>{const o={},r=i=>{i.forEach(a=>{o[a]=!0})};return Fn(t)?r(t):r(String(t).split(e)),o},Sf=()=>{},Cf=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ef(t){return!!(t&&ft(t.append)&&t[Ka]==="FormData"&&t[Ls])}const Af=t=>{const e=new Array(10),o=(r,i)=>{if(ts(r)){if(e.indexOf(r)>=0)return;if(es(r))return r;if(!("toJSON"in r)){e[i]=r;const a=Fn(r)?[]:{};return ns(r,(c,d)=>{const p=o(c,i+1);!$n(p)&&(a[d]=p)}),e[i]=void 0,a}}return r};return o(t,0)},Tf=Rt("AsyncFunction"),Pf=t=>t&&(ts(t)||ft(t))&&ft(t.then)&&ft(t.catch),Ya=((t,e)=>t?setImmediate:e?((o,r)=>(dn.addEventListener("message",({source:i,data:a})=>{i===dn&&a===o&&r.length&&r.shift()()},!1),i=>{r.push(i),dn.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",ft(dn.postMessage)),Rf=typeof queueMicrotask<"u"?queueMicrotask.bind(dn):typeof process<"u"&&process.nextTick||Ya,Df=t=>t!=null&&ft(t[Ls]),q={isArray:Fn,isArrayBuffer:Ha,isBuffer:es,isFormData:nf,isArrayBufferView:Hp,isString:Jp,isNumber:Ja,isBoolean:Wp,isObject:ts,isPlainObject:Cs,isEmptyObject:Qp,isReadableStream:of,isRequest:rf,isResponse:af,isHeaders:lf,isUndefined:$n,isDate:Xp,isFile:Yp,isBlob:Zp,isRegExp:wf,isFunction:ft,isStream:tf,isURLSearchParams:sf,isTypedArray:gf,isFileList:ef,forEach:ns,merge:No,extend:uf,trim:cf,stripBOM:df,inherits:pf,toFlatObject:ff,kindOf:$s,kindOfTest:Rt,endsWith:hf,toArray:mf,forEachEntry:_f,matchAll:vf,isHTMLForm:bf,hasOwnProperty:sa,hasOwnProp:sa,reduceDescriptors:Xa,freezeMethods:kf,toObjectSet:xf,toCamelCase:yf,noop:Sf,toFiniteNumber:Cf,findKey:Wa,global:dn,isContextDefined:Qa,isSpecCompliantForm:Ef,toJSONObject:Af,isAsyncFn:Tf,isThenable:Pf,setImmediate:Ya,asap:Rf,isIterable:Df};function ce(t,e,o,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),o&&(this.config=o),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Za=ce.prototype,el={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{el[t]={value:t}});Object.defineProperties(ce,el);Object.defineProperty(Za,"isAxiosError",{value:!0});ce.from=(t,e,o,r,i,a)=>{const c=Object.create(Za);q.toFlatObject(t,c,function(g){return g!==Error.prototype},h=>h!=="isAxiosError");const d=t&&t.message?t.message:"Error",p=e==null&&t?t.code:e;return ce.call(c,d,p,o,r,i),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",a&&Object.assign(c,a),c};const If=null;function Mo(t){return q.isPlainObject(t)||q.isArray(t)}function tl(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function oa(t,e,o){return t?t.concat(e).map(function(i,a){return i=tl(i),!o&&a?"["+i+"]":i}).join(o?".":""):e}function qf(t){return q.isArray(t)&&!t.some(Mo)}const Of=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function Ms(t,e,o){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,o=q.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,S){return!q.isUndefined(S[y])});const r=o.metaTokens,i=o.visitor||g,a=o.dots,c=o.indexes,p=(o.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(q.isDate(b))return b.toISOString();if(q.isBoolean(b))return b.toString();if(!p&&q.isBlob(b))throw new ce("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(b)||q.isTypedArray(b)?p&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,y,S){let E=b;if(b&&!S&&typeof b=="object"){if(q.endsWith(y,"{}"))y=r?y:y.slice(0,-2),b=JSON.stringify(b);else if(q.isArray(b)&&qf(b)||(q.isFileList(b)||q.endsWith(y,"[]"))&&(E=q.toArray(b)))return y=tl(y),E.forEach(function(w,D){!(q.isUndefined(w)||w===null)&&e.append(c===!0?oa([y],D,a):c===null?y:y+"[]",h(w))}),!1}return Mo(b)?!0:(e.append(oa(S,y,a),h(b)),!1)}const _=[],f=Object.assign(Of,{defaultVisitor:g,convertValue:h,isVisitable:Mo});function v(b,y){if(!q.isUndefined(b)){if(_.indexOf(b)!==-1)throw Error("Circular reference detected in "+y.join("."));_.push(b),q.forEach(b,function(E,P){(!(q.isUndefined(E)||E===null)&&i.call(e,E,q.isString(P)?P.trim():P,y,f))===!0&&v(E,y?y.concat(P):[P])}),_.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return v(t),e}function ra(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function tr(t,e){this._pairs=[],t&&Ms(t,this,e)}const nl=tr.prototype;nl.append=function(e,o){this._pairs.push([e,o])};nl.toString=function(e){const o=e?function(r){return e.call(this,r,ra)}:ra;return this._pairs.map(function(i){return o(i[0])+"="+o(i[1])},"").join("&")};function Lf(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sl(t,e,o){if(!e)return t;const r=o&&o.encode||Lf;q.isFunction(o)&&(o={serialize:o});const i=o&&o.serialize;let a;if(i?a=i(e,o):a=q.isURLSearchParams(e)?e.toString():new tr(e,o).toString(r),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class ia{constructor(){this.handlers=[]}use(e,o,r){return this.handlers.push({fulfilled:e,rejected:o,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ol={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$f=typeof URLSearchParams<"u"?URLSearchParams:tr,Nf=typeof FormData<"u"?FormData:null,Mf=typeof Blob<"u"?Blob:null,Ff={isBrowser:!0,classes:{URLSearchParams:$f,FormData:Nf,Blob:Mf},protocols:["http","https","file","blob","url","data"]},nr=typeof window<"u"&&typeof document<"u",Fo=typeof navigator=="object"&&navigator||void 0,jf=nr&&(!Fo||["ReactNative","NativeScript","NS"].indexOf(Fo.product)<0),Gf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uf=nr&&window.location.href||"http://localhost",Bf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nr,hasStandardBrowserEnv:jf,hasStandardBrowserWebWorkerEnv:Gf,navigator:Fo,origin:Uf},Symbol.toStringTag,{value:"Module"})),ot={...Bf,...Ff};function Vf(t,e){return Ms(t,new ot.classes.URLSearchParams,{visitor:function(o,r,i,a){return ot.isNode&&q.isBuffer(o)?(this.append(r,o.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function zf(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Kf(t){const e={},o=Object.keys(t);let r;const i=o.length;let a;for(r=0;r<i;r++)a=o[r],e[a]=t[a];return e}function rl(t){function e(o,r,i,a){let c=o[a++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=a>=o.length;return c=!c&&q.isArray(i)?i.length:c,p?(q.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!d):((!i[c]||!q.isObject(i[c]))&&(i[c]=[]),e(o,r,i[c],a)&&q.isArray(i[c])&&(i[c]=Kf(i[c])),!d)}if(q.isFormData(t)&&q.isFunction(t.entries)){const o={};return q.forEachEntry(t,(r,i)=>{e(zf(r),i,o,0)}),o}return null}function Hf(t,e,o){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(o||JSON.stringify)(t)}const ss={transitional:ol,adapter:["xhr","http","fetch"],transformRequest:[function(e,o){const r=o.getContentType()||"",i=r.indexOf("application/json")>-1,a=q.isObject(e);if(a&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return i?JSON.stringify(rl(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Vf(e,this.formSerializer).toString();if((d=q.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Ms(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||i?(o.setContentType("application/json",!1),Hf(e)):e}],transformResponse:[function(e){const o=this.transitional||ss.transitional,r=o&&o.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(r&&!this.responseType||i)){const c=!(o&&o.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?ce.from(d,ce.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{ss.headers[t]={}});const Jf=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wf=t=>{const e={};let o,r,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),o=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!o||e[o]&&Jf[o])&&(o==="set-cookie"?e[o]?e[o].push(r):e[o]=[r]:e[o]=e[o]?e[o]+", "+r:r)}),e},aa=Symbol("internals");function Qn(t){return t&&String(t).trim().toLowerCase()}function Es(t){return t===!1||t==null?t:q.isArray(t)?t.map(Es):String(t)}function Qf(t){const e=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=o.exec(t);)e[r[1]]=r[2];return e}const Xf=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ao(t,e,o,r,i){if(q.isFunction(r))return r.call(this,e,o);if(i&&(e=o),!!q.isString(e)){if(q.isString(r))return e.indexOf(r)!==-1;if(q.isRegExp(r))return r.test(e)}}function Yf(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,o,r)=>o.toUpperCase()+r)}function Zf(t,e){const o=q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+o,{value:function(i,a,c){return this[r].call(this,e,i,a,c)},configurable:!0})})}let ht=class{constructor(e){e&&this.set(e)}set(e,o,r){const i=this;function a(d,p,h){const g=Qn(p);if(!g)throw new Error("header name must be a non-empty string");const _=q.findKey(i,g);(!_||i[_]===void 0||h===!0||h===void 0&&i[_]!==!1)&&(i[_||p]=Es(d))}const c=(d,p)=>q.forEach(d,(h,g)=>a(h,g,p));if(q.isPlainObject(e)||e instanceof this.constructor)c(e,o);else if(q.isString(e)&&(e=e.trim())&&!Xf(e))c(Wf(e),o);else if(q.isObject(e)&&q.isIterable(e)){let d={},p,h;for(const g of e){if(!q.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[h=g[0]]=(p=d[h])?q.isArray(p)?[...p,g[1]]:[p,g[1]]:g[1]}c(d,o)}else e!=null&&a(o,e,r);return this}get(e,o){if(e=Qn(e),e){const r=q.findKey(this,e);if(r){const i=this[r];if(!o)return i;if(o===!0)return Qf(i);if(q.isFunction(o))return o.call(this,i,r);if(q.isRegExp(o))return o.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,o){if(e=Qn(e),e){const r=q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!o||Ao(this,this[r],r,o)))}return!1}delete(e,o){const r=this;let i=!1;function a(c){if(c=Qn(c),c){const d=q.findKey(r,c);d&&(!o||Ao(r,r[d],d,o))&&(delete r[d],i=!0)}}return q.isArray(e)?e.forEach(a):a(e),i}clear(e){const o=Object.keys(this);let r=o.length,i=!1;for(;r--;){const a=o[r];(!e||Ao(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const o=this,r={};return q.forEach(this,(i,a)=>{const c=q.findKey(r,a);if(c){o[c]=Es(i),delete o[a];return}const d=e?Yf(a):String(a).trim();d!==a&&delete o[a],o[d]=Es(i),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const o=Object.create(null);return q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(o[i]=e&&q.isArray(r)?r.join(", "):r)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,o])=>e+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...o){const r=new this(e);return o.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[aa]=this[aa]={accessors:{}}).accessors,i=this.prototype;function a(c){const d=Qn(c);r[d]||(Zf(i,c),r[d]=!0)}return q.isArray(e)?e.forEach(a):a(e),this}};ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(ht.prototype,({value:t},e)=>{let o=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[o]=r}}});q.freezeMethods(ht);function To(t,e){const o=this||ss,r=e||o,i=ht.from(r.headers);let a=r.data;return q.forEach(t,function(d){a=d.call(o,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function il(t){return!!(t&&t.__CANCEL__)}function jn(t,e,o){ce.call(this,t??"canceled",ce.ERR_CANCELED,e,o),this.name="CanceledError"}q.inherits(jn,ce,{__CANCEL__:!0});function al(t,e,o){const r=o.config.validateStatus;!o.status||!r||r(o.status)?t(o):e(new ce("Request failed with status code "+o.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function eh(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function th(t,e){t=t||10;const o=new Array(t),r=new Array(t);let i=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const h=Date.now(),g=r[a];c||(c=h),o[i]=p,r[i]=h;let _=a,f=0;for(;_!==i;)f+=o[_++],_=_%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),h-c<e)return;const v=g&&h-g;return v?Math.round(f*1e3/v):void 0}}function nh(t,e){let o=0,r=1e3/e,i,a;const c=(h,g=Date.now())=>{o=g,i=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const g=Date.now(),_=g-o;_>=r?c(h,g):(i=h,a||(a=setTimeout(()=>{a=null,c(i)},r-_)))},()=>i&&c(i)]}const Rs=(t,e,o=3)=>{let r=0;const i=th(50,250);return nh(a=>{const c=a.loaded,d=a.lengthComputable?a.total:void 0,p=c-r,h=i(p),g=c<=d;r=c;const _={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:h||void 0,estimated:h&&d&&g?(d-c)/h:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(_)},o)},la=(t,e)=>{const o=t!=null;return[r=>e[0]({lengthComputable:o,total:t,loaded:r}),e[1]]},ca=t=>(...e)=>q.asap(()=>t(...e)),sh=ot.hasStandardBrowserEnv?((t,e)=>o=>(o=new URL(o,ot.origin),t.protocol===o.protocol&&t.host===o.host&&(e||t.port===o.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,oh=ot.hasStandardBrowserEnv?{write(t,e,o,r,i,a,c){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(e)}`];q.isNumber(o)&&d.push(`expires=${new Date(o).toUTCString()}`),q.isString(r)&&d.push(`path=${r}`),q.isString(i)&&d.push(`domain=${i}`),a===!0&&d.push("secure"),q.isString(c)&&d.push(`SameSite=${c}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function rh(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ih(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ll(t,e,o){let r=!rh(e);return t&&(r||o==!1)?ih(t,e):e}const ua=t=>t instanceof ht?{...t}:t;function fn(t,e){e=e||{};const o={};function r(h,g,_,f){return q.isPlainObject(h)&&q.isPlainObject(g)?q.merge.call({caseless:f},h,g):q.isPlainObject(g)?q.merge({},g):q.isArray(g)?g.slice():g}function i(h,g,_,f){if(q.isUndefined(g)){if(!q.isUndefined(h))return r(void 0,h,_,f)}else return r(h,g,_,f)}function a(h,g){if(!q.isUndefined(g))return r(void 0,g)}function c(h,g){if(q.isUndefined(g)){if(!q.isUndefined(h))return r(void 0,h)}else return r(void 0,g)}function d(h,g,_){if(_ in e)return r(h,g);if(_ in t)return r(void 0,h)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(h,g,_)=>i(ua(h),ua(g),_,!0)};return q.forEach(Object.keys({...t,...e}),function(g){const _=p[g]||i,f=_(t[g],e[g],g);q.isUndefined(f)&&_!==d||(o[g]=f)}),o}const cl=t=>{const e=fn({},t);let{data:o,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:c,auth:d}=e;if(e.headers=c=ht.from(c),e.url=sl(ll(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),q.isFormData(o)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(q.isFunction(o.getHeaders)){const p=o.getHeaders(),h=["content-type","content-length"];Object.entries(p).forEach(([g,_])=>{h.includes(g.toLowerCase())&&c.set(g,_)})}}if(ot.hasStandardBrowserEnv&&(r&&q.isFunction(r)&&(r=r(e)),r||r!==!1&&sh(e.url))){const p=i&&a&&oh.read(a);p&&c.set(i,p)}return e},ah=typeof XMLHttpRequest<"u",lh=ah&&function(t){return new Promise(function(o,r){const i=cl(t);let a=i.data;const c=ht.from(i.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:h}=i,g,_,f,v,b;function y(){v&&v(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function E(){if(!S)return;const w=ht.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),U={data:!d||d==="text"||d==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:w,config:t,request:S};al(function(H){o(H),y()},function(H){r(H),y()},U),S=null}"onloadend"in S?S.onloadend=E:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(E)},S.onabort=function(){S&&(r(new ce("Request aborted",ce.ECONNABORTED,t,S)),S=null)},S.onerror=function(D){const U=D&&D.message?D.message:"Network Error",z=new ce(U,ce.ERR_NETWORK,t,S);z.event=D||null,r(z),S=null},S.ontimeout=function(){let D=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const U=i.transitional||ol;i.timeoutErrorMessage&&(D=i.timeoutErrorMessage),r(new ce(D,U.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,t,S)),S=null},a===void 0&&c.setContentType(null),"setRequestHeader"in S&&q.forEach(c.toJSON(),function(D,U){S.setRequestHeader(U,D)}),q.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),d&&d!=="json"&&(S.responseType=i.responseType),h&&([f,b]=Rs(h,!0),S.addEventListener("progress",f)),p&&S.upload&&([_,v]=Rs(p),S.upload.addEventListener("progress",_),S.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(g=w=>{S&&(r(!w||w.type?new jn(null,t,S):w),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const P=eh(i.url);if(P&&ot.protocols.indexOf(P)===-1){r(new ce("Unsupported protocol "+P+":",ce.ERR_BAD_REQUEST,t));return}S.send(a||null)})},ch=(t,e)=>{const{length:o}=t=t?t.filter(Boolean):[];if(e||o){let r=new AbortController,i;const a=function(h){if(!i){i=!0,d();const g=h instanceof Error?h:this.reason;r.abort(g instanceof ce?g:new jn(g instanceof Error?g.message:g))}};let c=e&&setTimeout(()=>{c=null,a(new ce(`timeout ${e} of ms exceeded`,ce.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:p}=r;return p.unsubscribe=()=>q.asap(d),p}},uh=function*(t,e){let o=t.byteLength;if(o<e){yield t;return}let r=0,i;for(;r<o;)i=r+e,yield t.slice(r,i),r=i},dh=async function*(t,e){for await(const o of ph(t))yield*uh(o,e)},ph=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:o,value:r}=await e.read();if(o)break;yield r}}finally{await e.cancel()}},da=(t,e,o,r)=>{const i=dh(t,e);let a=0,c,d=p=>{c||(c=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:h,value:g}=await i.next();if(h){d(),p.close();return}let _=g.byteLength;if(o){let f=a+=_;o(f)}p.enqueue(new Uint8Array(g))}catch(h){throw d(h),h}},cancel(p){return d(p),i.return()}},{highWaterMark:2})},pa=64*1024,{isFunction:Ss}=q,fh=(({Request:t,Response:e})=>({Request:t,Response:e}))(q.global),{ReadableStream:fa,TextEncoder:ha}=q.global,ma=(t,...e)=>{try{return!!t(...e)}catch{return!1}},hh=t=>{t=q.merge.call({skipUndefined:!0},fh,t);const{fetch:e,Request:o,Response:r}=t,i=e?Ss(e):typeof fetch=="function",a=Ss(o),c=Ss(r);if(!i)return!1;const d=i&&Ss(fa),p=i&&(typeof ha=="function"?(b=>y=>b.encode(y))(new ha):async b=>new Uint8Array(await new o(b).arrayBuffer())),h=a&&d&&ma(()=>{let b=!1;const y=new o(ot.origin,{body:new fa,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!y}),g=c&&d&&ma(()=>q.isReadableStream(new r("").body)),_={stream:g&&(b=>b.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!_[b]&&(_[b]=(y,S)=>{let E=y&&y[b];if(E)return E.call(y);throw new ce(`Response type '${b}' is not supported`,ce.ERR_NOT_SUPPORT,S)})});const f=async b=>{if(b==null)return 0;if(q.isBlob(b))return b.size;if(q.isSpecCompliantForm(b))return(await new o(ot.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(q.isArrayBufferView(b)||q.isArrayBuffer(b))return b.byteLength;if(q.isURLSearchParams(b)&&(b=b+""),q.isString(b))return(await p(b)).byteLength},v=async(b,y)=>{const S=q.toFiniteNumber(b.getContentLength());return S??f(y)};return async b=>{let{url:y,method:S,data:E,signal:P,cancelToken:w,timeout:D,onDownloadProgress:U,onUploadProgress:z,responseType:H,headers:G,withCredentials:A="same-origin",fetchOptions:M}=cl(b),N=e||fetch;H=H?(H+"").toLowerCase():"text";let K=ch([P,w&&w.toAbortSignal()],D),me=null;const Me=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let Ke;try{if(z&&h&&S!=="get"&&S!=="head"&&(Ke=await v(G,E))!==0){let He=new o(y,{method:"POST",body:E,duplex:"half"}),Ye;if(q.isFormData(E)&&(Ye=He.headers.get("content-type"))&&G.setContentType(Ye),He.body){const[Be,Je]=la(Ke,Rs(ca(z)));E=da(He.body,pa,Be,Je)}}q.isString(A)||(A=A?"include":"omit");const Se=a&&"credentials"in o.prototype,Pe={...M,signal:K,method:S.toUpperCase(),headers:G.normalize().toJSON(),body:E,duplex:"half",credentials:Se?A:void 0};me=a&&new o(y,Pe);let $e=await(a?N(me,M):N(y,Pe));const $=g&&(H==="stream"||H==="response");if(g&&(U||$&&Me)){const He={};["status","statusText","headers"].forEach(Fe=>{He[Fe]=$e[Fe]});const Ye=q.toFiniteNumber($e.headers.get("content-length")),[Be,Je]=U&&la(Ye,Rs(ca(U),!0))||[];$e=new r(da($e.body,pa,Be,()=>{Je&&Je(),Me&&Me()}),He)}H=H||"text";let Xe=await _[q.findKey(_,H)||"text"]($e,b);return!$&&Me&&Me(),await new Promise((He,Ye)=>{al(He,Ye,{data:Xe,headers:ht.from($e.headers),status:$e.status,statusText:$e.statusText,config:b,request:me})})}catch(Se){throw Me&&Me(),Se&&Se.name==="TypeError"&&/Load failed|fetch/i.test(Se.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,b,me),{cause:Se.cause||Se}):ce.from(Se,Se&&Se.code,b,me)}}},mh=new Map,ul=t=>{let e=t&&t.env||{};const{fetch:o,Request:r,Response:i}=e,a=[r,i,o];let c=a.length,d=c,p,h,g=mh;for(;d--;)p=a[d],h=g.get(p),h===void 0&&g.set(p,h=d?new Map:hh(e)),g=h;return h};ul();const sr={http:If,xhr:lh,fetch:{get:ul}};q.forEach(sr,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ga=t=>`- ${t}`,gh=t=>q.isFunction(t)||t===null||t===!1;function _h(t,e){t=q.isArray(t)?t:[t];const{length:o}=t;let r,i;const a={};for(let c=0;c<o;c++){r=t[c];let d;if(i=r,!gh(r)&&(i=sr[(d=String(r)).toLowerCase()],i===void 0))throw new ce(`Unknown adapter '${d}'`);if(i&&(q.isFunction(i)||(i=i.get(e))))break;a[d||"#"+c]=i}if(!i){const c=Object.entries(a).map(([p,h])=>`adapter ${p} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=o?c.length>1?`since :
`+c.map(ga).join(`
`):" "+ga(c[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i}const dl={getAdapter:_h,adapters:sr};function Po(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new jn(null,t)}function _a(t){return Po(t),t.headers=ht.from(t.headers),t.data=To.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dl.getAdapter(t.adapter||ss.adapter,t)(t).then(function(r){return Po(t),r.data=To.call(t,t.transformResponse,r),r.headers=ht.from(r.headers),r},function(r){return il(r)||(Po(t),r&&r.response&&(r.response.data=To.call(t,t.transformResponse,r.response),r.response.headers=ht.from(r.response.headers))),Promise.reject(r)})}const pl="1.13.2",Fs={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fs[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const va={};Fs.transitional=function(e,o,r){function i(a,c){return"[Axios v"+pl+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,d)=>{if(e===!1)throw new ce(i(c," has been removed"+(o?" in "+o:"")),ce.ERR_DEPRECATED);return o&&!va[c]&&(va[c]=!0,console.warn(i(c," has been deprecated since v"+o+" and will be removed in the near future"))),e?e(a,c,d):!0}};Fs.spelling=function(e){return(o,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function vh(t,e,o){if(typeof t!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],c=e[a];if(c){const d=t[a],p=d===void 0||c(d,a,t);if(p!==!0)throw new ce("option "+a+" must be "+p,ce.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new ce("Unknown option "+a,ce.ERR_BAD_OPTION)}}const As={assertOptions:vh,validators:Fs},Nt=As.validators;let pn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ia,response:new ia}}async request(e,o){try{return await this._request(e,o)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,o){typeof e=="string"?(o=o||{},o.url=e):o=e||{},o=fn(this.defaults,o);const{transitional:r,paramsSerializer:i,headers:a}=o;r!==void 0&&As.assertOptions(r,{silentJSONParsing:Nt.transitional(Nt.boolean),forcedJSONParsing:Nt.transitional(Nt.boolean),clarifyTimeoutError:Nt.transitional(Nt.boolean)},!1),i!=null&&(q.isFunction(i)?o.paramsSerializer={serialize:i}:As.assertOptions(i,{encode:Nt.function,serialize:Nt.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),As.assertOptions(o,{baseUrl:Nt.spelling("baseURL"),withXsrfToken:Nt.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let c=a&&q.merge(a.common,a[o.method]);a&&q.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),o.headers=ht.concat(c,a);const d=[];let p=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(o)===!1||(p=p&&y.synchronous,d.unshift(y.fulfilled,y.rejected))});const h=[];this.interceptors.response.forEach(function(y){h.push(y.fulfilled,y.rejected)});let g,_=0,f;if(!p){const b=[_a.bind(this),void 0];for(b.unshift(...d),b.push(...h),f=b.length,g=Promise.resolve(o);_<f;)g=g.then(b[_++],b[_++]);return g}f=d.length;let v=o;for(;_<f;){const b=d[_++],y=d[_++];try{v=b(v)}catch(S){y.call(this,S);break}}try{g=_a.call(this,v)}catch(b){return Promise.reject(b)}for(_=0,f=h.length;_<f;)g=g.then(h[_++],h[_++]);return g}getUri(e){e=fn(this.defaults,e);const o=ll(e.baseURL,e.url,e.allowAbsoluteUrls);return sl(o,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){pn.prototype[e]=function(o,r){return this.request(fn(r||{},{method:e,url:o,data:(r||{}).data}))}});q.forEach(["post","put","patch"],function(e){function o(r){return function(a,c,d){return this.request(fn(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}pn.prototype[e]=o(),pn.prototype[e+"Form"]=o(!0)});let bh=class fl{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(a){o=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const c=new Promise(d=>{r.subscribe(d),a=d}).then(i);return c.cancel=function(){r.unsubscribe(a)},c},e(function(a,c,d){r.reason||(r.reason=new jn(a,c,d),o(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const o=this._listeners.indexOf(e);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const e=new AbortController,o=r=>{e.abort(r)};return this.subscribe(o),e.signal.unsubscribe=()=>this.unsubscribe(o),e.signal}static source(){let e;return{token:new fl(function(i){e=i}),cancel:e}}};function yh(t){return function(o){return t.apply(null,o)}}function wh(t){return q.isObject(t)&&t.isAxiosError===!0}const jo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jo).forEach(([t,e])=>{jo[e]=t});function hl(t){const e=new pn(t),o=za(pn.prototype.request,e);return q.extend(o,pn.prototype,e,{allOwnKeys:!0}),q.extend(o,e,null,{allOwnKeys:!0}),o.create=function(i){return hl(fn(t,i))},o}const Ue=hl(ss);Ue.Axios=pn;Ue.CanceledError=jn;Ue.CancelToken=bh;Ue.isCancel=il;Ue.VERSION=pl;Ue.toFormData=Ms;Ue.AxiosError=ce;Ue.Cancel=Ue.CanceledError;Ue.all=function(e){return Promise.all(e)};Ue.spread=yh;Ue.isAxiosError=wh;Ue.mergeConfig=fn;Ue.AxiosHeaders=ht;Ue.formToJSON=t=>rl(q.isHTMLForm(t)?new FormData(t):t);Ue.getAdapter=dl.getAdapter;Ue.HttpStatusCode=jo;Ue.default=Ue;const{Axios:Ew,AxiosError:Aw,CanceledError:Tw,isCancel:Pw,CancelToken:Rw,VERSION:Dw,all:Iw,Cancel:qw,isAxiosError:Ow,spread:Lw,toFormData:$w,AxiosHeaders:Nw,HttpStatusCode:Mw,formToJSON:Fw,getAdapter:jw,mergeConfig:Gw}=Ue,ze=Ue.create({timeout:1e12,withCredentials:!0});ze.interceptors.response.use(t=>t.data,t=>Promise.reject(t));ze.interceptors.request.use(t=>{const e=document.cookie.match(/csrftoken=([^;]+)/)?.[1];return e&&(t.headers["X-CSRFToken"]=e),t},t=>Promise.reject(t));const tt=[];for(let t=0;t<256;++t)tt.push((t+256).toString(16).slice(1));function kh(t,e=0){return(tt[t[e+0]]+tt[t[e+1]]+tt[t[e+2]]+tt[t[e+3]]+"-"+tt[t[e+4]]+tt[t[e+5]]+"-"+tt[t[e+6]]+tt[t[e+7]]+"-"+tt[t[e+8]]+tt[t[e+9]]+"-"+tt[t[e+10]]+tt[t[e+11]]+tt[t[e+12]]+tt[t[e+13]]+tt[t[e+14]]+tt[t[e+15]]).toLowerCase()}let Ro;const xh=new Uint8Array(16);function Sh(){if(!Ro){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ro=crypto.getRandomValues.bind(crypto)}return Ro(xh)}const Ch=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ba={randomUUID:Ch};function Eh(t,e,o){t=t||{};const r=t.random??t.rng?.()??Sh();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(o=o||0,o<0||o+16>e.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[o+i]=r[i];return e}return kh(r)}function ml(t,e,o){return ba.randomUUID&&!e&&!t?ba.randomUUID():Eh(t,e,o)}const Ah={name:"IdSearchView",inject:["showLoading","hideLoading"],data(){return{geneIds:"",fileName:"",errorMessage:""}},methods:{loadExample(){this.geneIds=`Ghir_A01G000040.1
Ghir_A01G000060
Ghir_A01G000290.1
Ghir_A01G000120.2`,this.errorMessage=""},reset(){this.geneIds="",this.fileName="",this.errorMessage="";const t=document.getElementById("fileInput");t&&(t.value="")},handleFileSelect(t){const e=t.target.files[0];if(e){const o=new FileReader;o.onload=r=>{try{const i=r.target.result;this.geneIds=i.trim(),this.fileName=e.name,console.log("已从文件中读取基因ID:",this.geneIds)}catch(i){this.errorMessage="文件读取失败: "+i.message,console.error("文件读取错误:",i)}},o.onerror=()=>{this.errorMessage="文件读取错误",console.error("文件读取器错误")},o.readAsText(e)}else this.geneIds="",this.fileName="";t.target.value=""},async handleSubmit(){this.errorMessage="",this.showLoading();try{if(!this.geneIds||!this.geneIds.trim())throw new Error("请输入或上传基因ID");const t=ml();console.log("Request ID:",t);const e=`gene_ids=${encodeURIComponent(this.geneIds)}&request_id=${encodeURIComponent(t)}`;console.log("formDataString:",e);const o=await ze.post("/tools/id-search/api/id-search-form/",e,{headers:{"Content-Type":"application/x-www-form-urlencoded","X-Request-ID":t}});if(!o)throw new Error("无效的响应数据");const r=o;if(r.status!=="success")throw new Error(r.error||"搜索失败");if(!r.query_ids||!Array.isArray(r.query_ids))throw new Error("无效的查询ID数据");if(console.log("查询ID:",r.query_ids[0]),console.log("查询ID数量:",r.query_ids.length),r.query_ids.length===1)this.$router.push({path:"/tools/id-search/results/",query:{id:r.query_ids[0],request_id:t}});else if(r.query_ids.length>1)this.$router.push({path:"/tools/id-search/id-search-summary/",query:{id:r.query_ids.join(","),request_id:t}});else throw new Error("没有找到匹配的基因ID")}catch(t){console.error("搜索错误详情:",t),console.error("错误类型:",typeof t),console.error("错误堆栈:",t.stack),console.error("错误响应:",t.response),this.errorMessage=t.response?.data?.error||t.message||"未知搜索错误",console.error("搜索错误:",this.errorMessage)}finally{this.hideLoading()}}}},Th={class:"container mt-4"},Ph={class:"text-left"},Rh={class:"card-body"},Dh={class:"form-group"},Ih={class:"mb-4"},qh={class:"mb-4"},Oh={class:"input-group"},Lh={class:"input-group-text"},$h={key:0,class:"alert alert-danger mt-3"};function Nh(t,e,o,r,i,a){return k(),x("div",Th,[e[10]||(e[10]=s("h1",null,"Search by ID",-1)),s("div",Ph,[s("div",Rh,[s("form",{onSubmit:e[4]||(e[4]=pe((...c)=>a.handleSubmit&&a.handleSubmit(...c),["prevent"]))},[s("div",Dh,[s("div",Ih,[e[5]||(e[5]=s("label",{for:"geneIdInput",class:"form-label"},"Input Gene IDs",-1)),re(s("textarea",{class:"form-control",id:"geneIdInput",rows:"6",placeholder:"","onUpdate:modelValue":e[0]||(e[0]=c=>i.geneIds=c),ref:"gene_ids"},null,512),[[ve,i.geneIds]]),s("button",{type:"button",class:"btn btn-info mt-2 mr-3",onClick:e[1]||(e[1]=(...c)=>a.loadExample&&a.loadExample(...c))},"load example"),s("button",{type:"button",class:"btn btn-secondary mt-2",onClick:e[2]||(e[2]=(...c)=>a.reset&&a.reset(...c))},"Reset"),e[6]||(e[6]=s("p",{class:"text-muted mt-1"},"one gene ID per line",-1))]),s("div",qh,[e[7]||(e[7]=s("label",{class:"form-label"},"select file",-1)),s("div",Oh,[s("input",{type:"file",class:"form-control",id:"fileInput",accept:".txt,.csv,.xls,.xlsx",onChange:e[3]||(e[3]=(...c)=>a.handleFileSelect&&a.handleFileSelect(...c))},null,32),s("span",Lh,I(i.fileName||"未选择文件"),1)]),e[8]||(e[8]=s("p",{class:"text-muted mt-1"},"support .txt or .csv file",-1))]),e[9]||(e[9]=s("div",{class:"d-flex gap-2"},[s("button",{type:"submit",class:"btn btn-primary"}," Search ")],-1))])],32),i.errorMessage?(k(),x("div",$h,I(i.errorMessage),1)):Z("",!0)])])])}const Mh=Oe(Ah,[["render",Nh]]),Fh={class:"sequence-display-component"},jh={class:"d-flex flex-wrap gap-3 mb-4"},Gh={class:"h6 mb-2"},Uh=["onClick"],Bh={class:"mb-4 d-flex justify-content-start"},Vh={class:"d-flex gap-3 align-items-end w-25"},zh={class:"flex-shrink-0 flex-grow-1"},Kh=["value"],Hh={class:"flex-shrink-0 flex-grow-1"},Jh=["value"],Wh={__name:"SequenceDisplay",props:{displayMode:{type:String,default:"buttons",validator:t=>["buttons","full"].includes(t)},gene_seq:String,mrna_seq:String,upstream_seq:String,downstream_seq:String,cdna_seq:String,cds_seq:String,protein_seq:String,gene_id:String,currentTranscript:{type:Object,default:null},results:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},upstreamLength:{type:Number,default:1e4},downstreamLength:{type:Number,default:1e4}},emits:["show-sequence","download-all","copy-all","length-change"],setup(t,{emit:e}){const o=t,r=e,i=[{key:"genomic",title:"基因组序列"},{key:"mrna",title:"mRNA序列"},{key:"upstream",title:"上游序列"},{key:"downstream",title:"下游序列"},{key:"cdna",title:"cDNA序列"},{key:"cds",title:"CDS序列"},{key:"protein",title:"蛋白序列"}],a=[500,1e3,2e3,3e3,4e3,5e3,1e4],c=L(1e4),d=L(1e4);r("length-change",{upstreamLength:c.value,downstreamLength:d.value});const p=()=>o.results&&o.results.length>0?o.results[0].IDs||o.results[0].gene_id||"":o.currentTranscript?o.currentTranscript.id||o.currentTranscript.gene_id||"":o.gene_id||"",h=v=>{const b=y=>y&&y!==""&&y!=="N/A"&&y!=="unavailable"&&y!=="未找到CDS序列"&&y!=="未找到蛋白序列";return v==="genomic"?b(o.gene_seq)||o.results&&o.results.some(y=>b(y.gene_seq)):v==="mrna"?b(o.mrna_seq)||o.currentTranscript&&b(o.currentTranscript.mrna_seq)||o.results&&o.results.some(y=>b(y.mrna_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(S=>b(S.mrna_seq))):v==="upstream"?b(o.upstream_seq)||o.currentTranscript&&b(o.currentTranscript.upstream_seq)||o.results&&o.results.some(y=>b(y.upstream_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(S=>b(S.upstream_seq))):v==="downstream"?b(o.downstream_seq)||o.currentTranscript&&b(o.currentTranscript.downstream_seq)||o.results&&o.results.some(y=>b(y.downstream_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(S=>b(S.downstream_seq))):v==="cdna"?b(o.cdna_seq)||o.currentTranscript&&b(o.currentTranscript.cdna_seq)||o.results&&o.results.some(y=>b(y.cdna_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(S=>b(S.cdna_seq))):v==="cds"?b(o.cds_seq)||o.currentTranscript&&b(o.currentTranscript.cds_seq)||o.results&&o.results.some(y=>b(y.cds_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(S=>b(S.cds_seq))):v==="protein"?b(o.protein_seq)||o.currentTranscript&&b(o.currentTranscript.protein_seq)||o.results&&o.results.some(y=>b(y.protein_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(S=>b(S.protein_seq))):!1},g=v=>{const b=o.currentTranscript;if(v==="genomic"&&o.gene_seq)return o.gene_seq;if(b&&v==="genomic"&&b.gene_seq)return b.gene_seq;if(v==="genomic"&&o.results&&o.results.length>0){for(const y of o.results)if(y.gene_seq)return y.gene_seq}return""},_=()=>{r("length-change",{upstreamLength:c.value,downstreamLength:d.value})},f=(v,b,y,S)=>{r("show-sequence",{type:v,title:b,content:y,id:S})};return(v,b)=>(k(),x("div",Fh,[s("div",jh,[(k(),x(ye,null,De(i,y=>s("div",{key:y.key,class:"text-center flex-shrink-0"},[s("h4",Gh,I(y.title),1),s("button",{class:"btn btn-sm btn-info",onClick:S=>f(y.key,y.title,g(y.key),p())},I((h(y.key),"Show Sequence")),9,Uh)])),64))]),s("div",Bh,[s("div",Vh,[s("div",zh,[b[2]||(b[2]=s("label",{for:"upstreamLengthSelect",class:"form-label form-label-sm text-center"},"Upstream",-1)),re(s("select",{class:"form-select form-select-sm",id:"upstreamLengthSelect","onUpdate:modelValue":b[0]||(b[0]=y=>c.value=y),onChange:_},[(k(),x(ye,null,De(a,y=>s("option",{key:y,value:y},I(y),9,Kh)),64))],544),[[dt,c.value,void 0,{number:!0}]])]),s("div",Hh,[b[3]||(b[3]=s("label",{for:"downstreamLengthSelect",class:"form-label form-label-sm text-center"},"Downstream",-1)),re(s("select",{class:"form-select form-select-sm",id:"downstreamLengthSelect","onUpdate:modelValue":b[1]||(b[1]=y=>d.value=y),onChange:_},[(k(),x(ye,null,De(a,y=>s("option",{key:y,value:y},I(y),9,Jh)),64))],544),[[dt,d.value,void 0,{number:!0}]])])])])]))}},js=Oe(Wh,[["__scopeId","data-v-c35d0a55"]]),Qh={name:"IdSearchResultsView",components:{SequenceDisplay:js},data(){return{result:null,hasFetched:!1,annotations:{},jbrowse_url:"",isLoading:!1,errorMessage:"",has_sequences:!1,sequenceCache:{},sequenceLoading:{},selectedTranscriptIndex:0,gffData:[],hasGffData:!1,currentPage:1,pageSize:10,showModal:!1,modalTitle:"",modalContent:"",currentSeqType:"",currentGeneId:"",svgWidth:800,upstreamLength:500,downstreamLength:500}},computed:{parsedGoAnnotations(){const t=this.annotations.GO_annotation||[],e=[];return t.forEach(o=>{o.replace(/;;+\s*$/,"").split(";; ").forEach(a=>{const c=a.match(/^(\w+\s+\w+):\s*([^\(]+)\s*\((GO:\d+)\)$/);c&&e.push({type:c[1],term:c[2].trim(),id:c[3]})})}),e},currentTranscript(){return!this.result||!this.result.mrna_transcripts||this.result.mrna_transcripts.length===0?null:this.result.mrna_transcripts[this.selectedTranscriptIndex]},hasMultipleTranscripts(){return this.result&&this.result.mrna_transcripts&&this.result.mrna_transcripts.length>1},currentPageGffData(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.gffData.slice(t,e)},currentTranscriptGffData(){if(!this.gffData||this.gffData.length===0)return[];console.log("currentTranscriptId:",this.currentTranscript);const t=this.currentTranscript?this.currentTranscript.id:this.result.IDs;return t?this.gffData.filter(e=>e.attributes?e.attributes.includes(t):!1).sort((e,o)=>(e.start||0)-(o.start||0)):[]},geneStart(){return!this.currentTranscriptGffData||this.currentTranscriptGffData.length===0?0:Math.min(...this.currentTranscriptGffData.map(t=>t.start||0))},geneEnd(){return!this.currentTranscriptGffData||this.currentTranscriptGffData.length===0?0:Math.max(...this.currentTranscriptGffData.map(t=>t.end||0))},geneLength(){return this.geneEnd-this.geneStart+1},scale(){return(this.svgWidth-40)/Math.max(this.geneLength,1)}},mounted(){const t=this.$route.query.id;t&&!this.hasFetched?(this.hasFetched=!0,this.fetchGeneData(t)):t||(this.errorMessage="未提供基因ID")},methods:{handlePageChange(){},handlePageSizeChange(){this.currentPage=1},async fetchGeneData(t){const e=setTimeout(()=>{this.isLoading=!0},300);this.errorMessage="",this.selectedTranscriptIndex=0;try{const o=new FormData;o.append("gene_ids",t);const r=await ze.post("/tools/id-search/api/id-search-form/",o);if(clearTimeout(e),r.status==="error"||r.status==="not_found")throw new Error(r.error||"基因信息不存在");if(r.results&&r.results.length>0)this.result=r.results[0],this.annotations=this.result.annotations||{},this.jbrowse_url=this.result.jbrowse_url||"",this.gffData=this.result.gff_data||[],this.gene_seq=this.result.gene_seq||"",console.log("后端返回的result数据:",this.result),this.has_sequences=!!(this.result.gene_seq||this.result.mrna_seq||this.result.cds_seq&&this.result.cds_seq!=="未找到CDS序列"||this.result.protein_seq&&this.result.protein_seq!=="未找到蛋白序列"||this.result.mrna_transcripts&&this.result.mrna_transcripts.length>0);else throw new Error("未找到基因信息");console.log("has_sequences:",this.has_sequences),this.hasGffData=this.gffData.length>0,this.currentPage=1}catch(o){clearTimeout(e),this.errorMessage=o.message,console.error("获取基因数据错误:",o)}finally{this.isLoading=!1}},switchTranscript(t){this.selectedTranscriptIndex=t},handleLengthChange(t){const{upstreamLength:e,downstreamLength:o}=t;this.upstreamLength=e,this.downstreamLength=o,console.log("Sequence length changed:",e,o),Object.keys(this.sequenceCache).forEach(r=>{(r.includes("upstream")||r.includes("downstream"))&&delete this.sequenceCache[r]}),Object.keys(this.sequenceLoading).forEach(r=>{(r.includes("upstream")||r.includes("downstream"))&&(this.sequenceLoading[r]=!1)})},downloadCurrentTranscriptSequences(){if(!this.result||!this.currentTranscript){this.showTemporaryMessage("无法获取基因序列数据");return}let t="";const e=this.currentGeneId||this.result.IDs,o=this.currentTranscript.id;if(this.result.gene_seq&&this.result.gene_seq!=="N/A"&&(t+=`>${e} genomic
${this.result.gene_seq}

`),this.currentTranscript.mrna_seq&&this.currentTranscript.mrna_seq!=="N/A"&&(t+=`>${o} mRNA
${this.currentTranscript.mrna_seq}

`),this.currentTranscript.upstream_seq&&this.currentTranscript.upstream_seq!=="N/A"&&(t+=`>${o} upstream
${this.currentTranscript.upstream_seq}

`),this.currentTranscript.downstream_seq&&this.currentTranscript.downstream_seq!=="N/A"&&(t+=`>${o} downstream
${this.currentTranscript.downstream_seq}

`),this.currentTranscript.cdna_seq&&this.currentTranscript.cdna_seq!=="N/A"&&this.currentTranscript.cdna_seq!=="unavailable"&&(t+=`>${o} cDNA
${this.currentTranscript.cdna_seq}

`),[{key:"cds_seq",type:"cds",label:"CDS Sequence"},{key:"protein_seq",type:"protein",label:"Protein Sequence"}].forEach(p=>{const h=this.currentTranscript[p.key];h&&h!=="N/A"&&h!=="unavailable"&&h!=="未找到CDS序列"&&h!=="未找到蛋白序列"&&(t+=`>${o} ${p.type}
${h}

`)}),!t){this.showTemporaryMessage("没有找到可用的序列数据");return}const i=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(i),c=document.createElement("a");c.href=a,c.download=`${o}_all_sequences.fasta`;const d=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.body.appendChild(c),c.dispatchEvent(d),document.body.removeChild(c),URL.revokeObjectURL(a),this.showTemporaryMessage("当前转录本的所有序列已下载")},showSequenceModal(t,e,o,r){this.modalTitle=t,this.modalContent=e,this.currentSeqType=o,this.currentGeneId=r,this.showModal=!0},async handleShowSequence(t){const{type:e,title:o,content:r,id:i}=t,a=this.result.IDs,c=this.currentTranscript?.id||i,d=e==="upstream"||e==="downstream"?`|${e==="upstream"?this.upstreamLength:this.downstreamLength}`:"",p=`${a}|${e}|${c}${d}`;if(this.sequenceCache[p]){this.showSequenceModal(o,this.sequenceCache[p],e,a);return}if(!this.sequenceLoading[p]){this.sequenceLoading[p]=!0;try{let h="",g=r,_=!0;if(!g){_=!1;const f=await ze.post("/tools/id-search/api/sequence/",{gene_id:a,transcript_id:c,type:e});console.log("序列懒传输成功:",f),g=f.sequence||"未找到序列"}if(g&&g!=="未找到序列"&&g!=="N/A"){const f=e==="genomic"?a:c;let v=g;e==="upstream"?v=g.slice(0,this.upstreamLength):e==="downstream"&&(v=g.slice(0,this.downstreamLength));const b=e==="upstream"||e==="downstream"?` (${v.length}bp)`:"";h=`>${f} ${e}${b}
${v}
`}else h=g;this.sequenceCache[p]=h,this.sequenceLoading[p]=!1,this.showSequenceModal(o,h,e,a)}catch{this.showSequenceModal(o,"序列加载失败",e,a),this.sequenceLoading[p]=!1}finally{this.sequenceLoading[p]=!1}}},closeModal(){this.showModal=!1},copySequence(t){const o=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${t}`;navigator.clipboard.writeText(o).then(()=>{this.showTemporaryMessage("序列已复制到剪贴板")}).catch(r=>{console.error("复制失败:",r),this.showTemporaryMessage("复制失败，请手动复制")})},formatSequence(t){return t?t.replace(/(.{1,80})/g,`$1
`):""},showTemporaryMessage(t){const e=document.createElement("div");e.textContent=t,e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="4px",e.style.zIndex="9999",e.style.fontSize="16px",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",e.style.transition="opacity 2s ease-out",setTimeout(()=>{document.body.removeChild(e)},1500)},1500)},downloadFasta(){const e=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${this.modalContent}`,o=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(o),i=document.createElement("a");i.href=r,i.download=`${this.currentGeneId}_${this.currentSeqType}.fasta`;const a=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.body.appendChild(i),i.dispatchEvent(a),document.body.removeChild(i),URL.revokeObjectURL(r)},async downloadAllSequences(){if(!this.result){this.showTemporaryMessage("无法获取基因序列数据");return}this.isLoading=!0;let t="";const e=this.currentGeneId||this.result.IDs,o=["genomic","mrna","upstream","downstream","cdna","cds","protein"],r=this.result.mrna_transcripts||[];try{if(this.result.gene_seq&&this.result.gene_seq!=="N/A"){const p=this.formatSequence(this.result.gene_seq);t+=`>${e} genomic
${p}

`}for(const p of r){const h=p.id;for(const g of o){if(g==="genomic")continue;let _="",f=!1;switch(g){case"mrna":p.mrna_seq&&p.mrna_seq!=="N/A"&&(_=p.mrna_seq,f=!0);break;case"upstream":p.upstream_seq&&p.upstream_seq!=="N/A"&&(_=p.upstream_seq,f=!0);break;case"downstream":p.downstream_seq&&p.downstream_seq!=="N/A"&&(_=p.downstream_seq,f=!0);break;case"cdna":p.cdna_seq&&p.cdna_seq!=="N/A"&&p.cdna_seq!=="unavailable"&&(_=p.cdna_seq,f=!0);break;case"cds":p.cds_seq&&p.cds_seq!=="N/A"&&p.cds_seq!=="unavailable"&&p.cds_seq!=="未找到CDS序列"&&(_=p.cds_seq,f=!0);break;case"protein":p.protein_seq&&p.protein_seq!=="N/A"&&p.protein_seq!=="unavailable"&&p.protein_seq!=="未找到蛋白序列"&&(_=p.protein_seq,f=!0);break}if(!f){const v={gene_id:e,transcript_id:h,type:g};g==="upstream"?v.upstream_length=this.upstreamLength:g==="downstream"&&(v.downstream_length=this.downstreamLength);const b=await ze.post("/tools/id-search/api/sequence/",v);b.sequence&&b.sequence!=="未找到序列"&&b.sequence!=="N/A"&&(_=b.sequence)}if(_){const v=this.formatSequence(_);t+=`>${g==="genomic"?e:h} ${g}
${v}

`}}}if(!t){this.showTemporaryMessage("没有找到可用的序列数据");return}const i=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(i),c=document.createElement("a");c.href=a,c.download=`${e}_all_sequences.fasta`;const d=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.body.appendChild(c),c.dispatchEvent(d),document.body.removeChild(c),URL.revokeObjectURL(a),this.showTemporaryMessage("所有序列已下载完成")}catch(i){console.error("下载序列失败:",i),this.showTemporaryMessage("下载序列失败，请重试")}finally{this.isLoading=!1}},downloadGff(t){const e=this.currentGeneId||this.result.IDs;if(t==="txt"){let o="";this.gffData.forEach(c=>{const d=[c.seqid||"",c.source||"",c.type||"",c.start||"",c.end||"",c.score||"",c.strand||"",c.phase||"",c.attributes||""];o+=d.join("	")+`
`});const r=new Blob([o],{type:"text/plain"}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`${e}_gff.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),this.showTemporaryMessage("GFF数据已下载为TXT格式")}else if(t==="gff"){let o="";this.gffData.forEach(c=>{const d=[c.seqid||"",c.source||".",c.type||".",c.start||".",c.end||".",c.score||".",c.strand||".",c.phase||".",c.attributes||"."];o+=d.join("	")+`
`});const r=new Blob([o],{type:"text/plain"}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`${e}_gff.gff`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),this.showTemporaryMessage("GFF数据已下载为GFF格式")}},escapeCsvField(t){return typeof t!="string"&&(t=String(t)),t.includes(",")||t.includes('"')||t.includes(`
`)||t.includes("\r")?(t=t.replace(/"/g,'""'),`"${t}"`):t}}},Xh={class:"container mt-4"},Yh={key:0,class:"text-center py-5"},Zh={key:1,class:"alert alert-danger mt-3"},em={key:2,class:"mt-4"},tm={class:"card mb-4"},nm={class:"card-body"},sm={class:"table table-bordered"},om={class:"mb-4"},rm={key:0,class:"mt-2"},im=["src"],am={key:1},lm={key:0,class:"card mb-4"},cm={class:"card-body"},um={key:0,class:"mb-4"},dm=["value"],pm={key:1,class:"mb-4"},fm={class:"gene-structure-container"},hm=["width"],mm={x:"20",y:"20","font-size":"12","font-weight":"bold",fill:"#333"},gm={key:0},_m=["x","width"],vm=["x","width"],bm=["x","width"],ym=["x1","x2"],wm=["x","width"],km={key:0},xm=["points"],Sm=["x"],Cm={x:"20",y:"110","font-size":"10",fill:"#666"},Em=["x"],Am={class:"mb-3"},Tm={key:1,class:"card mb-4"},Pm={class:"card-body"},Rm={key:0,class:"mb-3"},Dm={class:"table table-bordered"},Im={key:1,class:"mb-3"},qm={class:"list-group"},Om={key:2,class:"mb-3"},Lm={class:"list-group"},$m={key:3,class:"mb-3"},Nm={class:"list-group"},Mm={key:4,class:"mb-3"},Fm={class:"list-group"},jm={key:5,class:"mb-3"},Gm={class:"list-group"},Um={key:2,class:"card mb-4"},Bm={class:"card-header d-flex justify-content-between align-items-center"},Vm={class:"card-body"},zm={class:"d-flex justify-content-between align-items-center mb-3"},Km={class:"table-pagination"},Hm={class:"d-flex justify-content-between align-items-center mt-3"},Jm={class:"table-info"},Wm={class:"mt-4"},Qm={class:"modal-dialog",style:{"max-width":"50vw","max-height":"50vh",margin:"0",width:"auto"}},Xm={class:"modal-content",style:{height:"100%",display:"flex","flex-direction":"column"}},Ym={class:"modal-header"},Zm={class:"modal-title"},eg={class:"modal-body",style:{flex:"1","overflow-y":"auto"}},tg={class:"bg-light p-3 rounded",style:{"max-height":"calc(40vh - 100px)","overflow-y":"auto","white-space":"pre-wrap","word-break":"break-all"}},ng={class:"modal-footer"};function sg(t,e,o,r,i,a){const c=nt("router-link"),d=js,p=zo,h=Ho,g=Jo,_=Ko;return k(),x("div",Xh,[e[38]||(e[38]=s("h1",null,"Search Results",-1)),i.isLoading?(k(),x("div",Yh,[...e[15]||(e[15]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"loading...")],-1),s("p",{class:"mt-3"},"loading results...",-1)])])):i.errorMessage?(k(),x("div",Zh,[te(I(i.errorMessage)+" ",1),V(c,{to:"/tools/id-search",class:"btn btn-primary btn-sm ml-2"},{default:oe(()=>[...e[16]||(e[16]=[te("new search",-1)])]),_:1})])):i.result?(k(),x("div",em,[s("div",tm,[e[22]||(e[22]=s("div",{class:"card-header"},[s("h2",null,"Gene Basic Information")],-1)),s("div",nm,[s("table",sm,[s("tbody",null,[s("tr",null,[e[17]||(e[17]=s("td",null,[s("strong",null,"Gene ID:")],-1)),s("td",null,I(i.result.IDs),1)]),s("tr",null,[e[18]||(e[18]=s("td",null,[s("strong",null,"Chromosome:")],-1)),s("td",null,I(i.result.seqid),1)]),s("tr",null,[e[19]||(e[19]=s("td",null,[s("strong",null,"Start Position:")],-1)),s("td",null,I(i.result.start),1)]),s("tr",null,[e[20]||(e[20]=s("td",null,[s("strong",null,"End Position:")],-1)),s("td",null,I(i.result.end),1)]),s("tr",null,[e[21]||(e[21]=s("td",null,[s("strong",null,"Strand:")],-1)),s("td",null,I(i.result.strand),1)])])])])]),s("div",om,[e[23]||(e[23]=s("strong",null,"JBrowse View:",-1)),i.jbrowse_url?(k(),x("div",rm,[s("iframe",{src:i.jbrowse_url,style:{width:"100%",height:"400px",border:"1px solid #ddd","border-radius":"4px"}},null,8,im)])):(k(),x("div",am," JBrowse URL not available "))]),i.has_sequences?(k(),x("div",lm,[e[27]||(e[27]=s("div",{class:"card-header"},[s("h2",null,"Sequence")],-1)),s("div",cm,[a.hasMultipleTranscripts?(k(),x("div",um,[e[24]||(e[24]=s("h4",{class:"h6 mb-2"},"Transcript Selector",-1)),re(s("select",{class:"form-select w-auto","onUpdate:modelValue":e[0]||(e[0]=f=>i.selectedTranscriptIndex=f),onChange:e[1]||(e[1]=f=>a.switchTranscript(i.selectedTranscriptIndex))},[(k(!0),x(ye,null,De(i.result.mrna_transcripts,(f,v)=>(k(),x("option",{key:v,value:v},I(f.id)+" (Protein Length: "+I(f.protein_seq&&f.protein_seq!=="N/A"&&f.protein_seq!=="unavailable"&&f.protein_seq!=="未找到蛋白序列"?f.protein_seq.length:"N/A")+" aa) ",9,dm))),128))],544),[[dt,i.selectedTranscriptIndex]])])):Z("",!0),i.gffData.length>0?(k(),x("div",pm,[e[26]||(e[26]=s("h4",{class:"h6 mb-2"},"Transcript Structure",-1)),s("div",fm,[(k(),x("svg",{width:i.svgWidth,height:"150",class:"gene-structure-svg"},[s("text",mm,I(a.currentTranscript?a.currentTranscript.id:this.result.IDS),1),a.currentTranscriptGffData.length>0?(k(),x("g",gm,[(k(!0),x(ye,null,De(a.currentTranscriptGffData,(f,v)=>(k(),x("g",{key:"structure-"+v},[a.geneLength>0?(k(),x(ye,{key:0},[f.type==="CDS"?(k(),x("rect",{key:0,x:20+(f.start-a.geneStart)*a.scale,y:"35",width:(f.end-f.start+1)*a.scale,height:"50",fill:"#34A853",stroke:"#227A3D","stroke-width":"1"},null,8,_m)):f.type==="five_prime_UTR"?(k(),x("rect",{key:1,x:20+(f.start-a.geneStart)*a.scale,y:"45",width:(f.end-f.start+1)*a.scale,height:"30",fill:"#FBBC05",stroke:"#F29900","stroke-width":"1"},null,8,vm)):f.type==="three_prime_UTR"?(k(),x("rect",{key:2,x:20+(f.start-a.geneStart)*a.scale,y:"45",width:(f.end-f.start+1)*a.scale,height:"30",fill:"#EA4335",stroke:"#C5221F","stroke-width":"1"},null,8,bm)):Z("",!0),v<a.currentTranscriptGffData.length-1?(k(),x("line",{key:3,x1:20+(f.end-a.geneStart)*a.scale,y1:"60",x2:20+(a.currentTranscriptGffData[v+1].start-a.geneStart)*a.scale,y2:"60",stroke:"#333","stroke-width":"2"},null,8,ym)):Z("",!0),v<a.currentTranscriptGffData.length-1?(k(),x("rect",{key:4,x:20+(f.end-a.geneStart)*a.scale,y:"55",width:(a.currentTranscriptGffData[v+1].start-f.end-1)*a.scale,height:"10",fill:"#E0E0E0",stroke:"#BDBDBD","stroke-width":"1"},null,8,wm)):Z("",!0)],64)):Z("",!0)]))),128)),a.currentTranscriptGffData.length>0?(k(),x("g",km,[a.geneLength>0?(k(),x(ye,{key:0},[s("polygon",{points:[20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+10,50,20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+20,60,20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+10,70].join(","),fill:"#333"},null,8,xm),s("text",{x:20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+25,y:"65","font-size":"12",fill:"#333"}," Transcription Direction ",8,Sm)],64)):Z("",!0)])):Z("",!0)])):Z("",!0),s("text",Cm,I(a.geneStart),1),s("text",{x:i.svgWidth-20,y:"110","font-size":"10",fill:"#666","text-anchor":"end"},I(a.geneEnd),9,Em),e[25]||(e[25]=Ds('<g transform="translate(20, 130)" data-v-c6af5480><text font-size="11" font-weight="bold" fill="#333" data-v-c6af5480>Legend:</text><g transform="translate(50, 0)" data-v-c6af5480><rect x="0" y="-8" width="15" height="15" fill="#34A853" stroke="#227A3D" stroke-width="1" data-v-c6af5480></rect><text x="20" y="5" font-size="10" fill="#333" data-v-c6af5480>CDS</text></g><g transform="translate(120, 0)" data-v-c6af5480><rect x="0" y="-8" width="15" height="15" fill="#FBBC05" stroke="#F29900" stroke-width="1" data-v-c6af5480></rect><text x="20" y="5" font-size="10" fill="#333" data-v-c6af5480>5&#39; UTR</text></g><g transform="translate(190, 0)" data-v-c6af5480><rect x="0" y="-8" width="15" height="15" fill="#EA4335" stroke="#C5221F" stroke-width="1" data-v-c6af5480></rect><text x="20" y="5" font-size="10" fill="#333" data-v-c6af5480>3&#39; UTR</text></g><g transform="translate(260, 0)" data-v-c6af5480><rect x="0" y="-3" width="30" height="5" fill="#E0E0E0" stroke="#BDBDBD" stroke-width="1" data-v-c6af5480></rect><text x="35" y="5" font-size="10" fill="#333" data-v-c6af5480>Intron</text></g></g>',1))],8,hm))])])):Z("",!0),V(d,{"display-mode":"buttons",gene_seq:i.result.gene_seq,mrna_seq:i.result.mrna_seq,upstream_seq:i.result.upstream_seq,downstream_seq:i.result.downstream_seq,cdna_seq:i.result.cdna_seq,cds_seq:i.result.cds_seq,protein_seq:i.result.protein_seq,gene_id:i.result.IDs,"current-transcript":a.currentTranscript,loading:i.isLoading,onShowSequence:a.handleShowSequence,onLengthChange:a.handleLengthChange},null,8,["gene_seq","mrna_seq","upstream_seq","downstream_seq","cdna_seq","cds_seq","protein_seq","gene_id","current-transcript","loading","onShowSequence","onLengthChange"]),s("div",Am,[s("button",{class:"btn btn-success mr-2",onClick:e[2]||(e[2]=(...f)=>a.downloadAllSequences&&a.downloadAllSequences(...f))},"Download All Sequences"),a.hasMultipleTranscripts?(k(),x("button",{key:0,class:"btn btn-primary",onClick:e[3]||(e[3]=(...f)=>a.downloadCurrentTranscriptSequences&&a.downloadCurrentTranscriptSequences(...f))},"Download Current Transcript Sequences")):Z("",!0)])])])):Z("",!0),i.annotations&&Object.keys(i.annotations).length>0?(k(),x("div",Tm,[e[35]||(e[35]=s("div",{class:"card-header"},[s("h2",null,"Annotations")],-1)),s("div",Pm,[i.annotations.GO_annotation&&i.annotations.GO_annotation.length>0?(k(),x("div",Rm,[e[29]||(e[29]=s("h4",null,"GO Annotations",-1)),s("table",Dm,[e[28]||(e[28]=s("thead",{class:"thead-light"},[s("tr",null,[s("th",null,"GO Type"),s("th",null,"Term"),s("th",null,"GO ID")])],-1)),s("tbody",null,[(k(!0),x(ye,null,De(a.parsedGoAnnotations,(f,v)=>(k(),x("tr",{key:v},[s("td",null,I(f.type),1),s("td",null,I(f.term),1),s("td",null,I(f.id),1)]))),128))])])])):Z("",!0),i.annotations.KEGG_annotation&&i.annotations.KEGG_annotation.length>0?(k(),x("div",Im,[e[30]||(e[30]=s("h4",null,"KEGG Annotations",-1)),s("ul",qm,[(k(!0),x(ye,null,De(i.annotations.KEGG_annotation,(f,v)=>(k(),x("li",{key:v,class:"list-group-item"},I(f),1))),128))])])):Z("",!0),i.annotations.Pfam_annotation&&i.annotations.Pfam_annotation.length>0?(k(),x("div",Om,[e[31]||(e[31]=s("h4",null,"PFAM Annotations",-1)),s("ul",Lm,[(k(!0),x(ye,null,De(i.annotations.Pfam_annotation,(f,v)=>(k(),x("li",{key:v,class:"list-group-item"},I(f),1))),128))])])):Z("",!0),i.annotations.TrEMBL_annotation&&i.annotations.TrEMBL_annotation.length>0?(k(),x("div",$m,[e[32]||(e[32]=s("h4",null,"TrEMBL Annotations",-1)),s("ul",Nm,[(k(!0),x(ye,null,De(i.annotations.TrEMBL_annotation,(f,v)=>(k(),x("li",{key:v,class:"list-group-item"},I(f),1))),128))])])):Z("",!0),i.annotations.nr_annotation&&i.annotations.nr_annotation.length>0?(k(),x("div",Mm,[e[33]||(e[33]=s("h4",null,"nr Annotations",-1)),s("ul",Fm,[(k(!0),x(ye,null,De(i.annotations.nr_annotation,(f,v)=>(k(),x("li",{key:v,class:"list-group-item"},I(f),1))),128))])])):Z("",!0),i.annotations.Swissprot_annotation&&i.annotations.Swissprot_annotation.length>0?(k(),x("div",jm,[e[34]||(e[34]=s("h4",null,"Swissprot Annotations",-1)),s("ul",Gm,[(k(!0),x(ye,null,De(i.annotations.Swissprot_annotation,(f,v)=>(k(),x("li",{key:v,class:"list-group-item"},I(f),1))),128))])])):Z("",!0)])])):Z("",!0),i.hasGffData?(k(),x("div",Um,[s("div",Bm,[e[36]||(e[36]=s("h2",null,"GFF Data",-1)),s("div",null,[s("button",{class:"btn btn-sm btn-success mr-2",onClick:e[4]||(e[4]=f=>a.downloadGff("txt"))},"Download as TXT"),s("button",{class:"btn btn-sm btn-success",onClick:e[5]||(e[5]=f=>a.downloadGff("gff"))},"Download as GFF")])]),s("div",Vm,[s("div",zm,[s("div",Km,[V(p,{"current-page":i.currentPage,"onUpdate:currentPage":e[6]||(e[6]=f=>i.currentPage=f),"page-size":i.pageSize,"onUpdate:pageSize":[e[7]||(e[7]=f=>i.pageSize=f),a.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"sizes",total:i.gffData.length,onCurrentChange:a.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])]),i.isLoading?(k(),qn(h,{key:0,rows:10,animated:""})):(k(),qn(_,{key:1,data:a.currentPageGffData,style:{width:"100%"},stripe:"",border:""},{default:oe(()=>[V(g,{prop:"seqid",label:"Seqid","min-width":"100"}),V(g,{prop:"source",label:"Source","min-width":"100"}),V(g,{prop:"type",label:"Type","min-width":"100"}),V(g,{prop:"start",label:"Start","min-width":"100"}),V(g,{prop:"end",label:"End","min-width":"100"}),V(g,{prop:"score",label:"Score","min-width":"50"}),V(g,{prop:"strand",label:"Strand","min-width":"50"}),V(g,{prop:"phase",label:"Phase","min-width":"50"}),V(g,{prop:"attributes",label:"Attributes","min-width":"200"})]),_:1},8,["data"])),s("div",Hm,[s("span",Jm," Showing "+I((i.currentPage-1)*i.pageSize+1)+" to "+I(Math.min(i.currentPage*i.pageSize,i.gffData.length))+" of "+I(i.gffData.length)+" entries ",1),V(p,{"current-page":i.currentPage,"onUpdate:currentPage":e[8]||(e[8]=f=>i.currentPage=f),"page-size":i.pageSize,"onUpdate:pageSize":[e[9]||(e[9]=f=>i.pageSize=f),a.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:i.gffData.length,onCurrentChange:a.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])])])):Z("",!0),s("div",Wm,[V(c,{to:"/id-search",class:"btn btn-primary"},{default:oe(()=>[...e[37]||(e[37]=[te("Return to Search",-1)])]),_:1})])])):Z("",!0),i.showModal?(k(),x("div",{key:3,class:"modal",style:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"1050"},onClick:e[14]||(e[14]=pe((...f)=>a.closeModal&&a.closeModal(...f),["self"]))},[s("div",Qm,[s("div",Xm,[s("div",Ym,[s("h5",Zm,I(i.modalTitle),1),s("button",{type:"button",class:"close",onClick:e[10]||(e[10]=(...f)=>a.closeModal&&a.closeModal(...f)),style:{background:"none",border:"none","font-size":"1.5rem",cursor:"pointer"}},"×")]),s("div",eg,[s("div",tg,I(i.modalContent),1)]),s("div",ng,[s("button",{class:"btn btn-primary mr-2",onClick:e[11]||(e[11]=f=>a.copySequence(i.modalContent))},"Copy Sequence"),s("button",{class:"btn btn-secondary mr-2",onClick:e[12]||(e[12]=(...f)=>a.downloadFasta&&a.downloadFasta(...f))},"Download FASTA"),s("button",{class:"btn btn-secondary",onClick:e[13]||(e[13]=(...f)=>a.closeModal&&a.closeModal(...f))},"Close")])])])])):Z("",!0)])}const og=Oe(Qh,[["render",sg],["__scopeId","data-v-c6af5480"]]),rg={name:"IdSearchSummaryView",components:{SequenceDisplay:js},data(){return{results:[],has_sequences:!1,loading:!1,error:null,selectedUpstreamLength:1e4,selectedDownstreamLength:1e4,sequenceCache:{},sequenceLoading:{},showModal:!1,modalTitle:"",modalContent:"",currentSeqType:"",currentGeneId:""}},mounted(){console.log("页面已挂载，开始获取数据..."),console.log("当前URL参数:",new URLSearchParams(window.location.search).toString()),this.fetchSearchResults()},methods:{handleLengthChange(t){this.selectedUpstreamLength=t.upstreamLength||1e4,this.selectedDownstreamLength=t.downstreamLength||1e4},async fetchSearchResults(){this.loading=!0,this.error=null,this.results=[],this.has_sequences=!1;try{const t=new URLSearchParams(window.location.search);let e=t.get("id")||t.get("ids")||t.get("query_ids");if(!e){this.error="URL中未找到基因ID参数",this.loading=!1;return}const o=e.split(",").join(`
`),r=`gene_ids=${encodeURIComponent(o)}`,i=await ze.post("/tools/id-search/api/id-search-form/",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});i&&i.status==="success"?(this.results=i.results||[],this.has_sequences=i.has_sequences||!1):this.error=i.error||"请求处理失败"}catch(t){console.error("获取数据失败:",t),this.error="获取数据失败: "+(t.message||"未知错误")}finally{this.loading=!1}},downloadAllFasta(t){let e="";if(this.results.forEach(o=>{const r=o.IDs;if(t==="genomic"&&o.gene_seq&&o.gene_seq!=="N/A"&&o.gene_seq!==""&&(e+=`>${r} genomic
${o.gene_seq}

`),o.mrna_transcripts&&o.mrna_transcripts.length>0)o.mrna_transcripts.forEach(i=>{let a="";switch(t){case"mrna":a=i.mrna_seq||"";break;case"cdna":a=i.cdna_seq||"";break;case"cds":a=i.cds_seq||"";break;case"protein":a=i.protein_seq||"";break;case"upstream":a=i.upstream_seq||"";break;case"downstream":a=i.downstream_seq||"";break}a&&a!=="N/A"&&a!=="未找到CDS序列"&&a!=="未找到蛋白序列"&&(e+=`>${i.id} ${t}
${a}

`)});else{let i="";switch(t){case"mrna":i=o.mrna_seq||"";break;case"cds":i=o.cds_seq||"";break;case"protein":i=o.protein_seq||"";break}i&&i!=="N/A"&&i!=="未找到CDS序列"&&i!=="未找到蛋白序列"&&(e+=`>${r} ${t}
${i}

`)}}),e){const o=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(o),i=document.createElement("a");i.href=r,i.download=`all_${t}_sequences.fasta`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}},copyAllFasta(t){let e="";this.results.forEach(o=>{const r=o.IDs;if(t==="genomic"&&o.gene_seq&&o.gene_seq!=="N/A"&&o.gene_seq!==""&&(e+=`>${r} genomic
${o.gene_seq}

`),o.mrna_transcripts&&o.mrna_transcripts.length>0)o.mrna_transcripts.forEach(i=>{let a="";switch(t){case"mrna":a=i.mrna_seq||"";break;case"cdna":a=i.cdna_seq||"";break;case"cds":a=i.cds_seq||"";break;case"protein":a=i.protein_seq||"";break;case"upstream":a=i.upstream_seq||"";break;case"downstream":a=i.downstream_seq||"";break}a&&a!=="N/A"&&a!=="未找到CDS序列"&&a!=="未找到蛋白序列"&&(e+=`>${i.id} ${t}
${a}

`)});else{let i="";switch(t){case"mrna":i=o.mrna_seq||"";break;case"cds":i=o.cds_seq||"";break;case"protein":i=o.protein_seq||"";break}i&&i!=="N/A"&&i!=="未找到CDS序列"&&i!=="未找到蛋白序列"&&(e+=`>${r} ${t}
${i}

`)}}),e&&navigator.clipboard.writeText(e).then(()=>{alert("序列已复制到剪贴板")}).catch(o=>{console.error("复制失败:",o)})},formatSequence(t){return t?t.replace(/(.{1,80})/g,`$1
`):""},async handleShowSequence(t){const{type:e,title:o,content:r,id:i}=t;this.modalTitle=o,this.currentSeqType=e,this.currentGeneId=i;const a=this.selectedUpstreamLength||500,c=this.selectedDownstreamLength||500;let d="";for(const p of this.results){const h=p.IDs;if(e==="genomic"&&p.gene_seq&&p.gene_seq!=="N/A"&&p.gene_seq!==""){d+=`>${h} genomic
`,d+=this.formatSequence(p.gene_seq),d+=`

`;continue}if(p.mrna_transcripts&&p.mrna_transcripts.length>0)for(const g of p.mrna_transcripts){const _=g.id||g.transcript_id||h,f=`${h}|${e}|${_}|${a}|${c}`;if(this.sequenceCache[f]){d+=this.sequenceCache[f],d+=`

`;continue}if(!this.sequenceLoading[f]){this.sequenceLoading[f]=!0;try{let v="";if(g[e+"_seq"]&&g[e+"_seq"]!=="N/A"&&g[e+"_seq"]!=="未找到CDS序列"&&g[e+"_seq"]!=="未找到蛋白序列")v=g[e+"_seq"];else{const y=await ze.post("/tools/id-search/api/sequence/",{gene_id:h,transcript_id:_,type:e,upstream_length:a,downstream_length:c});console.log("序列检索成功:",y);const S=y.sequence||"未找到序列";v=S}if((e==="upstream"||e==="downstream")&&v&&v!=="未找到序列"&&v!=="N/A"){const y=e==="upstream"?a:c;v=v.slice(0,y)}let b="";if(v&&v!=="未找到序列"&&v!=="N/A"){const y=e==="upstream"||e==="downstream"?` (${e==="upstream"?a:c}bp)`:"";b=`>${_} ${e}${y}
`,b+=this.formatSequence(v)}else b=v;this.sequenceCache[f]=b,d+=b,d+=`

`}catch(v){console.error("序列检索失败:",v),d+=`>${_} ${e}
检索序列失败

`}finally{this.sequenceLoading[f]=!1}}}else{const g=`${h}|${e}|${h}|${a}|${c}`;if(this.sequenceCache[g]){d+=this.sequenceCache[g],d+=`

`;continue}if(this.sequenceLoading[g])continue;this.sequenceLoading[g]=!0;try{let _="";if(p[e+"_seq"]&&p[e+"_seq"]!=="N/A"&&p[e+"_seq"]!=="未找到CDS序列"&&p[e+"_seq"]!=="未找到蛋白序列")_=p[e+"_seq"];else{const v=await ze.post("/tools/id-search/api/sequence/",{gene_id:h,transcript_id:h,type:e,upstream_length:a,downstream_length:c});console.log("序列检索成功:",v);const b=v.sequence||"未找到序列";_=b}if((e==="upstream"||e==="downstream")&&_&&_!=="未找到序列"&&_!=="N/A"){const v=e==="upstream"?a:c;_=_.slice(0,v)}let f="";if(_&&_!=="未找到序列"&&_!=="N/A"){const v=e==="upstream"||e==="downstream"?` (${e==="upstream"?a:c}bp)`:"";f=`>${h} ${e}${v}
`,f+=this.formatSequence(_)}else f=_;this.sequenceCache[g]=f,d+=f,d+=`

`}catch(_){console.error("序列检索失败:",_),d+=`>${h} ${e}
检索序列失败

`}finally{this.sequenceLoading[g]=!1}}}d=d.trim(),d||(d="未找到该类型的序列"),this.modalContent=d,this.showModal=!0},closeModal(){this.showModal=!1},async downloadAllSequences(){const t=["genomic","mrna","upstream","downstream","cdna","cds","protein"],e=this.selectedUpstreamLength||500,o=this.selectedDownstreamLength||500;let r="",i=!1;for(const a of this.results){const c=a.IDs;for(const d of t){if(d==="genomic"&&a.gene_seq&&a.gene_seq!=="N/A"&&a.gene_seq!==""){r+=`>${c} genomic
`,r+=this.formatSequence(a.gene_seq),r+=`

`,i=!0;continue}if(a.mrna_transcripts&&a.mrna_transcripts.length>0)for(const p of a.mrna_transcripts){const h=p.id||p.transcript_id||c,g=`${c}|${d}|${h}|${e}|${o}`;let _="",f=!1;if(this.sequenceCache[g]?(_=this.sequenceCache[g],f=!0):p[d+"_seq"]&&p[d+"_seq"]!=="N/A"&&p[d+"_seq"]!=="未找到CDS序列"&&p[d+"_seq"]!=="未找到蛋白序列"?(_=p[d+"_seq"],f=!0):a[d+"_seq"]&&a[d+"_seq"]!=="N/A"&&a[d+"_seq"]!=="未找到CDS序列"&&a[d+"_seq"]!=="未找到蛋白序列"&&(_=a[d+"_seq"],f=!0),(d==="upstream"||d==="downstream")&&_&&_!=="未找到序列"&&_!=="N/A"){const v=d==="upstream"?e:o;_=_.slice(0,v)}if(f&&_&&_!=="未找到序列"&&_!=="N/A"){const v=d==="upstream"||d==="downstream"?` (${d==="upstream"?e:o}bp)`:"";r+=`>${h} ${d}${v}
`,r+=this.formatSequence(_),r+=`

`,i=!0}else try{const b=(await ze.post("/tools/id-search/api/sequence/",{gene_id:c,transcript_id:h,type:d,upstream_length:e,downstream_length:o})).sequence||"未找到序列";if(b&&b!=="未找到序列"&&b!=="N/A"){let y=b;if(d==="upstream"||d==="downstream"){const E=d==="upstream"?e:o;y=b.slice(0,E)}const S=d==="upstream"||d==="downstream"?` (${d==="upstream"?e:o}bp)`:"";r+=`>${h} ${d}${S}
`,r+=this.formatSequence(y),r+=`

`,i=!0,this.sequenceCache[g]=y}}catch(v){console.error("序列检索失败:",v)}}else{const p=`${c}|${d}|${c}|${e}|${o}`;let h="",g=!1;if(this.sequenceCache[p]?(h=this.sequenceCache[p],g=!0):a[d+"_seq"]&&a[d+"_seq"]!=="N/A"&&a[d+"_seq"]!=="未找到CDS序列"&&a[d+"_seq"]!=="未找到蛋白序列"&&(h=a[d+"_seq"],g=!0),(d==="upstream"||d==="downstream")&&h&&h!=="未找到序列"&&h!=="N/A"){const _=d==="upstream"?e:o;h=h.slice(0,_)}if(g&&h&&h!=="未找到序列"&&h!=="N/A"){const _=d==="upstream"||d==="downstream"?` (${d==="upstream"?e:o}bp)`:"";r+=`>${c} ${d}${_}
`,r+=this.formatSequence(h),r+=`

`,i=!0}else try{const f=(await ze.post("/tools/id-search/api/sequence/",{gene_id:c,transcript_id:c,type:d,upstream_length:e,downstream_length:o})).sequence||"未找到序列";if(f&&f!=="未找到序列"&&f!=="N/A"){let v=f;if(d==="upstream"||d==="downstream"){const y=d==="upstream"?e:o;v=f.slice(0,y)}const b=d==="upstream"||d==="downstream"?` (${d==="upstream"?e:o}bp)`:"";r+=`>${c} ${d}${b}
`,r+=this.formatSequence(v),r+=`

`,i=!0,this.sequenceCache[p]=v}}catch(_){console.error("序列检索失败:",_)}}}}if(r=r.trim(),r&&i){const a=new Blob([r],{type:"text/plain"}),c=URL.createObjectURL(a),d=document.createElement("a");d.href=c,d.download="all_sequences.fasta";const p=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.body.appendChild(d),d.dispatchEvent(p),document.body.removeChild(d),URL.revokeObjectURL(c)}else this.showTemporaryMessage("没有找到可用的序列数据")},copySequence(t){navigator.clipboard.writeText(t).then(()=>{this.showTemporaryMessage("序列已复制到剪贴板")}).catch(e=>{console.error("复制失败:",e),this.showTemporaryMessage("复制失败，请手动复制")})},downloadFasta(){const t=this.modalContent,e=new Blob([t],{type:"text/plain"}),o=URL.createObjectURL(e),r=document.createElement("a");r.href=o,r.download=`${this.currentGeneId}_${this.currentSeqType}_all_transcripts.fasta`;const i=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.body.appendChild(r),r.dispatchEvent(i),document.body.removeChild(r),URL.revokeObjectURL(o)},showTemporaryMessage(t){const e=document.createElement("div");e.textContent=t,e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="4px",e.style.zIndex="9999",e.style.fontSize="16px",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",e.style.transition="opacity 0.5s ease-out",setTimeout(()=>{document.body.removeChild(e)},500)},1500)}}},ig={class:"container mt-4"},ag={class:"status-info bg-light p-3 rounded mb-4"},lg={key:0,class:"text-success"},cg={key:1,class:"text-muted"},ug={key:0,class:"text-center py-5"},dg={key:1,class:"alert alert-danger mt-4"},pg={class:"table-responsive"},fg={class:"table table-bordered"},hg={class:"text-center align-middle",style:{width:"10%"}},mg={class:"text-center align-middle",style:{width:"10%"}},gg={class:"text-center align-middle",style:{width:"10%"}},_g={key:0,class:"mt-6"},vg={class:"mt-4 d-flex gap-2"},bg={key:1,class:"text-muted"},yg={key:3,class:"text-center py-5"},wg={class:"modal-dialog",style:{"max-width":"50vw","max-height":"50vh",margin:"0",width:"auto"}},kg={class:"modal-content",style:{height:"100%",display:"flex","flex-direction":"column"}},xg={class:"modal-header"},Sg={class:"modal-title"},Cg={class:"modal-body",style:{flex:"1","overflow-y":"auto"}},Eg={class:"bg-light p-3 rounded",style:{"max-height":"calc(40vh - 100px)","overflow-y":"auto","white-space":"pre-wrap","font-family":"monospace"}},Ag={class:"modal-footer"};function Tg(t,e,o,r,i,a){const c=nt("router-link"),d=js;return k(),x("div",ig,[s("div",ag,[i.results.length>0?(k(),x("p",lg,"找到 "+I(i.results.length)+" 个基因序列",1)):!i.loading&&!i.error?(k(),x("p",cg,"暂无数据，请检查输入的基因ID")):Z("",!0)]),e[11]||(e[11]=s("h1",null,"ID搜索结果汇总",-1)),i.loading?(k(),x("div",ug,[...e[6]||(e[6]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"loading...")],-1),s("p",{class:"mt-3"},"正在加载数据，请稍候...",-1)])])):i.error?(k(),x("div",dg,[s("p",null,"错误: "+I(i.error),1),e[7]||(e[7]=s("p",null,"请检查URL参数格式或稍后重试",-1))])):i.results?(k(),x(ye,{key:2},[s("div",pg,[s("table",fg,[e[8]||(e[8]=s("thead",null,[s("tr",{class:"text-center"},[s("th",{style:{width:"10%"}},"Input ID"),s("th",{style:{width:"10%"}},"Query ID"),s("th",{style:{width:"10%"}},"Species")])],-1)),s("tbody",null,[(k(!0),x(ye,null,De(i.results,(p,h)=>(k(),x("tr",{key:`result-${h}`},[s("td",hg,I(p.original_id||"-"),1),s("td",mg,[V(c,{to:{path:"/tools/id-search/results/",query:{id:p.IDs}}},{default:oe(()=>[te(I(p.IDs||"-"),1)]),_:2},1032,["to"])]),s("td",gg,I(p.species||"-"),1)]))),128))])])]),i.results.length>0?(k(),x("div",_g,[e[9]||(e[9]=s("h4",null,"Gene Sequences",-1)),V(d,{results:i.results,loading:!1,onShowSequence:a.handleShowSequence,onLengthChange:a.handleLengthChange},null,8,["results","onShowSequence","onLengthChange"]),s("div",vg,[s("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...p)=>a.downloadAllSequences&&a.downloadAllSequences(...p))},"Download All Sequences")])])):(k(),x("p",bg,"No gene sequences available."))],64)):(k(),x("div",yg,[...e[10]||(e[10]=[s("p",{class:"text-muted"},"准备加载数据...",-1)])])),i.showModal?(k(),x("div",{key:4,class:"modal",style:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"1050"},onClick:e[5]||(e[5]=pe((...p)=>a.closeModal&&a.closeModal(...p),["self"]))},[s("div",wg,[s("div",kg,[s("div",xg,[s("h5",Sg,I(i.modalTitle),1),s("button",{type:"button",class:"close",onClick:e[1]||(e[1]=(...p)=>a.closeModal&&a.closeModal(...p)),style:{background:"none",border:"none","font-size":"1.5rem",cursor:"pointer"}},"×")]),s("div",Cg,[s("div",Eg,I(i.modalContent),1)]),s("div",Ag,[s("button",{class:"btn btn-primary mr-2",onClick:e[2]||(e[2]=p=>a.copySequence(i.modalContent))},"Copy Sequence"),s("button",{class:"btn btn-secondary mr-2",onClick:e[3]||(e[3]=(...p)=>a.downloadFasta&&a.downloadFasta(...p))},"Download FASTA"),s("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...p)=>a.closeModal&&a.closeModal(...p))},"Close")])])])])):Z("",!0)])}const Pg=Oe(rg,[["render",Tg],["__scopeId","data-v-1e88245e"]]),Do=async t=>{try{const e=`/assets/jbrowse/data/${t}/${t}.genome.fa.gz.fai`;console.log("尝试获取.fai文件:",e);const o=await fetch(e);if(!o.ok)return console.warn(`无法获取 .fai 文件: ${e}, 状态码: ${o.status}`),"Ghir_A01";console.log("成功获取.fai文件响应");const r=await o.text();console.log("fai文件内容长度:",r.length);const i=r.trim().split(`
`);if(console.log("fai文件行数:",i.length),i.length===0)return console.warn(".fai 文件为空"),"Ghir_A01";const a=i[0].split("	")[0];return console.log(`获取到的第一个染色体: ${a}`),a}catch(e){return console.error("获取第一个染色体时出错:",e),"Ghir_A01"}},Rg={name:"JbrowseView",components:{QuestionFilled:Qo,VideoPlay:Wo},setup(){const t=L([]),e=L({multiple:!1,checkStrictly:!1,expandTrigger:"click",showAllLevels:!1}),o=L([]),r=L(!1),i=L("/assets/jbrowse/index.html?assembly=Ghirsutum_genome_HAU_v1.0&tracks=Ghirsutum_genome_HAU_v1.0.gff&loc=Ghir_A01:1-1000000"),a=L(0),c=L(null),d=L([]),p=()=>{if(d.value.length===0){o.value=[];return}console.log("构建基因组选项，原始genomes数据:",d.value);const f={};d.value.forEach(v=>{const b=v.assembly||"undefined";f[b]||(f[b]=[]),f[b].push({value:v.name,label:v.name,genomeData:v})}),o.value=Object.entries(f).map(([v,b])=>({value:v,label:v,children:b})),console.log("构建的基因组级联选项:",o.value),console.log("基因组数量:",d.value.length)},h=async f=>{if(console.log("选择的基因组值:",f),f&&f.length>0){const v=f[f.length-1];let b=null;for(const y of o.value)if(y.children){const S=y.children.find(E=>E.value===v);if(S){b=S.genomeData;break}}if(b){c.value=b,console.log("选择的基因组:",c.value.name);const y=await Do(b.name);console.log("第一个染色体:",y);const S=`/assets/jbrowse/index.html?config=data/${b.name}/config.json&assembly=${b.name}&tracks=GFF&loc=${y}:1-1000000`;console.log("构建的URL:",S),i.value=S,g()}else console.error("未找到基因组数据，selectedValue:",v)}},g=()=>{a.value++},_=async()=>{r.value=!0;try{const v=await(await fetch("/Browse/api/species/")).json();if(v.status==="success"){const b=v.data;if(console.log("从后端获取的原始species数据:",b),console.log("从后端获取的species数量:",b.length),d.value=b.map((y,S)=>({id:S+1,name:y.name||`${y.Cotton_Species} 基因组`,description:y.description||`${y.Cotton_Species} 基因组序列`,assembly:y.Genome_type||y.Cotton_Species,track:"TM-1.gff"})),console.log("处理后的genomes数据:",d.value),console.log("处理后的genomes数量:",d.value.length),p(),d.value.length>0&&o.value.length>0){const y=d.value[0],S=y.assembly||"undefined";t.value=[S,y.name],console.log("选择基因组:",t.value),c.value=y,console.log("选择的基因组信息:",c.value);const E=await Do(y.name),P=`/assets/jbrowse/index.html?config=data/${y.name}/config.json&assembly=${y.name}&tracks=GFF&loc=${E}:1-1000000`;i.value=P,console.log("默认选中的基因组:",y.name,"URL:",P)}}}catch(f){if(console.error("Error fetching genomes:",f),d.value=[{id:1,name:"陆地棉基因组 (Ghirsutum)",description:"陆地棉（Gossypium hirsutum）基因组序列，版本为HAU v1.0",assembly:"Ghirsutum_genome_HAU_v1.0",track:"TM-1.gff"}],p(),d.value.length>0&&o.value.length>0){const v=d.value[0],b=v.assembly||"undefined";t.value=[b,v.name],c.value=v;const y=await Do(v.name),S=`/assets/jbrowse/index.html?config=data/${v.name}/config.json&assembly=${v.name}&tracks=GFF&loc=${y}:1-1000000`;i.value=S,console.log("默认选中的基因组:",v.name,"URL:",S)}}finally{r.value=!1}};return jt(()=>{_()}),{selectedGenome:t,genomeOptions:o,genomeLoading:r,cascaderProps:e,currentIframeUrl:i,iframeKey:a,selectedGenomeInfo:c,handleGenomeChange:h,refreshIframe:g}}},Dg={class:"container-fluid"},Ig={class:"row"},qg={class:"col-md-3"},Og={class:"sidebar"},Lg={class:"mt-4"},$g={class:"sidebar-title"},Ng={class:"mt-4"},Mg={class:"d-grid gap-2"},Fg={class:"col-md-9"},jg={class:"main-content"},Gg={key:0,class:"genome-info"},Ug={class:"embed-container"},Bg=["src"];function Vg(t,e,o,r,i,a){const c=nt("QuestionFilled"),d=Is,p=nt("VideoPlay"),h=Xo;return k(),x("div",Dg,[s("div",Ig,[s("div",qg,[s("div",Og,[s("h3",null,[e[2]||(e[2]=te("JBrowse Views ",-1)),V(d,{class:"info-icon"},{default:oe(()=>[V(c)]),_:1})]),s("div",Lg,[s("h4",$g,[V(d,{class:"play-icon"},{default:oe(()=>[V(p)]),_:1}),e[3]||(e[3]=te(" Genome",-1))]),V(h,{modelValue:r.selectedGenome,"onUpdate:modelValue":e[0]||(e[0]=g=>r.selectedGenome=g),options:r.genomeOptions,props:r.cascaderProps,placeholder:"选择基因组",class:"w-100 mt-2",onChange:r.handleGenomeChange,loading:r.genomeLoading},null,8,["modelValue","options","props","onChange","loading"])]),e[4]||(e[4]=s("div",{class:"text-muted"},"Please select a genomic",-1)),s("div",Ng,[s("div",Mg,[s("button",{onClick:e[1]||(e[1]=(...g)=>r.refreshIframe&&r.refreshIframe(...g)),class:"btn btn-secondary"}," Refresh View ")])])])]),s("div",Fg,[s("div",jg,[e[7]||(e[7]=s("h2",null,"JBrowse 可视化",-1)),r.selectedGenomeInfo?(k(),x("div",Gg,[s("p",null,[e[5]||(e[5]=s("strong",null,"Genome:",-1)),te(" "+I(r.selectedGenomeInfo.name),1)]),s("p",null,[e[6]||(e[6]=s("strong",null,"Version:",-1)),te(" "+I(r.selectedGenomeInfo.assembly),1)])])):Z("",!0),s("div",Ug,[(k(),x("iframe",{key:r.iframeKey,src:r.currentIframeUrl,width:"100%",height:"800px",frameborder:"0"},null,8,Bg))])])])])])}const zg=Oe(Rg,[["render",Vg],["__scopeId","data-v-2b2c87a9"]]),Kg={name:"DownloadView"},Hg={class:"container mt-4"};function Jg(t,e,o,r,i,a){return k(),x("div",Hg,[...e[0]||(e[0]=[s("h1",null,"下载数据",-1),s("p",null,"此页面正在开发中...",-1)])])}const Wg=Oe(Kg,[["render",Jg]]),Qg={name:"Contact_usView"},Xg={class:"container mt-4"};function Yg(t,e,o,r,i,a){return k(),x("div",Xg,[...e[0]||(e[0]=[s("h1",null,"联系我们",-1),s("p",null,"此页面正在开发中...",-1)])])}const Zg=Oe(Qg,[["render",Yg]]),e_={name:"AboutView"},t_={class:"container mt-4"};function n_(t,e,o,r,i,a){return k(),x("div",t_,[...e[0]||(e[0]=[s("h1",null,"关于我们",-1),s("p",null,"这是关于我们的页面。",-1)])])}const s_=Oe(e_,[["render",n_]]),o_={class:"container mt-4"},r_={key:0,class:"alert alert-danger"},i_={class:"card"},a_={class:"card-body"},l_={class:"form-group mb-3"},c_={class:"row mb-3"},u_={class:"col-md-6"},d_={class:"form-group"},p_={class:"col-md-6"},f_={class:"form-group"},ya="MGEAIKKQEGVSTVKEDNKLIDSKKKKANNSNLAKKTSWRRIDLMATKNQRNDDSSTRKRKSSEGEFDMCGIEVAYEDELKRLKQEGKEDRDECKVKNPDKSLISAYIHDIQQLLVKYRKCRFEYIPPMENNLAHILATETLKNKKEFYLVGSVPKSAEKKEERDRVREPD",h_=bt({__name:"BlastpView",setup(t){const e=Ft("showLoading"),o=Ft("hideLoading"),r=Nn(),i=L(""),a=L(.01),c=L(30),d=L(""),p=()=>{i.value=ya};console.log("exampleSequence:",ya);const h=async()=>{if(!i.value.trim()){d.value="Please enter a protein sequence";return}d.value="",console.log("sequence.value:",i.value),e();try{console.log("Submitting BLASTP search:",{sequence:i.value,evalue:a.value,maxTargetSeqs:c.value});const _=new FormData;_.append("sequence",i.value),_.append("evalue",a.value.toString()),_.append("max_target_seqs",c.value.toString());const f="/tools/blastp/api/blastp/";console.log("API URL:",f),console.log("FormData entries:");for(const[y,S]of _.entries())console.log(`${y}: ${S}`);const v=await fetch(f,{method:"POST",body:_,headers:{Accept:"application/json"}});if(console.log("Response status:",v.status),console.log("Response statusText:",v.statusText),console.log("Response headers:",Object.fromEntries(v.headers.entries())),!v.ok){const y=await v.text();throw console.error("Response error text:",y),new Error(`HTTP error! status: ${v.status}, text: ${y}`)}const b=await v.json();r.push({name:"blastpResults",query:{results:encodeURIComponent(JSON.stringify(b))}})}catch(_){d.value="BLASTP search failed. Please try again. "+_.message,console.error("BLASTP error:",_),console.error("Error details:",JSON.stringify(_,Object.getOwnPropertyNames(_)))}finally{o()}},g=()=>{i.value="",a.value=.01,c.value=30,d.value=""};return(_,f)=>(k(),x("div",o_,[f[8]||(f[8]=s("h2",{class:"mb-4"},"BLASTP",-1)),d.value?(k(),x("div",r_,I(d.value),1)):Z("",!0),s("div",i_,[s("div",a_,[s("form",{onSubmit:pe(h,["prevent"])},[s("div",l_,[f[3]||(f[3]=s("label",{for:"sequence",class:"form-label"},"Protein Sequence:",-1)),re(s("textarea",{class:"form-control",id:"sequence","onUpdate:modelValue":f[0]||(f[0]=v=>i.value=v),rows:"10",required:""},null,512),[[ve,i.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:p}," Load Example ")]),s("div",c_,[s("div",u_,[s("div",d_,[f[4]||(f[4]=s("label",{for:"evalue",class:"form-label"},"E-value threshold:",-1)),re(s("input",{type:"number",class:"form-control",id:"evalue","onUpdate:modelValue":f[1]||(f[1]=v=>a.value=v),step:"0.01",min:"0"},null,512),[[ve,a.value,void 0,{number:!0}]])])]),s("div",p_,[s("div",f_,[f[5]||(f[5]=s("label",{for:"max_target_seqs",class:"form-label"},"Maximum target sequences:",-1)),re(s("input",{type:"number",class:"form-control",id:"max_target_seqs","onUpdate:modelValue":f[2]||(f[2]=v=>c.value=v),min:"1",max:"50"},null,512),[[ve,c.value,void 0,{number:!0}]])])])]),f[7]||(f[7]=s("button",{type:"submit",class:"btn btn-primary me-2"},[s("i",{class:"fas fa-search"}),te(" Search ")],-1)),s("button",{type:"button",class:"btn btn-outline-secondary",onClick:g},[...f[6]||(f[6]=[s("i",{class:"fas fa-undo"},null,-1),te(" Reset ",-1)])])],32)])])]))}}),m_=Oe(h_,[["__scopeId","data-v-d7cd2ac0"]]),g_={class:"container mt-4"},__={class:"d-flex justify-content-between align-items-center mb-4"},v_={key:0,class:"badge bg-info"},b_={class:"card mb-4"},y_={class:"card-body"},w_={class:"sequence-box"},k_={class:"mb-0"},x_={key:0,class:"text-muted"},S_={class:"card mb-4"},C_={class:"card-body"},E_={key:0,id:"chord-chart"},A_={key:1,class:"text-center py-4"},T_={class:"row g-2 align-items-center"},P_={class:"col-auto"},R_={key:0,class:"text-center py-4"},D_={key:1},I_={class:"card mb-4"},q_={class:"card-header d-flex justify-content-between align-items-center"},O_={class:"mb-0"},L_={class:"badge bg-primary"},$_={class:"card-body p-0"},N_={class:"table-responsive"},M_={class:"table table-hover mb-0"},F_={class:"text-right"},j_={class:"text-right"},G_={class:"text-right"},U_={key:0,class:"card mb-4"},B_={class:"card-body p-0"},V_={class:"table-responsive"},z_={class:"table table-hover mb-0"},K_={key:1,"aria-label":"Page navigation"},H_={class:"pagination justify-content-center"},J_=["aria-disabled"],W_=["aria-disabled"],Q_={class:"page-item active"},X_={class:"page-link"},Y_=["aria-disabled"],Z_=["aria-disabled"],ev={key:2,class:"alert alert-info"},tv={class:"mt-3"},nv=bt({__name:"BlastpResultView",setup(t){const e=Mn(),o=L(10),r=L("");L("");const i=L(.01),a=L([]),c=L([]),d=L([]),p=L(!1),h=L(1),g=L(0),_=L(0),f=L(null),v=L([]),b=Le(()=>Math.ceil(g.value/o.value)),y=A=>A<.001?A.toExponential(2):A.toFixed(4),S=(A,M)=>A?typeof A!="string"?String(A):A.length>M?A.substring(0,M)+"...":A:"",E=(A,M)=>A?typeof A!="string"?String(A):A.length>M?A.substring(0,M)+"...":A:"",P=()=>{h.value=1,D()},w=A=>{h.value=A,D()},D=()=>{const A=(h.value-1)*o.value,M=A+o.value;a.value=c.value.slice(A,M)},U=async()=>{p.value=!0;try{if(e.query.results){const A=JSON.parse(decodeURIComponent(e.query.results));if(console.log("Received BLASTP results:",A),A.hits){const M=A.hits.map((K,me)=>({query:"Query_Protein",subject:K.protein_id,identity:K.identity,alignment_length:K.length,mismatches:0,gaps:0,query_start:K.qStart,query_end:K.qEnd,subject_start:0,subject_end:K.length,evalue:K.evalue,bit_score:K.score})),N=[...new Map(M.map(K=>[K.subject,K])).values()];N.sort((K,me)=>me.bit_score-K.bit_score),c.value=N,g.value=N.length,r.value=A.query_sequence||"",_.value=A.execution_time||0,i.value=A.evalue||.01,d.value=A.local_matches||[],v.value=N.map(K=>({identity:K.identity,evalue:K.evalue,bitScore:K.bit_score,subject:K.subject})),D(),z(A)}}else console.error("No results found in route query"),a.value=[],g.value=0}catch(A){console.error("加载结果失败:",A),a.value=[],g.value=0}finally{p.value=!1}},z=A=>{if(!A.hits||A.hits.length===0){f.value=null;return}const M={query:"Query_Protein",queryLength:A.query_length||0,proteins:[{id:"Query_Protein",length:A.query_length||0},...A.hits.map(N=>({id:N.protein_id,length:N.length}))],hits:A.hits.map(N=>({query:N.protein_id,target:"Query_Protein",score:N.score,evalue:N.evalue,identity:N.identity,qStart:N.qStart,qEnd:N.qEnd}))};f.value=M},H=()=>{if(!f.value)return;const A=f.value;function M(j){const Ne=[j.query,...j.proteins.map(st=>st.id)],rt=[j.queryLength,...j.proteins.map(st=>st.length)],Dt=rt.reduce((st,Ze)=>st+Ze,0),wt=Array(Ne.length).fill(0).map(()=>Array(Ne.length).fill(0));return j.hits.forEach(st=>{const Ze=Ne.indexOf(st.query),We=Ne.indexOf(st.target);Ze!==-1&&We!==-1&&Ze<wt.length&&We<wt.length&&wt[Ze]&&wt[We]&&(wt[Ze][We]=st.score,wt[We][Ze]=st.score)}),{matrix:wt,proteins:Ne,lengths:rt,totalLength:Dt,hits:j.hits}}const N=M(A),K={};N.proteins.forEach(j=>{K[j]=0}),N.hits.forEach(j=>{j.query!==A.query&&(K[j.query]+=j.identity),j.target!==A.query&&(K[j.target]+=j.identity)});const me={};N.hits.forEach(j=>{j.query!==A.query&&(me[j.query]=(me[j.query]||0)+1),j.target!==A.query&&(me[j.target]=(me[j.target]||0)+1)}),Object.keys(K).forEach(j=>{if(j!==A.query){const Ne=me[j]||1;K[j]!==void 0&&(K[j]=K[j]/Ne)}});const Me=A.query,Se=[...N.proteins.filter(j=>j!==Me)].sort((j,Ne)=>{const rt=K[j]||0;return(K[Ne]||0)-rt}),$e=[Me,...Se].map(j=>N.proteins.indexOf(j)),$=$e.map(j=>$e.map(Ne=>N.matrix&&j>=0&&j<N.matrix.length&&N.matrix[j]&&Ne>=0&&Ne<N.matrix[j].length?N.matrix[j][Ne]:0)),Xe=$e.map(j=>N.lengths[j]),He=$e.map(j=>N.proteins[j]);N.matrix=$,N.lengths=Xe,N.proteins=He;const Ye=document.getElementById("chord-chart");if(!Ye)return;Ye.innerHTML="";const Be=Ye.clientWidth,Je=800,Fe=Math.min(Be,Je)*.5-40,pt=Fe-30,R=$t("#chord-chart").append("svg").attr("width",Be).attr("height",Je).append("g").attr("transform",`translate(${Be/2},${Je/2})`),J=zu().padAngle(.1).sortSubgroups(Ku)(N.matrix),ee=[0];let fe=0;fe+=N.lengths[0],ee.push(fe/N.totalLength*2*Math.PI);for(let j=1;j<N.lengths.length;j++)fe+=N.lengths[j],ee.push(fe/N.totalLength*2*Math.PI);const Ce=Hu().innerRadius(pt).outerRadius(Fe).startAngle(j=>(ee[j.index]||0)+.02).endAngle(j=>(ee[j.index+1]||0)-.02),ue=Ju().domain(N.proteins).range(Wu.concat(Qu)),se=R.append("g").selectAll("g").data(J.groups).enter().append("g");se.append("path").attr("class","chord-group").style("fill",j=>ue(N.proteins[j.index])).style("stroke","#000").style("stroke-width","0.5px").attr("d",j=>Ce(j)).append("title").text(j=>{const Ne=N.proteins[j.index],rt=N.lengths[j.index],Dt=K[Ne]||0;return`${Ne} (Length: ${rt}, Avg Identity: ${Dt.toFixed(2)}%)`}),se.append("text").each(j=>{const Ne=ee[j.index]||0,rt=ee[j.index+1]||0;j.angle=(Ne+rt)/2}).attr("class","protein-label").attr("dy",".35em").attr("transform",j=>`
            rotate(${j.angle*180/Math.PI-90})
            translate(${pt-5})
            ${j.angle>Math.PI?"rotate(180)":""}
          `).style("text-anchor",j=>j.angle>Math.PI?"end":null).text(j=>{const rt=N.proteins[j.index];return rt.length>4?rt.substring(0,4)+"...":rt});const Ee=Xu().radius(pt),yt=$t("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none");R.append("g").selectAll("path").data(J).enter().append("path").attr("class","chord-ribbon").style("fill",j=>ue(N.proteins[j.source.index])).style("stroke",j=>ue(N.proteins[j.source.index])).attr("d",Ee).style("opacity",.8).on("mouseover",j=>{Ni(".chord-ribbon").style("opacity",.1);const Ne=j.currentTarget;Ne&&$t(Ne).style("opacity",1).style("stroke","#000").style("stroke-width","1px");const Dt=j.currentTarget?.__data__;if(Dt){const wt=N.proteins[Dt.source.index],st=N.proteins[Dt.target.index],Ze=N.hits.find(We=>We.query===wt&&We.target===st||We.query===st&&We.target===wt);yt.transition().duration(200).style("opacity",.9),yt.html(`
          <strong>Query Protein → ${st}</strong><br>
          ${Ze?`E-value: ${Ze.evalue}<br>Identity: ${Ze.identity}%<br>Alignment region: ${Ze.qStart}-${Ze.qEnd}`:""}
        `).style("left",j.pageX+15+"px").style("top",j.pageY-28+"px")}}).on("mouseout",()=>{Ni(".chord-ribbon").style("opacity",.8).style("stroke","none"),yt.style("opacity",0)}).on("mousemove",j=>{yt.style("left",j.pageX+15+"px").style("top",j.pageY-28+"px")})},G=()=>{if(v.value.length===0)return;const A=document.getElementById("line-chart");if(!A)return;const M=A.clientWidth,N=400,K={top:20,right:30,bottom:40,left:60};A.innerHTML="";const me=$t("#line-chart").append("svg").attr("width",M).attr("height",N).append("g").attr("transform",`translate(${K.left},${K.top})`),Me=M-K.left-K.right,Ke=N-K.top-K.bottom,Se=v.value.map($=>({...$,logEvalue:-Math.log10($.evalue+1e-100)})),Pe=Mi().domain([0,100]).range([0,Me]),$e=Mi().domain([0,Yu(Se,$=>$.logEvalue)||0]).range([Ke,0]);me.append("g").attr("transform",`translate(0,${Ke})`).call(Fi(Pe)).append("text").attr("x",Me/2).attr("y",30).style("text-anchor","middle").style("font-size","12px").text("Identity (%)"),me.append("g").call(ji($e)).append("text").attr("transform","rotate(-90)").attr("x",-Ke/2).attr("y",-40).style("text-anchor","middle").style("font-size","12px").text("-log10(E-value)"),me.selectAll(".dot").data(Se).enter().append("circle").attr("class","dot").attr("cx",$=>Pe($.identity)).attr("cy",$=>$e($.logEvalue)).attr("r",4).style("fill","#49B7CF").style("opacity",.7).style("stroke","#000").style("stroke-width","1px").on("mouseover",function($,Xe){$t(this).style("opacity",1).style("stroke","#000").style("stroke-width","2px");const He=$t("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","1000");He.transition().duration(200).style("opacity",.9),He.html(`
        <strong>${Xe.subject}</strong><br>
        Identity: ${Xe.identity.toFixed(2)}%<br>
        E-value: ${Xe.evalue<.001?Xe.evalue.toExponential(2):Xe.evalue.toFixed(4)}<br>
        Bit Score: ${Xe.bitScore.toFixed(0)}
      `).style("left",$.pageX+15+"px").style("top",$.pageY-28+"px"),$t(this).datum({tooltip:He})}).on("mouseout",function(){$t(this).style("opacity",.7).style("stroke","#000").style("stroke-width","1px");const $=$t(this).datum();$.tooltip&&typeof $.tooltip.remove=="function"&&$.tooltip.remove(),$t(this).datum(null)}),me.append("g").attr("class","grid").attr("transform",`translate(0,${Ke})`).call(Fi(Pe).ticks(10).tickSize(-Ke).tickFormat(()=>"")),me.append("g").attr("class","grid").call(ji($e).ticks(10).tickSize(-Me).tickFormat(()=>""))};return jt(()=>{U()}),Xt(f,A=>{A&&setTimeout(()=>{H()},100)}),Xt(v,()=>{G()},{deep:!0}),(A,M)=>{const N=nt("router-link");return k(),x("div",g_,[s("div",__,[M[5]||(M[5]=s("h2",null,"BLASTP Results",-1)),_.value?(k(),x("span",v_,"Executed in "+I(_.value)+" seconds",1)):Z("",!0)]),s("div",b_,[M[6]||(M[6]=s("div",{class:"card-header"},[s("h5",{class:"mb-0"},"Query Sequence")],-1)),s("div",y_,[s("div",w_,[s("pre",k_,I(E(r.value,200)),1),r.value.length>200?(k(),x("small",x_,"(truncated - full sequence used for search)")):Z("",!0)])])]),s("div",S_,[M[8]||(M[8]=s("div",{class:"card-header"},[s("h5",{class:"mb-0"},"Chord Diagram")],-1)),s("div",C_,[f.value?(k(),x("div",E_)):(k(),x("div",A_,[...M[7]||(M[7]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])]))])]),s("form",{onSubmit:pe(P,["prevent"]),class:"mb-3"},[s("div",T_,[M[10]||(M[10]=s("div",{class:"col-auto"},[s("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),s("div",P_,[re(s("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":M[0]||(M[0]=K=>o.value=K)},[...M[9]||(M[9]=[s("option",{value:"5"},"5",-1),s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[dt,o.value,void 0,{number:!0}]])]),M[11]||(M[11]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),p.value?(k(),x("div",R_,[...M[12]||(M[12]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):a.value.length>0?(k(),x("div",D_,[s("div",I_,[s("div",q_,[s("h5",O_,"BLASTP Hits (E-value ≤ "+I(i.value)+")",1),s("span",L_,I(g.value)+" results",1)]),s("div",$_,[s("div",N_,[s("table",M_,[M[13]||(M[13]=s("thead",{class:"thead-light"},[s("tr",null,[s("th",null,"Protein ID"),s("th",{class:"text-right"},"E-value"),s("th",{class:"text-right"},"Bit Score"),s("th",{class:"text-right"},"Identity (%)")])],-1)),s("tbody",null,[(k(!0),x(ye,null,De(a.value,(K,me)=>(k(),x("tr",{key:K.subject,class:"protein-row"},[s("td",null,[s("code",null,I(S(K.subject,15)),1)]),s("td",F_,I(y(K.evalue)),1),s("td",j_,I(K.bit_score.toFixed(0)),1),s("td",G_,I(K.identity.toFixed(2))+"%",1)]))),128))])])])])]),d.value.length>0?(k(),x("div",U_,[M[16]||(M[16]=s("div",{class:"card-header"},[s("h5",{class:"mb-0"},"Local Database Matches")],-1)),s("div",B_,[s("div",V_,[s("table",z_,[M[15]||(M[15]=s("thead",{class:"thead-light"},[s("tr",null,[s("th",null,"Protein ID"),s("th",null,"Gene ID"),s("th",null,"Description"),s("th",null,"Source"),s("th",null,"Actions")])],-1)),s("tbody",null,[(k(!0),x(ye,null,De(d.value,(K,me)=>(k(),x("tr",{key:K.protein_id},[s("td",null,[s("code",null,I(K.protein_id),1)]),s("td",null,I(K.gene_id),1),s("td",null,I(S(K.description,50)),1),s("td",null,I(S(K.file_source,20)),1),M[14]||(M[14]=s("td",null,[s("div",{class:"btn-group btn-group-sm"},[s("a",{href:"#",class:"btn btn-outline-info",title:"View details"},[s("i",{class:"fas fa-eye"})]),s("a",{href:"#",class:"btn btn-outline-secondary",title:"Download sequence"},[s("i",{class:"fas fa-download"})])])],-1))]))),128))])])])])])):Z("",!0),g.value>o.value?(k(),x("nav",K_,[s("ul",H_,[s("li",{class:qe(["page-item",{disabled:h.value===1}])},[s("a",{class:"page-link",href:"#",onClick:M[1]||(M[1]=pe(K=>w(1),["prevent"])),"aria-disabled":h.value===1}," 首页 ",8,J_)],2),s("li",{class:qe(["page-item",{disabled:h.value===1}])},[s("a",{class:"page-link",href:"#",onClick:M[2]||(M[2]=pe(K=>w(h.value-1),["prevent"])),"aria-disabled":h.value===1}," 上一页 ",8,W_)],2),s("li",Q_,[s("span",X_," 第 "+I(h.value)+" 页 / 共 "+I(b.value)+" 页 ",1)]),s("li",{class:qe(["page-item",{disabled:h.value===b.value}])},[s("a",{class:"page-link",href:"#",onClick:M[3]||(M[3]=pe(K=>w(h.value+1),["prevent"])),"aria-disabled":h.value===b.value}," 下一页 ",8,Y_)],2),s("li",{class:qe(["page-item",{disabled:h.value===b.value}])},[s("a",{class:"page-link",href:"#",onClick:M[4]||(M[4]=pe(K=>w(b.value),["prevent"])),"aria-disabled":h.value===b.value}," 末页 ",8,Z_)],2)])])):Z("",!0)])):(k(),x("div",ev,"未找到匹配结果")),s("div",tv,[V(N,{to:"/tools/blastp",class:"btn btn-secondary"},{default:oe(()=>[...M[17]||(M[17]=[te("返回搜索",-1)])]),_:1})])])}}}),sv=Oe(nv,[["__scopeId","data-v-a4bf9ad8"]]),ov={class:"container mt-4"},rv={class:"form-group"},iv={class:"row mt-3"},av={class:"col-md-6"},lv={class:"form-group"},cv={class:"col-md-6"},uv={class:"form-group"},dv={class:"form-group mt-3"},pv={key:0,class:"alert alert-danger mt-3"},fv=bt({__name:"GoEnrichmentView",setup(t){const e=Nn(),r=Mu()?.appContext.config.globalProperties.$http,i=L(""),a=L(.05),c=L(.05),d=L(10),p=L(""),h=()=>{const _=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230`;i.value=_},g=async()=>{if(p.value="",!i.value.trim()){p.value="请输入基因列表";return}try{if(!r)throw new Error("未找到全局axios实例");const f=(await r.post("/tools/go_enrichment/api/start/",{gene_list:i.value,p_value:a.value,q_value:c.value,per_page:d.value})).data;f.status==="success"?e.push({path:"/tools/go-enrichment/results",query:{task_id:f.task_id}}):p.value=f.error||"提交失败"}catch(_){p.value="提交失败，请重试",console.error("提交失败:",_)}};return(_,f)=>(k(),x("div",ov,[f[10]||(f[10]=s("h2",{class:"mb-4"},"GO富集分析",-1)),s("form",{onSubmit:pe(g,["prevent"])},[s("div",rv,[f[4]||(f[4]=s("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),re(s("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":f[0]||(f[0]=v=>i.value=v),rows:"10"},null,512),[[ve,i.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:h}," load example ")]),s("div",iv,[s("div",av,[s("div",lv,[f[5]||(f[5]=s("label",{for:"p_value"},"P值阈值:",-1)),re(s("input",{type:"number",class:"form-control",id:"p_value","onUpdate:modelValue":f[1]||(f[1]=v=>a.value=v),min:"0.0001",max:"1",step:"0.0001",required:""},null,512),[[ve,a.value,void 0,{number:!0}]])])]),s("div",cv,[s("div",uv,[f[6]||(f[6]=s("label",{for:"q_value"},"Q值阈值:",-1)),re(s("input",{type:"number",class:"form-control",id:"q_value","onUpdate:modelValue":f[2]||(f[2]=v=>c.value=v),min:"0.0001",max:"1",step:"0.0001",required:""},null,512),[[ve,c.value,void 0,{number:!0}]])])])]),s("div",dv,[f[8]||(f[8]=s("label",{for:"per_page"},"每页显示结果数:",-1)),re(s("select",{class:"form-control",id:"per_page","onUpdate:modelValue":f[3]||(f[3]=v=>d.value=v)},[...f[7]||(f[7]=[s("option",{value:"5"},"5",-1),s("option",{value:"10",selected:""},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[dt,d.value,void 0,{number:!0}]])]),f[9]||(f[9]=s("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),p.value?(k(),x("div",pv,I(p.value),1)):Z("",!0)],32)]))}}),hv=Oe(fv,[["__scopeId","data-v-ba0b4675"]]),mv={class:"container mt-4"},gv={key:0,class:"text-center py-4"},_v={key:1,class:"alert alert-danger",role:"alert"},vv={key:2,class:"alert alert-warning",role:"alert"},bv={key:3},yv={class:"row g-2 align-items-center"},wv={class:"col-auto"},kv=["id"],xv={class:"text-danger"},Sv={key:0},Cv={key:1},Ev={key:2},Av={class:"text-muted"},Tv={class:"table-responsive"},Pv={class:"table table-bordered table-hover"},Rv=["id"],Dv=["title"],Iv={key:0,class:"mt-4"},qv=["src","alt"],Ov={"aria-label":"Page navigation"},Lv=["id"],$v=["onClick","data-category"],Nv={key:1,class:"page-link"},Mv=["onClick","data-category"],Fv={key:1,class:"page-link"},jv={class:"page-item active"},Gv=["id"],Uv=["onClick","data-category"],Bv={key:1,class:"page-link"},Vv=["onClick","data-category"],zv={key:1,class:"page-link"},Kv=bt({__name:"GoEnrichmentResultView",setup(t){const e=Mn(),o=L(10),r=L({BP:1,MF:1,CC:1}),i=L({BP:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},MF:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},CC:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1}}),a=L({}),c=L(!0),d=L(!1),p=L(""),h=L(0),g=S=>typeof S=="object"&&S!==null&&"name"in S?S.name:typeof S=="string"?S:"",_=S=>typeof S=="object"&&S!==null&&"definition"in S?S.definition:"",f=S=>{const E=S.target;E&&(E.style.display="none")},v=async()=>{r.value={BP:1,MF:1,CC:1},await y()},b=async(S,E)=>{r.value[S]=E,await y()},y=async()=>{d.value=!0;try{const S=e.query.task_id;if(!S){p.value="缺少任务ID",c.value=!1;return}const E={task_id:S,per_page:o.value};for(const w in r.value)E[`${w}_page`]=r.value[w];console.log("请求参数:",E);const P=await ze.get("/tools/go_enrichment/api/results/",{params:E});if(console.log("完整的后端返回数据:",JSON.stringify(P,null,2)),P.status==="success"||P.code===200||!P.error){let D=(P.results||P.data||{}).results||{},U=P.plot_images||P.images||P.charts||{};console.log("处理后的结果对象:",D),console.log("处理后的图像对象:",U),i.value={BP:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},MF:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},CC:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1}};for(const H in D){const G=D[H];console.log(`处理类别 ${H} 的数据:`,G),G&&typeof G=="object"&&(Array.isArray(G.results)?i.value[H]={results:G.results,total:G.total||G.results.length,num_pages:G.num_pages||1,current_page:G.current_page||r.value[H]||1,has_next:G.has_next||!1,has_previous:G.has_previous||!1}:Array.isArray(G)&&(i.value[H]={results:G,total:G.length,num_pages:1,current_page:r.value[H]||1,has_next:!1,has_previous:!1}))}a.value=U,console.log("可视化图像数据:",U);let z=!1;for(const H in i.value)if(i.value[H].results.length>0){z=!0;break}c.value=z,console.log("最终结果数据:",i.value),h.value=P.execution_time||P.elapsed_time||P.time||0}else P.status==="processing"?setTimeout(()=>y(),1e3):(p.value=P.error||"获取结果失败",c.value=!1)}catch(S){p.value="获取结果失败: "+(S.message||S),console.error("Error fetching results:",S),c.value=!1}finally{d.value=!1}};return jt(async()=>{await y()}),jt(()=>{}),(S,E)=>{const P=nt("router-link");return k(),x("div",mv,[E[9]||(E[9]=s("h2",{class:"mb-4"},"GO富集分析结果",-1)),V(P,{to:"/tools/go-enrichment",class:"btn btn-secondary mb-4"},{default:oe(()=>[...E[2]||(E[2]=[te("返回",-1)])]),_:1}),d.value?(k(),x("div",gv,[...E[3]||(E[3]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):p.value?(k(),x("div",_v,I(p.value),1)):c.value?(k(),x("div",bv,[s("form",{onSubmit:pe(v,["prevent"]),class:"mb-3",id:"per-page-form"},[s("div",yv,[E[5]||(E[5]=s("div",{class:"col-auto"},[s("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),s("div",wv,[re(s("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":E[0]||(E[0]=w=>o.value=w)},[...E[4]||(E[4]=[s("option",{value:"5"},"5",-1),s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[dt,o.value,void 0,{number:!0}]])]),E[6]||(E[6]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),(k(!0),x(ye,null,De(i.value,(w,D)=>(k(),x("div",{key:D,class:"mb-5",id:`category-${D}`},[s("h4",xv,[D==="MF"?(k(),x("span",Sv,"Molecular Function")):D==="BP"?(k(),x("span",Cv,"Biological Process")):D==="CC"?(k(),x("span",Ev,"Cellular Component")):Z("",!0),s("small",Av," (共 "+I(w.total)+" 条) ",1)]),s("div",Tv,[s("table",Pv,[E[7]||(E[7]=s("thead",{class:"bg-light"},[s("tr",null,[s("th",null,"GO ID"),s("th",null,"Description"),s("th",null,"GeneRatio"),s("th",null,"BgRatio"),s("th",null,"RichFactor"),s("th",null,"FoldEnrichment"),s("th",null,"zScore"),s("th",null,"pvalue"),s("th",null,"Genes")])],-1)),s("tbody",{id:`tbody-${D}`},[(k(!0),x(ye,null,De(w.results,U=>(k(),x("tr",{key:U.go_id},[s("td",null,I(U.go_id),1),s("td",null,[te(I(g(U.description))+" ",1),_(U.description)?(k(),x("i",{key:0,class:"fas fa-info-circle text-muted",title:_(U.description),"data-bs-toggle":"tooltip"},null,8,Dv)):Z("",!0)]),s("td",null,I(U.gene_ratio),1),s("td",null,I(U.bg_ratio),1),s("td",null,I(parseFloat(U.rich_factor).toFixed(4)),1),s("td",null,I(parseFloat(U.fold_enrichment).toFixed(4)),1),s("td",null,I(parseFloat(U.z_score).toFixed(4)),1),s("td",null,I(parseFloat(U.p_value).toFixed(6)),1),s("td",null,I(U.genes),1)]))),128))],8,Rv)])]),a.value&&(a.value[D]||a.value[D.toLowerCase()]||a.value[D.toUpperCase()])?(k(),x("div",Iv,[E[8]||(E[8]=s("h5",null,"可视化结果",-1)),s("img",{src:`data:image/png;base64,${a.value[D]||a.value[D.toLowerCase()]||a.value[D.toUpperCase()]}`,class:"img-fluid",alt:`${D} Plot`,onError:E[1]||(E[1]=U=>f(U))},null,40,qv)])):Z("",!0),s("nav",Ov,[s("ul",{id:`pagination-${D}`,class:"pagination justify-content-center"},[s("li",{class:qe(["page-item",{disabled:!w.has_previous}])},[w.has_previous?(k(),x("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(U=>b(D,1),["prevent"]),"data-category":D}," 首页 ",8,$v)):(k(),x("span",Nv,"首页"))],2),s("li",{class:qe(["page-item",{disabled:!w.has_previous}])},[w.has_previous?(k(),x("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(U=>b(D,w.previous_page_number),["prevent"]),"data-category":D}," 上一页 ",8,Mv)):(k(),x("span",Fv,"上一页"))],2),s("li",jv,[s("span",{id:`current-page-${D}`,class:"page-link"}," 第 "+I(w.current_page)+" 页 / 共 "+I(w.num_pages)+" 页 ",9,Gv)]),s("li",{class:qe(["page-item",{disabled:!w.has_next}])},[w.has_next?(k(),x("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(U=>b(D,w.next_page_number),["prevent"]),"data-category":D}," 下一页 ",8,Uv)):(k(),x("span",Bv,"下一页"))],2),s("li",{class:qe(["page-item",{disabled:!w.has_next}])},[w.has_next?(k(),x("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(U=>b(D,w.num_pages),["prevent"]),"data-category":D}," 末页 ",8,Vv)):(k(),x("span",zv,"末页"))],2)],8,Lv)])],8,kv))),128))])):(k(),x("div",vv," 暂无富集结果 "))])}}}),Hv=Oe(Kv,[["__scopeId","data-v-2f118e97"]]),Jv={class:"container mt-4"},Wv={class:"form-group"},Qv={class:"form-group mt-3"},Xv={key:0,class:"alert alert-danger mt-3"},Yv=bt({__name:"GoAnnotationView",setup(t){const e=Nn(),o=L(""),r=L(10),i=L(""),a=()=>{const d=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100`;o.value=d},c=async()=>{if(i.value="",!o.value.trim()){i.value="请输入基因列表";return}const d={gene_list:o.value,per_page:r.value};try{e.push({path:"/tools/go-annotation/results",query:d})}catch(p){i.value="提交失败，请重试",console.error("提交失败:",p)}};return(d,p)=>(k(),x("div",Jv,[p[6]||(p[6]=s("h2",{class:"mb-4"},"GO注释",-1)),s("form",{onSubmit:pe(c,["prevent"])},[s("div",Wv,[p[2]||(p[2]=s("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),re(s("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":p[0]||(p[0]=h=>o.value=h),rows:"10"},null,512),[[ve,o.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:a}," load example ")]),s("div",Qv,[p[4]||(p[4]=s("label",{for:"per_page"},"每页显示结果数:",-1)),re(s("select",{class:"form-control",id:"per_page","onUpdate:modelValue":p[1]||(p[1]=h=>r.value=h)},[...p[3]||(p[3]=[s("option",{value:"5"},"5",-1),s("option",{value:"10",selected:""},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[dt,r.value,void 0,{number:!0}]])]),p[5]||(p[5]=s("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),i.value?(k(),x("div",Xv,I(i.value),1)):Z("",!0)],32)]))}}),Zv=Oe(Yv,[["__scopeId","data-v-846c266a"]]),eb={class:"container mt-4"},tb={key:0,class:"card mb-4"},nb={class:"card-body"},sb=["src"],ob={class:"row g-2 align-items-center"},rb={class:"col-auto"},ib={key:1,class:"text-center py-4"},ab={key:2},lb={class:"table-responsive"},cb={class:"table table-bordered table-hover"},ub={key:0,"aria-label":"Page navigation"},db={class:"pagination justify-content-center"},pb=["aria-disabled"],fb=["aria-disabled"],hb={class:"page-item active"},mb={class:"page-link"},gb=["aria-disabled"],_b=["aria-disabled"],vb={key:3,class:"alert alert-info"},bb={class:"mt-3"},yb=bt({__name:"GoAnnotationResultView",setup(t){const e=Mn(),o=L(10),r=L(""),i=L([]),a=L(!1),c=L(1),d=L(0),p=L(""),h=L(!0),g=Le(()=>Math.ceil(d.value/o.value)),_=()=>{c.value=1,v()},f=b=>{c.value=b,v()},v=async()=>{a.value=!0;const b=e.query.gene_list||"";r.value=b,console.log("=== GO注释结果页面调试信息 ==="),console.log("路由参数:",e.query),console.log("获取的gene_list参数:",b),console.log("gene_list参数长度:",b.length),console.log("当前页码:",c.value),console.log("每页显示条数:",o.value);try{if(!b){console.log("没有获取到gene_list参数"),i.value=[],d.value=0,p.value="",h.value=!1;return}console.log("准备调用API");const y=await ze.get("/tools/go_annotation/",{params:{gene_id:b,per_page:o.value,page:c.value,api:"true"}});if(console.log("API调用成功"),console.log("API响应数据:",y),y&&y.success){console.log("API响应成功");const S=y.data;console.log("数据对象:",S),console.log("结果数组:",S.results),console.log("结果数量:",S.results?S.results.length:0),console.log("是否有图表:",S.chart?"是":"否"),i.value=S.results||[],d.value=S.results.length||0,p.value=S.chart||"",h.value=i.value.length>0,console.log("是否有结果:",h.value)}else console.log("API响应失败或success为false"),console.log("响应数据:",y),i.value=[],d.value=0,p.value="",h.value=!1}catch(y){console.error("加载结果失败:",y),i.value=[],d.value=0,p.value="",h.value=!1}finally{a.value=!1}};return jt(()=>{v()}),(b,y)=>{const S=nt("router-link");return k(),x("div",eb,[y[12]||(y[12]=s("h2",{class:"mb-4"},"GO注释结果",-1)),p.value?(k(),x("div",tb,[s("div",nb,[y[5]||(y[5]=s("h5",{class:"card-title"},"GO注释分布",-1)),s("img",{src:`data:image/png;base64,${p.value}`,alt:"GO Annotation Chart",class:"img-fluid"},null,8,sb)])])):Z("",!0),s("form",{onSubmit:pe(_,["prevent"]),class:"mb-3"},[s("div",ob,[y[7]||(y[7]=s("div",{class:"col-auto"},[s("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),s("div",rb,[re(s("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":y[0]||(y[0]=E=>o.value=E)},[...y[6]||(y[6]=[s("option",{value:"5"},"5",-1),s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[dt,o.value,void 0,{number:!0}]])]),y[8]||(y[8]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),a.value?(k(),x("div",ib,[...y[9]||(y[9]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):i.value.length>0?(k(),x("div",ab,[s("div",lb,[s("table",cb,[y[10]||(y[10]=s("thead",{class:"bg-light"},[s("tr",null,[s("th",null,"Chr"),s("th",null,"Start"),s("th",null,"End"),s("th",null,"ID"),s("th",null,"GO ID"),s("th",null,"Description"),s("th",null,"Gene Ontology")])],-1)),s("tbody",null,[(k(!0),x(ye,null,De(i.value,E=>(k(),x("tr",{key:`${E.ID}-${E.GO_ID}`},[s("td",null,I(E.Chr),1),s("td",null,I(E.Start),1),s("td",null,I(E.End),1),s("td",null,I(E.ID),1),s("td",null,I(E.GO_ID),1),s("td",null,I(E.Description),1),s("td",null,I(E.Gene_Ontology),1)]))),128))])])]),d.value>o.value?(k(),x("nav",ub,[s("ul",db,[s("li",{class:qe(["page-item",{disabled:c.value===1}])},[s("a",{class:"page-link",href:"#",onClick:y[1]||(y[1]=pe(E=>f(1),["prevent"])),"aria-disabled":c.value===1}," 首页 ",8,pb)],2),s("li",{class:qe(["page-item",{disabled:c.value===1}])},[s("a",{class:"page-link",href:"#",onClick:y[2]||(y[2]=pe(E=>f(c.value-1),["prevent"])),"aria-disabled":c.value===1}," 上一页 ",8,fb)],2),s("li",hb,[s("span",mb," 第 "+I(c.value)+" 页 / 共 "+I(g.value)+" 页 ",1)]),s("li",{class:qe(["page-item",{disabled:c.value===g.value}])},[s("a",{class:"page-link",href:"#",onClick:y[3]||(y[3]=pe(E=>f(c.value+1),["prevent"])),"aria-disabled":c.value===g.value}," 下一页 ",8,gb)],2),s("li",{class:qe(["page-item",{disabled:c.value===g.value}])},[s("a",{class:"page-link",href:"#",onClick:y[4]||(y[4]=pe(E=>f(g.value),["prevent"])),"aria-disabled":c.value===g.value}," 末页 ",8,_b)],2)])])):Z("",!0)])):(k(),x("div",vb,"暂无注释结果")),s("div",bb,[V(S,{to:"/tools/go-annotation",class:"btn btn-secondary"},{default:oe(()=>[...y[11]||(y[11]=[te("返回",-1)])]),_:1})])])}}}),wb=Oe(yb,[["__scopeId","data-v-03b3b785"]]),kb={class:"container mt-4"},xb={class:"form-group"},Sb={class:"form-group mt-3"},Cb={key:0,class:"alert alert-danger mt-3"},Eb=bt({__name:"GeneExpressionView",setup(t){const e=Nn(),o=L(""),r=L(""),i=L(""),a=()=>{const d=`Ghjin_A01g000110
Ghjin_A01g000120
Ghjin_A01g000130
Ghjin_A01g000140
Ghjin_A01g000150
Ghjin_A01g000160
Ghjin_A01g000170
Ghjin_A01g000180
Ghjin_A01g000190
`;o.value=d},c=async()=>{if(i.value="",!o.value.trim()){i.value="Please enter gene list";return}try{const d={gene_list:o.value,tissue:r.value};e.push({path:"/tools/gene-expression/results",query:d})}catch(d){i.value="Submission failed, please try again",console.error("Submission failed:",d)}};return(d,p)=>(k(),x("div",kb,[p[6]||(p[6]=s("h2",{class:"mb-4"},"Gene Expression Analysis",-1)),s("form",{onSubmit:pe(c,["prevent"])},[s("div",xb,[p[2]||(p[2]=s("label",{for:"gene_list"},"Enter gene list (one gene per line or separated by spaces):",-1)),re(s("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":p[0]||(p[0]=h=>o.value=h),rows:"10"},null,512),[[ve,o.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:a}," Load Example ")]),s("div",Sb,[p[4]||(p[4]=s("label",{for:"tissue"},"Select Tissue:",-1)),re(s("select",{class:"form-control",id:"tissue","onUpdate:modelValue":p[1]||(p[1]=h=>r.value=h)},[...p[3]||(p[3]=[Ds('<option value="" data-v-9f7ece36>-- All Tissues --</option><option value="Root" data-v-9f7ece36>Root</option><option value="Stem" data-v-9f7ece36>Stem</option><option value="Cotyledon" data-v-9f7ece36>Cotyledon</option><option value="Leaf" data-v-9f7ece36>Leaf</option><option value="Pholem" data-v-9f7ece36>Pholem</option><option value="Sepal" data-v-9f7ece36>Sepal</option><option value="Bract" data-v-9f7ece36>Bract</option><option value="Petal" data-v-9f7ece36>Petal</option><option value="Anther" data-v-9f7ece36>Anther</option><option value="Stigma" data-v-9f7ece36>Stigma</option><option value="0_DPA_ovules" data-v-9f7ece36>0_DPA_ovules</option><option value="3_DPA_fibers" data-v-9f7ece36>3_DPA_fibers</option><option value="6_DPA_fibers" data-v-9f7ece36>6_DPA_fibers</option><option value="9_DPA_fibers" data-v-9f7ece36>9_DPA_fibers</option><option value="12_DPA_fibers" data-v-9f7ece36>12_DPA_fibers</option><option value="15_DPA_fibers" data-v-9f7ece36>15_DPA_fibers</option><option value="18_DPA_fibers" data-v-9f7ece36>18_DPA_fibers</option><option value="21_DPA_fibers" data-v-9f7ece36>21_DPA_fibers</option><option value="24_DPA_fibers" data-v-9f7ece36>24_DPA_fibers</option><option value="DPA0" data-v-9f7ece36>DPA0</option><option value="5_DPA_ovules" data-v-9f7ece36>5_DPA_ovules</option><option value="10_DPA_ovules" data-v-9f7ece36>10_DPA_ovules</option><option value="20_DPA_ovules" data-v-9f7ece36>20_DPA_ovules</option><option value="Seed" data-v-9f7ece36>Seed</option>',25)])],512),[[dt,r.value]])]),p[5]||(p[5]=s("button",{type:"submit",class:"btn btn-primary mt-4"},"Submit Analysis",-1)),i.value?(k(),x("div",Cb,I(i.value),1)):Z("",!0)],32)]))}}),Ab=Oe(Eb,[["__scopeId","data-v-9f7ece36"]]);Zu();const Tb={class:"container mt-4"},Pb={class:"row g-2 align-items-center"},Rb={class:"col-auto"},Db={key:0,class:"text-center py-4"},Ib={key:1},qb={class:"table-responsive"},Ob={class:"table table-bordered table-hover"},Lb={class:"bg-light"},$b={key:0},Nb={key:1},Mb={class:"mt-4"},Fb={key:0,class:"heatmap-container mt-3 text-center"},jb={class:"mt-2"},Gb=["src"],Ub={key:1,class:"alert alert-info text-center mt-3"},Bb={key:0,"aria-label":"Page navigation"},Vb={class:"pagination justify-content-center"},zb=["aria-disabled"],Kb=["aria-disabled"],Hb={class:"page-item active"},Jb={class:"page-link"},Wb=["aria-disabled"],Qb=["aria-disabled"],Xb={key:2,class:"alert alert-info"},Yb={class:"mt-3"},Zb=bt({__name:"GeneExpressionResultView",setup(t){const e=Mn(),o=L(10),r=L(""),i=L(""),a=L([]),c=L(!1),d=L(1),p=L(0),h=L("");L(null),L(null);const g=[{value:"Root",label:"Root"},{value:"Stem",label:"Stem"},{value:"Cotyledon",label:"Cotyledon"},{value:"Leaf",label:"Leaf"},{value:"Pholem",label:"Pholem"},{value:"Sepal",label:"Sepal"},{value:"Bract",label:"Bract"},{value:"Petal",label:"Petal"},{value:"Anther",label:"Anther"},{value:"Stigma",label:"Stigma"},{value:"0_DPA_ovules",label:"0_DPA_ovules"},{value:"3_DPA_fibers",label:"3_DPA_fibers"},{value:"6_DPA_fibers",label:"6_DPA_fibers"},{value:"9_DPA_fibers",label:"9_DPA_fibers"},{value:"12_DPA_fibers",label:"12_DPA_fibers"},{value:"15_DPA_fibers",label:"15_DPA_fibers"},{value:"18_DPA_fibers",label:"18_DPA_fibers"},{value:"21_DPA_fibers",label:"21_DPA_fibers"},{value:"24_DPA_fibers",label:"24_DPA_fibers"},{value:"DPA0",label:"DPA0"},{value:"5_DPA_ovules",label:"5_DPA_ovules"},{value:"10_DPA_ovules",label:"10_DPA_ovules"},{value:"20_DPA_ovules",label:"20_DPA_ovules"},{value:"Seed",label:"Seed"}],_=Le(()=>{const P=e.query.tissue||"";if(P){const w=g.find(D=>D.value===P);return w?[w]:g}else return g}),f=Le(()=>Math.ceil(p.value/o.value)),v=Le(()=>a.value.map(P=>({gene_id:P.gene_id,expression:P.expression}))),b=()=>{d.value=1,E()},y=P=>{d.value=P,E()},S=()=>{if(!h.value){alert("No heatmap available for download");return}const P=document.createElement("a");P.href=`data:image/png;base64,${h.value}`,P.download="gene_expression_heatmap.png",document.body.appendChild(P),P.click(),document.body.removeChild(P)};Xt([a,_,v],()=>{console.log("数据变化，热图将通过API重新获取")},{deep:!0});const E=async()=>{c.value=!0;try{const P=e.query.gene_list||"",w=e.query.tissue||"";r.value=P,i.value=w;const D=P.trim().split(/[,\s]+/).filter(A=>A.trim());if(D.length===0){a.value=[],p.value=0,h.value="",c.value=!1;return}console.log("用户输入的基因ID:",D);let U=[`gene_ids=${encodeURIComponent(D.join(`
`))}`];i.value?U.push(`top_columns=${encodeURIComponent(i.value)}`):["Root","Stem","Cotyledon","Leaf","Pholem","Sepal","Bract","Petal","Anther","Stigma","0_DPA_ovules","3_DPA_fibers","6_DPA_fibers","9_DPA_fibers","12_DPA_fibers","15_DPA_fibers","18_DPA_fibers","21_DPA_fibers","24_DPA_fibers","DPA0","5_DPA_ovules","10_DPA_ovules","20_DPA_ovules","Seed"].forEach(M=>{U.push(`top_columns=${encodeURIComponent(M)}`)});const z=U.join("&"),H=await ze.post("/tools/gene_expression/gene_expression/",z,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});console.log("API响应:",H);const G=H;if(G.success){const A=G.data,M=D.map(N=>{const K=A.gene_ids?.indexOf(N)??-1;if(K>=0){const me={};return A.columns?.forEach((Me,Ke)=>{me[Me]=A.heatmap_data?.[K]?.[Ke]||0}),{gene_id:N,gene_name:N,expression:me}}else return{gene_id:N,gene_name:N,expression:{}}});a.value=M,p.value=M.length,h.value=A.heatmap_image,console.log("处理后的结果数据:",a.value),console.log("后端生成的热图:",h.value?"已获取":"未获取")}else console.error("API请求失败:",G.error),a.value=[],p.value=0,h.value=""}catch(P){console.error("加载结果失败:",P),a.value=[],p.value=0,h.value=""}finally{c.value=!1}};return jt(()=>{E()}),(P,w)=>{const D=nt("router-link");return k(),x("div",Tb,[w[13]||(w[13]=s("h2",{class:"mb-4"},"Gene Expression Analysis Results",-1)),s("form",{onSubmit:pe(b,["prevent"]),class:"mb-3"},[s("div",Pb,[w[6]||(w[6]=s("div",{class:"col-auto"},[s("label",{for:"per_page",class:"col-form-label"},"Results per page:")],-1)),s("div",Rb,[re(s("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":w[0]||(w[0]=U=>o.value=U)},[...w[5]||(w[5]=[s("option",{value:"5"},"5",-1),s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[dt,o.value,void 0,{number:!0}]])]),w[7]||(w[7]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"records")],-1))])],32),c.value?(k(),x("div",Db,[...w[8]||(w[8]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"Loading...")],-1)])])):a.value.length>0?(k(),x("div",Ib,[s("div",qb,[s("table",Ob,[s("thead",Lb,[s("tr",null,[w[9]||(w[9]=s("th",null,"Gene ID",-1)),(k(!0),x(ye,null,De(_.value,U=>(k(),x("th",{key:U.value},I(U.label),1))),128))])]),s("tbody",null,[(k(!0),x(ye,null,De(a.value,U=>(k(),x("tr",{key:U.gene_id},[s("td",null,I(U.gene_id),1),(k(!0),x(ye,null,De(_.value,z=>(k(),x("td",{key:z.value},[U.expression[z.value]!==void 0?(k(),x("div",$b,I(U.expression[z.value].toFixed(4)),1)):(k(),x("div",Nb,"-"))]))),128))]))),128))])])]),s("div",Mb,[w[11]||(w[11]=s("h4",null,"Expression Level Visualization",-1)),h.value?(k(),x("div",Fb,[s("div",{class:"d-flex justify-content-between align-items-center mb-2"},[w[10]||(w[10]=s("h5",{class:"mb-0"},"Gene Expression Heatmap",-1)),s("div",null,[s("button",{class:"btn btn-sm btn-primary me-2",onClick:S},"Download Image")])]),s("div",jb,[s("img",{src:`data:image/png;base64,${h.value}`,alt:"Gene Expression Heatmap",class:"img-fluid",style:{"max-width":"100%",height:"auto"}},null,8,Gb)])])):v.value.length>0?(k(),x("div",Ub," No heatmap image available ")):Z("",!0)]),p.value>o.value?(k(),x("nav",Bb,[s("ul",Vb,[s("li",{class:qe(["page-item",{disabled:d.value===1}])},[s("a",{class:"page-link",href:"#",onClick:w[1]||(w[1]=pe(U=>y(1),["prevent"])),"aria-disabled":d.value===1}," First ",8,zb)],2),s("li",{class:qe(["page-item",{disabled:d.value===1}])},[s("a",{class:"page-link",href:"#",onClick:w[2]||(w[2]=pe(U=>y(d.value-1),["prevent"])),"aria-disabled":d.value===1}," Previous ",8,Kb)],2),s("li",Hb,[s("span",Jb," Page "+I(d.value)+" / "+I(f.value),1)]),s("li",{class:qe(["page-item",{disabled:d.value===f.value}])},[s("a",{class:"page-link",href:"#",onClick:w[3]||(w[3]=pe(U=>y(d.value+1),["prevent"])),"aria-disabled":d.value===f.value}," Next ",8,Wb)],2),s("li",{class:qe(["page-item",{disabled:d.value===f.value}])},[s("a",{class:"page-link",href:"#",onClick:w[4]||(w[4]=pe(U=>y(f.value),["prevent"])),"aria-disabled":d.value===f.value}," Last ",8,Qb)],2)])])):Z("",!0)])):(k(),x("div",Xb,"No expression data available")),s("div",Yb,[V(D,{to:"/tools/gene-expression",class:"btn btn-secondary"},{default:oe(()=>[...w[12]||(w[12]=[te("Back",-1)])]),_:1})])])}}}),e0=Oe(Zb,[["__scopeId","data-v-b47390e7"]]),t0={name:"GeneExpressionEfpView",data(){return{geneId:"",lowColor:"#0000FF",midColor:"#00FF00",highColor:"#FF0000",isLoading:!1,resultImage:"",showResultImage:!1,message:"",messageType:"",currentRegionsInfo:[],currentImageSize:{width:0,height:0},mappedRegions:[],tooltipVisible:!1,tooltipContent:{name:"",value:""},tooltipStyle:{left:"0px",top:"0px"}}},mounted(){document.getElementById("gene_id").addEventListener("keypress",t=>{t.key==="Enter"&&this.generateImage()}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{fillExample(){const t="Ghjin_A01g000040";this.geneId=t},generateImage(){if(!this.geneId.trim()){this.showMessage("请输入基因ID","error");return}this.isLoading=!0,this.showResultImage=!1,this.hideMessage();const t={gene_id:this.geneId.trim(),low_color:this.lowColor,mid_color:this.midColor,high_color:this.highColor};fetch("/tools/gene_expression_in_eFP/generate-thermal-image/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":this.getCookie("csrftoken")},body:JSON.stringify(t)}).then(e=>e.ok?e.json():e.text().then(o=>{throw new Error(`HTTP错误 ${e.status}`)})).then(e=>{e.success?(this.currentRegionsInfo=e.regions_info||[],this.currentImageSize={width:e.image_width||0,height:e.image_height||0},this.resultImage=e.image,this.showResultImage=!0):this.showMessage("错误: "+e.error,"error")}).catch(e=>{this.showMessage("请求失败: "+e.message,"error")}).finally(()=>{this.isLoading=!1})},onImageLoad(){this.currentRegionsInfo.length>0&&this.currentImageSize.width>0&&this.createImageMap()},createImageMap(){const t=document.getElementById("result-image");if(!t||!t.complete||t.naturalWidth===0)return;const e=t.offsetWidth,o=t.offsetHeight,r=this.currentImageSize.width>0?e/this.currentImageSize.width:1,i=this.currentImageSize.height>0?o/this.currentImageSize.height:1;this.mappedRegions=this.currentRegionsInfo.filter(a=>a.polygon&&a.polygon.length>=3).map(a=>({coords:a.polygon.map(p=>[Math.round(p[0]*r),Math.round(p[1]*i)]).map(p=>`${p[0]},${p[1]}`).join(","),name:a.name,title:`${a.name}: ${typeof a.value=="number"?a.value.toFixed(4):a.value}`,value:a.value}))},showTooltip(t,e){let o;typeof e.value=="number"?o=e.value.toFixed(4):o=e.value,this.tooltipContent={name:e.name,value:o},this.tooltipVisible=!0,this.moveTooltip(t)},moveTooltip(t){const e=document.getElementById("result-image");if(!e||!e.complete||e.naturalWidth===0)return;e.getBoundingClientRect();const o=e.parentElement.getBoundingClientRect(),r=t.clientX-o.left+15,i=t.clientY-o.top+15;this.tooltipStyle={left:`${r}px`,top:`${i}px`}},hideTooltip(){this.tooltipVisible=!1},showMessage(t,e){this.message=t,this.messageType=e},hideMessage(){this.message=""},hideInitialImage(){},getCookie(t){let e=null;if(document.cookie&&document.cookie!==""){const o=document.cookie.split(";");for(let r=0;r<o.length;r++){const i=o[r].trim();if(i.substring(0,t.length+1)===t+"="){e=decodeURIComponent(i.substring(t.length+1));break}}}return e},updateColorBox(t,e){e==="low"?this.lowColor=t.target.value:e==="mid"?this.midColor=t.target.value:e==="high"&&(this.highColor=t.target.value),console.log(`Color updated: ${e} = ${t.target.value}`)},triggerColorInput(t){document.getElementById(`${t}-color`).click()},handleResize(){this.showResultImage&&this.currentRegionsInfo.length>0&&this.createImageMap()}}},n0={class:"container"},s0={class:"input-group"},o0=["disabled"],r0={key:0,class:"loading",id:"loading"},i0={class:"color-picker-group"},a0={class:"color-picker"},l0={class:"color-picker"},c0={class:"color-picker"},u0={id:"result"},d0={class:"image-container"},p0=["src"],f0={name:"regionMap",id:"regionMap"},h0=["coords","alt","title","onMouseenter"];function m0(t,e,o,r,i,a){return k(),x("div",n0,[e[20]||(e[20]=s("h1",null,"gene_expression_in_eFP",-1)),s("div",s0,[re(s("input",{type:"text",id:"gene_id","onUpdate:modelValue":e[0]||(e[0]=c=>i.geneId=c),placeholder:"请输入基因ID，例如: Gh_A01G0001",autocomplete:"off"},null,512),[[ve,i.geneId]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",id:"fillExample",onClick:e[1]||(e[1]=(...c)=>a.fillExample&&a.fillExample(...c))}," load example "),s("button",{onClick:e[2]||(e[2]=(...c)=>a.generateImage&&a.generateImage(...c)),id:"generate-btn",disabled:i.isLoading}," 生成热图 ",8,o0),i.isLoading?(k(),x("span",r0,"正在生成热图...")):Z("",!0)]),s("div",i0,[s("div",a0,[e[16]||(e[16]=s("label",{for:"low-color"},"低值:",-1)),re(s("input",{type:"color",id:"low-color","onUpdate:modelValue":e[3]||(e[3]=c=>i.lowColor=c),class:"color-input",onChange:e[4]||(e[4]=c=>a.updateColorBox(c,"low"))},null,544),[[ve,i.lowColor]]),s("div",{class:"color-box",style:xs({backgroundColor:i.lowColor}),onClick:e[5]||(e[5]=c=>a.triggerColorInput("low"))},null,4)]),s("div",l0,[e[17]||(e[17]=s("label",{for:"mid-color"},"中值:",-1)),re(s("input",{type:"color",id:"mid-color","onUpdate:modelValue":e[6]||(e[6]=c=>i.midColor=c),class:"color-input",onChange:e[7]||(e[7]=c=>a.updateColorBox(c,"mid"))},null,544),[[ve,i.midColor]]),s("div",{class:"color-box",style:xs({backgroundColor:i.midColor}),onClick:e[8]||(e[8]=c=>a.triggerColorInput("mid"))},null,4)]),s("div",c0,[e[18]||(e[18]=s("label",{for:"high-color"},"高值:",-1)),re(s("input",{type:"color",id:"high-color","onUpdate:modelValue":e[9]||(e[9]=c=>i.highColor=c),class:"color-input",onChange:e[10]||(e[10]=c=>a.updateColorBox(c,"high"))},null,544),[[ve,i.highColor]]),s("div",{class:"color-box",style:xs({backgroundColor:i.highColor}),onClick:e[11]||(e[11]=c=>a.triggerColorInput("high"))},null,4)])]),i.showResultImage?Z("",!0):(k(),x("img",{key:0,id:"initial-image",src:Ia,alt:"初始热图模板",onError:e[12]||(e[12]=(...c)=>a.hideInitialImage&&a.hideInitialImage(...c))},null,32)),i.message?(k(),x("div",{key:1,id:"message",class:qe(i.messageType)},I(i.message),3)):Z("",!0),s("div",u0,[s("div",d0,[i.showResultImage?(k(),x("img",{key:0,id:"result-image",src:i.resultImage,alt:"热图结果",usemap:"#regionMap",onLoad:e[13]||(e[13]=(...c)=>a.onImageLoad&&a.onImageLoad(...c))},null,40,p0)):Z("",!0),s("map",f0,[(k(!0),x(ye,null,De(i.mappedRegions,(c,d)=>(k(),x("area",{key:d,shape:"poly",coords:c.coords,alt:c.name,title:c.title,onMouseenter:p=>a.showTooltip(p,c),onMousemove:e[14]||(e[14]=p=>a.moveTooltip(p)),onMouseleave:e[15]||(e[15]=(...p)=>a.hideTooltip&&a.hideTooltip(...p))},null,40,h0))),128))]),i.tooltipVisible?(k(),x("div",{key:1,id:"tooltip",class:"tooltip",style:xs(i.tooltipStyle)},[s("strong",null,I(i.tooltipContent.name),1),e[19]||(e[19]=s("br",null,null,-1)),te(" 表达值: "+I(i.tooltipContent.value),1)],4)):Z("",!0)])])])}const g0=Oe(t0,[["render",m0],["__scopeId","data-v-ee61d65d"]]),_0={class:"container mt-4"},v0={class:"form-group"},b0=["disabled"],y0=["disabled"],w0={class:"d-flex justify-content-end mt-3"},k0=["disabled"],x0={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},S0={key:1},C0={__name:"KeggAnnotationView",setup(t){const e=L(""),o=L(!1),r=Nn(),i=()=>{const c=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230`;e.value=c},a=async()=>{if(!e.value.trim()){alert("Please enter gene IDs");return}o.value=!0;try{const c=await ze.post("/tools/kegg_annotation/api/start/",{gene_id:e.value});c.status==="success"&&c.task_id?r.push({path:"/tools/kegg-annotation/results",query:{task_id:c.task_id}}):alert("Error: "+(c.error||"Failed to get task ID"))}catch(c){console.error("Error submitting form:",c),alert("Error submitting form: "+(c.message||"Unknown error"))}finally{o.value=!1}};return(c,d)=>(k(),x("div",_0,[d[2]||(d[2]=s("h2",null,"KEGG Annotation Search",-1)),s("form",{onSubmit:pe(a,["prevent"])},[s("div",v0,[d[1]||(d[1]=s("label",{for:"gene_id"},"Enter Gene IDs (one per line or space/comma separated):",-1)),re(s("textarea",{id:"gene_id","onUpdate:modelValue":d[0]||(d[0]=p=>e.value=p),class:"form-control",rows:"5",disabled:o.value},null,8,b0),[[ve,e.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",id:"fillExample",onClick:i,disabled:o.value}," load example ",8,y0)]),s("div",w0,[s("button",{type:"submit",class:"btn btn-primary",disabled:o.value},[o.value?(k(),x("span",x0)):(k(),x("span",S0,"Search"))],8,k0)])],32)]))}},E0=Oe(C0,[["__scopeId","data-v-6f69a42c"]]);Da.register(...ed);const A0={class:"container mt-4"},T0={class:"d-flex justify-content-between align-items-center mb-4"},P0={key:0,class:"badge bg-info"},R0={key:0,class:"text-center py-4"},D0={key:1,class:"alert alert-danger",role:"alert"},I0={key:2,class:"alert alert-warning",role:"alert"},q0={key:3},O0={key:0,class:"mt-5"},L0={class:"row g-2 align-items-center"},$0={class:"col-auto"},N0={class:"card"},M0={class:"card-header d-flex justify-content-between align-items-center"},F0={class:"badge bg-primary"},j0={class:"card-body p-0"},G0={class:"table-responsive"},U0={class:"table table-striped table-bordered mb-0"},B0={key:0,"aria-label":"Page navigation"},V0={class:"pagination justify-content-center mt-3 mb-0"},z0=["onClick"],K0={key:1,class:"text-center mt-2 mb-3"},H0={class:"text-muted mb-0"},J0=bt({__name:"KeggAnnotationResultView",setup(t){const e=Mn(),o=L([]),r=L(10),i=L(1),a=L(!0),c=L(null),d=L(!1),p=L(""),h=L(0),g=L(0),_=L(0),f=L(0),v=L({labels:[],data:[]}),b=Le(()=>Math.ceil(g.value/r.value)),y=Le(()=>(i.value-1)*r.value+1),S=Le(()=>Math.min(i.value*r.value,g.value)),E=Le(()=>{const G=(i.value-1)*r.value,A=G+r.value;return o.value.slice(G,A)}),P=Le(()=>{const G=b.value,A=i.value,M=[];if(G<=5)for(let N=1;N<=G;N++)M.push(N);else if(A<=3)for(let N=1;N<=5;N++)M.push(N);else if(A>=G-2)for(let N=G-4;N<=G;N++)M.push(N);else for(let N=A-2;N<=A+2;N++)M.push(N);return M}),w=()=>{i.value=1,z()},D=()=>{i.value=1,z()},U=G=>{G<1||G>b.value||(i.value=G,z())},z=async()=>{d.value=!0;try{const G=e.query.task_id;if(!G){p.value="缺少任务ID",a.value=!1;return}const A=await ze.get("/tools/kegg_annotation/api/results/",{params:{task_id:G,page_size:r.value,page:i.value}});console.log("KEGG注释API响应:",A),A&&A.status==="success"?(o.value=A.results||[],g.value=A.total||0,_.value=A.total_genes||0,f.value=A.annotated_genes||0,A.chart_data?v.value={labels:A.chart_data.labels||[],data:A.chart_data.data||[]}:v.value={labels:[],data:[]},a.value=o.value.length>0,console.log("KEGG注释结果:",o.value),console.log("图表数据:",v.value),console.log("图表标签数量:",v.value.labels.length),console.log("图表数据数量:",v.value.data.length),H()):A&&A.status==="processing"?setTimeout(()=>z(),1e3):(p.value=A.error||"获取结果失败",a.value=!1)}catch(G){p.value="获取结果失败: "+(G.message||G),console.error("Error fetching results:",G),a.value=!1}finally{d.value=!1}},H=()=>{console.log("渲染KEGG通路分布图表..."),console.log("图表数据:",v.value);const G=document.getElementById("keggChart");if(!G){console.error("没有找到keggChart元素");return}if(c.value&&(c.value.destroy(),c.value=null),!v.value.labels||v.value.labels.length===0){console.log("没有图表数据，不渲染图表");return}c.value=new Da(G,{type:"bar",data:{labels:v.value.labels,datasets:[{label:"",data:v.value.data,backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Count"}},x:{title:{display:!0,text:""}}}}})};return Xt(()=>v.value,async G=>{G&&G.labels&&G.labels.length>0&&(await Vo(),H())},{deep:!0}),jt(async()=>{await z()}),(G,A)=>{const M=nt("router-link");return k(),x("div",A0,[s("div",T0,[A[5]||(A[5]=s("h2",null,"KEGG Annotation Results",-1)),h.value?(k(),x("span",P0,"Executed in "+I(h.value)+" seconds",1)):Z("",!0)]),V(M,{to:"/tools/kegg-annotation",class:"btn btn-secondary mb-4"},{default:oe(()=>[...A[6]||(A[6]=[te("返回搜索",-1)])]),_:1}),d.value?(k(),x("div",R0,[...A[7]||(A[7]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):p.value?(k(),x("div",D0,I(p.value),1)):a.value?(k(),x("div",q0,[v.value.labels&&v.value.labels.length>0?(k(),x("div",O0,[...A[8]||(A[8]=[s("h3",null,"KEGG Pathway",-1),s("div",{class:"chart-container",style:{height:"400px"}},[s("canvas",{id:"keggChart"})],-1)])])):Z("",!0),s("form",{onSubmit:pe(w,["prevent"]),class:"mb-3"},[s("div",L0,[A[10]||(A[10]=s("div",{class:"col-auto"},[s("label",{for:"pageSize",class:"col-form-label"},"每页显示:")],-1)),s("div",$0,[re(s("select",{id:"pageSize","onUpdate:modelValue":A[0]||(A[0]=N=>r.value=N),class:"form-select",onChange:D},[...A[9]||(A[9]=[s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1),s("option",{value:"100"},"100",-1)])],544),[[dt,r.value,void 0,{number:!0}]])]),A[11]||(A[11]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),s("div",N0,[s("div",M0,[A[12]||(A[12]=s("span",null,"Annotation Results",-1)),s("span",F0,I(g.value)+" results",1)]),s("div",j0,[s("div",G0,[s("table",U0,[A[13]||(A[13]=s("thead",null,[s("tr",null,[s("th",null,"Chr"),s("th",null,"Start"),s("th",null,"End"),s("th",null,"ID"),s("th",null,"KO"),s("th",null,"Pathway Name")])],-1)),s("tbody",null,[(k(!0),x(ye,null,De(E.value,N=>(k(),x("tr",{key:N.ID},[s("td",null,I(N.Chr),1),s("td",null,I(N.Start),1),s("td",null,I(N.End),1),s("td",null,I(N.ID),1),s("td",null,I(N.match),1),s("td",null,I(N.Description),1)]))),128))])])]),b.value>1?(k(),x("nav",B0,[s("ul",V0,[s("li",{class:qe(["page-item",{disabled:i.value===1}])},[s("a",{class:"page-link",href:"#",onClick:A[1]||(A[1]=pe(N=>U(1),["prevent"]))}," 首页 ")],2),s("li",{class:qe(["page-item",{disabled:i.value===1}])},[s("a",{class:"page-link",href:"#",onClick:A[2]||(A[2]=pe(N=>U(i.value-1),["prevent"]))}," 上一页 ")],2),(k(!0),x(ye,null,De(P.value,N=>(k(),x("li",{key:N,class:qe(["page-item",{active:N===i.value}])},[s("a",{class:"page-link",href:"#",onClick:pe(K=>U(N),["prevent"])},I(N),9,z0)],2))),128)),s("li",{class:qe(["page-item",{disabled:i.value===b.value}])},[s("a",{class:"page-link",href:"#",onClick:A[3]||(A[3]=pe(N=>U(i.value+1),["prevent"]))}," 下一页 ")],2),s("li",{class:qe(["page-item",{disabled:i.value===b.value}])},[s("a",{class:"page-link",href:"#",onClick:A[4]||(A[4]=pe(N=>U(b.value),["prevent"]))}," 末页 ")],2)])])):Z("",!0),b.value>1?(k(),x("div",K0,[s("p",H0," Showing "+I(y.value)+" to "+I(S.value)+" of "+I(g.value)+" entries ",1)])):Z("",!0)])])])):(k(),x("div",I0," No results found. Please try with different gene IDs. "))])}}}),W0=Oe(J0,[["__scopeId","data-v-7cf733fe"]]),Q0={class:"container mt-4"},X0={class:"form-group"},Y0=["disabled"],Z0=["disabled"],ey={class:"row g-3 mt-3"},ty={class:"col-md-6"},ny=["disabled"],sy={class:"col-md-6"},oy=["disabled"],ry={class:"d-flex justify-content-end mt-3"},iy=["disabled"],ay={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ly={key:1},cy=bt({__name:"KeggEnrichmentView",setup(t){const e=L(""),o=L(.05),r=L(.05),i=L(!1),a=Nn(),c=()=>{const p=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230
Kirkii_Juiced.00g000240
Kirkii_Juiced.00g000250
Kirkii_Juiced.00g000260
Kirkii_Juiced.00g000270
Kirkii_Juiced.00g000280
Kirkii_Juiced.00g000290
Kirkii_Juiced.00g000300`;e.value=p},d=async()=>{if(!e.value.trim()){alert("请输入基因ID");return}if(o.value<0||o.value>1){alert("P值阈值必须在0到1之间");return}if(r.value<0||r.value>1){alert("Q值阈值必须在0到1之间");return}i.value=!0;try{const p=await ze.post("/tools/kegg_enrichment/api/start/",{gene_list:e.value,p_value_threshold:o.value});p&&p.status==="success"&&p.task_id&&a.push({path:"/tools/kegg-enrichment/results",query:{task_id:p.task_id}})}catch(p){console.error("提交表单时出错:",p),alert("提交表单时出错: "+(p.message||"未知错误"))}finally{i.value=!1}};return(p,h)=>(k(),x("div",Q0,[h[6]||(h[6]=s("h2",null,"KEGG通路富集分析",-1)),s("form",{onSubmit:pe(d,["prevent"])},[s("div",X0,[h[3]||(h[3]=s("label",{for:"gene_list"},"输入基因ID（每行一个或空格/逗号分隔）:",-1)),re(s("textarea",{id:"gene_list","onUpdate:modelValue":h[0]||(h[0]=g=>e.value=g),class:"form-control",rows:"10",placeholder:"请在此输入基因ID...",disabled:i.value},null,8,Y0),[[ve,e.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:c,disabled:i.value}," 加载示例 ",8,Z0)]),s("div",ey,[s("div",ty,[h[4]||(h[4]=s("label",{for:"p_value_threshold",class:"form-label"},"P值阈值:",-1)),re(s("input",{type:"number",id:"p_value_threshold","onUpdate:modelValue":h[1]||(h[1]=g=>o.value=g),class:"form-control",min:"0",max:"1",step:"0.001",disabled:i.value},null,8,ny),[[ve,o.value,void 0,{number:!0}]])]),s("div",sy,[h[5]||(h[5]=s("label",{for:"q_value_threshold",class:"form-label"},"Q值阈值:",-1)),re(s("input",{type:"number",id:"q_value_threshold","onUpdate:modelValue":h[2]||(h[2]=g=>r.value=g),class:"form-control",min:"0",max:"1",step:"0.001",disabled:i.value},null,8,oy),[[ve,r.value,void 0,{number:!0}]])])]),s("div",ry,[s("button",{type:"submit",class:"btn btn-primary",disabled:i.value},[i.value?(k(),x("span",ay)):(k(),x("span",ly,"提交"))],8,iy)])],32)]))}}),uy=Oe(cy,[["__scopeId","data-v-2da975a3"]]),dy={class:"container mt-4"},py={key:0,class:"text-center py-4"},fy={key:1,class:"alert alert-danger",role:"alert"},hy={key:2},my={key:0,class:"alert alert-warning mb-4",role:"alert"},gy={key:1,class:"mb-4"},_y={class:"text-center"},vy=["src"],by={key:2},yy={class:"row g-2 align-items-center"},wy={class:"col-auto"},ky={class:"mb-5"},xy={class:"text-danger"},Sy={class:"text-muted"},Cy={class:"table-responsive"},Ey={class:"table table-bordered table-hover"},Ay=["title"],Ty={key:0,"aria-label":"Page navigation"},Py={class:"pagination justify-content-center",id:"pagination-results"},Ry={class:"page-item active"},Dy={class:"page-link"},Iy=bt({__name:"KeggEnrichmentResultView",setup(t){const e=Mn(),o=L([]),r=L(10),i=L(1),a=L(!0),c=L(!1),d=L(""),p=L(0),h=L(null),g=L(0),_=Le(()=>Math.ceil(g.value/r.value)),f=Le(()=>{const E=(i.value-1)*r.value,P=E+r.value;return o.value.slice(E,P)}),v=()=>{i.value=1,S()},b=()=>{i.value=1,S()},y=E=>{E<1||E>_.value||(i.value=E,S())},S=async()=>{c.value=!0;try{const E=e.query.task_id;if(!E){d.value="缺少任务ID",a.value=!1;return}const P=await ze.get("/tools/kegg_enrichment/api/results/",{params:{task_id:E,page_size:r.value,page:i.value}});console.log("KEGG富集API响应:",P),typeof P=="object"&&P!==null?P.status==="success"?(o.value=P.results||[],g.value=P.total||o.value.length,a.value=o.value.length>0,p.value=P.execution_time||0,h.value=P.plot_image||null):P.status==="processing"?setTimeout(()=>S(),1e3):(d.value=P.error||"获取结果失败",a.value=!1):(d.value="无效的API响应",a.value=!1)}catch(E){d.value="获取结果失败: "+(E.message||E),console.error("Error fetching results:",E),a.value=!1}finally{c.value=!1}};return jt(async()=>{await S()}),(E,P)=>{const w=nt("router-link");return k(),x("div",dy,[P[13]||(P[13]=s("h2",{class:"mb-4"},"KEGG通路富集分析结果",-1)),V(w,{to:"/tools/kegg-enrichment",class:"btn btn-secondary mb-3"},{default:oe(()=>[...P[5]||(P[5]=[te("返回",-1)])]),_:1}),c.value?(k(),x("div",py,[...P[6]||(P[6]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):d.value?(k(),x("div",fy,I(d.value),1)):(k(),x("div",hy,[a.value?Z("",!0):(k(),x("div",my," 未找到显著的KEGG通路富集结果 ")),h.value?(k(),x("div",gy,[P[7]||(P[7]=s("h4",{class:"mb-3"},"KEGG Enrichment Plot",-1)),s("div",_y,[s("img",{src:"data:image/png;base64,"+h.value,alt:"KEGG Enrichment Plot",class:"img-fluid"},null,8,vy)])])):Z("",!0),a.value?(k(),x("div",by,[s("form",{onSubmit:pe(v,["prevent"]),class:"mb-3",id:"per-page-form"},[s("div",yy,[P[9]||(P[9]=s("div",{class:"col-auto"},[s("label",{for:"pageSize",class:"col-form-label"},"每页显示:")],-1)),s("div",wy,[re(s("select",{id:"pageSize","onUpdate:modelValue":P[0]||(P[0]=D=>r.value=D),class:"form-select",onChange:b},[...P[8]||(P[8]=[s("option",{value:"5"},"5",-1),s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],544),[[dt,r.value,void 0,{number:!0}]])]),P[10]||(P[10]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),s("div",ky,[s("h4",xy,[P[11]||(P[11]=te(" KEGG通路 ",-1)),s("small",Sy,"(共 "+I(g.value)+" 条)",1)]),s("div",Cy,[s("table",Ey,[P[12]||(P[12]=s("thead",{class:"bg-light"},[s("tr",null,[s("th",null,"通路ID"),s("th",null,"描述"),s("th",null,"GeneRatio"),s("th",null,"BgRatio"),s("th",null,"RichFactor"),s("th",null,"FoldEnrichment"),s("th",null,"zScore"),s("th",null,"pvalue")])],-1)),s("tbody",null,[(k(!0),x(ye,null,De(f.value,D=>(k(),x("tr",{key:D.pathway_id},[s("td",null,I(D.pathway_id),1),s("td",null,[te(I(D.description.name||"")+" ",1),D.description.definition?(k(),x("i",{key:0,class:"fas fa-info-circle text-muted","data-bs-toggle":"tooltip",title:D.description.definition},null,8,Ay)):Z("",!0)]),s("td",null,I(D.gene_ratio),1),s("td",null,I(D.bg_ratio),1),s("td",null,I(D.rich_factor.toFixed(4)),1),s("td",null,I(D.fold_enrichment.toFixed(4)),1),s("td",null,I(D.z_score.toFixed(4)),1),s("td",null,I(D.p_value.toFixed(6)),1)]))),128))])])]),_.value>1?(k(),x("nav",Ty,[s("ul",Py,[s("li",{class:qe(["page-item",{disabled:i.value===1}])},[s("a",{class:"page-link",href:"#",onClick:P[1]||(P[1]=pe(D=>y(1),["prevent"]))}," 首页 ")],2),s("li",{class:qe(["page-item",{disabled:i.value===1}])},[s("a",{class:"page-link",href:"#",onClick:P[2]||(P[2]=pe(D=>y(i.value-1),["prevent"]))}," 上一页 ")],2),s("li",Ry,[s("span",Dy," 第 "+I(i.value)+" 页 / 共 "+I(_.value)+" 页 ",1)]),s("li",{class:qe(["page-item",{disabled:i.value===_.value}])},[s("a",{class:"page-link",href:"#",onClick:P[3]||(P[3]=pe(D=>y(i.value+1),["prevent"]))}," 下一页 ")],2),s("li",{class:qe(["page-item",{disabled:i.value===_.value}])},[s("a",{class:"page-link",href:"#",onClick:P[4]||(P[4]=pe(D=>y(_.value),["prevent"]))}," 末页 ")],2)])])):Z("",!0)])])):Z("",!0)]))])}}}),qy=Oe(Iy,[["__scopeId","data-v-67ac7871"]]),Oy={name:"TFView",components:{QuestionFilled:Qo,VideoPlay:Wo,Search:Sa},setup(){const t=L([]),e=L({multiple:!1,checkStrictly:!1,expandTrigger:"click",showAllLevels:!1}),o=L([]),r=L(!1),i=async()=>{r.value=!0;try{const H=await(await fetch("/Browse/api/species/")).json();if(H.status==="success"){const G=H.data;console.log("speciesData:",G);const A={};G.forEach(M=>{const N=M.Genome_type||"undefined";A[N]||(A[N]=[]),A[N].push({value:M.name||M.Cotton_Species,label:M.name||M.Cotton_Species})}),console.log("genomes:",A),o.value=Object.entries(A).map(([M,N])=>({value:M,label:M,children:N}))}}catch(z){console.error("Error fetching genomes:",z)}finally{r.value=!1}},a=L([]),c=L([]),d=L(""),p=L(1),h=L(10),g=L(0),_=L(!1),f=Le(()=>{const z=(p.value-1)*h.value,H=z+h.value;return c.value.slice(z,H)}),v=async()=>{try{const H=await(await fetch("/Browse/api/tf/families/")).json();H.status==="success"&&(a.value=H.data.map((G,A)=>({name:G.name,count:G.count,checked:A===0})),b())}catch(z){console.error("Error fetching TF families:",z)}},b=async()=>{_.value=!0;try{const z=new URLSearchParams;t.value.length>0&&z.append("genome",t.value[t.value.length-1]);const H=a.value.filter(M=>M.checked).map(M=>M.name);H.length>0&&z.append("family",H.join(",")),d.value&&z.append("search",d.value);const A=await(await fetch(`/Browse/api/tf/?${z}`)).json();A.status==="success"&&(c.value=A.data,g.value=A.total||0)}catch(z){console.error("Error fetching TF data:",z)}finally{_.value=!1}},y=()=>{p.value=1,b()},S=()=>{p.value=1,b()},E=()=>{p.value=1,b()},P=()=>{},w=()=>{p.value=1},D=z=>{console.log("Selected row:",z)},U=z=>{console.log("Gene link clicked:",z),or.push({name:"idSearchResults",query:{id:z}})};return Xt(h,()=>{p.value=1}),jt(()=>{i(),v()}),{selectedGenome:t,genomeOptions:o,genomeLoading:r,cascaderProps:e,tfFamilies:a,searchQuery:d,currentPage:p,pageSize:h,totalCount:g,tfData:c,paginatedTFData:f,loading:_,handleGenomeChange:y,handleFamilyChange:S,handleSearch:E,handlePageChange:P,handlePageSizeChange:w,handleRowClick:D,handleGeneClick:U}}},Ly={class:"container-fluid"},$y={class:"row"},Ny={class:"col-md-3"},My={class:"sidebar"},Fy={class:"mt-4"},jy={class:"sidebar-title"},Gy={class:"col-md-9"},Uy={class:"main-content"},By={class:"tf-families mt-4"},Vy={class:"row"},zy={class:"tf-table mt-4"},Ky={class:"d-flex justify-content-between align-items-center mb-3"},Hy={class:"table-pagination"},Jy={class:"table-search"},Wy={class:"d-flex justify-content-between align-items-center mt-3"},Qy={class:"table-info"};function Xy(t,e,o,r,i,a){const c=nt("QuestionFilled"),d=Is,p=nt("VideoPlay"),h=Xo,g=Ea,_=zo,f=Ca,v=Ho,b=Jo,y=Aa,S=Ko;return k(),x("div",Ly,[s("div",$y,[s("div",Ny,[s("div",My,[s("h3",null,[e[6]||(e[6]=te("Transcription factors ",-1)),V(d,{class:"info-icon"},{default:oe(()=>[V(c)]),_:1})]),s("div",Fy,[s("h4",jy,[V(d,{class:"play-icon"},{default:oe(()=>[V(p)]),_:1}),e[7]||(e[7]=te(" Select a genome",-1))]),V(h,{modelValue:r.selectedGenome,"onUpdate:modelValue":e[0]||(e[0]=E=>r.selectedGenome=E),options:r.genomeOptions,props:r.cascaderProps,placeholder:"Select genome",class:"w-100 mt-2",onChange:r.handleGenomeChange,loading:r.genomeLoading},null,8,["modelValue","options","props","onChange","loading"])])])]),s("div",Gy,[s("div",Uy,[e[9]||(e[9]=s("h2",null,"Annotated transcription factors",-1)),s("div",By,[s("div",Vy,[(k(!0),x(ye,null,De(r.tfFamilies,E=>(k(),x("div",{class:"col-md-3",key:E.name},[V(g,{modelValue:E.checked,"onUpdate:modelValue":P=>E.checked=P,class:"tf-checkbox",onChange:r.handleFamilyChange},{default:oe(()=>[te(I(E.name)+"("+I(E.count)+") ",1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]))),128))])]),s("div",zy,[e[8]||(e[8]=s("h4",{class:"table-title"},"Click on a row to check the details of the selected gene",-1)),s("div",Ky,[s("div",Hy,[V(_,{"current-page":r.currentPage,"onUpdate:currentPage":e[1]||(e[1]=E=>r.currentPage=E),"page-size":r.pageSize,"onUpdate:pageSize":[e[2]||(e[2]=E=>r.pageSize=E),r.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"sizes",total:r.totalCount,onCurrentChange:r.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])]),s("div",Jy,[V(f,{modelValue:r.searchQuery,"onUpdate:modelValue":e[3]||(e[3]=E=>r.searchQuery=E),placeholder:"Search","prefix-icon":"Search",size:"small",class:"w-100",onInput:r.handleSearch,clearable:""},null,8,["modelValue","onInput"])])]),r.loading?(k(),qn(v,{key:0,rows:10,animated:""})):(k(),qn(S,{key:1,data:r.paginatedTFData,style:{width:"100%"},onRowClick:r.handleRowClick,stripe:"",border:""},{default:oe(()=>[V(b,{prop:"TF_name",label:"TF Name","min-width":"50"}),V(b,{prop:"TF_class",label:"TF Class","min-width":"50"}),V(b,{prop:"TF_gene",label:"Gene","min-width":"120"},{default:oe(E=>[V(y,{type:"primary",underline:!1,onClick:P=>r.handleGeneClick(E.row.TF_gene),class:"gene-link"},{default:oe(()=>[te(I(E.row.TF_gene),1)]),_:2},1032,["onClick"])]),_:1}),V(b,{prop:"TF_genome",label:"Genome","min-width":"120"})]),_:1},8,["data","onRowClick"])),s("div",Wy,[s("span",Qy," Showing "+I((r.currentPage-1)*r.pageSize+1)+" to "+I(Math.min(r.currentPage*r.pageSize,r.totalCount))+" of "+I(r.totalCount)+" entries ",1),V(_,{"current-page":r.currentPage,"onUpdate:currentPage":e[4]||(e[4]=E=>r.currentPage=E),"page-size":r.pageSize,"onUpdate:pageSize":[e[5]||(e[5]=E=>r.pageSize=E),r.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:r.totalCount,onCurrentChange:r.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])])])])])])}const Yy=Oe(Oy,[["render",Xy],["__scopeId","data-v-70e3e752"]]),Zy={name:"TFView",components:{QuestionFilled:Qo,VideoPlay:Wo,Search:Sa},setup(){const t=L([]),e=L({multiple:!1,checkStrictly:!1,expandTrigger:"click",showAllLevels:!1}),o=L([]),r=L(!1),i=async()=>{r.value=!0;try{const H=await(await fetch("/Browse/api/species/")).json();if(H.status==="success"){const G=H.data;console.log("speciesData:",G);const A={};G.forEach(M=>{const N=M.Genome_type||"undefined";A[N]||(A[N]=[]),A[N].push({value:M.name||M.Cotton_Species,label:M.name||M.Cotton_Species})}),console.log("genomes:",A),o.value=Object.entries(A).map(([M,N])=>({value:M,label:M,children:N}))}}catch(z){console.error("Error fetching genomes:",z)}finally{r.value=!1}},a=L([]),c=L([]),d=L(""),p=L(1),h=L(10),g=L(0),_=L(!1),f=Le(()=>{const z=(p.value-1)*h.value,H=z+h.value;return c.value.slice(z,H)}),v=async()=>{try{const H=await(await fetch("/Browse/api/tf/families/")).json();H.status==="success"&&(a.value=H.data.map((G,A)=>({name:G.name,count:G.count,checked:A===0})),b())}catch(z){console.error("Error fetching TF families:",z)}},b=async()=>{_.value=!0;try{const z=new URLSearchParams;t.value.length>0&&z.append("genome",t.value[t.value.length-1]);const H=a.value.filter(M=>M.checked).map(M=>M.name);H.length>0&&z.append("family",H.join(",")),d.value&&z.append("search",d.value);const A=await(await fetch(`/Browse/api/tf/?${z}`)).json();A.status==="success"&&(c.value=A.data,g.value=A.total||0)}catch(z){console.error("Error fetching TF data:",z)}finally{_.value=!1}},y=()=>{p.value=1,b()},S=()=>{p.value=1,b()},E=()=>{p.value=1,b()},P=()=>{},w=()=>{p.value=1},D=z=>{console.log("Selected row:",z)},U=z=>{console.log("Gene link clicked:",z),or.push({name:"idSearchResults",query:{id:z}})};return Xt(h,()=>{p.value=1}),jt(()=>{i(),v()}),{selectedGenome:t,genomeOptions:o,genomeLoading:r,cascaderProps:e,tfFamilies:a,searchQuery:d,currentPage:p,pageSize:h,totalCount:g,tfData:c,paginatedTFData:f,loading:_,handleGenomeChange:y,handleFamilyChange:S,handleSearch:E,handlePageChange:P,handlePageSizeChange:w,handleRowClick:D,handleGeneClick:U}}},e1={class:"container-fluid"},t1={class:"row"},n1={class:"col-md-3"},s1={class:"sidebar"},o1={class:"mt-4"},r1={class:"sidebar-title"},i1={class:"col-md-9"},a1={class:"main-content"},l1={class:"tf-families mt-4"},c1={class:"row"},u1={class:"tf-table mt-4"},d1={class:"d-flex justify-content-between align-items-center mb-3"},p1={class:"table-pagination"},f1={class:"table-search"},h1={class:"d-flex justify-content-between align-items-center mt-3"},m1={class:"table-info"};function g1(t,e,o,r,i,a){const c=nt("QuestionFilled"),d=Is,p=nt("VideoPlay"),h=Xo,g=Ea,_=zo,f=Ca,v=Ho,b=Jo,y=Aa,S=Ko;return k(),x("div",e1,[s("div",t1,[s("div",n1,[s("div",s1,[s("h3",null,[e[6]||(e[6]=te("Transcription factors ",-1)),V(d,{class:"info-icon"},{default:oe(()=>[V(c)]),_:1})]),s("div",o1,[s("h4",r1,[V(d,{class:"play-icon"},{default:oe(()=>[V(p)]),_:1}),e[7]||(e[7]=te(" Select a genome",-1))]),V(h,{modelValue:r.selectedGenome,"onUpdate:modelValue":e[0]||(e[0]=E=>r.selectedGenome=E),options:r.genomeOptions,props:r.cascaderProps,placeholder:"Select genome",class:"w-100 mt-2",onChange:r.handleGenomeChange,loading:r.genomeLoading},null,8,["modelValue","options","props","onChange","loading"])])])]),s("div",i1,[s("div",a1,[e[9]||(e[9]=s("h2",null,"Annotated transcription factors",-1)),s("div",l1,[s("div",c1,[(k(!0),x(ye,null,De(r.tfFamilies,E=>(k(),x("div",{class:"col-md-3",key:E.name},[V(g,{modelValue:E.checked,"onUpdate:modelValue":P=>E.checked=P,class:"tf-checkbox",onChange:r.handleFamilyChange},{default:oe(()=>[te(I(E.name)+"("+I(E.count)+") ",1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]))),128))])]),s("div",u1,[e[8]||(e[8]=s("h4",{class:"table-title"},"Click on a row to check the details of the selected gene",-1)),s("div",d1,[s("div",p1,[V(_,{"current-page":r.currentPage,"onUpdate:currentPage":e[1]||(e[1]=E=>r.currentPage=E),"page-size":r.pageSize,"onUpdate:pageSize":[e[2]||(e[2]=E=>r.pageSize=E),r.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"sizes",total:r.totalCount,onCurrentChange:r.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])]),s("div",f1,[V(f,{modelValue:r.searchQuery,"onUpdate:modelValue":e[3]||(e[3]=E=>r.searchQuery=E),placeholder:"Search","prefix-icon":"Search",size:"small",class:"w-100",onInput:r.handleSearch,clearable:""},null,8,["modelValue","onInput"])])]),r.loading?(k(),qn(v,{key:0,rows:10,animated:""})):(k(),qn(S,{key:1,data:r.paginatedTFData,style:{width:"100%"},onRowClick:r.handleRowClick,stripe:"",border:""},{default:oe(()=>[V(b,{prop:"TF_name",label:"TF Name","min-width":"50"}),V(b,{prop:"TF_class",label:"TF Class","min-width":"50"}),V(b,{prop:"TF_gene",label:"Gene","min-width":"120"},{default:oe(E=>[V(y,{type:"primary",underline:!1,onClick:P=>r.handleGeneClick(E.row.TF_gene),class:"gene-link"},{default:oe(()=>[te(I(E.row.TF_gene),1)]),_:2},1032,["onClick"])]),_:1}),V(b,{prop:"TF_genome",label:"Genome","min-width":"120"})]),_:1},8,["data","onRowClick"])),s("div",h1,[s("span",m1," Showing "+I((r.currentPage-1)*r.pageSize+1)+" to "+I(Math.min(r.currentPage*r.pageSize,r.totalCount))+" of "+I(r.totalCount)+" entries ",1),V(_,{"current-page":r.currentPage,"onUpdate:currentPage":e[4]||(e[4]=E=>r.currentPage=E),"page-size":r.pageSize,"onUpdate:pageSize":[e[5]||(e[5]=E=>r.pageSize=E),r.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:r.totalCount,onCurrentChange:r.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])])])])])])}const _1=Oe(Zy,[["render",g1],["__scopeId","data-v-18f3e206"]]);let gl;const Gs=t=>gl=t,_l=Symbol();function Go(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Yn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Yn||(Yn={}));function v1(){const t=Ta(!0),e=t.run(()=>L({}));let o=[],r=[];const i=Pa({install(a){Gs(i),i._a=a,a.provide(_l,i),a.config.globalProperties.$pinia=i,r.forEach(c=>o.push(c)),r=[]},use(a){return this._a?o.push(a):r.push(a),this},_p:o,_a:null,_e:t,_s:new Map,state:e});return i}const vl=()=>{};function wa(t,e,o,r=vl){t.add(e);const i=()=>{t.delete(e)&&r()};return!o&&Gu()&&Uu(i),i}function Pn(t,...e){t.forEach(o=>{o(...e)})}const b1=t=>t(),ka=Symbol(),Io=Symbol();function Uo(t,e){t instanceof Map&&e instanceof Map?e.forEach((o,r)=>t.set(r,o)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const o in e){if(!e.hasOwnProperty(o))continue;const r=e[o],i=t[o];Go(i)&&Go(r)&&t.hasOwnProperty(o)&&!Ps(r)&&!Ra(r)?t[o]=Uo(i,r):t[o]=r}return t}const y1=Symbol();function w1(t){return!Go(t)||!Object.prototype.hasOwnProperty.call(t,y1)}const{assign:Wt}=Object;function k1(t){return!!(Ps(t)&&t.effect)}function x1(t,e,o,r){const{state:i,actions:a,getters:c}=e,d=o.state.value[t];let p;function h(){d||(o.state.value[t]=i?i():{});const g=Bu(o.state.value[t]);return Wt(g,a,Object.keys(c||{}).reduce((_,f)=>(_[f]=Pa(Le(()=>{Gs(o);const v=o._s.get(t);return c[f].call(v,v)})),_),{}))}return p=bl(t,h,e,o,r,!0),p}function bl(t,e,o={},r,i,a){let c;const d=Wt({actions:{}},o),p={deep:!0};let h,g,_=new Set,f=new Set,v;const b=r.state.value[t];!a&&!b&&(r.state.value[t]={}),L({});let y;function S(G){let A;h=g=!1,typeof G=="function"?(G(r.state.value[t]),A={type:Yn.patchFunction,storeId:t,events:v}):(Uo(r.state.value[t],G),A={type:Yn.patchObject,payload:G,storeId:t,events:v});const M=y=Symbol();Vo().then(()=>{y===M&&(h=!0)}),g=!0,Pn(_,A,r.state.value[t])}const E=a?function(){const{state:A}=o,M=A?A():{};this.$patch(N=>{Wt(N,M)})}:vl;function P(){c.stop(),_.clear(),f.clear(),r._s.delete(t)}const w=(G,A="")=>{if(ka in G)return G[Io]=A,G;const M=function(){Gs(r);const N=Array.from(arguments),K=new Set,me=new Set;function Me(Pe){K.add(Pe)}function Ke(Pe){me.add(Pe)}Pn(f,{args:N,name:M[Io],store:U,after:Me,onError:Ke});let Se;try{Se=G.apply(this&&this.$id===t?this:U,N)}catch(Pe){throw Pn(me,Pe),Pe}return Se instanceof Promise?Se.then(Pe=>(Pn(K,Pe),Pe)).catch(Pe=>(Pn(me,Pe),Promise.reject(Pe))):(Pn(K,Se),Se)};return M[ka]=!0,M[Io]=A,M},D={_p:r,$id:t,$onAction:wa.bind(null,f),$patch:S,$reset:E,$subscribe(G,A={}){const M=wa(_,G,A.detached,()=>N()),N=c.run(()=>Xt(()=>r.state.value[t],K=>{(A.flush==="sync"?g:h)&&G({storeId:t,type:Yn.direct,events:v},K)},Wt({},p,A)));return M},$dispose:P},U=Ts(D);r._s.set(t,U);const H=(r._a&&r._a.runWithContext||b1)(()=>r._e.run(()=>(c=Ta()).run(()=>e({action:w}))));for(const G in H){const A=H[G];if(Ps(A)&&!k1(A)||Ra(A))a||(b&&w1(A)&&(Ps(A)?A.value=b[G]:Uo(A,b[G])),r.state.value[t][G]=A);else if(typeof A=="function"){const M=w(A,G);H[G]=M,d.actions[G]=A}}return Wt(U,H),Wt(ju(U),H),Object.defineProperty(U,"$state",{get:()=>r.state.value[t],set:G=>{S(A=>{Wt(A,G)})}}),r._p.forEach(G=>{Wt(U,c.run(()=>G({store:U,app:r._a,pinia:r,options:d})))}),b&&a&&o.hydrate&&o.hydrate(U.$state,b),h=!0,g=!0,U}function S1(t,e,o){let r;const i=typeof e=="function";r=i?o:e;function a(c,d){const p=Fu();return c=c||(p?Ft(_l,null):null),c&&Gs(c),c=gl,c._s.has(t)||(i?bl(t,e,r,c):x1(t,r,c)),c._s.get(t)}return a.$id=t,a}const C1=S1("primerDesign",{state:()=>({sequenceId:"",sequenceType:"mrna",sequenceTemplate:"",parameters:{productSizeMin:100,productSizeMax:250,primerSizeMin:18,primerSizeMax:27,primerTmMin:57,primerTmMax:63,primerGCMin:20,primerGCMax:80},designResults:[],isLoading:!1,isFetching:!1,error:null}),actions:{setSequence(t,e){this.sequenceId=t,this.sequenceTemplate=e},setSequenceType(t){this.sequenceType=t},setParameters(t){this.parameters={...this.parameters,...t}},setDesignResults(t){this.designResults=t},setLoading(t){this.isLoading=t},setFetching(t){this.isFetching=t},setError(t){this.error=t},clearState(){this.sequenceId="",this.sequenceType="mrna",this.sequenceTemplate="",this.designResults=[],this.error=null}}}),E1={class:"container mt-4"},A1={class:"row"},T1={class:"col-md-3"},P1={class:"card mb-4"},R1={class:"card-body"},D1={class:"form-group mb-3"},I1={class:"form-group mb-3"},q1={key:0},O1={class:"input-group"},L1=["disabled"],$1={key:0,class:"spinner-border spinner-border-sm mr-2"},N1={key:1},M1={class:"form-group mb-2"},F1={class:"row"},j1={class:"col-md-6 mb-2"},G1={class:"col-md-3 mb-2"},U1={class:"col-md-3 mb-2"},B1=["disabled"],V1={key:0,class:"spinner-border spinner-border-sm mr-2"},z1={key:2},K1={key:0,class:"form-group mb-3"},H1={class:"form-group mb-3"},J1={class:"input-group"},W1={class:"form-group mb-3"},Q1={class:"input-group"},X1={class:"form-group mb-3"},Y1={class:"input-group"},Z1={class:"form-group mb-3"},ew={class:"input-group"},tw=["disabled"],nw={key:0,class:"spinner-border spinner-border-sm mr-2"},sw={class:"col-md-9"},ow={class:"card mb-4"},rw={class:"card-body"},iw={key:0,class:"text-center"},aw={key:1,class:"alert alert-danger"},lw={key:2},cw={class:"table-responsive"},uw={class:"table table-striped table-bordered"},dw={class:"table-info"},pw={class:"table-info"},fw={key:3,class:"text-center"},hw={__name:"PrimerView",setup(t){const e=C1(),o=L(""),r=L("mrna"),i=L("geneId"),a=L(""),c=Ts({chromosome:"",start:null,end:null}),d=L(""),p=L(""),h=Ts({productSizeMin:100,productSizeMax:250,primerSizeMin:18,primerSizeMax:27,primerTmMin:57,primerTmMax:63,primerGCMin:20,primerGCMax:80}),g=L(!1),_=L(!1),f=L(null),v=L([]),b=async()=>{if(!o.value.trim()){f.value="请输入序列ID";return}_.value=!0,f.value=null;try{const P=await ze.get("/tools/id-search/api/sequence/",{params:{gene_id:o.value.trim(),type:r.value}});P.status==="success"&&P.sequence?(p.value=P.sequence,e.sequenceId=o.value.trim(),e.sequenceTemplate=P.sequence):f.value="未找到该序列或序列为空"}catch(P){f.value="获取序列失败: "+(P.message||"未知错误"),console.error("获取序列失败:",P)}finally{_.value=!1}},y=async()=>{if(!a.value||!c.chromosome.trim()||!c.start||!c.end){f.value="请填写完整的基因组位置信息";return}_.value=!0,f.value=null;try{const P=await ze.get("/tools/id-search/api/sequence/position/",{params:{genome:a.value,chromosome:c.chromosome.trim(),start:c.start,end:c.end}});P.status==="success"&&P.sequence?(p.value=P.sequence,e.sequenceTemplate=P.sequence):f.value="未找到该位置的序列或序列为空"}catch(P){f.value="获取序列失败: "+(P.message||"未知错误"),console.error("通过基因组位置获取序列失败:",P)}finally{_.value=!1}},S=()=>{if(!d.value.trim()){f.value="请输入序列";return}p.value=d.value.trim().replace(/\s/g,""),e.sequenceTemplate=p.value},E=async()=>{if(!p.value.trim()){f.value="请输入DNA序列";return}g.value=!0,f.value=null,v.value=[];try{const P={sequence_id:o.value.trim(),sequence_template:p.value.trim().replace(/\s/g,""),parameters:h},w=await ze.post("/tools/primer_design/api/primers/",P);w.status==="success"?(e.setDesignResults(w.results),v.value=w.results):f.value=w.error||"设计失败"}catch(P){f.value="API请求失败: "+(P.message||"未知错误"),console.error("设计引物失败:",P)}finally{g.value=!1}};return(P,w)=>(k(),x("div",E1,[w[42]||(w[42]=s("h1",null,"引物设计",-1)),s("div",A1,[s("div",T1,[s("div",P1,[w[34]||(w[34]=s("div",{class:"card-header"},[s("h3",null,"设计参数")],-1)),s("div",R1,[s("form",{onSubmit:pe(E,["prevent"])},[s("div",D1,[w[18]||(w[18]=s("label",{for:"inputMethod"},"序列输入方式",-1)),re(s("select",{id:"inputMethod",class:"form-control","onUpdate:modelValue":w[0]||(w[0]=D=>i.value=D)},[...w[17]||(w[17]=[s("option",{value:"geneId"},"基因ID",-1),s("option",{value:"genomePosition"},"基因组位置",-1),s("option",{value:"directSequence"},"直接输入序列",-1)])],512),[[dt,i.value]])]),s("div",I1,[i.value==="geneId"?(k(),x("div",q1,[s("div",O1,[re(s("input",{type:"text",class:"form-control",id:"sequenceId","onUpdate:modelValue":w[1]||(w[1]=D=>o.value=D),placeholder:"输入基因ID或转录本ID"},null,512),[[ve,o.value]]),re(s("select",{class:"form-control col-md-3","onUpdate:modelValue":w[2]||(w[2]=D=>r.value=D)},[...w[19]||(w[19]=[s("option",{value:"mrna"},"mRNA",-1),s("option",{value:"cds"},"CDS",-1)])],512),[[dt,r.value]]),s("button",{type:"button",class:"btn btn-secondary",onClick:b,disabled:!o.value.trim()||_.value},[_.value?(k(),x("span",$1)):Z("",!0),w[20]||(w[20]=te(" 获取序列 ",-1))],8,L1)])])):Z("",!0),i.value==="genomePosition"?(k(),x("div",N1,[s("div",M1,[w[22]||(w[22]=s("label",{for:"genomeAssembly"},"选择基因组",-1)),re(s("select",{id:"genomeAssembly",class:"form-control","onUpdate:modelValue":w[3]||(w[3]=D=>a.value=D)},[...w[21]||(w[21]=[s("option",{value:""},"请选择基因组",-1),s("option",{value:"G.hirsutum(AD1)TM-1_HAU_v1.1"},"陆地棉 (G. hirsutum)",-1),s("option",{value:"G.arboreum(A2)Shixiya1_HAU_v1.0"},"亚洲棉 (G. arboreum)",-1),s("option",{value:"G.raimondii(D5)JGI_v2.0"},"雷蒙德氏棉 (G. raimondii)",-1)])],512),[[dt,a.value]])]),s("div",F1,[s("div",j1,[re(s("input",{type:"text",class:"form-control",id:"chromosome","onUpdate:modelValue":w[4]||(w[4]=D=>c.chromosome=D),placeholder:"染色体名称 (如: A01)"},null,512),[[ve,c.chromosome]])]),s("div",G1,[re(s("input",{type:"number",class:"form-control",id:"startPos","onUpdate:modelValue":w[5]||(w[5]=D=>c.start=D),placeholder:"起始位置"},null,512),[[ve,c.start]])]),s("div",U1,[re(s("input",{type:"number",class:"form-control",id:"endPos","onUpdate:modelValue":w[6]||(w[6]=D=>c.end=D),placeholder:"结束位置"},null,512),[[ve,c.end]])])]),s("button",{type:"button",class:"btn btn-secondary w-100",onClick:y,disabled:!a.value||!c.chromosome.trim()||!c.start||!c.end||_.value},[_.value?(k(),x("span",V1)):Z("",!0),w[23]||(w[23]=te(" 获取序列 ",-1))],8,B1)])):Z("",!0),i.value==="directSequence"?(k(),x("div",z1,[re(s("textarea",{class:"form-control",id:"directSequence",rows:"4","onUpdate:modelValue":w[7]||(w[7]=D=>d.value=D),placeholder:"直接输入DNA序列 (5'→3')"},null,512),[[ve,d.value]]),s("button",{type:"button",class:"btn btn-secondary w-100 mt-2",onClick:S}," 使用该序列 ")])):Z("",!0)]),p.value.trim()?(k(),x("div",K1,[w[24]||(w[24]=s("label",{for:"sequenceTemplate"},"DNA序列",-1)),re(s("textarea",{class:"form-control",id:"sequenceTemplate",rows:"5","onUpdate:modelValue":w[8]||(w[8]=D=>p.value=D),placeholder:"序列将显示在这里",required:""},null,512),[[ve,p.value]])])):Z("",!0),s("div",H1,[w[26]||(w[26]=s("label",null,"产物大小范围 (bp)",-1)),s("div",J1,[re(s("input",{type:"number",class:"form-control","onUpdate:modelValue":w[9]||(w[9]=D=>h.productSizeMin=D),min:"50",max:"2000"},null,512),[[ve,h.productSizeMin,void 0,{number:!0}]]),w[25]||(w[25]=s("span",{class:"input-group-text"},"-",-1)),re(s("input",{type:"number",class:"form-control","onUpdate:modelValue":w[10]||(w[10]=D=>h.productSizeMax=D),min:"50",max:"2000"},null,512),[[ve,h.productSizeMax,void 0,{number:!0}]])])]),s("div",W1,[w[28]||(w[28]=s("label",null,"引物长度范围 (bp)",-1)),s("div",Q1,[re(s("input",{type:"number",class:"form-control","onUpdate:modelValue":w[11]||(w[11]=D=>h.primerSizeMin=D),min:"15",max:"35"},null,512),[[ve,h.primerSizeMin,void 0,{number:!0}]]),w[27]||(w[27]=s("span",{class:"input-group-text"},"-",-1)),re(s("input",{type:"number",class:"form-control","onUpdate:modelValue":w[12]||(w[12]=D=>h.primerSizeMax=D),min:"15",max:"35"},null,512),[[ve,h.primerSizeMax,void 0,{number:!0}]])])]),s("div",X1,[w[30]||(w[30]=s("label",null,"引物Tm范围 (°C)",-1)),s("div",Y1,[re(s("input",{type:"number",class:"form-control","onUpdate:modelValue":w[13]||(w[13]=D=>h.primerTmMin=D),min:"50",max:"75",step:"0.1"},null,512),[[ve,h.primerTmMin,void 0,{number:!0}]]),w[29]||(w[29]=s("span",{class:"input-group-text"},"-",-1)),re(s("input",{type:"number",class:"form-control","onUpdate:modelValue":w[14]||(w[14]=D=>h.primerTmMax=D),min:"50",max:"75",step:"0.1"},null,512),[[ve,h.primerTmMax,void 0,{number:!0}]])])]),s("div",Z1,[w[32]||(w[32]=s("label",null,"引物GC含量范围 (%)",-1)),s("div",ew,[re(s("input",{type:"number",class:"form-control","onUpdate:modelValue":w[15]||(w[15]=D=>h.primerGCMin=D),min:"20",max:"80"},null,512),[[ve,h.primerGCMin,void 0,{number:!0}]]),w[31]||(w[31]=s("span",{class:"input-group-text"},"-",-1)),re(s("input",{type:"number",class:"form-control","onUpdate:modelValue":w[16]||(w[16]=D=>h.primerGCMax=D),min:"20",max:"80"},null,512),[[ve,h.primerGCMax,void 0,{number:!0}]])])]),s("button",{type:"submit",class:"btn btn-primary btn-lg w-100",disabled:g.value||!p.value.trim()},[g.value?(k(),x("span",nw)):Z("",!0),w[33]||(w[33]=te(" 设计引物 ",-1))],8,tw)],32)])])]),s("div",sw,[s("div",ow,[w[41]||(w[41]=s("div",{class:"card-header"},[s("h3",null,"设计结果")],-1)),s("div",rw,[g.value?(k(),x("div",iw,[...w[35]||(w[35]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"Loading...")],-1),s("p",{class:"mt-2"},"正在设计引物...",-1)])])):f.value?(k(),x("div",aw,I(f.value),1)):v.value.length>0?(k(),x("div",lw,[w[39]||(w[39]=s("h5",null,"引物设计结果",-1)),s("div",cw,[s("table",uw,[w[38]||(w[38]=s("thead",{class:"thead-dark"},[s("tr",null,[s("th",null,"Oligos"),s("th",null,"Start position"),s("th",null,"Length"),s("th",null,"Tm"),s("th",null,"GC percent"),s("th",null,"Self any"),s("th",null,"Self end"),s("th",null,"Hairpin"),s("th",null,"Sequence"),s("th",null,"Penalty")])],-1)),s("tbody",null,[(k(!0),x(ye,null,De(v.value,(D,U)=>(k(),x(ye,{key:U},[s("tr",dw,[w[36]||(w[36]=s("td",null,"Forward primer",-1)),s("td",null,I(D.forward.START),1),s("td",null,I(D.forward.SIZE),1),s("td",null,I(D.forward.TM),1),s("td",null,I(D.forward.GC_PERCENT),1),s("td",null,I(D.forward.SELF_ANY||0),1),s("td",null,I(D.forward.SELF_END||0),1),s("td",null,I(D.forward.HAIRPIN||0),1),s("td",null,I(D.forward.SEQUENCE),1),s("td",null,I(D.penalty),1)]),s("tr",pw,[w[37]||(w[37]=s("td",null,"Reverse primer",-1)),s("td",null,I(D.reverse.START),1),s("td",null,I(D.reverse.SIZE),1),s("td",null,I(D.reverse.TM),1),s("td",null,I(D.reverse.GC_PERCENT),1),s("td",null,I(D.reverse.SELF_ANY||0),1),s("td",null,I(D.reverse.SELF_END||0),1),s("td",null,I(D.reverse.HAIRPIN||0),1),s("td",null,I(D.reverse.SEQUENCE),1),s("td",null,I(D.penalty),1)])],64))),128))])])])])):(k(),x("div",fw,[...w[40]||(w[40]=[s("p",null,'请输入DNA序列并设置参数，然后点击"设计引物"按钮',-1)])]))])])])])]))}},mw=Oe(hw,[["__scopeId","data-v-da02616d"]]),Mt={props:["title"],template:`<div class="container mt-4">
    <h1>{{ title }}</h1>
    <p>此页面正在开发中...</p>
  </div>`},gw=[{path:"/",name:"home",component:Gp},{path:"/browse/genome",name:"BrowseGenome",component:zp},{path:"/browse/species",name:"BrowseSpecies",component:()=>({...Mt,propsData:{title:"浏览物种"}})},{path:"/browse/tf",name:"BrowseTF",component:Yy},{path:"/browse/tr",name:"BrowseTR",component:_1},{path:"/jbrowse",name:"jbrowse",component:zg},{path:"/tools/id-search",name:"idSearch",component:Mh},{path:"/tools/id-search/results",name:"idSearchResults",component:og},{path:"/tools/id-search/id-search-summary/",name:"idSearchSummary",component:Pg},{path:"/tools/blastp",name:"Blastp",component:m_},{path:"/tools/blastp/results",name:"blastpResults",component:sv},{path:"/tools/go-enrichment",name:"GoEnrichment",component:hv},{path:"/tools/go-enrichment/results",name:"goEnrichmentResults",component:Hv},{path:"/tools/go-annotation",name:"GoAnnotation",component:Zv},{path:"/tools/go-annotation/results",name:"goAnnotationResults",component:wb},{path:"/tools/kegg-annotation",name:"KeggAnnotation",component:E0},{path:"/tools/kegg-annotation/results",name:"KeggAnnotationResults",component:W0},{path:"/tools/kegg-enrichment",name:"KeggEnrichment",component:uy},{path:"/tools/kegg-enrichment/results",name:"KeggEnrichmentResults",component:qy},{path:"/tools/heatmap",name:"Heatmap",component:()=>({...Mt,propsData:{title:"热图分析"}})},{path:"/tools/gene-expression",name:"GeneExpression",component:Ab},{path:"/tools/gene-expression/results",name:"geneExpressionResults",component:e0},{path:"/tools/gene-expression-efp",name:"GeneExpressionEfp",component:g0},{path:"/tools/primer-design",name:"PrimerDesign",component:mw},{path:"/tools/ks-calculator",name:"KsCalculator",component:()=>({...Mt,propsData:{title:"KS计算器"}})},{path:"/tools/ks-calculator/results",name:"KsCalculatorResults",component:()=>({...Mt,propsData:{title:"KS计算器结果"}})},{path:"/tools/orthogroup",name:"Orthogroup",component:()=>({...Mt,propsData:{title:"Orthogroup分析"}})},{path:"/tools/orthogroup/results",name:"OrthogroupResults",component:()=>({...Mt,propsData:{title:"Orthogroup分析结果"}})},{path:"/tools/msa",name:"Msa",component:()=>({...Mt,propsData:{title:"多序列比对"}})},{path:"/tools/msa/results",name:"MsaResults",component:()=>({...Mt,propsData:{title:"多序列比对结果"}})},{path:"/tools/circos",name:"Circos",component:()=>({...Mt,propsData:{title:"Circos可视化"}})},{path:"/tools/circos/results",name:"CircosResults",component:()=>({...Mt,propsData:{title:"Circos可视化结果"}})},{path:"/download",name:"Download",component:Wg},{path:"/contact-us",name:"Contact_us",component:Zg},{path:"/about-us",name:"About_us",component:s_}],or=Sp({history:np("/"),routes:gw}),_w=v1(),rr=Vu(vd),ir=Ue.create({baseURL:"http://localhost:8000",timeout:1e4,withCredentials:!0});ir.interceptors.request.use(t=>{const e=document.cookie.match(/csrftoken=([^;]+)/)?.[1];return e&&(t.headers["X-CSRFToken"]=e),t},t=>Promise.reject(t));ir.interceptors.response.use(t=>t,t=>Promise.reject(t));rr.config.globalProperties.$uuid={v4:ml};rr.config.globalProperties.$http=ir;rr.use(_w).use(or).mount("#app");(function(t,e){typeof yl=="object"&&typeof Bo<"u"?Bo.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).bootstrap=e()})(void 0,function(){const t=new Map,e={set(u,n,l){t.has(u)||t.set(u,new Map);const m=t.get(u);m.has(n)||m.size===0?m.set(n,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(m.keys())[0]}.`)},get:(u,n)=>t.has(u)&&t.get(u).get(n)||null,remove(u,n){if(!t.has(u))return;const l=t.get(u);l.delete(n),l.size===0&&t.delete(u)}},o="transitionend",r=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(n,l)=>`#${CSS.escape(l)}`)),u),i=u=>u==null?`${u}`:Object.prototype.toString.call(u).match(/\s([a-z]+)/i)[1].toLowerCase(),a=u=>{u.dispatchEvent(new Event(o))},c=u=>!(!u||typeof u!="object")&&(u.jquery!==void 0&&(u=u[0]),u.nodeType!==void 0),d=u=>c(u)?u.jquery?u[0]:u:typeof u=="string"&&u.length>0?document.querySelector(r(u)):null,p=u=>{if(!c(u)||u.getClientRects().length===0)return!1;const n=getComputedStyle(u).getPropertyValue("visibility")==="visible",l=u.closest("details:not([open])");if(!l)return n;if(l!==u){const m=u.closest("summary");if(m&&m.parentNode!==l||m===null)return!1}return n},h=u=>!u||u.nodeType!==Node.ELEMENT_NODE||!!u.classList.contains("disabled")||(u.disabled!==void 0?u.disabled:u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false"),g=u=>{if(!document.documentElement.attachShadow)return null;if(typeof u.getRootNode=="function"){const n=u.getRootNode();return n instanceof ShadowRoot?n:null}return u instanceof ShadowRoot?u:u.parentNode?g(u.parentNode):null},_=()=>{},f=u=>{u.offsetHeight},v=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,b=[],y=()=>document.documentElement.dir==="rtl",S=u=>{var n;n=()=>{const l=v();if(l){const m=u.NAME,C=l.fn[m];l.fn[m]=u.jQueryInterface,l.fn[m].Constructor=u,l.fn[m].noConflict=()=>(l.fn[m]=C,u.jQueryInterface)}},document.readyState==="loading"?(b.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of b)l()}),b.push(n)):n()},E=(u,n=[],l=u)=>typeof u=="function"?u.call(...n):l,P=(u,n,l=!0)=>{if(!l)return void E(u);const m=(O=>{if(!O)return 0;let{transitionDuration:F,transitionDelay:B}=window.getComputedStyle(O);const X=Number.parseFloat(F),Y=Number.parseFloat(B);return X||Y?(F=F.split(",")[0],B=B.split(",")[0],1e3*(Number.parseFloat(F)+Number.parseFloat(B))):0})(n)+5;let C=!1;const T=({target:O})=>{O===n&&(C=!0,n.removeEventListener(o,T),E(u))};n.addEventListener(o,T),setTimeout(()=>{C||a(n)},m)},w=(u,n,l,m)=>{const C=u.length;let T=u.indexOf(n);return T===-1?!l&&m?u[C-1]:u[0]:(T+=l?1:-1,m&&(T=(T+C)%C),u[Math.max(0,Math.min(T,C-1))])},D=/[^.]*(?=\..*)\.|.*/,U=/\..*/,z=/::\d+$/,H={};let G=1;const A={mouseenter:"mouseover",mouseleave:"mouseout"},M=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function N(u,n){return n&&`${n}::${G++}`||u.uidEvent||G++}function K(u){const n=N(u);return u.uidEvent=n,H[n]=H[n]||{},H[n]}function me(u,n,l=null){return Object.values(u).find(m=>m.callable===n&&m.delegationSelector===l)}function Me(u,n,l){const m=typeof n=="string",C=m?l:n||l;let T=$e(u);return M.has(T)||(T=u),[m,C,T]}function Ke(u,n,l,m,C){if(typeof n!="string"||!u)return;let[T,O,F]=Me(n,l,m);n in A&&(O=(ae=>function(ie){if(!ie.relatedTarget||ie.relatedTarget!==ie.delegateTarget&&!ie.delegateTarget.contains(ie.relatedTarget))return ae.call(this,ie)})(O));const B=K(u),X=B[F]||(B[F]={}),Y=me(X,O,T?l:null);if(Y)return void(Y.oneOff=Y.oneOff&&C);const W=N(O,n.replace(D,"")),de=T?(function(ne,ae,ie){return function le(Ae){const Ie=ne.querySelectorAll(ae);for(let{target:ge}=Ae;ge&&ge!==this;ge=ge.parentNode)for(const be of Ie)if(be===ge)return Xe(Ae,{delegateTarget:ge}),le.oneOff&&$.off(ne,Ae.type,ae,ie),ie.apply(ge,[Ae])}})(u,l,O):(function(ne,ae){return function ie(le){return Xe(le,{delegateTarget:ne}),ie.oneOff&&$.off(ne,le.type,ae),ae.apply(ne,[le])}})(u,O);de.delegationSelector=T?l:null,de.callable=O,de.oneOff=C,de.uidEvent=W,X[W]=de,u.addEventListener(F,de,T)}function Se(u,n,l,m,C){const T=me(n[l],m,C);T&&(u.removeEventListener(l,T,!!C),delete n[l][T.uidEvent])}function Pe(u,n,l,m){const C=n[l]||{};for(const[T,O]of Object.entries(C))T.includes(m)&&Se(u,n,l,O.callable,O.delegationSelector)}function $e(u){return u=u.replace(U,""),A[u]||u}const $={on(u,n,l,m){Ke(u,n,l,m,!1)},one(u,n,l,m){Ke(u,n,l,m,!0)},off(u,n,l,m){if(typeof n!="string"||!u)return;const[C,T,O]=Me(n,l,m),F=O!==n,B=K(u),X=B[O]||{},Y=n.startsWith(".");if(T===void 0){if(Y)for(const W of Object.keys(B))Pe(u,B,W,n.slice(1));for(const[W,de]of Object.entries(X)){const ne=W.replace(z,"");F&&!n.includes(ne)||Se(u,B,O,de.callable,de.delegationSelector)}}else{if(!Object.keys(X).length)return;Se(u,B,O,T,C?l:null)}},trigger(u,n,l){if(typeof n!="string"||!u)return null;const m=v();let C=null,T=!0,O=!0,F=!1;n!==$e(n)&&m&&(C=m.Event(n,l),m(u).trigger(C),T=!C.isPropagationStopped(),O=!C.isImmediatePropagationStopped(),F=C.isDefaultPrevented());const B=Xe(new Event(n,{bubbles:T,cancelable:!0}),l);return F&&B.preventDefault(),O&&u.dispatchEvent(B),B.defaultPrevented&&C&&C.preventDefault(),B}};function Xe(u,n={}){for(const[l,m]of Object.entries(n))try{u[l]=m}catch{Object.defineProperty(u,l,{configurable:!0,get:()=>m})}return u}function He(u){if(u==="true")return!0;if(u==="false")return!1;if(u===Number(u).toString())return Number(u);if(u===""||u==="null")return null;if(typeof u!="string")return u;try{return JSON.parse(decodeURIComponent(u))}catch{return u}}function Ye(u){return u.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const Be={setDataAttribute(u,n,l){u.setAttribute(`data-bs-${Ye(n)}`,l)},removeDataAttribute(u,n){u.removeAttribute(`data-bs-${Ye(n)}`)},getDataAttributes(u){if(!u)return{};const n={},l=Object.keys(u.dataset).filter(m=>m.startsWith("bs")&&!m.startsWith("bsConfig"));for(const m of l){let C=m.replace(/^bs/,"");C=C.charAt(0).toLowerCase()+C.slice(1),n[C]=He(u.dataset[m])}return n},getDataAttribute:(u,n)=>He(u.getAttribute(`data-bs-${Ye(n)}`))};class Je{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,l){const m=c(l)?Be.getDataAttribute(l,"config"):{};return{...this.constructor.Default,...typeof m=="object"?m:{},...c(l)?Be.getDataAttributes(l):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,l=this.constructor.DefaultType){for(const[m,C]of Object.entries(l)){const T=n[m],O=c(T)?"element":i(T);if(!new RegExp(C).test(O))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${m}" provided type "${O}" but expected type "${C}".`)}}}class Fe extends Je{constructor(n,l){super(),(n=d(n))&&(this._element=n,this._config=this._getConfig(l),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),$.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,l,m=!0){P(n,l,m)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return e.get(d(n),this.DATA_KEY)}static getOrCreateInstance(n,l={}){return this.getInstance(n)||new this(n,typeof l=="object"?l:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const pt=u=>{let n=u.getAttribute("data-bs-target");if(!n||n==="#"){let l=u.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),n=l&&l!=="#"?l.trim():null}return n?n.split(",").map(l=>r(l)).join(","):null},R={find:(u,n=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(n,u)),findOne:(u,n=document.documentElement)=>Element.prototype.querySelector.call(n,u),children:(u,n)=>[].concat(...u.children).filter(l=>l.matches(n)),parents(u,n){const l=[];let m=u.parentNode.closest(n);for(;m;)l.push(m),m=m.parentNode.closest(n);return l},prev(u,n){let l=u.previousElementSibling;for(;l;){if(l.matches(n))return[l];l=l.previousElementSibling}return[]},next(u,n){let l=u.nextElementSibling;for(;l;){if(l.matches(n))return[l];l=l.nextElementSibling}return[]},focusableChildren(u){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(n,u).filter(l=>!h(l)&&p(l))},getSelectorFromElement(u){const n=pt(u);return n&&R.findOne(n)?n:null},getElementFromSelector(u){const n=pt(u);return n?R.findOne(n):null},getMultipleElementsFromSelector(u){const n=pt(u);return n?R.find(n):[]}},Q=(u,n="hide")=>{const l=`click.dismiss${u.EVENT_KEY}`,m=u.NAME;$.on(document,l,`[data-bs-dismiss="${m}"]`,function(C){if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),h(this))return;const T=R.getElementFromSelector(this)||this.closest(`.${m}`);u.getOrCreateInstance(T)[n]()})},J=".bs.alert",ee=`close${J}`,fe=`closed${J}`;class Ce extends Fe{static get NAME(){return"alert"}close(){if($.trigger(this._element,ee).defaultPrevented)return;this._element.classList.remove("show");const n=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),$.trigger(this._element,fe),this.dispose()}static jQueryInterface(n){return this.each(function(){const l=Ce.getOrCreateInstance(this);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n](this)}})}}Q(Ce,"close"),S(Ce);const ue='[data-bs-toggle="button"]';class se extends Fe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(n){return this.each(function(){const l=se.getOrCreateInstance(this);n==="toggle"&&l[n]()})}}$.on(document,"click.bs.button.data-api",ue,u=>{u.preventDefault();const n=u.target.closest(ue);se.getOrCreateInstance(n).toggle()}),S(se);const Ee=".bs.swipe",yt=`touchstart${Ee}`,j=`touchmove${Ee}`,Ne=`touchend${Ee}`,rt=`pointerdown${Ee}`,Dt=`pointerup${Ee}`,wt={endCallback:null,leftCallback:null,rightCallback:null},st={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ze extends Je{constructor(n,l){super(),this._element=n,n&&Ze.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return wt}static get DefaultType(){return st}static get NAME(){return"swipe"}dispose(){$.off(this._element,Ee)}_start(n){this._supportPointerEvents?this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX):this._deltaX=n.touches[0].clientX}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),E(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=40)return;const l=n/this._deltaX;this._deltaX=0,l&&E(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?($.on(this._element,rt,n=>this._start(n)),$.on(this._element,Dt,n=>this._end(n)),this._element.classList.add("pointer-event")):($.on(this._element,yt,n=>this._start(n)),$.on(this._element,j,n=>this._move(n)),$.on(this._element,Ne,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType==="pen"||n.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const We=".bs.carousel",ar=".data-api",wl="ArrowLeft",kl="ArrowRight",Gn="next",hn="prev",mn="left",os="right",xl=`slide${We}`,Us=`slid${We}`,Sl=`keydown${We}`,Cl=`mouseenter${We}`,El=`mouseleave${We}`,Al=`dragstart${We}`,Tl=`load${We}${ar}`,Pl=`click${We}${ar}`,lr="carousel",rs="active",cr=".active",ur=".carousel-item",Rl=cr+ur,Dl={[wl]:os,[kl]:mn},Il={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ql={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class gn extends Fe{constructor(n,l){super(n,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=R.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===lr&&this.cycle()}static get Default(){return Il}static get DefaultType(){return ql}static get NAME(){return"carousel"}next(){this._slide(Gn)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(hn)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?$.one(this._element,Us,()=>this.cycle()):this.cycle())}to(n){const l=this._getItems();if(n>l.length-1||n<0)return;if(this._isSliding)return void $.one(this._element,Us,()=>this.to(n));const m=this._getItemIndex(this._getActive());if(m===n)return;const C=n>m?Gn:hn;this._slide(C,l[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&$.on(this._element,Sl,n=>this._keydown(n)),this._config.pause==="hover"&&($.on(this._element,Cl,()=>this.pause()),$.on(this._element,El,()=>this._maybeEnableCycle())),this._config.touch&&Ze.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of R.find(".carousel-item img",this._element))$.on(l,Al,m=>m.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(mn)),rightCallback:()=>this._slide(this._directionToOrder(os)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ze(this._element,n)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const l=Dl[n.key];l&&(n.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const l=R.findOne(cr,this._indicatorsElement);l.classList.remove(rs),l.removeAttribute("aria-current");const m=R.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);m&&(m.classList.add(rs),m.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const l=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(n,l=null){if(this._isSliding)return;const m=this._getActive(),C=n===Gn,T=l||w(this._getItems(),m,C,this._config.wrap);if(T===m)return;const O=this._getItemIndex(T),F=W=>$.trigger(this._element,W,{relatedTarget:T,direction:this._orderToDirection(n),from:this._getItemIndex(m),to:O});if(F(xl).defaultPrevented||!m||!T)return;const B=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(O),this._activeElement=T;const X=C?"carousel-item-start":"carousel-item-end",Y=C?"carousel-item-next":"carousel-item-prev";T.classList.add(Y),f(T),m.classList.add(X),T.classList.add(X),this._queueCallback(()=>{T.classList.remove(X,Y),T.classList.add(rs),m.classList.remove(rs,Y,X),this._isSliding=!1,F(Us)},m,this._isAnimated()),B&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return R.findOne(Rl,this._element)}_getItems(){return R.find(ur,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return y()?n===mn?hn:Gn:n===mn?Gn:hn}_orderToDirection(n){return y()?n===hn?mn:os:n===hn?os:mn}static jQueryInterface(n){return this.each(function(){const l=gn.getOrCreateInstance(this,n);if(typeof n!="number"){if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}}else l.to(n)})}}$.on(document,Pl,"[data-bs-slide], [data-bs-slide-to]",function(u){const n=R.getElementFromSelector(this);if(!n||!n.classList.contains(lr))return;u.preventDefault();const l=gn.getOrCreateInstance(n),m=this.getAttribute("data-bs-slide-to");return m?(l.to(m),void l._maybeEnableCycle()):Be.getDataAttribute(this,"slide")==="next"?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),$.on(window,Tl,()=>{const u=R.find('[data-bs-ride="carousel"]');for(const n of u)gn.getOrCreateInstance(n)}),S(gn);const Un=".bs.collapse",Ol=`show${Un}`,Ll=`shown${Un}`,$l=`hide${Un}`,Nl=`hidden${Un}`,Ml=`click${Un}.data-api`,Bs="show",_n="collapse",is="collapsing",Fl=`:scope .${_n} .${_n}`,Vs='[data-bs-toggle="collapse"]',jl={parent:null,toggle:!0},Gl={parent:"(null|element)",toggle:"boolean"};class vn extends Fe{constructor(n,l){super(n,l),this._isTransitioning=!1,this._triggerArray=[];const m=R.find(Vs);for(const C of m){const T=R.getSelectorFromElement(C),O=R.find(T).filter(F=>F===this._element);T!==null&&O.length&&this._triggerArray.push(C)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return jl}static get DefaultType(){return Gl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(C=>C!==this._element).map(C=>vn.getOrCreateInstance(C,{toggle:!1}))),n.length&&n[0]._isTransitioning||$.trigger(this._element,Ol).defaultPrevented)return;for(const C of n)C.hide();const l=this._getDimension();this._element.classList.remove(_n),this._element.classList.add(is),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const m=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(is),this._element.classList.add(_n,Bs),this._element.style[l]="",$.trigger(this._element,Ll)},this._element,!0),this._element.style[l]=`${this._element[m]}px`}hide(){if(this._isTransitioning||!this._isShown()||$.trigger(this._element,$l).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,f(this._element),this._element.classList.add(is),this._element.classList.remove(_n,Bs);for(const l of this._triggerArray){const m=R.getElementFromSelector(l);m&&!this._isShown(m)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0,this._element.style[n]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(is),this._element.classList.add(_n),$.trigger(this._element,Nl)},this._element,!0)}_isShown(n=this._element){return n.classList.contains(Bs)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=d(n.parent),n}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(Vs);for(const l of n){const m=R.getElementFromSelector(l);m&&this._addAriaAndCollapsedClass([l],this._isShown(m))}}_getFirstLevelChildren(n){const l=R.find(Fl,this._config.parent);return R.find(n,this._config.parent).filter(m=>!l.includes(m))}_addAriaAndCollapsedClass(n,l){if(n.length)for(const m of n)m.classList.toggle("collapsed",!l),m.setAttribute("aria-expanded",l)}static jQueryInterface(n){const l={};return typeof n=="string"&&/show|hide/.test(n)&&(l.toggle=!1),this.each(function(){const m=vn.getOrCreateInstance(this,l);if(typeof n=="string"){if(m[n]===void 0)throw new TypeError(`No method named "${n}"`);m[n]()}})}}$.on(document,Ml,Vs,function(u){(u.target.tagName==="A"||u.delegateTarget&&u.delegateTarget.tagName==="A")&&u.preventDefault();for(const n of R.getMultipleElementsFromSelector(this))vn.getOrCreateInstance(n,{toggle:!1}).toggle()}),S(vn);var it="top",mt="bottom",gt="right",at="left",as="auto",bn=[it,mt,gt,at],Yt="start",yn="end",dr="clippingParents",zs="viewport",wn="popper",pr="reference",Ks=bn.reduce(function(u,n){return u.concat([n+"-"+Yt,n+"-"+yn])},[]),Hs=[].concat(bn,[as]).reduce(function(u,n){return u.concat([n,n+"-"+Yt,n+"-"+yn])},[]),fr="beforeRead",hr="read",mr="afterRead",gr="beforeMain",_r="main",vr="afterMain",br="beforeWrite",yr="write",wr="afterWrite",kr=[fr,hr,mr,gr,_r,vr,br,yr,wr];function It(u){return u?(u.nodeName||"").toLowerCase():null}function _t(u){if(u==null)return window;if(u.toString()!=="[object Window]"){var n=u.ownerDocument;return n&&n.defaultView||window}return u}function Zt(u){return u instanceof _t(u).Element||u instanceof Element}function kt(u){return u instanceof _t(u).HTMLElement||u instanceof HTMLElement}function Js(u){return typeof ShadowRoot<"u"&&(u instanceof _t(u).ShadowRoot||u instanceof ShadowRoot)}const Ws={name:"applyStyles",enabled:!0,phase:"write",fn:function(u){var n=u.state;Object.keys(n.elements).forEach(function(l){var m=n.styles[l]||{},C=n.attributes[l]||{},T=n.elements[l];kt(T)&&It(T)&&(Object.assign(T.style,m),Object.keys(C).forEach(function(O){var F=C[O];F===!1?T.removeAttribute(O):T.setAttribute(O,F===!0?"":F)}))})},effect:function(u){var n=u.state,l={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,l.popper),n.styles=l,n.elements.arrow&&Object.assign(n.elements.arrow.style,l.arrow),function(){Object.keys(n.elements).forEach(function(m){var C=n.elements[m],T=n.attributes[m]||{},O=Object.keys(n.styles.hasOwnProperty(m)?n.styles[m]:l[m]).reduce(function(F,B){return F[B]="",F},{});kt(C)&&It(C)&&(Object.assign(C.style,O),Object.keys(T).forEach(function(F){C.removeAttribute(F)}))})}},requires:["computeStyles"]};function qt(u){return u.split("-")[0]}var en=Math.max,ls=Math.min,kn=Math.round;function Qs(){var u=navigator.userAgentData;return u!=null&&u.brands&&Array.isArray(u.brands)?u.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function xr(){return!/^((?!chrome|android).)*safari/i.test(Qs())}function xn(u,n,l){n===void 0&&(n=!1),l===void 0&&(l=!1);var m=u.getBoundingClientRect(),C=1,T=1;n&&kt(u)&&(C=u.offsetWidth>0&&kn(m.width)/u.offsetWidth||1,T=u.offsetHeight>0&&kn(m.height)/u.offsetHeight||1);var O=(Zt(u)?_t(u):window).visualViewport,F=!xr()&&l,B=(m.left+(F&&O?O.offsetLeft:0))/C,X=(m.top+(F&&O?O.offsetTop:0))/T,Y=m.width/C,W=m.height/T;return{width:Y,height:W,top:X,right:B+Y,bottom:X+W,left:B,x:B,y:X}}function Xs(u){var n=xn(u),l=u.offsetWidth,m=u.offsetHeight;return Math.abs(n.width-l)<=1&&(l=n.width),Math.abs(n.height-m)<=1&&(m=n.height),{x:u.offsetLeft,y:u.offsetTop,width:l,height:m}}function Sr(u,n){var l=n.getRootNode&&n.getRootNode();if(u.contains(n))return!0;if(l&&Js(l)){var m=n;do{if(m&&u.isSameNode(m))return!0;m=m.parentNode||m.host}while(m)}return!1}function Gt(u){return _t(u).getComputedStyle(u)}function Ul(u){return["table","td","th"].indexOf(It(u))>=0}function zt(u){return((Zt(u)?u.ownerDocument:u.document)||window.document).documentElement}function cs(u){return It(u)==="html"?u:u.assignedSlot||u.parentNode||(Js(u)?u.host:null)||zt(u)}function Cr(u){return kt(u)&&Gt(u).position!=="fixed"?u.offsetParent:null}function Bn(u){for(var n=_t(u),l=Cr(u);l&&Ul(l)&&Gt(l).position==="static";)l=Cr(l);return l&&(It(l)==="html"||It(l)==="body"&&Gt(l).position==="static")?n:l||(function(m){var C=/firefox/i.test(Qs());if(/Trident/i.test(Qs())&&kt(m)&&Gt(m).position==="fixed")return null;var T=cs(m);for(Js(T)&&(T=T.host);kt(T)&&["html","body"].indexOf(It(T))<0;){var O=Gt(T);if(O.transform!=="none"||O.perspective!=="none"||O.contain==="paint"||["transform","perspective"].indexOf(O.willChange)!==-1||C&&O.willChange==="filter"||C&&O.filter&&O.filter!=="none")return T;T=T.parentNode}return null})(u)||n}function Ys(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function Vn(u,n,l){return en(u,ls(n,l))}function Er(u){return Object.assign({},{top:0,right:0,bottom:0,left:0},u)}function Ar(u,n){return n.reduce(function(l,m){return l[m]=u,l},{})}const Tr={name:"arrow",enabled:!0,phase:"main",fn:function(u){var n,l=u.state,m=u.name,C=u.options,T=l.elements.arrow,O=l.modifiersData.popperOffsets,F=qt(l.placement),B=Ys(F),X=[at,gt].indexOf(F)>=0?"height":"width";if(T&&O){var Y=(function(Te,xe){return Er(typeof(Te=typeof Te=="function"?Te(Object.assign({},xe.rects,{placement:xe.placement})):Te)!="number"?Te:Ar(Te,bn))})(C.padding,l),W=Xs(T),de=B==="y"?it:at,ne=B==="y"?mt:gt,ae=l.rects.reference[X]+l.rects.reference[B]-O[B]-l.rects.popper[X],ie=O[B]-l.rects.reference[B],le=Bn(T),Ae=le?B==="y"?le.clientHeight||0:le.clientWidth||0:0,Ie=ae/2-ie/2,ge=Y[de],be=Ae-W[X]-Y[ne],he=Ae/2-W[X]/2+Ie,_e=Vn(ge,he,be),ke=B;l.modifiersData[m]=((n={})[ke]=_e,n.centerOffset=_e-he,n)}},effect:function(u){var n=u.state,l=u.options.element,m=l===void 0?"[data-popper-arrow]":l;m!=null&&(typeof m!="string"||(m=n.elements.popper.querySelector(m)))&&Sr(n.elements.popper,m)&&(n.elements.arrow=m)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sn(u){return u.split("-")[1]}var Bl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pr(u){var n,l=u.popper,m=u.popperRect,C=u.placement,T=u.variation,O=u.offsets,F=u.position,B=u.gpuAcceleration,X=u.adaptive,Y=u.roundOffsets,W=u.isFixed,de=O.x,ne=de===void 0?0:de,ae=O.y,ie=ae===void 0?0:ae,le=typeof Y=="function"?Y({x:ne,y:ie}):{x:ne,y:ie};ne=le.x,ie=le.y;var Ae=O.hasOwnProperty("x"),Ie=O.hasOwnProperty("y"),ge=at,be=it,he=window;if(X){var _e=Bn(l),ke="clientHeight",Te="clientWidth";_e===_t(l)&&Gt(_e=zt(l)).position!=="static"&&F==="absolute"&&(ke="scrollHeight",Te="scrollWidth"),(C===it||(C===at||C===gt)&&T===yn)&&(be=mt,ie-=(W&&_e===he&&he.visualViewport?he.visualViewport.height:_e[ke])-m.height,ie*=B?1:-1),C!==at&&(C!==it&&C!==mt||T!==yn)||(ge=gt,ne-=(W&&_e===he&&he.visualViewport?he.visualViewport.width:_e[Te])-m.width,ne*=B?1:-1)}var xe,Ve=Object.assign({position:F},X&&Bl),vt=Y===!0?(function(Tt,lt){var St=Tt.x,Ct=Tt.y,je=lt.devicePixelRatio||1;return{x:kn(St*je)/je||0,y:kn(Ct*je)/je||0}})({x:ne,y:ie},_t(l)):{x:ne,y:ie};return ne=vt.x,ie=vt.y,B?Object.assign({},Ve,((xe={})[be]=Ie?"0":"",xe[ge]=Ae?"0":"",xe.transform=(he.devicePixelRatio||1)<=1?"translate("+ne+"px, "+ie+"px)":"translate3d("+ne+"px, "+ie+"px, 0)",xe)):Object.assign({},Ve,((n={})[be]=Ie?ie+"px":"",n[ge]=Ae?ne+"px":"",n.transform="",n))}const Zs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(u){var n=u.state,l=u.options,m=l.gpuAcceleration,C=m===void 0||m,T=l.adaptive,O=T===void 0||T,F=l.roundOffsets,B=F===void 0||F,X={placement:qt(n.placement),variation:Sn(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:C,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,Pr(Object.assign({},X,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:O,roundOffsets:B})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,Pr(Object.assign({},X,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:B})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}};var us={passive:!0};const eo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(u){var n=u.state,l=u.instance,m=u.options,C=m.scroll,T=C===void 0||C,O=m.resize,F=O===void 0||O,B=_t(n.elements.popper),X=[].concat(n.scrollParents.reference,n.scrollParents.popper);return T&&X.forEach(function(Y){Y.addEventListener("scroll",l.update,us)}),F&&B.addEventListener("resize",l.update,us),function(){T&&X.forEach(function(Y){Y.removeEventListener("scroll",l.update,us)}),F&&B.removeEventListener("resize",l.update,us)}},data:{}};var Vl={left:"right",right:"left",bottom:"top",top:"bottom"};function ds(u){return u.replace(/left|right|bottom|top/g,function(n){return Vl[n]})}var zl={start:"end",end:"start"};function Rr(u){return u.replace(/start|end/g,function(n){return zl[n]})}function to(u){var n=_t(u);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function no(u){return xn(zt(u)).left+to(u).scrollLeft}function so(u){var n=Gt(u),l=n.overflow,m=n.overflowX,C=n.overflowY;return/auto|scroll|overlay|hidden/.test(l+C+m)}function Dr(u){return["html","body","#document"].indexOf(It(u))>=0?u.ownerDocument.body:kt(u)&&so(u)?u:Dr(cs(u))}function zn(u,n){var l;n===void 0&&(n=[]);var m=Dr(u),C=m===((l=u.ownerDocument)==null?void 0:l.body),T=_t(m),O=C?[T].concat(T.visualViewport||[],so(m)?m:[]):m,F=n.concat(O);return C?F:F.concat(zn(cs(O)))}function oo(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function Ir(u,n,l){return n===zs?oo((function(m,C){var T=_t(m),O=zt(m),F=T.visualViewport,B=O.clientWidth,X=O.clientHeight,Y=0,W=0;if(F){B=F.width,X=F.height;var de=xr();(de||!de&&C==="fixed")&&(Y=F.offsetLeft,W=F.offsetTop)}return{width:B,height:X,x:Y+no(m),y:W}})(u,l)):Zt(n)?(function(m,C){var T=xn(m,!1,C==="fixed");return T.top=T.top+m.clientTop,T.left=T.left+m.clientLeft,T.bottom=T.top+m.clientHeight,T.right=T.left+m.clientWidth,T.width=m.clientWidth,T.height=m.clientHeight,T.x=T.left,T.y=T.top,T})(n,l):oo((function(m){var C,T=zt(m),O=to(m),F=(C=m.ownerDocument)==null?void 0:C.body,B=en(T.scrollWidth,T.clientWidth,F?F.scrollWidth:0,F?F.clientWidth:0),X=en(T.scrollHeight,T.clientHeight,F?F.scrollHeight:0,F?F.clientHeight:0),Y=-O.scrollLeft+no(m),W=-O.scrollTop;return Gt(F||T).direction==="rtl"&&(Y+=en(T.clientWidth,F?F.clientWidth:0)-B),{width:B,height:X,x:Y,y:W}})(zt(u)))}function qr(u){var n,l=u.reference,m=u.element,C=u.placement,T=C?qt(C):null,O=C?Sn(C):null,F=l.x+l.width/2-m.width/2,B=l.y+l.height/2-m.height/2;switch(T){case it:n={x:F,y:l.y-m.height};break;case mt:n={x:F,y:l.y+l.height};break;case gt:n={x:l.x+l.width,y:B};break;case at:n={x:l.x-m.width,y:B};break;default:n={x:l.x,y:l.y}}var X=T?Ys(T):null;if(X!=null){var Y=X==="y"?"height":"width";switch(O){case Yt:n[X]=n[X]-(l[Y]/2-m[Y]/2);break;case yn:n[X]=n[X]+(l[Y]/2-m[Y]/2)}}return n}function Cn(u,n){n===void 0&&(n={});var l=n,m=l.placement,C=m===void 0?u.placement:m,T=l.strategy,O=T===void 0?u.strategy:T,F=l.boundary,B=F===void 0?dr:F,X=l.rootBoundary,Y=X===void 0?zs:X,W=l.elementContext,de=W===void 0?wn:W,ne=l.altBoundary,ae=ne!==void 0&&ne,ie=l.padding,le=ie===void 0?0:ie,Ae=Er(typeof le!="number"?le:Ar(le,bn)),Ie=de===wn?pr:wn,ge=u.rects.popper,be=u.elements[ae?Ie:de],he=(function(lt,St,Ct,je){var Ot=St==="clippingParents"?(function(Re){var ct=zn(cs(Re)),Et=["absolute","fixed"].indexOf(Gt(Re).position)>=0&&kt(Re)?Bn(Re):Re;return Zt(Et)?ct.filter(function(Ht){return Zt(Ht)&&Sr(Ht,Et)&&It(Ht)!=="body"}):[]})(lt):[].concat(St),Lt=[].concat(Ot,[Ct]),Tn=Lt[0],et=Lt.reduce(function(Re,ct){var Et=Ir(lt,ct,je);return Re.top=en(Et.top,Re.top),Re.right=ls(Et.right,Re.right),Re.bottom=ls(Et.bottom,Re.bottom),Re.left=en(Et.left,Re.left),Re},Ir(lt,Tn,je));return et.width=et.right-et.left,et.height=et.bottom-et.top,et.x=et.left,et.y=et.top,et})(Zt(be)?be:be.contextElement||zt(u.elements.popper),B,Y,O),_e=xn(u.elements.reference),ke=qr({reference:_e,element:ge,placement:C}),Te=oo(Object.assign({},ge,ke)),xe=de===wn?Te:_e,Ve={top:he.top-xe.top+Ae.top,bottom:xe.bottom-he.bottom+Ae.bottom,left:he.left-xe.left+Ae.left,right:xe.right-he.right+Ae.right},vt=u.modifiersData.offset;if(de===wn&&vt){var Tt=vt[C];Object.keys(Ve).forEach(function(lt){var St=[gt,mt].indexOf(lt)>=0?1:-1,Ct=[it,mt].indexOf(lt)>=0?"y":"x";Ve[lt]+=Tt[Ct]*St})}return Ve}function Kl(u,n){n===void 0&&(n={});var l=n,m=l.placement,C=l.boundary,T=l.rootBoundary,O=l.padding,F=l.flipVariations,B=l.allowedAutoPlacements,X=B===void 0?Hs:B,Y=Sn(m),W=Y?F?Ks:Ks.filter(function(ae){return Sn(ae)===Y}):bn,de=W.filter(function(ae){return X.indexOf(ae)>=0});de.length===0&&(de=W);var ne=de.reduce(function(ae,ie){return ae[ie]=Cn(u,{placement:ie,boundary:C,rootBoundary:T,padding:O})[qt(ie)],ae},{});return Object.keys(ne).sort(function(ae,ie){return ne[ae]-ne[ie]})}const Or={name:"flip",enabled:!0,phase:"main",fn:function(u){var n=u.state,l=u.options,m=u.name;if(!n.modifiersData[m]._skip){for(var C=l.mainAxis,T=C===void 0||C,O=l.altAxis,F=O===void 0||O,B=l.fallbackPlacements,X=l.padding,Y=l.boundary,W=l.rootBoundary,de=l.altBoundary,ne=l.flipVariations,ae=ne===void 0||ne,ie=l.allowedAutoPlacements,le=n.options.placement,Ae=qt(le),Ie=B||(Ae!==le&&ae?(function(Re){if(qt(Re)===as)return[];var ct=ds(Re);return[Rr(Re),ct,Rr(ct)]})(le):[ds(le)]),ge=[le].concat(Ie).reduce(function(Re,ct){return Re.concat(qt(ct)===as?Kl(n,{placement:ct,boundary:Y,rootBoundary:W,padding:X,flipVariations:ae,allowedAutoPlacements:ie}):ct)},[]),be=n.rects.reference,he=n.rects.popper,_e=new Map,ke=!0,Te=ge[0],xe=0;xe<ge.length;xe++){var Ve=ge[xe],vt=qt(Ve),Tt=Sn(Ve)===Yt,lt=[it,mt].indexOf(vt)>=0,St=lt?"width":"height",Ct=Cn(n,{placement:Ve,boundary:Y,rootBoundary:W,altBoundary:de,padding:X}),je=lt?Tt?gt:at:Tt?mt:it;be[St]>he[St]&&(je=ds(je));var Ot=ds(je),Lt=[];if(T&&Lt.push(Ct[vt]<=0),F&&Lt.push(Ct[je]<=0,Ct[Ot]<=0),Lt.every(function(Re){return Re})){Te=Ve,ke=!1;break}_e.set(Ve,Lt)}if(ke)for(var Tn=function(Re){var ct=ge.find(function(Et){var Ht=_e.get(Et);if(Ht)return Ht.slice(0,Re).every(function(ys){return ys})});if(ct)return Te=ct,"break"},et=ae?3:1;et>0&&Tn(et)!=="break";et--);n.placement!==Te&&(n.modifiersData[m]._skip=!0,n.placement=Te,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Lr(u,n,l){return l===void 0&&(l={x:0,y:0}),{top:u.top-n.height-l.y,right:u.right-n.width+l.x,bottom:u.bottom-n.height+l.y,left:u.left-n.width-l.x}}function $r(u){return[it,gt,mt,at].some(function(n){return u[n]>=0})}const Nr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(u){var n=u.state,l=u.name,m=n.rects.reference,C=n.rects.popper,T=n.modifiersData.preventOverflow,O=Cn(n,{elementContext:"reference"}),F=Cn(n,{altBoundary:!0}),B=Lr(O,m),X=Lr(F,C,T),Y=$r(B),W=$r(X);n.modifiersData[l]={referenceClippingOffsets:B,popperEscapeOffsets:X,isReferenceHidden:Y,hasPopperEscaped:W},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":Y,"data-popper-escaped":W})}},Mr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(u){var n=u.state,l=u.options,m=u.name,C=l.offset,T=C===void 0?[0,0]:C,O=Hs.reduce(function(Y,W){return Y[W]=(function(de,ne,ae){var ie=qt(de),le=[at,it].indexOf(ie)>=0?-1:1,Ae=typeof ae=="function"?ae(Object.assign({},ne,{placement:de})):ae,Ie=Ae[0],ge=Ae[1];return Ie=Ie||0,ge=(ge||0)*le,[at,gt].indexOf(ie)>=0?{x:ge,y:Ie}:{x:Ie,y:ge}})(W,n.rects,T),Y},{}),F=O[n.placement],B=F.x,X=F.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=B,n.modifiersData.popperOffsets.y+=X),n.modifiersData[m]=O}},ro={name:"popperOffsets",enabled:!0,phase:"read",fn:function(u){var n=u.state,l=u.name;n.modifiersData[l]=qr({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})},data:{}},Fr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(u){var n=u.state,l=u.options,m=u.name,C=l.mainAxis,T=C===void 0||C,O=l.altAxis,F=O!==void 0&&O,B=l.boundary,X=l.rootBoundary,Y=l.altBoundary,W=l.padding,de=l.tether,ne=de===void 0||de,ae=l.tetherOffset,ie=ae===void 0?0:ae,le=Cn(n,{boundary:B,rootBoundary:X,padding:W,altBoundary:Y}),Ae=qt(n.placement),Ie=Sn(n.placement),ge=!Ie,be=Ys(Ae),he=be==="x"?"y":"x",_e=n.modifiersData.popperOffsets,ke=n.rects.reference,Te=n.rects.popper,xe=typeof ie=="function"?ie(Object.assign({},n.rects,{placement:n.placement})):ie,Ve=typeof xe=="number"?{mainAxis:xe,altAxis:xe}:Object.assign({mainAxis:0,altAxis:0},xe),vt=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Tt={x:0,y:0};if(_e){if(T){var lt,St=be==="y"?it:at,Ct=be==="y"?mt:gt,je=be==="y"?"height":"width",Ot=_e[be],Lt=Ot+le[St],Tn=Ot-le[Ct],et=ne?-Te[je]/2:0,Re=Ie===Yt?ke[je]:Te[je],ct=Ie===Yt?-Te[je]:-ke[je],Et=n.elements.arrow,Ht=ne&&Et?Xs(Et):{width:0,height:0},ys=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ci=ys[St],Ei=ys[Ct],ws=Vn(0,ke[je],Ht[je]),Su=ge?ke[je]/2-et-ws-Ci-Ve.mainAxis:Re-ws-Ci-Ve.mainAxis,Cu=ge?-ke[je]/2+et+ws+Ei+Ve.mainAxis:ct+ws+Ei+Ve.mainAxis,yo=n.elements.arrow&&Bn(n.elements.arrow),Eu=yo?be==="y"?yo.clientTop||0:yo.clientLeft||0:0,Ai=(lt=vt?.[be])!=null?lt:0,Au=Ot+Cu-Ai,Ti=Vn(ne?ls(Lt,Ot+Su-Ai-Eu):Lt,Ot,ne?en(Tn,Au):Tn);_e[be]=Ti,Tt[be]=Ti-Ot}if(F){var Pi,Tu=be==="x"?it:at,Pu=be==="x"?mt:gt,cn=_e[he],ks=he==="y"?"height":"width",Ri=cn+le[Tu],Di=cn-le[Pu],wo=[it,at].indexOf(Ae)!==-1,Ii=(Pi=vt?.[he])!=null?Pi:0,qi=wo?Ri:cn-ke[ks]-Te[ks]-Ii+Ve.altAxis,Oi=wo?cn+ke[ks]+Te[ks]-Ii-Ve.altAxis:Di,Li=ne&&wo?(function(Ru,Du,ko){var $i=Vn(Ru,Du,ko);return $i>ko?ko:$i})(qi,cn,Oi):Vn(ne?qi:Ri,cn,ne?Oi:Di);_e[he]=Li,Tt[he]=Li-cn}n.modifiersData[m]=Tt}},requiresIfExists:["offset"]};function Hl(u,n,l){l===void 0&&(l=!1);var m,C,T=kt(n),O=kt(n)&&(function(W){var de=W.getBoundingClientRect(),ne=kn(de.width)/W.offsetWidth||1,ae=kn(de.height)/W.offsetHeight||1;return ne!==1||ae!==1})(n),F=zt(n),B=xn(u,O,l),X={scrollLeft:0,scrollTop:0},Y={x:0,y:0};return(T||!T&&!l)&&((It(n)!=="body"||so(F))&&(X=(m=n)!==_t(m)&&kt(m)?{scrollLeft:(C=m).scrollLeft,scrollTop:C.scrollTop}:to(m)),kt(n)?((Y=xn(n,!0)).x+=n.clientLeft,Y.y+=n.clientTop):F&&(Y.x=no(F))),{x:B.left+X.scrollLeft-Y.x,y:B.top+X.scrollTop-Y.y,width:B.width,height:B.height}}function Jl(u){var n=new Map,l=new Set,m=[];function C(T){l.add(T.name),[].concat(T.requires||[],T.requiresIfExists||[]).forEach(function(O){if(!l.has(O)){var F=n.get(O);F&&C(F)}}),m.push(T)}return u.forEach(function(T){n.set(T.name,T)}),u.forEach(function(T){l.has(T.name)||C(T)}),m}var jr={placement:"bottom",modifiers:[],strategy:"absolute"};function Gr(){for(var u=arguments.length,n=new Array(u),l=0;l<u;l++)n[l]=arguments[l];return!n.some(function(m){return!(m&&typeof m.getBoundingClientRect=="function")})}function ps(u){u===void 0&&(u={});var n=u,l=n.defaultModifiers,m=l===void 0?[]:l,C=n.defaultOptions,T=C===void 0?jr:C;return function(O,F,B){B===void 0&&(B=T);var X,Y,W={placement:"bottom",orderedModifiers:[],options:Object.assign({},jr,T),modifiersData:{},elements:{reference:O,popper:F},attributes:{},styles:{}},de=[],ne=!1,ae={state:W,setOptions:function(le){var Ae=typeof le=="function"?le(W.options):le;ie(),W.options=Object.assign({},T,W.options,Ae),W.scrollParents={reference:Zt(O)?zn(O):O.contextElement?zn(O.contextElement):[],popper:zn(F)};var Ie,ge,be=(function(he){var _e=Jl(he);return kr.reduce(function(ke,Te){return ke.concat(_e.filter(function(xe){return xe.phase===Te}))},[])})((Ie=[].concat(m,W.options.modifiers),ge=Ie.reduce(function(he,_e){var ke=he[_e.name];return he[_e.name]=ke?Object.assign({},ke,_e,{options:Object.assign({},ke.options,_e.options),data:Object.assign({},ke.data,_e.data)}):_e,he},{}),Object.keys(ge).map(function(he){return ge[he]})));return W.orderedModifiers=be.filter(function(he){return he.enabled}),W.orderedModifiers.forEach(function(he){var _e=he.name,ke=he.options,Te=ke===void 0?{}:ke,xe=he.effect;if(typeof xe=="function"){var Ve=xe({state:W,name:_e,instance:ae,options:Te});de.push(Ve||function(){})}}),ae.update()},forceUpdate:function(){if(!ne){var le=W.elements,Ae=le.reference,Ie=le.popper;if(Gr(Ae,Ie)){W.rects={reference:Hl(Ae,Bn(Ie),W.options.strategy==="fixed"),popper:Xs(Ie)},W.reset=!1,W.placement=W.options.placement,W.orderedModifiers.forEach(function(xe){return W.modifiersData[xe.name]=Object.assign({},xe.data)});for(var ge=0;ge<W.orderedModifiers.length;ge++)if(W.reset!==!0){var be=W.orderedModifiers[ge],he=be.fn,_e=be.options,ke=_e===void 0?{}:_e,Te=be.name;typeof he=="function"&&(W=he({state:W,options:ke,name:Te,instance:ae})||W)}else W.reset=!1,ge=-1}}},update:(X=function(){return new Promise(function(le){ae.forceUpdate(),le(W)})},function(){return Y||(Y=new Promise(function(le){Promise.resolve().then(function(){Y=void 0,le(X())})})),Y}),destroy:function(){ie(),ne=!0}};if(!Gr(O,F))return ae;function ie(){de.forEach(function(le){return le()}),de=[]}return ae.setOptions(B).then(function(le){!ne&&B.onFirstUpdate&&B.onFirstUpdate(le)}),ae}}var Wl=ps(),Ql=ps({defaultModifiers:[eo,ro,Zs,Ws]}),io=ps({defaultModifiers:[eo,ro,Zs,Ws,Mr,Or,Fr,Tr,Nr]});const Ur=Object.freeze(Object.defineProperty({__proto__:null,afterMain:vr,afterRead:mr,afterWrite:wr,applyStyles:Ws,arrow:Tr,auto:as,basePlacements:bn,beforeMain:gr,beforeRead:fr,beforeWrite:br,bottom:mt,clippingParents:dr,computeStyles:Zs,createPopper:io,createPopperBase:Wl,createPopperLite:Ql,detectOverflow:Cn,end:yn,eventListeners:eo,flip:Or,hide:Nr,left:at,main:_r,modifierPhases:kr,offset:Mr,placements:Hs,popper:wn,popperGenerator:ps,popperOffsets:ro,preventOverflow:Fr,read:hr,reference:pr,right:gt,start:Yt,top:it,variationPlacements:Ks,viewport:zs,write:yr},Symbol.toStringTag,{value:"Module"})),Br="dropdown",tn=".bs.dropdown",ao=".data-api",Xl="ArrowUp",Vr="ArrowDown",Yl=`hide${tn}`,Zl=`hidden${tn}`,ec=`show${tn}`,tc=`shown${tn}`,zr=`click${tn}${ao}`,Kr=`keydown${tn}${ao}`,nc=`keyup${tn}${ao}`,En="show",nn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',sc=`${nn}.${En}`,fs=".dropdown-menu",oc=y()?"top-end":"top-start",rc=y()?"top-start":"top-end",ic=y()?"bottom-end":"bottom-start",ac=y()?"bottom-start":"bottom-end",lc=y()?"left-start":"right-start",cc=y()?"right-start":"left-start",uc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},dc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class At extends Fe{constructor(n,l){super(n,l),this._popper=null,this._parent=this._element.parentNode,this._menu=R.next(this._element,fs)[0]||R.prev(this._element,fs)[0]||R.findOne(fs,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return uc}static get DefaultType(){return dc}static get NAME(){return Br}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!$.trigger(this._element,ec,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const l of[].concat(...document.body.children))$.on(l,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(En),this._element.classList.add(En),$.trigger(this._element,tc,n)}}hide(){if(h(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!$.trigger(this._element,Yl,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))$.off(l,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(En),this._element.classList.remove(En),this._element.setAttribute("aria-expanded","false"),Be.removeDataAttribute(this._menu,"popper"),$.trigger(this._element,Zl,n)}}_getConfig(n){if(typeof(n=super._getConfig(n)).reference=="object"&&!c(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${Br.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(Ur===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:c(this._config.reference)?n=d(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const l=this._getPopperConfig();this._popper=io(n,this._menu,l)}_isShown(){return this._menu.classList.contains(En)}_getPlacement(){const n=this._parent;if(n.classList.contains("dropend"))return lc;if(n.classList.contains("dropstart"))return cc;if(n.classList.contains("dropup-center"))return"top";if(n.classList.contains("dropdown-center"))return"bottom";const l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains("dropup")?l?rc:oc:l?ac:ic}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(l=>Number.parseInt(l,10)):typeof n=="function"?l=>n(l,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Be.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...E(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:l}){const m=R.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(C=>p(C));m.length&&w(m,l,n===Vr,!m.includes(l)).focus()}static jQueryInterface(n){return this.each(function(){const l=At.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}static clearMenus(n){if(n.button===2||n.type==="keyup"&&n.key!=="Tab")return;const l=R.find(sc);for(const m of l){const C=At.getInstance(m);if(!C||C._config.autoClose===!1)continue;const T=n.composedPath(),O=T.includes(C._menu);if(T.includes(C._element)||C._config.autoClose==="inside"&&!O||C._config.autoClose==="outside"&&O||C._menu.contains(n.target)&&(n.type==="keyup"&&n.key==="Tab"||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const F={relatedTarget:C._element};n.type==="click"&&(F.clickEvent=n),C._completeHide(F)}}static dataApiKeydownHandler(n){const l=/input|textarea/i.test(n.target.tagName),m=n.key==="Escape",C=[Xl,Vr].includes(n.key);if(!C&&!m||l&&!m)return;n.preventDefault();const T=this.matches(nn)?this:R.prev(this,nn)[0]||R.next(this,nn)[0]||R.findOne(nn,n.delegateTarget.parentNode),O=At.getOrCreateInstance(T);if(C)return n.stopPropagation(),O.show(),void O._selectMenuItem(n);O._isShown()&&(n.stopPropagation(),O.hide(),T.focus())}}$.on(document,Kr,nn,At.dataApiKeydownHandler),$.on(document,Kr,fs,At.dataApiKeydownHandler),$.on(document,zr,At.clearMenus),$.on(document,nc,At.clearMenus),$.on(document,zr,nn,function(u){u.preventDefault(),At.getOrCreateInstance(this).toggle()}),S(At);const Hr="backdrop",Jr="show",Wr=`mousedown.bs.${Hr}`,pc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},fc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Qr extends Je{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return pc}static get DefaultType(){return fc}static get NAME(){return Hr}show(n){if(!this._config.isVisible)return void E(n);this._append();const l=this._getElement();this._config.isAnimated&&f(l),l.classList.add(Jr),this._emulateAnimation(()=>{E(n)})}hide(n){this._config.isVisible?(this._getElement().classList.remove(Jr),this._emulateAnimation(()=>{this.dispose(),E(n)})):E(n)}dispose(){this._isAppended&&($.off(this._element,Wr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add("fade"),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=d(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),$.on(n,Wr,()=>{E(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){P(n,this._getElement(),this._config.isAnimated)}}const hs=".bs.focustrap",hc=`focusin${hs}`,mc=`keydown.tab${hs}`,Xr="backward",gc={autofocus:!0,trapElement:null},_c={autofocus:"boolean",trapElement:"element"};class Yr extends Je{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return gc}static get DefaultType(){return _c}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),$.off(document,hs),$.on(document,hc,n=>this._handleFocusin(n)),$.on(document,mc,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,$.off(document,hs))}_handleFocusin(n){const{trapElement:l}=this._config;if(n.target===document||n.target===l||l.contains(n.target))return;const m=R.focusableChildren(l);m.length===0?l.focus():this._lastTabNavDirection===Xr?m[m.length-1].focus():m[0].focus()}_handleKeydown(n){n.key==="Tab"&&(this._lastTabNavDirection=n.shiftKey?Xr:"forward")}}const Zr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ei=".sticky-top",ms="padding-right",ti="margin-right";class lo{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ms,l=>l+n),this._setElementAttributes(Zr,ms,l=>l+n),this._setElementAttributes(ei,ti,l=>l-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ms),this._resetElementAttributes(Zr,ms),this._resetElementAttributes(ei,ti)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,l,m){const C=this.getWidth();this._applyManipulationCallback(n,T=>{if(T!==this._element&&window.innerWidth>T.clientWidth+C)return;this._saveInitialAttribute(T,l);const O=window.getComputedStyle(T).getPropertyValue(l);T.style.setProperty(l,`${m(Number.parseFloat(O))}px`)})}_saveInitialAttribute(n,l){const m=n.style.getPropertyValue(l);m&&Be.setDataAttribute(n,l,m)}_resetElementAttributes(n,l){this._applyManipulationCallback(n,m=>{const C=Be.getDataAttribute(m,l);C!==null?(Be.removeDataAttribute(m,l),m.style.setProperty(l,C)):m.style.removeProperty(l)})}_applyManipulationCallback(n,l){if(c(n))l(n);else for(const m of R.find(n,this._element))l(m)}}const xt=".bs.modal",vc=`hide${xt}`,bc=`hidePrevented${xt}`,ni=`hidden${xt}`,si=`show${xt}`,yc=`shown${xt}`,wc=`resize${xt}`,kc=`click.dismiss${xt}`,xc=`mousedown.dismiss${xt}`,Sc=`keydown.dismiss${xt}`,Cc=`click${xt}.data-api`,oi="modal-open",ri="show",co="modal-static",Ec={backdrop:!0,focus:!0,keyboard:!0},Ac={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class sn extends Fe{constructor(n,l){super(n,l),this._dialog=R.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new lo,this._addEventListeners()}static get Default(){return Ec}static get DefaultType(){return Ac}static get NAME(){return"modal"}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||$.trigger(this._element,si,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(oi),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){this._isShown&&!this._isTransitioning&&($.trigger(this._element,vc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ri),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){$.off(window,xt),$.off(this._dialog,xt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Qr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Yr({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=R.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),f(this._element),this._element.classList.add(ri),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,$.trigger(this._element,yc,{relatedTarget:n})},this._dialog,this._isAnimated())}_addEventListeners(){$.on(this._element,Sc,n=>{n.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),$.on(window,wc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),$.on(this._element,xc,n=>{$.one(this._element,kc,l=>{this._element===n.target&&this._element===l.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(oi),this._resetAdjustments(),this._scrollBar.reset(),$.trigger(this._element,ni)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if($.trigger(this._element,bc).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(co)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(co),this._queueCallback(()=>{this._element.classList.remove(co),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),m=l>0;if(m&&!n){const C=y()?"paddingLeft":"paddingRight";this._element.style[C]=`${l}px`}if(!m&&n){const C=y()?"paddingRight":"paddingLeft";this._element.style[C]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,l){return this.each(function(){const m=sn.getOrCreateInstance(this,n);if(typeof n=="string"){if(m[n]===void 0)throw new TypeError(`No method named "${n}"`);m[n](l)}})}}$.on(document,Cc,'[data-bs-toggle="modal"]',function(u){const n=R.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&u.preventDefault(),$.one(n,si,m=>{m.defaultPrevented||$.one(n,ni,()=>{p(this)&&this.focus()})});const l=R.findOne(".modal.show");l&&sn.getInstance(l).hide(),sn.getOrCreateInstance(n).toggle(this)}),Q(sn),S(sn);const Ut=".bs.offcanvas",ii=".data-api",Tc=`load${Ut}${ii}`,ai="show",li="showing",ci="hiding",ui=".offcanvas.show",Pc=`show${Ut}`,Rc=`shown${Ut}`,Dc=`hide${Ut}`,di=`hidePrevented${Ut}`,pi=`hidden${Ut}`,Ic=`resize${Ut}`,qc=`click${Ut}${ii}`,Oc=`keydown.dismiss${Ut}`,Lc={backdrop:!0,keyboard:!0,scroll:!1},$c={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Bt extends Fe{constructor(n,l){super(n,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Lc}static get DefaultType(){return $c}static get NAME(){return"offcanvas"}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||$.trigger(this._element,Pc,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new lo().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(li),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(ai),this._element.classList.remove(li),$.trigger(this._element,Rc,{relatedTarget:n})},this._element,!0))}hide(){this._isShown&&($.trigger(this._element,Dc).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ci),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(ai,ci),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new lo().reset(),$.trigger(this._element,pi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=!!this._config.backdrop;return new Qr({className:"offcanvas-backdrop",isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?()=>{this._config.backdrop!=="static"?this.hide():$.trigger(this._element,di)}:null})}_initializeFocusTrap(){return new Yr({trapElement:this._element})}_addEventListeners(){$.on(this._element,Oc,n=>{n.key==="Escape"&&(this._config.keyboard?this.hide():$.trigger(this._element,di))})}static jQueryInterface(n){return this.each(function(){const l=Bt.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n](this)}})}}$.on(document,qc,'[data-bs-toggle="offcanvas"]',function(u){const n=R.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),h(this))return;$.one(n,pi,()=>{p(this)&&this.focus()});const l=R.findOne(ui);l&&l!==n&&Bt.getInstance(l).hide(),Bt.getOrCreateInstance(n).toggle(this)}),$.on(window,Tc,()=>{for(const u of R.find(ui))Bt.getOrCreateInstance(u).show()}),$.on(window,Ic,()=>{for(const u of R.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&Bt.getOrCreateInstance(u).hide()}),Q(Bt),S(Bt);const fi={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Nc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Mc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Fc=(u,n)=>{const l=u.nodeName.toLowerCase();return n.includes(l)?!Nc.has(l)||!!Mc.test(u.nodeValue):n.filter(m=>m instanceof RegExp).some(m=>m.test(l))},jc={allowList:fi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Gc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Uc={entry:"(string|element|function|null)",selector:"(string|element)"};class Bc extends Je{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return jc}static get DefaultType(){return Gc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[C,T]of Object.entries(this._config.content))this._setContent(n,T,C);const l=n.children[0],m=this._resolvePossibleFunction(this._config.extraClass);return m&&l.classList.add(...m.split(" ")),l}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[l,m]of Object.entries(n))super._typeCheckConfig({selector:l,entry:m},Uc)}_setContent(n,l,m){const C=R.findOne(m,n);C&&((l=this._resolvePossibleFunction(l))?c(l)?this._putElementInTemplate(d(l),C):this._config.html?C.innerHTML=this._maybeSanitize(l):C.textContent=l:C.remove())}_maybeSanitize(n){return this._config.sanitize?(function(l,m,C){if(!l.length)return l;if(C&&typeof C=="function")return C(l);const T=new window.DOMParser().parseFromString(l,"text/html"),O=[].concat(...T.body.querySelectorAll("*"));for(const F of O){const B=F.nodeName.toLowerCase();if(!Object.keys(m).includes(B)){F.remove();continue}const X=[].concat(...F.attributes),Y=[].concat(m["*"]||[],m[B]||[]);for(const W of X)Fc(W,Y)||F.removeAttribute(W.nodeName)}return T.body.innerHTML})(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return E(n,[void 0,this])}_putElementInTemplate(n,l){if(this._config.html)return l.innerHTML="",void l.append(n);l.textContent=n.textContent}}const Vc=new Set(["sanitize","allowList","sanitizeFn"]),uo="fade",gs="show",zc=".tooltip-inner",hi=".modal",mi="hide.bs.modal",Kn="hover",po="focus",fo="click",Kc={AUTO:"auto",TOP:"top",RIGHT:y()?"left":"right",BOTTOM:"bottom",LEFT:y()?"right":"left"},Hc={allowList:fi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Jc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class on extends Fe{constructor(n,l){if(Ur===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Hc}static get DefaultType(){return Jc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),$.off(this._element.closest(hi),mi,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const n=$.trigger(this._element,this.constructor.eventName("show")),l=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!l)return;this._disposePopper();const m=this._getTipElement();this._element.setAttribute("aria-describedby",m.getAttribute("id"));const{container:C}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(C.append(m),$.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(m),m.classList.add(gs),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))$.on(T,"mouseover",_);this._queueCallback(()=>{$.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!$.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(gs),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))$.off(n,"mouseover",_);this._activeTrigger[fo]=!1,this._activeTrigger[po]=!1,this._activeTrigger[Kn]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),$.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const l=this._getTemplateFactory(n).toHtml();if(!l)return null;l.classList.remove(uo,gs),l.classList.add(`bs-${this.constructor.NAME}-auto`);const m=(C=>{do C+=Math.floor(1e6*Math.random());while(document.getElementById(C));return C})(this.constructor.NAME).toString();return l.setAttribute("id",m),this._isAnimated()&&l.classList.add(uo),l}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new Bc({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[zc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(uo)}_isShown(){return this.tip&&this.tip.classList.contains(gs)}_createPopper(n){const l=E(this._config.placement,[this,n,this._element]),m=Kc[l.toUpperCase()];return io(this._element,n,this._getPopperConfig(m))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(l=>Number.parseInt(l,10)):typeof n=="function"?l=>n(l,this._element):n}_resolvePossibleFunction(n){return E(n,[this._element,this._element])}_getPopperConfig(n){const l={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:m=>{this._getTipElement().setAttribute("data-popper-placement",m.state.placement)}}]};return{...l,...E(this._config.popperConfig,[void 0,l])}}_setListeners(){const n=this._config.trigger.split(" ");for(const l of n)if(l==="click")$.on(this._element,this.constructor.eventName("click"),this._config.selector,m=>{const C=this._initializeOnDelegatedTarget(m);C._activeTrigger[fo]=!(C._isShown()&&C._activeTrigger[fo]),C.toggle()});else if(l!=="manual"){const m=l===Kn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),C=l===Kn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");$.on(this._element,m,this._config.selector,T=>{const O=this._initializeOnDelegatedTarget(T);O._activeTrigger[T.type==="focusin"?po:Kn]=!0,O._enter()}),$.on(this._element,C,this._config.selector,T=>{const O=this._initializeOnDelegatedTarget(T);O._activeTrigger[T.type==="focusout"?po:Kn]=O._element.contains(T.relatedTarget),O._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},$.on(this._element.closest(hi),mi,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,l){clearTimeout(this._timeout),this._timeout=setTimeout(n,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const l=Be.getDataAttributes(this._element);for(const m of Object.keys(l))Vc.has(m)&&delete l[m];return n={...l,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:d(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[l,m]of Object.entries(this._config))this.constructor.Default[l]!==m&&(n[l]=m);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const l=on.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}}S(on);const Wc=".popover-header",Qc=".popover-body",Xc={...on.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Yc={...on.DefaultType,content:"(null|string|element|function)"};class _s extends on{static get Default(){return Xc}static get DefaultType(){return Yc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Wc]:this._getTitle(),[Qc]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const l=_s.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}}S(_s);const ho=".bs.scrollspy",Zc=`activate${ho}`,gi=`click${ho}`,eu=`load${ho}.data-api`,An="active",mo="[href]",_i=".nav-link",tu=`${_i}, .nav-item > ${_i}, .list-group-item`,nu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},su={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Hn extends Fe{constructor(n,l){super(n,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nu}static get DefaultType(){return su}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=d(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(l=>Number.parseFloat(l))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&($.off(this._config.target,gi),$.on(this._config.target,gi,mo,n=>{const l=this._observableSections.get(n.target.hash);if(l){n.preventDefault();const m=this._rootElement||window,C=l.offsetTop-this._element.offsetTop;if(m.scrollTo)return void m.scrollTo({top:C,behavior:"smooth"});m.scrollTop=C}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),n)}_observerCallback(n){const l=O=>this._targetLinks.get(`#${O.target.id}`),m=O=>{this._previousScrollData.visibleEntryTop=O.target.offsetTop,this._process(l(O))},C=(this._rootElement||document.documentElement).scrollTop,T=C>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=C;for(const O of n){if(!O.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(O));continue}const F=O.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(T&&F){if(m(O),!C)return}else T||F||m(O)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=R.find(mo,this._config.target);for(const l of n){if(!l.hash||h(l))continue;const m=R.findOne(decodeURI(l.hash),this._element);p(m)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,m))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(An),this._activateParents(n),$.trigger(this._element,Zc,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains("dropdown-item"))R.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(An);else for(const l of R.parents(n,".nav, .list-group"))for(const m of R.prev(l,tu))m.classList.add(An)}_clearActiveClass(n){n.classList.remove(An);const l=R.find(`${mo}.${An}`,n);for(const m of l)m.classList.remove(An)}static jQueryInterface(n){return this.each(function(){const l=Hn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}})}}$.on(window,eu,()=>{for(const u of R.find('[data-bs-spy="scroll"]'))Hn.getOrCreateInstance(u)}),S(Hn);const rn=".bs.tab",ou=`hide${rn}`,ru=`hidden${rn}`,iu=`show${rn}`,au=`shown${rn}`,lu=`click${rn}`,cu=`keydown${rn}`,uu=`load${rn}`,du="ArrowLeft",vi="ArrowRight",pu="ArrowUp",bi="ArrowDown",go="Home",yi="End",an="active",wi="fade",_o="show",ki=".dropdown-toggle",vo=`:not(${ki})`,xi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',bo=`.nav-link${vo}, .list-group-item${vo}, [role="tab"]${vo}, ${xi}`,fu=`.${an}[data-bs-toggle="tab"], .${an}[data-bs-toggle="pill"], .${an}[data-bs-toggle="list"]`;class ln extends Fe{constructor(n){super(n),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),$.on(this._element,cu,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const n=this._element;if(this._elemIsActive(n))return;const l=this._getActiveElem(),m=l?$.trigger(l,ou,{relatedTarget:n}):null;$.trigger(n,iu,{relatedTarget:l}).defaultPrevented||m&&m.defaultPrevented||(this._deactivate(l,n),this._activate(n,l))}_activate(n,l){n&&(n.classList.add(an),this._activate(R.getElementFromSelector(n)),this._queueCallback(()=>{n.getAttribute("role")==="tab"?(n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),$.trigger(n,au,{relatedTarget:l})):n.classList.add(_o)},n,n.classList.contains(wi)))}_deactivate(n,l){n&&(n.classList.remove(an),n.blur(),this._deactivate(R.getElementFromSelector(n)),this._queueCallback(()=>{n.getAttribute("role")==="tab"?(n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),$.trigger(n,ru,{relatedTarget:l})):n.classList.remove(_o)},n,n.classList.contains(wi)))}_keydown(n){if(![du,vi,pu,bi,go,yi].includes(n.key))return;n.stopPropagation(),n.preventDefault();const l=this._getChildren().filter(C=>!h(C));let m;if([go,yi].includes(n.key))m=l[n.key===go?0:l.length-1];else{const C=[vi,bi].includes(n.key);m=w(l,n.target,C,!0)}m&&(m.focus({preventScroll:!0}),ln.getOrCreateInstance(m).show())}_getChildren(){return R.find(bo,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,l){this._setAttributeIfNotExists(n,"role","tablist");for(const m of l)this._setInitialAttributesOnChild(m)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const l=this._elemIsActive(n),m=this._getOuterElement(n);n.setAttribute("aria-selected",l),m!==n&&this._setAttributeIfNotExists(m,"role","presentation"),l||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const l=R.getElementFromSelector(n);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,l){const m=this._getOuterElement(n);if(!m.classList.contains("dropdown"))return;const C=(T,O)=>{const F=R.findOne(T,m);F&&F.classList.toggle(O,l)};C(ki,an),C(".dropdown-menu",_o),m.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(n,l,m){n.hasAttribute(l)||n.setAttribute(l,m)}_elemIsActive(n){return n.classList.contains(an)}_getInnerElement(n){return n.matches(bo)?n:R.findOne(bo,n)}_getOuterElement(n){return n.closest(".nav-item, .list-group-item")||n}static jQueryInterface(n){return this.each(function(){const l=ln.getOrCreateInstance(this);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}})}}$.on(document,lu,xi,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),h(this)||ln.getOrCreateInstance(this).show()}),$.on(window,uu,()=>{for(const u of R.find(fu))ln.getOrCreateInstance(u)}),S(ln);const Kt=".bs.toast",hu=`mouseover${Kt}`,mu=`mouseout${Kt}`,gu=`focusin${Kt}`,_u=`focusout${Kt}`,vu=`hide${Kt}`,bu=`hidden${Kt}`,yu=`show${Kt}`,wu=`shown${Kt}`,Si="hide",vs="show",bs="showing",ku={animation:"boolean",autohide:"boolean",delay:"number"},xu={animation:!0,autohide:!0,delay:5e3};class Jn extends Fe{constructor(n,l){super(n,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return xu}static get DefaultType(){return ku}static get NAME(){return"toast"}show(){$.trigger(this._element,yu).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Si),f(this._element),this._element.classList.add(vs,bs),this._queueCallback(()=>{this._element.classList.remove(bs),$.trigger(this._element,wu),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&($.trigger(this._element,vu).defaultPrevented||(this._element.classList.add(bs),this._queueCallback(()=>{this._element.classList.add(Si),this._element.classList.remove(bs,vs),$.trigger(this._element,bu)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(vs),super.dispose()}isShown(){return this._element.classList.contains(vs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,l){switch(n.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const m=n.relatedTarget;this._element===m||this._element.contains(m)||this._maybeScheduleHide()}_setListeners(){$.on(this._element,hu,n=>this._onInteraction(n,!0)),$.on(this._element,mu,n=>this._onInteraction(n,!1)),$.on(this._element,gu,n=>this._onInteraction(n,!0)),$.on(this._element,_u,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const l=Jn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n](this)}})}}return Q(Jn),S(Jn),{Alert:Ce,Button:se,Carousel:gn,Collapse:vn,Dropdown:At,Modal:sn,Offcanvas:Bt,Popover:_s,ScrollSpy:Hn,Tab:ln,Toast:Jn,Tooltip:on}})});export default vw();
