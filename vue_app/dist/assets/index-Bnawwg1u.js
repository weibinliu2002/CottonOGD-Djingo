var au=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import{r as B,c as w,a as Ss,b as o,d as z,e as Z,w as me,f as gt,E as lu,o as b,g as ne,h as na,u as qn,i as cu,p as $n,s as uu,j as vt,k as du,l as Oe,m as dn,n as sa,q as oa,t as Gt,v as fu,x as we,y as Ye,z as pu,A as pe,B as $,C as St,F as te,D as ve,G as As,H as ra,I as ia,J as aa,K as la,L as Wt,M as $e,N as hu,O as bs,P as mu,Q as gu,R as _u,S as vu,T as bu,U as yu,V as wu,W as ku,X as Eu,Y as Au}from"./element-plus-kI5dZbzF.js";import{s as Nt,c as xu,d as Su,a as Cu,o as Tu,b as qu,T as $u,r as Du,e as _i,l as vi,m as Ru,f as bi,g as yi}from"./d3-FZRuB6XP.js";import{r as Pu}from"./tools-BemMMEYA.js";import{C as ca,r as Iu}from"./chart-js-Bcjh2pZL.js";var Vy=au((Wa,Ro)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();const ua="/assets/egg-CeAhh0Oe.jpg",Ou={class:"app"},Nu={class:"navbar navbar-expand-lg custom-navbar"},Lu={class:"container"},Mu={class:"collapse navbar-collapse",id:"navbarNav"},ju={class:"navbar-nav"},Fu={class:"nav-item"},Bu={class:"nav-item dropdown"},Uu={class:"dropdown-menu","aria-labelledby":"BrowseDropdown"},Gu={class:"nav-item"},Vu={class:"nav-item dropdown"},Ku={class:"dropdown-menu","aria-labelledby":"toolsDropdown"},zu={class:"nav-item"},Hu={class:"nav-item"},Ju={class:"nav-item"},Wu={class:"container"},Qu={key:0,class:"loading-overlay"},Xu={class:"backtop-content"},Yu={__name:"App",setup(t){const e=B(!1),s=()=>{e.value=!0},i=()=>{e.value=!1};return $n("isLoading",e),$n("showLoading",s),$n("hideLoading",i),(r,a)=>{const c=gt("router-link"),f=gt("router-view"),p=na,m=lu;return b(),w("div",Ou,[a[20]||(a[20]=Ss('<div id="head-container"><div class="head-content"><img src="'+ua+'" alt="Logo" style="height:90px;width:100px;"><div class="site-title"><span class="main-title"> CottonOGD </span><span class="sub-title"> —— a comprehensive cotton orthogroups database </span></div></div></div>',1)),o("nav",Nu,[o("div",Lu,[a[18]||(a[18]=o("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[o("span",{class:"navbar-toggler-icon"})],-1)),o("div",Mu,[o("ul",ju,[o("li",Fu,[Z(c,{class:"nav-link",to:"/","exact-active-class":"active"},{default:me(()=>[...a[0]||(a[0]=[ne("Home",-1)])]),_:1})]),o("li",Bu,[a[4]||(a[4]=o("a",{class:"nav-link dropdown-toggle",href:"#",id:"BrowseDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Browse",-1)),o("ul",Uu,[o("li",null,[Z(c,{class:"dropdown-item",to:"/browse/genome"},{default:me(()=>[...a[1]||(a[1]=[ne("Genome",-1)])]),_:1})]),o("li",null,[Z(c,{class:"dropdown-item",to:"/browse/species"},{default:me(()=>[...a[2]||(a[2]=[ne("Species",-1)])]),_:1})]),o("li",null,[Z(c,{class:"dropdown-item",to:"/browse/tf"},{default:me(()=>[...a[3]||(a[3]=[ne("TF",-1)])]),_:1})])])]),o("li",Gu,[Z(c,{class:"nav-link",to:"/jbrowse","exact-active-class":"active"},{default:me(()=>[...a[5]||(a[5]=[ne("Jbrowse",-1)])]),_:1})]),o("li",Vu,[a[14]||(a[14]=o("a",{class:"nav-link dropdown-toggle",href:"#",id:"toolsDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Tools",-1)),o("ul",Ku,[o("li",null,[Z(c,{class:"dropdown-item",to:"/tools/id-search"},{default:me(()=>[...a[6]||(a[6]=[ne("Search by GeneID",-1)])]),_:1})]),o("li",null,[Z(c,{class:"dropdown-item",to:"/tools/blastp"},{default:me(()=>[...a[7]||(a[7]=[ne("blastp",-1)])]),_:1})]),o("li",null,[Z(c,{class:"dropdown-item",to:"/tools/go-enrichment"},{default:me(()=>[...a[8]||(a[8]=[ne("go_enrichment",-1)])]),_:1})]),o("li",null,[Z(c,{class:"dropdown-item",to:"/tools/go-annotation"},{default:me(()=>[...a[9]||(a[9]=[ne("go_annotation",-1)])]),_:1})]),o("li",null,[Z(c,{class:"dropdown-item",to:"/tools/kegg-annotation"},{default:me(()=>[...a[10]||(a[10]=[ne("kegg_annotation",-1)])]),_:1})]),o("li",null,[Z(c,{class:"dropdown-item",to:"/tools/kegg-enrichment"},{default:me(()=>[...a[11]||(a[11]=[ne("kegg_enrichment",-1)])]),_:1})]),o("li",null,[Z(c,{class:"dropdown-item",to:"/tools/gene-expression"},{default:me(()=>[...a[12]||(a[12]=[ne("gene_expression",-1)])]),_:1})]),o("li",null,[Z(c,{class:"dropdown-item",to:"/tools/gene-expression-efp"},{default:me(()=>[...a[13]||(a[13]=[ne("gene_expression_in_eFP",-1)])]),_:1})])])]),o("li",zu,[Z(c,{class:"nav-link",to:"/download"},{default:me(()=>[...a[15]||(a[15]=[ne("Download",-1)])]),_:1})]),o("li",Hu,[Z(c,{class:"nav-link",to:"/about-us"},{default:me(()=>[...a[16]||(a[16]=[ne("About",-1)])]),_:1})]),o("li",Ju,[Z(c,{class:"nav-link",to:"/contact-us"},{default:me(()=>[...a[17]||(a[17]=[ne("Contact us",-1)])]),_:1})])])])])]),o("main",Wu,[Z(f)]),e.value?(b(),w("div",Qu,[...a[19]||(a[19]=[o("div",{class:"loading-content"},[o("div",{class:"spinner-border text-primary",role:"status"},[o("span",{class:"visually-hidden"},"Loading...")]),o("div",{class:"mt-3"},"正在检索中...")],-1)])])):z("",!0),a[21]||(a[21]=o("div",{class:"footer-section"},[o("footer",null,[o("div",{class:"container"},[o("p",{class:"mb-0"},"CottonOGD Website © 2025")])])],-1)),Z(m,{"visibility-height":200,right:40,bottom:40,target:".app"},{default:me(()=>[o("div",Xu,[Z(p,{class:"backtop-icon"},{default:me(()=>[Z(qn(cu))]),_:1})])]),_:1})])}}};const Tn=typeof document<"u";function da(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Zu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&da(t.default)}const ye=Object.assign;function go(t,e){const s={};for(const i in e){const r=e[i];s[i]=qt(r)?r.map(t):t(r)}return s}const Jn=()=>{},qt=Array.isArray;function wi(t,e){const s={};for(const i in t)s[i]=i in e?e[i]:t[i];return s}const fa=/#/g,ed=/&/g,td=/\//g,nd=/=/g,sd=/\?/g,pa=/\+/g,od=/%5B/g,rd=/%5D/g,ha=/%5E/g,id=/%60/g,ma=/%7B/g,ad=/%7C/g,ga=/%7D/g,ld=/%20/g;function Po(t){return t==null?"":encodeURI(""+t).replace(ad,"|").replace(od,"[").replace(rd,"]")}function cd(t){return Po(t).replace(ma,"{").replace(ga,"}").replace(ha,"^")}function Ao(t){return Po(t).replace(pa,"%2B").replace(ld,"+").replace(fa,"%23").replace(ed,"%26").replace(id,"`").replace(ma,"{").replace(ga,"}").replace(ha,"^")}function ud(t){return Ao(t).replace(nd,"%3D")}function dd(t){return Po(t).replace(fa,"%23").replace(sd,"%3F")}function fd(t){return dd(t).replace(td,"%2F")}function Wn(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const pd=/\/$/,hd=t=>t.replace(pd,"");function _o(t,e,s="/"){let i,r={},a="",c="";const f=e.indexOf("#");let p=e.indexOf("?");return p=f>=0&&p>f?-1:p,p>=0&&(i=e.slice(0,p),a=e.slice(p,f>0?f:e.length),r=t(a.slice(1))),f>=0&&(i=i||e.slice(0,f),c=e.slice(f,e.length)),i=vd(i??e,s),{fullPath:i+a+c,path:i,query:r,hash:Wn(c)}}function md(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function ki(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function gd(t,e,s){const i=e.matched.length-1,r=s.matched.length-1;return i>-1&&i===r&&Dn(e.matched[i],s.matched[r])&&_a(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Dn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function _a(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var s in t)if(!_d(t[s],e[s]))return!1;return!0}function _d(t,e){return qt(t)?Ei(t,e):qt(e)?Ei(e,t):t?.valueOf()===e?.valueOf()}function Ei(t,e){return qt(e)?t.length===e.length&&t.every((s,i)=>s===e[i]):t.length===1&&t[0]===e}function vd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let a=s.length-1,c,f;for(c=0;c<i.length;c++)if(f=i[c],f!==".")if(f==="..")a>1&&a--;else break;return s.slice(0,a).join("/")+"/"+i.slice(c).join("/")}const Ht={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let xo=(function(t){return t.pop="pop",t.push="push",t})({}),vo=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function bd(t){if(!t)if(Tn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),hd(t)}const yd=/^[^#]+#/;function wd(t,e){return t.replace(yd,"#")+e}function kd(t,e){const s=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-s.left-(e.left||0),top:i.top-s.top-(e.top||0)}}const Cs=()=>({left:window.scrollX,top:window.scrollY});function Ed(t){let e;if("el"in t){const s=t.el,i=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?i?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=kd(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ai(t,e){return(history.state?history.state.position-e:-1)+t}const So=new Map;function Ad(t,e){So.set(t,e)}function xd(t){const e=So.get(t);return So.delete(t),e}function Sd(t){return typeof t=="string"||t&&typeof t=="object"}function va(t){return typeof t=="string"||typeof t=="symbol"}let Me=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const ba=Symbol("");Me.MATCHER_NOT_FOUND+"",Me.NAVIGATION_GUARD_REDIRECT+"",Me.NAVIGATION_ABORTED+"",Me.NAVIGATION_CANCELLED+"",Me.NAVIGATION_DUPLICATED+"";function Rn(t,e){return ye(new Error,{type:t,[ba]:!0},e)}function Ut(t,e){return t instanceof Error&&ba in t&&(e==null||!!(t.type&e))}const Cd=["params","query","hash"];function Td(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of Cd)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function qd(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(pa," "),a=r.indexOf("="),c=Wn(a<0?r:r.slice(0,a)),f=a<0?null:Wn(r.slice(a+1));if(c in e){let p=e[c];qt(p)||(p=e[c]=[p]),p.push(f)}else e[c]=f}return e}function xi(t){let e="";for(let s in t){const i=t[s];if(s=ud(s),i==null){i!==void 0&&(e+=(e.length?"&":"")+s);continue}(qt(i)?i.map(r=>r&&Ao(r)):[i&&Ao(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+s,r!=null&&(e+="="+r))})}return e}function $d(t){const e={};for(const s in t){const i=t[s];i!==void 0&&(e[s]=qt(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const Dd=Symbol(""),Si=Symbol(""),Ts=Symbol(""),Io=Symbol(""),Co=Symbol("");function zn(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Jt(t,e,s,i,r,a=c=>c()){const c=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((f,p)=>{const m=h=>{h===!1?p(Rn(Me.NAVIGATION_ABORTED,{from:s,to:e})):h instanceof Error?p(h):Sd(h)?p(Rn(Me.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(c&&i.enterCallbacks[r]===c&&typeof h=="function"&&c.push(h),f())},v=a(()=>t.call(i&&i.instances[r],e,s,m));let k=Promise.resolve(v);t.length<3&&(k=k.then(m)),k.catch(h=>p(h))})}function bo(t,e,s,i,r=a=>a()){const a=[];for(const c of t)for(const f in c.components){let p=c.components[f];if(!(e!=="beforeRouteEnter"&&!c.instances[f]))if(da(p)){const m=(p.__vccOpts||p)[e];m&&a.push(Jt(m,s,i,c,f,r))}else{let m=p();a.push(()=>m.then(v=>{if(!v)throw new Error(`Couldn't resolve component "${f}" at "${c.path}"`);const k=Zu(v)?v.default:v;c.mods[f]=v,c.components[f]=k;const h=(k.__vccOpts||k)[e];return h&&Jt(h,s,i,c,f,r)()}))}}return a}function Rd(t,e){const s=[],i=[],r=[],a=Math.max(e.matched.length,t.matched.length);for(let c=0;c<a;c++){const f=e.matched[c];f&&(t.matched.find(m=>Dn(m,f))?i.push(f):s.push(f));const p=t.matched[c];p&&(e.matched.find(m=>Dn(m,p))||r.push(p))}return[s,i,r]}let Pd=()=>location.protocol+"//"+location.host;function ya(t,e){const{pathname:s,search:i,hash:r}=e,a=t.indexOf("#");if(a>-1){let c=r.includes(t.slice(a))?t.slice(a).length:1,f=r.slice(c);return f[0]!=="/"&&(f="/"+f),ki(f,"")}return ki(s,t)+i+r}function Id(t,e,s,i){let r=[],a=[],c=null;const f=({state:h})=>{const x=ya(t,location),g=s.value,_=e.value;let E=0;if(h){if(s.value=x,e.value=h,c&&c===g){c=null;return}E=_?h.position-_.position:0}else i(x);r.forEach(q=>{q(s.value,g,{delta:E,type:xo.pop,direction:E?E>0?vo.forward:vo.back:vo.unknown})})};function p(){c=s.value}function m(h){r.push(h);const x=()=>{const g=r.indexOf(h);g>-1&&r.splice(g,1)};return a.push(x),x}function v(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(ye({},h.state,{scroll:Cs()}),"")}}function k(){for(const h of a)h();a=[],window.removeEventListener("popstate",f),window.removeEventListener("pagehide",v),document.removeEventListener("visibilitychange",v)}return window.addEventListener("popstate",f),window.addEventListener("pagehide",v),document.addEventListener("visibilitychange",v),{pauseListeners:p,listen:m,destroy:k}}function Ci(t,e,s,i=!1,r=!1){return{back:t,current:e,forward:s,replaced:i,position:window.history.length,scroll:r?Cs():null}}function Od(t){const{history:e,location:s}=window,i={value:ya(t,s)},r={value:e.state};r.value||a(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(p,m,v){const k=t.indexOf("#"),h=k>-1?(s.host&&document.querySelector("base")?t:t.slice(k))+p:Pd()+t+p;try{e[v?"replaceState":"pushState"](m,"",h),r.value=m}catch(x){console.error(x),s[v?"replace":"assign"](h)}}function c(p,m){a(p,ye({},e.state,Ci(r.value.back,p,r.value.forward,!0),m,{position:r.value.position}),!0),i.value=p}function f(p,m){const v=ye({},r.value,e.state,{forward:p,scroll:Cs()});a(v.current,v,!0),a(p,ye({},Ci(i.value,p,null),{position:v.position+1},m),!1),i.value=p}return{location:i,state:r,push:f,replace:c}}function Nd(t){t=bd(t);const e=Od(t),s=Id(t,e.state,e.location,e.replace);function i(a,c=!0){c||s.pauseListeners(),history.go(a)}const r=ye({location:"",base:t,go:i,createHref:wd.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let ln=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var ze=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(ze||{});const Ld={type:ln.Static,value:""},Md=/[a-zA-Z0-9_]/;function jd(t){if(!t)return[[]];if(t==="/")return[[Ld]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(x){throw new Error(`ERR (${s})/"${m}": ${x}`)}let s=ze.Static,i=s;const r=[];let a;function c(){a&&r.push(a),a=[]}let f=0,p,m="",v="";function k(){m&&(s===ze.Static?a.push({type:ln.Static,value:m}):s===ze.Param||s===ze.ParamRegExp||s===ze.ParamRegExpEnd?(a.length>1&&(p==="*"||p==="+")&&e(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),a.push({type:ln.Param,value:m,regexp:v,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):e("Invalid state to consume buffer"),m="")}function h(){m+=p}for(;f<t.length;){if(p=t[f++],p==="\\"&&s!==ze.ParamRegExp){i=s,s=ze.EscapeNext;continue}switch(s){case ze.Static:p==="/"?(m&&k(),c()):p===":"?(k(),s=ze.Param):h();break;case ze.EscapeNext:h(),s=i;break;case ze.Param:p==="("?s=ze.ParamRegExp:Md.test(p)?h():(k(),s=ze.Static,p!=="*"&&p!=="?"&&p!=="+"&&f--);break;case ze.ParamRegExp:p===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+p:s=ze.ParamRegExpEnd:v+=p;break;case ze.ParamRegExpEnd:k(),s=ze.Static,p!=="*"&&p!=="?"&&p!=="+"&&f--,v="";break;default:e("Unknown state");break}}return s===ze.ParamRegExp&&e(`Unfinished custom RegExp for param "${m}"`),k(),c(),r}const Ti="[^/]+?",Fd={sensitive:!1,strict:!1,start:!0,end:!0};var at=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(at||{});const Bd=/[.+*?^${}()[\]/\\]/g;function Ud(t,e){const s=ye({},Fd,e),i=[];let r=s.start?"^":"";const a=[];for(const m of t){const v=m.length?[]:[at.Root];s.strict&&!m.length&&(r+="/");for(let k=0;k<m.length;k++){const h=m[k];let x=at.Segment+(s.sensitive?at.BonusCaseSensitive:0);if(h.type===ln.Static)k||(r+="/"),r+=h.value.replace(Bd,"\\$&"),x+=at.Static;else if(h.type===ln.Param){const{value:g,repeatable:_,optional:E,regexp:q}=h;a.push({name:g,repeatable:_,optional:E});const y=q||Ti;if(y!==Ti){x+=at.BonusCustomRegExp;try{`${y}`}catch(C){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+C.message)}}let O=_?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;k||(O=E&&m.length<2?`(?:/${O})`:"/"+O),E&&(O+="?"),r+=O,x+=at.Dynamic,E&&(x+=at.BonusOptional),_&&(x+=at.BonusRepeatable),y===".*"&&(x+=at.BonusWildcard)}v.push(x)}i.push(v)}if(s.strict&&s.end){const m=i.length-1;i[m][i[m].length-1]+=at.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const c=new RegExp(r,s.sensitive?"":"i");function f(m){const v=m.match(c),k={};if(!v)return null;for(let h=1;h<v.length;h++){const x=v[h]||"",g=a[h-1];k[g.name]=x&&g.repeatable?x.split("/"):x}return k}function p(m){let v="",k=!1;for(const h of t){(!k||!v.endsWith("/"))&&(v+="/"),k=!1;for(const x of h)if(x.type===ln.Static)v+=x.value;else if(x.type===ln.Param){const{value:g,repeatable:_,optional:E}=x,q=g in m?m[g]:"";if(qt(q)&&!_)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=qt(q)?q.join("/"):q;if(!y)if(E)h.length<2&&(v.endsWith("/")?v=v.slice(0,-1):k=!0);else throw new Error(`Missing required param "${g}"`);v+=y}}return v||"/"}return{re:c,score:i,keys:a,parse:f,stringify:p}}function Gd(t,e){let s=0;for(;s<t.length&&s<e.length;){const i=e[s]-t[s];if(i)return i;s++}return t.length<e.length?t.length===1&&t[0]===at.Static+at.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===at.Static+at.Segment?1:-1:0}function wa(t,e){let s=0;const i=t.score,r=e.score;for(;s<i.length&&s<r.length;){const a=Gd(i[s],r[s]);if(a)return a;s++}if(Math.abs(r.length-i.length)===1){if(qi(i))return 1;if(qi(r))return-1}return r.length-i.length}function qi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Vd={strict:!1,end:!0,sensitive:!1};function Kd(t,e,s){const i=Ud(jd(t.path),s),r=ye(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function zd(t,e){const s=[],i=new Map;e=wi(Vd,e);function r(k){return i.get(k)}function a(k,h,x){const g=!x,_=Di(k);_.aliasOf=x&&x.record;const E=wi(e,k),q=[_];if("alias"in k){const C=typeof k.alias=="string"?[k.alias]:k.alias;for(const P of C)q.push(Di(ye({},_,{components:x?x.record.components:_.components,path:P,aliasOf:x?x.record:_})))}let y,O;for(const C of q){const{path:P}=C;if(h&&P[0]!=="/"){const j=h.record.path,V=j[j.length-1]==="/"?"":"/";C.path=h.record.path+(P&&V+P)}if(y=Kd(C,h,E),x?x.alias.push(y):(O=O||y,O!==y&&O.alias.push(y),g&&k.name&&!Ri(y)&&c(k.name)),ka(y)&&p(y),_.children){const j=_.children;for(let V=0;V<j.length;V++)a(j[V],y,x&&x.children[V])}x=x||y}return O?()=>{c(O)}:Jn}function c(k){if(va(k)){const h=i.get(k);h&&(i.delete(k),s.splice(s.indexOf(h),1),h.children.forEach(c),h.alias.forEach(c))}else{const h=s.indexOf(k);h>-1&&(s.splice(h,1),k.record.name&&i.delete(k.record.name),k.children.forEach(c),k.alias.forEach(c))}}function f(){return s}function p(k){const h=Wd(k,s);s.splice(h,0,k),k.record.name&&!Ri(k)&&i.set(k.record.name,k)}function m(k,h){let x,g={},_,E;if("name"in k&&k.name){if(x=i.get(k.name),!x)throw Rn(Me.MATCHER_NOT_FOUND,{location:k});E=x.record.name,g=ye($i(h.params,x.keys.filter(O=>!O.optional).concat(x.parent?x.parent.keys.filter(O=>O.optional):[]).map(O=>O.name)),k.params&&$i(k.params,x.keys.map(O=>O.name))),_=x.stringify(g)}else if(k.path!=null)_=k.path,x=s.find(O=>O.re.test(_)),x&&(g=x.parse(_),E=x.record.name);else{if(x=h.name?i.get(h.name):s.find(O=>O.re.test(h.path)),!x)throw Rn(Me.MATCHER_NOT_FOUND,{location:k,currentLocation:h});E=x.record.name,g=ye({},h.params,k.params),_=x.stringify(g)}const q=[];let y=x;for(;y;)q.unshift(y.record),y=y.parent;return{name:E,path:_,params:g,matched:q,meta:Jd(q)}}t.forEach(k=>a(k));function v(){s.length=0,i.clear()}return{addRoute:a,resolve:m,removeRoute:c,clearRoutes:v,getRoutes:f,getRecordMatcher:r}}function $i(t,e){const s={};for(const i of e)i in t&&(s[i]=t[i]);return s}function Di(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Hd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Hd(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const i in t.components)e[i]=typeof s=="object"?s[i]:s;return e}function Ri(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Jd(t){return t.reduce((e,s)=>ye(e,s.meta),{})}function Wd(t,e){let s=0,i=e.length;for(;s!==i;){const a=s+i>>1;wa(t,e[a])<0?i=a:s=a+1}const r=Qd(t);return r&&(i=e.lastIndexOf(r,i-1)),i}function Qd(t){let e=t;for(;e=e.parent;)if(ka(e)&&wa(t,e)===0)return e}function ka({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Pi(t){const e=Gt(Ts),s=Gt(Io),i=Oe(()=>{const p=qn(t.to);return e.resolve(p)}),r=Oe(()=>{const{matched:p}=i.value,{length:m}=p,v=p[m-1],k=s.matched;if(!v||!k.length)return-1;const h=k.findIndex(Dn.bind(null,v));if(h>-1)return h;const x=Ii(p[m-2]);return m>1&&Ii(v)===x&&k[k.length-1].path!==x?k.findIndex(Dn.bind(null,p[m-2])):h}),a=Oe(()=>r.value>-1&&tf(s.params,i.value.params)),c=Oe(()=>r.value>-1&&r.value===s.matched.length-1&&_a(s.params,i.value.params));function f(p={}){if(ef(p)){const m=e[qn(t.replace)?"replace":"push"](qn(t.to)).catch(Jn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:i,href:Oe(()=>i.value.href),isActive:a,isExactActive:c,navigate:f}}function Xd(t){return t.length===1?t[0]:t}const Yd=vt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Pi,setup(t,{slots:e}){const s=fu(Pi(t)),{options:i}=Gt(Ts),r=Oe(()=>({[Oi(t.activeClass,i.linkActiveClass,"router-link-active")]:s.isActive,[Oi(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const a=e.default&&Xd(e.default(s));return t.custom?a:sa("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},a)}}}),Zd=Yd;function ef(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function tf(t,e){for(const s in e){const i=e[s],r=t[s];if(typeof i=="string"){if(i!==r)return!1}else if(!qt(r)||r.length!==i.length||i.some((a,c)=>a.valueOf()!==r[c].valueOf()))return!1}return!0}function Ii(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Oi=(t,e,s)=>t??e??s,nf=vt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const i=Gt(Co),r=Oe(()=>t.route||i.value),a=Gt(Si,0),c=Oe(()=>{let m=qn(a);const{matched:v}=r.value;let k;for(;(k=v[m])&&!k.components;)m++;return m}),f=Oe(()=>r.value.matched[c.value]);$n(Si,Oe(()=>c.value+1)),$n(Dd,f),$n(Co,r);const p=B();return dn(()=>[p.value,f.value,t.name],([m,v,k],[h,x,g])=>{v&&(v.instances[k]=m,x&&x!==v&&m&&m===h&&(v.leaveGuards.size||(v.leaveGuards=x.leaveGuards),v.updateGuards.size||(v.updateGuards=x.updateGuards))),m&&v&&(!x||!Dn(v,x)||!h)&&(v.enterCallbacks[k]||[]).forEach(_=>_(m))},{flush:"post"}),()=>{const m=r.value,v=t.name,k=f.value,h=k&&k.components[v];if(!h)return Ni(s.default,{Component:h,route:m});const x=k.props[v],g=x?x===!0?m.params:typeof x=="function"?x(m):x:null,E=sa(h,ye({},g,e,{onVnodeUnmounted:q=>{q.component.isUnmounted&&(k.instances[v]=null)},ref:p}));return Ni(s.default,{Component:E,route:m})||E}}});function Ni(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const sf=nf;function of(t){const e=zd(t.routes,t),s=t.parseQuery||qd,i=t.stringifyQuery||xi,r=t.history,a=zn(),c=zn(),f=zn(),p=uu(Ht);let m=Ht;Tn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=go.bind(null,T=>""+T),k=go.bind(null,fd),h=go.bind(null,Wn);function x(T,Q){let K,ee;return va(T)?(K=e.getRecordMatcher(T),ee=Q):ee=T,e.addRoute(ee,K)}function g(T){const Q=e.getRecordMatcher(T);Q&&e.removeRoute(Q)}function _(){return e.getRoutes().map(T=>T.record)}function E(T){return!!e.getRecordMatcher(T)}function q(T,Q){if(Q=ye({},Q||p.value),typeof T=="string"){const oe=_o(s,T,Q.path),xe=e.resolve({path:oe.path},Q),bt=r.createHref(oe.fullPath);return ye(oe,xe,{params:h(xe.params),hash:Wn(oe.hash),redirectedFrom:void 0,href:bt})}let K;if(T.path!=null)K=ye({},T,{path:_o(s,T.path,Q.path).path});else{const oe=ye({},T.params);for(const xe in oe)oe[xe]==null&&delete oe[xe];K=ye({},T,{params:k(oe)}),Q.params=k(Q.params)}const ee=e.resolve(K,Q),de=T.hash||"";ee.params=v(h(ee.params));const Ae=md(i,ye({},T,{hash:cd(de),path:ee.path})),ce=r.createHref(Ae);return ye({fullPath:Ae,hash:de,query:i===xi?$d(T.query):T.query||{}},ee,{redirectedFrom:void 0,href:ce})}function y(T){return typeof T=="string"?_o(s,T,p.value.path):ye({},T)}function O(T,Q){if(m!==T)return Rn(Me.NAVIGATION_CANCELLED,{from:Q,to:T})}function C(T){return V(T)}function P(T){return C(ye(y(T),{replace:!0}))}function j(T,Q){const K=T.matched[T.matched.length-1];if(K&&K.redirect){const{redirect:ee}=K;let de=typeof ee=="function"?ee(T,Q):ee;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=y(de):{path:de},de.params={}),ye({query:T.query,hash:T.hash,params:de.path!=null?{}:T.params},de)}}function V(T,Q){const K=m=q(T),ee=p.value,de=T.state,Ae=T.force,ce=T.replace===!0,oe=j(K,ee);if(oe)return V(ye(y(oe),{state:typeof oe=="object"?ye({},de,oe.state):de,force:Ae,replace:ce}),Q||K);const xe=K;xe.redirectedFrom=Q;let bt;return!Ae&&gd(i,ee,K)&&(bt=Rn(Me.NAVIGATION_DUPLICATED,{to:xe,from:ee}),Ge(ee,ee,!0,!1)),(bt?Promise.resolve(bt):U(xe,ee)).catch(F=>Ut(F)?Ut(F,Me.NAVIGATION_GUARD_REDIRECT)?F:Je(F):De(F,xe,ee)).then(F=>{if(F){if(Ut(F,Me.NAVIGATION_GUARD_REDIRECT))return V(ye({replace:ce},y(F.to),{state:typeof F.to=="object"?ye({},de,F.to.state):de,force:Ae}),Q||xe)}else F=J(xe,ee,!0,ce,de);return L(xe,ee,F),F})}function W(T,Q){const K=O(T,Q);return K?Promise.reject(K):Promise.resolve()}function R(T){const Q=Ve.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(T):T()}function U(T,Q){let K;const[ee,de,Ae]=Rd(T,Q);K=bo(ee.reverse(),"beforeRouteLeave",T,Q);for(const oe of ee)oe.leaveGuards.forEach(xe=>{K.push(Jt(xe,T,Q))});const ce=W.bind(null,T,Q);return K.push(ce),ct(K).then(()=>{K=[];for(const oe of a.list())K.push(Jt(oe,T,Q));return K.push(ce),ct(K)}).then(()=>{K=bo(de,"beforeRouteUpdate",T,Q);for(const oe of de)oe.updateGuards.forEach(xe=>{K.push(Jt(xe,T,Q))});return K.push(ce),ct(K)}).then(()=>{K=[];for(const oe of Ae)if(oe.beforeEnter)if(qt(oe.beforeEnter))for(const xe of oe.beforeEnter)K.push(Jt(xe,T,Q));else K.push(Jt(oe.beforeEnter,T,Q));return K.push(ce),ct(K)}).then(()=>(T.matched.forEach(oe=>oe.enterCallbacks={}),K=bo(Ae,"beforeRouteEnter",T,Q,R),K.push(ce),ct(K))).then(()=>{K=[];for(const oe of c.list())K.push(Jt(oe,T,Q));return K.push(ce),ct(K)}).catch(oe=>Ut(oe,Me.NAVIGATION_CANCELLED)?oe:Promise.reject(oe))}function L(T,Q,K){f.list().forEach(ee=>R(()=>ee(T,Q,K)))}function J(T,Q,K,ee,de){const Ae=O(T,Q);if(Ae)return Ae;const ce=Q===Ht,oe=Tn?history.state:{};K&&(ee||ce?r.replace(T.fullPath,ye({scroll:ce&&oe&&oe.scroll},de)):r.push(T.fullPath,de)),p.value=T,Ge(T,Q,K,ce),Je()}let _e;function Fe(){_e||(_e=r.listen((T,Q,K)=>{if(!Ie.listening)return;const ee=q(T),de=j(ee,Ie.currentRoute.value);if(de){V(ye(de,{replace:!0,force:!0}),ee).catch(Jn);return}m=ee;const Ae=p.value;Tn&&Ad(Ai(Ae.fullPath,K.delta),Cs()),U(ee,Ae).catch(ce=>Ut(ce,Me.NAVIGATION_ABORTED|Me.NAVIGATION_CANCELLED)?ce:Ut(ce,Me.NAVIGATION_GUARD_REDIRECT)?(V(ye(y(ce.to),{force:!0}),ee).then(oe=>{Ut(oe,Me.NAVIGATION_ABORTED|Me.NAVIGATION_DUPLICATED)&&!K.delta&&K.type===xo.pop&&r.go(-1,!1)}).catch(Jn),Promise.reject()):(K.delta&&r.go(-K.delta,!1),De(ce,ee,Ae))).then(ce=>{ce=ce||J(ee,Ae,!1),ce&&(K.delta&&!Ut(ce,Me.NAVIGATION_CANCELLED)?r.go(-K.delta,!1):K.type===xo.pop&&Ut(ce,Me.NAVIGATION_ABORTED|Me.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),L(ee,Ae,ce)}).catch(Jn)}))}let He=zn(),Ne=zn(),lt;function De(T,Q,K){Je(T);const ee=Ne.list();return ee.length?ee.forEach(de=>de(T,Q,K)):console.error(T),Promise.reject(T)}function N(){return lt&&p.value!==Ht?Promise.resolve():new Promise((T,Q)=>{He.add([T,Q])})}function Je(T){return lt||(lt=!T,Fe(),He.list().forEach(([Q,K])=>T?K(T):Q()),He.reset()),T}function Ge(T,Q,K,ee){const{scrollBehavior:de}=t;if(!Tn||!de)return Promise.resolve();const Ae=!K&&xd(Ai(T.fullPath,0))||(ee||!K)&&history.state&&history.state.scroll||null;return oa().then(()=>de(T,Q,Ae)).then(ce=>ce&&Ed(ce)).catch(ce=>De(ce,T,Q))}const We=T=>r.go(T);let Be;const Ve=new Set,Ie={currentRoute:p,listening:!0,addRoute:x,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:_,resolve:q,options:t,push:C,replace:P,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:a.add,beforeResolve:c.add,afterEach:f.add,onError:Ne.add,isReady:N,install(T){T.component("RouterLink",Zd),T.component("RouterView",sf),T.config.globalProperties.$router=Ie,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>qn(p)}),Tn&&!Be&&p.value===Ht&&(Be=!0,C(r.location).catch(ee=>{}));const Q={};for(const ee in Ht)Object.defineProperty(Q,ee,{get:()=>p.value[ee],enumerable:!0});T.provide(Ts,Ie),T.provide(Io,du(Q)),T.provide(Co,p);const K=T.unmount;Ve.add(T),T.unmount=function(){Ve.delete(T),Ve.size<1&&(m=Ht,_e&&_e(),_e=null,p.value=Ht,Be=!1,lt=!1),K()}}};function ct(T){return T.reduce((Q,K)=>Q.then(()=>R(K)),Promise.resolve())}return Ie}function In(){return Gt(Ts)}function On(t){return Gt(Io)}const Pe=(t,e)=>{const s=t.__vccOpts||t;for(const[i,r]of e)s[i]=r;return s},rf={name:"HomeView",data(){return{searchQuery:""}},methods:{performSearch(){this.searchQuery.trim()&&this.$router.push({path:"/tools/id-search/results",query:{q:this.searchQuery.trim()}})}}},af={class:"home"},lf={class:"hero-section"},cf={class:"container"},uf={class:"search-box-container"},df={class:"input-group"},ff={class:"features-section py-8"},pf={class:"container"},hf={class:"row"},mf={class:"col-md-4 mb-4"},gf={class:"feature-card h-100"},_f={class:"col-md-4 mb-4"},vf={class:"feature-card h-100"},bf={class:"col-md-4 mb-4"},yf={class:"feature-card h-100"};function wf(t,e,s,i,r,a){const c=gt("router-link");return b(),w("div",af,[o("div",lf,[o("div",cf,[e[4]||(e[4]=o("h1",{class:"text-center mb-4"},"Welcome to CottonOGD Website",-1)),e[5]||(e[5]=o("p",{class:"text-center mb-6"},"Comprehensive genomic database for cotton research",-1)),o("div",uf,[o("div",df,[we(o("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter gene ID, symbol or keyword...","onUpdate:modelValue":e[0]||(e[0]=f=>r.searchQuery=f),onKeyup:e[1]||(e[1]=pu((...f)=>a.performSearch&&a.performSearch(...f),["enter"]))},null,544),[[Ye,r.searchQuery]]),o("button",{class:"btn btn-primary btn-lg",onClick:e[2]||(e[2]=(...f)=>a.performSearch&&a.performSearch(...f))},[...e[3]||(e[3]=[o("i",{class:"fas fa-search"},null,-1),ne(" Search ",-1)])])])])])]),o("div",ff,[o("div",pf,[o("div",hf,[o("div",mf,[o("div",gf,[e[7]||(e[7]=o("div",{class:"icon-container"},[o("i",{class:"fas fa-database fa-3x text-primary"})],-1)),e[8]||(e[8]=o("h3",{class:"mt-3 mb-2"},"Browse",-1)),e[9]||(e[9]=o("p",{class:"mb-4"},"Explore cotton genome data, species information and transcription factors",-1)),Z(c,{to:"/browse/genome",class:"btn btn-outline-primary"},{default:me(()=>[...e[6]||(e[6]=[ne(" Get Started ",-1)])]),_:1})])]),o("div",_f,[o("div",vf,[e[11]||(e[11]=o("div",{class:"icon-container"},[o("i",{class:"fas fa-chart-line fa-3x text-primary"})],-1)),e[12]||(e[12]=o("h3",{class:"mt-3 mb-2"},"Visualization",-1)),e[13]||(e[13]=o("p",{class:"mb-4"},"View genomic data interactively with JBrowse and expression patterns",-1)),Z(c,{to:"/jbrowse",class:"btn btn-outline-primary"},{default:me(()=>[...e[10]||(e[10]=[ne(" Launch JBrowse ",-1)])]),_:1})])]),o("div",bf,[o("div",yf,[e[15]||(e[15]=o("div",{class:"icon-container"},[o("i",{class:"fas fa-tools fa-3x text-primary"})],-1)),e[16]||(e[16]=o("h3",{class:"mt-3 mb-2"},"Tools",-1)),e[17]||(e[17]=o("p",{class:"mb-4"},"Use various analysis tools for gene function, expression and enrichment",-1)),Z(c,{to:"/tools/id-search",class:"btn btn-outline-primary"},{default:me(()=>[...e[14]||(e[14]=[ne(" Explore Tools ",-1)])]),_:1})])])])])]),e[18]||(e[18]=Ss('<div class="research-section bg-light py-8" data-v-fafdabbe><div class="container" data-v-fafdabbe><h2 class="text-center mb-6" data-v-fafdabbe>Latest Research Highlights</h2><div class="row" data-v-fafdabbe><div class="col-md-6 mb-4" data-v-fafdabbe><div class="research-card bg-white rounded-lg shadow-sm p-4" data-v-fafdabbe><h4 data-v-fafdabbe>Genome-Wide Analysis of Cotton Transcription Factors</h4><p class="text-muted" data-v-fafdabbe>Identification and characterization of transcription factor families across cotton species</p></div></div><div class="col-md-6 mb-4" data-v-fafdabbe><div class="research-card bg-white rounded-lg shadow-sm p-4" data-v-fafdabbe><h4 data-v-fafdabbe>Comparative Genomics of Gossypium</h4><p class="text-muted" data-v-fafdabbe>Evolutionary insights from comparative analysis of multiple cotton genomes</p></div></div></div></div></div>',1))])}const kf=Pe(rf,[["render",wf],["__scopeId","data-v-fafdabbe"]]),Ef={name:"BrowseGenomeView"},Af={class:"container mt-4"};function xf(t,e,s,i,r,a){return b(),w("div",Af,[...e[0]||(e[0]=[o("h1",null,"浏览基因组",-1),o("p",null,"此页面正在开发中...",-1)])])}const Sf=Pe(Ef,[["render",xf]]);function Ea(t,e){return function(){return t.apply(e,arguments)}}const{toString:Cf}=Object.prototype,{getPrototypeOf:Oo}=Object,{iterator:qs,toStringTag:Aa}=Symbol,$s=(t=>e=>{const s=Cf.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),$t=t=>(t=t.toLowerCase(),e=>$s(e)===t),Ds=t=>e=>typeof e===t,{isArray:Nn}=Array,Pn=Ds("undefined");function Qn(t){return t!==null&&!Pn(t)&&t.constructor!==null&&!Pn(t.constructor)&&ut(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const xa=$t("ArrayBuffer");function Tf(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xa(t.buffer),e}const qf=Ds("string"),ut=Ds("function"),Sa=Ds("number"),Xn=t=>t!==null&&typeof t=="object",$f=t=>t===!0||t===!1,ws=t=>{if($s(t)!=="object")return!1;const e=Oo(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Aa in t)&&!(qs in t)},Df=t=>{if(!Xn(t)||Qn(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Rf=$t("Date"),Pf=$t("File"),If=$t("Blob"),Of=$t("FileList"),Nf=t=>Xn(t)&&ut(t.pipe),Lf=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ut(t.append)&&((e=$s(t))==="formdata"||e==="object"&&ut(t.toString)&&t.toString()==="[object FormData]"))},Mf=$t("URLSearchParams"),[jf,Ff,Bf,Uf]=["ReadableStream","Request","Response","Headers"].map($t),Gf=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yn(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Nn(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(Qn(t))return;const a=s?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let f;for(i=0;i<c;i++)f=a[i],e.call(null,t[f],f,t)}}function Ca(t,e){if(Qn(t))return null;e=e.toLowerCase();const s=Object.keys(t);let i=s.length,r;for(;i-- >0;)if(r=s[i],e===r.toLowerCase())return r;return null}const cn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ta=t=>!Pn(t)&&t!==cn;function To(){const{caseless:t,skipUndefined:e}=Ta(this)&&this||{},s={},i=(r,a)=>{const c=t&&Ca(s,a)||a;ws(s[c])&&ws(r)?s[c]=To(s[c],r):ws(r)?s[c]=To({},r):Nn(r)?s[c]=r.slice():(!e||!Pn(r))&&(s[c]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Yn(arguments[r],i);return s}const Vf=(t,e,s,{allOwnKeys:i}={})=>(Yn(e,(r,a)=>{s&&ut(r)?t[a]=Ea(r,s):t[a]=r},{allOwnKeys:i}),t),Kf=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zf=(t,e,s,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Hf=(t,e,s,i)=>{let r,a,c;const f={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),a=r.length;a-- >0;)c=r[a],(!i||i(c,t,e))&&!f[c]&&(e[c]=t[c],f[c]=!0);t=s!==!1&&Oo(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Jf=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const i=t.indexOf(e,s);return i!==-1&&i===s},Wf=t=>{if(!t)return null;if(Nn(t))return t;let e=t.length;if(!Sa(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Qf=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Oo(Uint8Array)),Xf=(t,e)=>{const i=(t&&t[qs]).call(t);let r;for(;(r=i.next())&&!r.done;){const a=r.value;e.call(t,a[0],a[1])}},Yf=(t,e)=>{let s;const i=[];for(;(s=t.exec(e))!==null;)i.push(s);return i},Zf=$t("HTMLFormElement"),ep=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,r){return i.toUpperCase()+r}),Li=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),tp=$t("RegExp"),qa=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),i={};Yn(s,(r,a)=>{let c;(c=e(r,a,t))!==!1&&(i[a]=c||r)}),Object.defineProperties(t,i)},np=t=>{qa(t,(e,s)=>{if(ut(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=t[s];if(ut(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},sp=(t,e)=>{const s={},i=r=>{r.forEach(a=>{s[a]=!0})};return Nn(t)?i(t):i(String(t).split(e)),s},op=()=>{},rp=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ip(t){return!!(t&&ut(t.append)&&t[Aa]==="FormData"&&t[qs])}const ap=t=>{const e=new Array(10),s=(i,r)=>{if(Xn(i)){if(e.indexOf(i)>=0)return;if(Qn(i))return i;if(!("toJSON"in i)){e[r]=i;const a=Nn(i)?[]:{};return Yn(i,(c,f)=>{const p=s(c,r+1);!Pn(p)&&(a[f]=p)}),e[r]=void 0,a}}return i};return s(t,0)},lp=$t("AsyncFunction"),cp=t=>t&&(Xn(t)||ut(t))&&ut(t.then)&&ut(t.catch),$a=((t,e)=>t?setImmediate:e?((s,i)=>(cn.addEventListener("message",({source:r,data:a})=>{r===cn&&a===s&&i.length&&i.shift()()},!1),r=>{i.push(r),cn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ut(cn.postMessage)),up=typeof queueMicrotask<"u"?queueMicrotask.bind(cn):typeof process<"u"&&process.nextTick||$a,dp=t=>t!=null&&ut(t[qs]),D={isArray:Nn,isArrayBuffer:xa,isBuffer:Qn,isFormData:Lf,isArrayBufferView:Tf,isString:qf,isNumber:Sa,isBoolean:$f,isObject:Xn,isPlainObject:ws,isEmptyObject:Df,isReadableStream:jf,isRequest:Ff,isResponse:Bf,isHeaders:Uf,isUndefined:Pn,isDate:Rf,isFile:Pf,isBlob:If,isRegExp:tp,isFunction:ut,isStream:Nf,isURLSearchParams:Mf,isTypedArray:Qf,isFileList:Of,forEach:Yn,merge:To,extend:Vf,trim:Gf,stripBOM:Kf,inherits:zf,toFlatObject:Hf,kindOf:$s,kindOfTest:$t,endsWith:Jf,toArray:Wf,forEachEntry:Xf,matchAll:Yf,isHTMLForm:Zf,hasOwnProperty:Li,hasOwnProp:Li,reduceDescriptors:qa,freezeMethods:np,toObjectSet:sp,toCamelCase:ep,noop:op,toFiniteNumber:rp,findKey:Ca,global:cn,isContextDefined:Ta,isSpecCompliantForm:ip,toJSONObject:ap,isAsyncFn:lp,isThenable:cp,setImmediate:$a,asap:up,isIterable:dp};function le(t,e,s,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}D.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const Da=le.prototype,Ra={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ra[t]={value:t}});Object.defineProperties(le,Ra);Object.defineProperty(Da,"isAxiosError",{value:!0});le.from=(t,e,s,i,r,a)=>{const c=Object.create(Da);D.toFlatObject(t,c,function(v){return v!==Error.prototype},m=>m!=="isAxiosError");const f=t&&t.message?t.message:"Error",p=e==null&&t?t.code:e;return le.call(c,f,p,s,i,r),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",a&&Object.assign(c,a),c};const fp=null;function qo(t){return D.isPlainObject(t)||D.isArray(t)}function Pa(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function Mi(t,e,s){return t?t.concat(e).map(function(r,a){return r=Pa(r),!s&&a?"["+r+"]":r}).join(s?".":""):e}function pp(t){return D.isArray(t)&&!t.some(qo)}const hp=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function Rs(t,e,s){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=D.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!D.isUndefined(E[_])});const i=s.metaTokens,r=s.visitor||v,a=s.dots,c=s.indexes,p=(s.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(r))throw new TypeError("visitor must be a function");function m(g){if(g===null)return"";if(D.isDate(g))return g.toISOString();if(D.isBoolean(g))return g.toString();if(!p&&D.isBlob(g))throw new le("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(g)||D.isTypedArray(g)?p&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function v(g,_,E){let q=g;if(g&&!E&&typeof g=="object"){if(D.endsWith(_,"{}"))_=i?_:_.slice(0,-2),g=JSON.stringify(g);else if(D.isArray(g)&&pp(g)||(D.isFileList(g)||D.endsWith(_,"[]"))&&(q=D.toArray(g)))return _=Pa(_),q.forEach(function(O,C){!(D.isUndefined(O)||O===null)&&e.append(c===!0?Mi([_],C,a):c===null?_:_+"[]",m(O))}),!1}return qo(g)?!0:(e.append(Mi(E,_,a),m(g)),!1)}const k=[],h=Object.assign(hp,{defaultVisitor:v,convertValue:m,isVisitable:qo});function x(g,_){if(!D.isUndefined(g)){if(k.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));k.push(g),D.forEach(g,function(q,y){(!(D.isUndefined(q)||q===null)&&r.call(e,q,D.isString(y)?y.trim():y,_,h))===!0&&x(q,_?_.concat(y):[y])}),k.pop()}}if(!D.isObject(t))throw new TypeError("data must be an object");return x(t),e}function ji(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function No(t,e){this._pairs=[],t&&Rs(t,this,e)}const Ia=No.prototype;Ia.append=function(e,s){this._pairs.push([e,s])};Ia.toString=function(e){const s=e?function(i){return e.call(this,i,ji)}:ji;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function mp(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Oa(t,e,s){if(!e)return t;const i=s&&s.encode||mp;D.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let a;if(r?a=r(e,s):a=D.isURLSearchParams(e)?e.toString():new No(e,s).toString(i),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Fi{constructor(){this.handlers=[]}use(e,s,i){return this.handlers.push({fulfilled:e,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Na={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gp=typeof URLSearchParams<"u"?URLSearchParams:No,_p=typeof FormData<"u"?FormData:null,vp=typeof Blob<"u"?Blob:null,bp={isBrowser:!0,classes:{URLSearchParams:gp,FormData:_p,Blob:vp},protocols:["http","https","file","blob","url","data"]},Lo=typeof window<"u"&&typeof document<"u",$o=typeof navigator=="object"&&navigator||void 0,yp=Lo&&(!$o||["ReactNative","NativeScript","NS"].indexOf($o.product)<0),wp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kp=Lo&&window.location.href||"http://localhost",Ep=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lo,hasStandardBrowserEnv:yp,hasStandardBrowserWebWorkerEnv:wp,navigator:$o,origin:kp},Symbol.toStringTag,{value:"Module"})),tt={...Ep,...bp};function Ap(t,e){return Rs(t,new tt.classes.URLSearchParams,{visitor:function(s,i,r,a){return tt.isNode&&D.isBuffer(s)?(this.append(i,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function xp(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Sp(t){const e={},s=Object.keys(t);let i;const r=s.length;let a;for(i=0;i<r;i++)a=s[i],e[a]=t[a];return e}function La(t){function e(s,i,r,a){let c=s[a++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),p=a>=s.length;return c=!c&&D.isArray(r)?r.length:c,p?(D.hasOwnProp(r,c)?r[c]=[r[c],i]:r[c]=i,!f):((!r[c]||!D.isObject(r[c]))&&(r[c]=[]),e(s,i,r[c],a)&&D.isArray(r[c])&&(r[c]=Sp(r[c])),!f)}if(D.isFormData(t)&&D.isFunction(t.entries)){const s={};return D.forEachEntry(t,(i,r)=>{e(xp(i),r,s,0)}),s}return null}function Cp(t,e,s){if(D.isString(t))try{return(e||JSON.parse)(t),D.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(t)}const Zn={transitional:Na,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const i=s.getContentType()||"",r=i.indexOf("application/json")>-1,a=D.isObject(e);if(a&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return r?JSON.stringify(La(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e)||D.isReadableStream(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Ap(e,this.formSerializer).toString();if((f=D.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Rs(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||r?(s.setContentType("application/json",!1),Cp(e)):e}],transformResponse:[function(e){const s=this.transitional||Zn.transitional,i=s&&s.forcedJSONParsing,r=this.responseType==="json";if(D.isResponse(e)||D.isReadableStream(e))return e;if(e&&D.isString(e)&&(i&&!this.responseType||r)){const c=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(f){if(c)throw f.name==="SyntaxError"?le.from(f,le.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt.classes.FormData,Blob:tt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],t=>{Zn.headers[t]={}});const Tp=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qp=t=>{const e={};let s,i,r;return t&&t.split(`
`).forEach(function(c){r=c.indexOf(":"),s=c.substring(0,r).trim().toLowerCase(),i=c.substring(r+1).trim(),!(!s||e[s]&&Tp[s])&&(s==="set-cookie"?e[s]?e[s].push(i):e[s]=[i]:e[s]=e[s]?e[s]+", "+i:i)}),e},Bi=Symbol("internals");function Hn(t){return t&&String(t).trim().toLowerCase()}function ks(t){return t===!1||t==null?t:D.isArray(t)?t.map(ks):String(t)}function $p(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(t);)e[i[1]]=i[2];return e}const Dp=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yo(t,e,s,i,r){if(D.isFunction(i))return i.call(this,e,s);if(r&&(e=s),!!D.isString(e)){if(D.isString(i))return e.indexOf(i)!==-1;if(D.isRegExp(i))return i.test(e)}}function Rp(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,i)=>s.toUpperCase()+i)}function Pp(t,e){const s=D.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+s,{value:function(r,a,c){return this[i].call(this,e,r,a,c)},configurable:!0})})}let dt=class{constructor(e){e&&this.set(e)}set(e,s,i){const r=this;function a(f,p,m){const v=Hn(p);if(!v)throw new Error("header name must be a non-empty string");const k=D.findKey(r,v);(!k||r[k]===void 0||m===!0||m===void 0&&r[k]!==!1)&&(r[k||p]=ks(f))}const c=(f,p)=>D.forEach(f,(m,v)=>a(m,v,p));if(D.isPlainObject(e)||e instanceof this.constructor)c(e,s);else if(D.isString(e)&&(e=e.trim())&&!Dp(e))c(qp(e),s);else if(D.isObject(e)&&D.isIterable(e)){let f={},p,m;for(const v of e){if(!D.isArray(v))throw TypeError("Object iterator must return a key-value pair");f[m=v[0]]=(p=f[m])?D.isArray(p)?[...p,v[1]]:[p,v[1]]:v[1]}c(f,s)}else e!=null&&a(s,e,i);return this}get(e,s){if(e=Hn(e),e){const i=D.findKey(this,e);if(i){const r=this[i];if(!s)return r;if(s===!0)return $p(r);if(D.isFunction(s))return s.call(this,r,i);if(D.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Hn(e),e){const i=D.findKey(this,e);return!!(i&&this[i]!==void 0&&(!s||yo(this,this[i],i,s)))}return!1}delete(e,s){const i=this;let r=!1;function a(c){if(c=Hn(c),c){const f=D.findKey(i,c);f&&(!s||yo(i,i[f],f,s))&&(delete i[f],r=!0)}}return D.isArray(e)?e.forEach(a):a(e),r}clear(e){const s=Object.keys(this);let i=s.length,r=!1;for(;i--;){const a=s[i];(!e||yo(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const s=this,i={};return D.forEach(this,(r,a)=>{const c=D.findKey(i,a);if(c){s[c]=ks(r),delete s[a];return}const f=e?Rp(a):String(a).trim();f!==a&&delete s[a],s[f]=ks(r),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return D.forEach(this,(i,r)=>{i!=null&&i!==!1&&(s[r]=e&&D.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const i=new this(e);return s.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Bi]=this[Bi]={accessors:{}}).accessors,r=this.prototype;function a(c){const f=Hn(c);i[f]||(Pp(r,c),i[f]=!0)}return D.isArray(e)?e.forEach(a):a(e),this}};dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(dt.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[s]=i}}});D.freezeMethods(dt);function wo(t,e){const s=this||Zn,i=e||s,r=dt.from(i.headers);let a=i.data;return D.forEach(t,function(f){a=f.call(s,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function Ma(t){return!!(t&&t.__CANCEL__)}function Ln(t,e,s){le.call(this,t??"canceled",le.ERR_CANCELED,e,s),this.name="CanceledError"}D.inherits(Ln,le,{__CANCEL__:!0});function ja(t,e,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?t(s):e(new le("Request failed with status code "+s.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Ip(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Op(t,e){t=t||10;const s=new Array(t),i=new Array(t);let r=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),v=i[a];c||(c=m),s[r]=p,i[r]=m;let k=a,h=0;for(;k!==r;)h+=s[k++],k=k%t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),m-c<e)return;const x=v&&m-v;return x?Math.round(h*1e3/x):void 0}}function Np(t,e){let s=0,i=1e3/e,r,a;const c=(m,v=Date.now())=>{s=v,r=null,a&&(clearTimeout(a),a=null),t(...m)};return[(...m)=>{const v=Date.now(),k=v-s;k>=i?c(m,v):(r=m,a||(a=setTimeout(()=>{a=null,c(r)},i-k)))},()=>r&&c(r)]}const xs=(t,e,s=3)=>{let i=0;const r=Op(50,250);return Np(a=>{const c=a.loaded,f=a.lengthComputable?a.total:void 0,p=c-i,m=r(p),v=c<=f;i=c;const k={loaded:c,total:f,progress:f?c/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&v?(f-c)/m:void 0,event:a,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(k)},s)},Ui=(t,e)=>{const s=t!=null;return[i=>e[0]({lengthComputable:s,total:t,loaded:i}),e[1]]},Gi=t=>(...e)=>D.asap(()=>t(...e)),Lp=tt.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,tt.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(tt.origin),tt.navigator&&/(msie|trident)/i.test(tt.navigator.userAgent)):()=>!0,Mp=tt.hasStandardBrowserEnv?{write(t,e,s,i,r,a,c){if(typeof document>"u")return;const f=[`${t}=${encodeURIComponent(e)}`];D.isNumber(s)&&f.push(`expires=${new Date(s).toUTCString()}`),D.isString(i)&&f.push(`path=${i}`),D.isString(r)&&f.push(`domain=${r}`),a===!0&&f.push("secure"),D.isString(c)&&f.push(`SameSite=${c}`),document.cookie=f.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function jp(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fp(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Fa(t,e,s){let i=!jp(e);return t&&(i||s==!1)?Fp(t,e):e}const Vi=t=>t instanceof dt?{...t}:t;function fn(t,e){e=e||{};const s={};function i(m,v,k,h){return D.isPlainObject(m)&&D.isPlainObject(v)?D.merge.call({caseless:h},m,v):D.isPlainObject(v)?D.merge({},v):D.isArray(v)?v.slice():v}function r(m,v,k,h){if(D.isUndefined(v)){if(!D.isUndefined(m))return i(void 0,m,k,h)}else return i(m,v,k,h)}function a(m,v){if(!D.isUndefined(v))return i(void 0,v)}function c(m,v){if(D.isUndefined(v)){if(!D.isUndefined(m))return i(void 0,m)}else return i(void 0,v)}function f(m,v,k){if(k in e)return i(m,v);if(k in t)return i(void 0,m)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(m,v,k)=>r(Vi(m),Vi(v),k,!0)};return D.forEach(Object.keys({...t,...e}),function(v){const k=p[v]||r,h=k(t[v],e[v],v);D.isUndefined(h)&&k!==f||(s[v]=h)}),s}const Ba=t=>{const e=fn({},t);let{data:s,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:c,auth:f}=e;if(e.headers=c=dt.from(c),e.url=Oa(Fa(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),D.isFormData(s)){if(tt.hasStandardBrowserEnv||tt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(D.isFunction(s.getHeaders)){const p=s.getHeaders(),m=["content-type","content-length"];Object.entries(p).forEach(([v,k])=>{m.includes(v.toLowerCase())&&c.set(v,k)})}}if(tt.hasStandardBrowserEnv&&(i&&D.isFunction(i)&&(i=i(e)),i||i!==!1&&Lp(e.url))){const p=r&&a&&Mp.read(a);p&&c.set(r,p)}return e},Bp=typeof XMLHttpRequest<"u",Up=Bp&&function(t){return new Promise(function(s,i){const r=Ba(t);let a=r.data;const c=dt.from(r.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:m}=r,v,k,h,x,g;function _(){x&&x(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(v),r.signal&&r.signal.removeEventListener("abort",v)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function q(){if(!E)return;const O=dt.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),P={data:!f||f==="text"||f==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:O,config:t,request:E};ja(function(V){s(V),_()},function(V){i(V),_()},P),E=null}"onloadend"in E?E.onloadend=q:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(q)},E.onabort=function(){E&&(i(new le("Request aborted",le.ECONNABORTED,t,E)),E=null)},E.onerror=function(C){const P=C&&C.message?C.message:"Network Error",j=new le(P,le.ERR_NETWORK,t,E);j.event=C||null,i(j),E=null},E.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||Na;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),i(new le(C,P.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,E)),E=null},a===void 0&&c.setContentType(null),"setRequestHeader"in E&&D.forEach(c.toJSON(),function(C,P){E.setRequestHeader(P,C)}),D.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),f&&f!=="json"&&(E.responseType=r.responseType),m&&([h,g]=xs(m,!0),E.addEventListener("progress",h)),p&&E.upload&&([k,x]=xs(p),E.upload.addEventListener("progress",k),E.upload.addEventListener("loadend",x)),(r.cancelToken||r.signal)&&(v=O=>{E&&(i(!O||O.type?new Ln(null,t,E):O),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(v),r.signal&&(r.signal.aborted?v():r.signal.addEventListener("abort",v)));const y=Ip(r.url);if(y&&tt.protocols.indexOf(y)===-1){i(new le("Unsupported protocol "+y+":",le.ERR_BAD_REQUEST,t));return}E.send(a||null)})},Gp=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let i=new AbortController,r;const a=function(m){if(!r){r=!0,f();const v=m instanceof Error?m:this.reason;i.abort(v instanceof le?v:new Ln(v instanceof Error?v.message:v))}};let c=e&&setTimeout(()=>{c=null,a(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const f=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:p}=i;return p.unsubscribe=()=>D.asap(f),p}},Vp=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let i=0,r;for(;i<s;)r=i+e,yield t.slice(i,r),i=r},Kp=async function*(t,e){for await(const s of zp(t))yield*Vp(s,e)},zp=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:i}=await e.read();if(s)break;yield i}}finally{await e.cancel()}},Ki=(t,e,s,i)=>{const r=Kp(t,e);let a=0,c,f=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:v}=await r.next();if(m){f(),p.close();return}let k=v.byteLength;if(s){let h=a+=k;s(h)}p.enqueue(new Uint8Array(v))}catch(m){throw f(m),m}},cancel(p){return f(p),r.return()}},{highWaterMark:2})},zi=64*1024,{isFunction:ys}=D,Hp=(({Request:t,Response:e})=>({Request:t,Response:e}))(D.global),{ReadableStream:Hi,TextEncoder:Ji}=D.global,Wi=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Jp=t=>{t=D.merge.call({skipUndefined:!0},Hp,t);const{fetch:e,Request:s,Response:i}=t,r=e?ys(e):typeof fetch=="function",a=ys(s),c=ys(i);if(!r)return!1;const f=r&&ys(Hi),p=r&&(typeof Ji=="function"?(g=>_=>g.encode(_))(new Ji):async g=>new Uint8Array(await new s(g).arrayBuffer())),m=a&&f&&Wi(()=>{let g=!1;const _=new s(tt.origin,{body:new Hi,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!_}),v=c&&f&&Wi(()=>D.isReadableStream(new i("").body)),k={stream:v&&(g=>g.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!k[g]&&(k[g]=(_,E)=>{let q=_&&_[g];if(q)return q.call(_);throw new le(`Response type '${g}' is not supported`,le.ERR_NOT_SUPPORT,E)})});const h=async g=>{if(g==null)return 0;if(D.isBlob(g))return g.size;if(D.isSpecCompliantForm(g))return(await new s(tt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(D.isArrayBufferView(g)||D.isArrayBuffer(g))return g.byteLength;if(D.isURLSearchParams(g)&&(g=g+""),D.isString(g))return(await p(g)).byteLength},x=async(g,_)=>{const E=D.toFiniteNumber(g.getContentLength());return E??h(_)};return async g=>{let{url:_,method:E,data:q,signal:y,cancelToken:O,timeout:C,onDownloadProgress:P,onUploadProgress:j,responseType:V,headers:W,withCredentials:R="same-origin",fetchOptions:U}=Ba(g),L=e||fetch;V=V?(V+"").toLowerCase():"text";let J=Gp([y,O&&O.toAbortSignal()],C),_e=null;const Fe=J&&J.unsubscribe&&(()=>{J.unsubscribe()});let He;try{if(j&&m&&E!=="get"&&E!=="head"&&(He=await x(W,q))!==0){let Ge=new s(_,{method:"POST",body:q,duplex:"half"}),We;if(D.isFormData(q)&&(We=Ge.headers.get("content-type"))&&W.setContentType(We),Ge.body){const[Be,Ve]=Ui(He,xs(Gi(j)));q=Ki(Ge.body,zi,Be,Ve)}}D.isString(R)||(R=R?"include":"omit");const Ne=a&&"credentials"in s.prototype,lt={...U,signal:J,method:E.toUpperCase(),headers:W.normalize().toJSON(),body:q,duplex:"half",credentials:Ne?R:void 0};_e=a&&new s(_,lt);let De=await(a?L(_e,U):L(_,lt));const N=v&&(V==="stream"||V==="response");if(v&&(P||N&&Fe)){const Ge={};["status","statusText","headers"].forEach(Ie=>{Ge[Ie]=De[Ie]});const We=D.toFiniteNumber(De.headers.get("content-length")),[Be,Ve]=P&&Ui(We,xs(Gi(P),!0))||[];De=new i(Ki(De.body,zi,Be,()=>{Ve&&Ve(),Fe&&Fe()}),Ge)}V=V||"text";let Je=await k[D.findKey(k,V)||"text"](De,g);return!N&&Fe&&Fe(),await new Promise((Ge,We)=>{ja(Ge,We,{data:Je,headers:dt.from(De.headers),status:De.status,statusText:De.statusText,config:g,request:_e})})}catch(Ne){throw Fe&&Fe(),Ne&&Ne.name==="TypeError"&&/Load failed|fetch/i.test(Ne.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,g,_e),{cause:Ne.cause||Ne}):le.from(Ne,Ne&&Ne.code,g,_e)}}},Wp=new Map,Ua=t=>{let e=t&&t.env||{};const{fetch:s,Request:i,Response:r}=e,a=[i,r,s];let c=a.length,f=c,p,m,v=Wp;for(;f--;)p=a[f],m=v.get(p),m===void 0&&v.set(p,m=f?new Map:Jp(e)),v=m;return m};Ua();const Mo={http:fp,xhr:Up,fetch:{get:Ua}};D.forEach(Mo,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Qi=t=>`- ${t}`,Qp=t=>D.isFunction(t)||t===null||t===!1;function Xp(t,e){t=D.isArray(t)?t:[t];const{length:s}=t;let i,r;const a={};for(let c=0;c<s;c++){i=t[c];let f;if(r=i,!Qp(i)&&(r=Mo[(f=String(i)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${f}'`);if(r&&(D.isFunction(r)||(r=r.get(e))))break;a[f||"#"+c]=r}if(!r){const c=Object.entries(a).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let f=s?c.length>1?`since :
`+c.map(Qi).join(`
`):" "+Qi(c[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return r}const Ga={getAdapter:Xp,adapters:Mo};function ko(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ln(null,t)}function Xi(t){return ko(t),t.headers=dt.from(t.headers),t.data=wo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ga.getAdapter(t.adapter||Zn.adapter,t)(t).then(function(i){return ko(t),i.data=wo.call(t,t.transformResponse,i),i.headers=dt.from(i.headers),i},function(i){return Ma(i)||(ko(t),i&&i.response&&(i.response.data=wo.call(t,t.transformResponse,i.response),i.response.headers=dt.from(i.response.headers))),Promise.reject(i)})}const Va="1.13.2",Ps={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ps[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Yi={};Ps.transitional=function(e,s,i){function r(a,c){return"[Axios v"+Va+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,f)=>{if(e===!1)throw new le(r(c," has been removed"+(s?" in "+s:"")),le.ERR_DEPRECATED);return s&&!Yi[c]&&(Yi[c]=!0,console.warn(r(c," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(a,c,f):!0}};Ps.spelling=function(e){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Yp(t,e,s){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const a=i[r],c=e[a];if(c){const f=t[a],p=f===void 0||c(f,a,t);if(p!==!0)throw new le("option "+a+" must be "+p,le.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new le("Unknown option "+a,le.ERR_BAD_OPTION)}}const Es={assertOptions:Yp,validators:Ps},Lt=Es.validators;let un=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Fi,response:new Fi}}async request(e,s){try{return await this._request(e,s)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=fn(this.defaults,s);const{transitional:i,paramsSerializer:r,headers:a}=s;i!==void 0&&Es.assertOptions(i,{silentJSONParsing:Lt.transitional(Lt.boolean),forcedJSONParsing:Lt.transitional(Lt.boolean),clarifyTimeoutError:Lt.transitional(Lt.boolean)},!1),r!=null&&(D.isFunction(r)?s.paramsSerializer={serialize:r}:Es.assertOptions(r,{encode:Lt.function,serialize:Lt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Es.assertOptions(s,{baseUrl:Lt.spelling("baseURL"),withXsrfToken:Lt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=a&&D.merge(a.common,a[s.method]);a&&D.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),s.headers=dt.concat(c,a);const f=[];let p=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(p=p&&_.synchronous,f.unshift(_.fulfilled,_.rejected))});const m=[];this.interceptors.response.forEach(function(_){m.push(_.fulfilled,_.rejected)});let v,k=0,h;if(!p){const g=[Xi.bind(this),void 0];for(g.unshift(...f),g.push(...m),h=g.length,v=Promise.resolve(s);k<h;)v=v.then(g[k++],g[k++]);return v}h=f.length;let x=s;for(;k<h;){const g=f[k++],_=f[k++];try{x=g(x)}catch(E){_.call(this,E);break}}try{v=Xi.call(this,x)}catch(g){return Promise.reject(g)}for(k=0,h=m.length;k<h;)v=v.then(m[k++],m[k++]);return v}getUri(e){e=fn(this.defaults,e);const s=Fa(e.baseURL,e.url,e.allowAbsoluteUrls);return Oa(s,e.params,e.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(e){un.prototype[e]=function(s,i){return this.request(fn(i||{},{method:e,url:s,data:(i||{}).data}))}});D.forEach(["post","put","patch"],function(e){function s(i){return function(a,c,f){return this.request(fn(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}un.prototype[e]=s(),un.prototype[e+"Form"]=s(!0)});let Zp=class Ka{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const c=new Promise(f=>{i.subscribe(f),a=f}).then(r);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,f){i.reason||(i.reason=new Ln(a,c,f),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=i=>{e.abort(i)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new Ka(function(r){e=r}),cancel:e}}};function eh(t){return function(s){return t.apply(null,s)}}function th(t){return D.isObject(t)&&t.isAxiosError===!0}const Do={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Do).forEach(([t,e])=>{Do[e]=t});function za(t){const e=new un(t),s=Ea(un.prototype.request,e);return D.extend(s,un.prototype,e,{allOwnKeys:!0}),D.extend(s,e,null,{allOwnKeys:!0}),s.create=function(r){return za(fn(t,r))},s}const je=za(Zn);je.Axios=un;je.CanceledError=Ln;je.CancelToken=Zp;je.isCancel=Ma;je.VERSION=Va;je.toFormData=Rs;je.AxiosError=le;je.Cancel=je.CanceledError;je.all=function(e){return Promise.all(e)};je.spread=eh;je.isAxiosError=th;je.mergeConfig=fn;je.AxiosHeaders=dt;je.formToJSON=t=>La(D.isHTMLForm(t)?new FormData(t):t);je.getAdapter=Ga.getAdapter;je.HttpStatusCode=Do;je.default=je;const{Axios:Yy,AxiosError:Zy,CanceledError:e1,isCancel:t1,CancelToken:n1,VERSION:s1,all:o1,Cancel:r1,isAxiosError:i1,spread:a1,toFormData:l1,AxiosHeaders:c1,HttpStatusCode:u1,formToJSON:d1,getAdapter:f1,mergeConfig:p1}=je,_t=je.create({timeout:1e12,withCredentials:!0});_t.interceptors.response.use(t=>t.data,t=>Promise.reject(t));_t.interceptors.request.use(t=>{const e=document.cookie.match(/csrftoken=([^;]+)/)?.[1];return e&&(t.headers["X-CSRFToken"]=e),t},t=>Promise.reject(t));const Ze=[];for(let t=0;t<256;++t)Ze.push((t+256).toString(16).slice(1));function nh(t,e=0){return(Ze[t[e+0]]+Ze[t[e+1]]+Ze[t[e+2]]+Ze[t[e+3]]+"-"+Ze[t[e+4]]+Ze[t[e+5]]+"-"+Ze[t[e+6]]+Ze[t[e+7]]+"-"+Ze[t[e+8]]+Ze[t[e+9]]+"-"+Ze[t[e+10]]+Ze[t[e+11]]+Ze[t[e+12]]+Ze[t[e+13]]+Ze[t[e+14]]+Ze[t[e+15]]).toLowerCase()}let Eo;const sh=new Uint8Array(16);function oh(){if(!Eo){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Eo=crypto.getRandomValues.bind(crypto)}return Eo(sh)}const rh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zi={randomUUID:rh};function ih(t,e,s){t=t||{};const i=t.random??t.rng?.()??oh();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){if(s=s||0,s<0||s+16>e.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let r=0;r<16;++r)e[s+r]=i[r];return e}return nh(i)}function Ha(t,e,s){return Zi.randomUUID&&!e&&!t?Zi.randomUUID():ih(t,e,s)}const ah={name:"IdSearchView",inject:["showLoading","hideLoading"],data(){return{geneIds:"",fileName:"",errorMessage:""}},methods:{loadExample(){this.geneIds=`Ghir_A01G000040.1
Ghir_A01G000060
Ghir_A01G000290.1
Ghir_A01G000120.2`,this.errorMessage=""},reset(){this.geneIds="",this.fileName="",this.errorMessage="";const t=document.getElementById("fileInput");t&&(t.value="")},handleFileSelect(t){const e=t.target.files[0];if(e){const s=new FileReader;s.onload=i=>{try{const r=i.target.result;this.geneIds=r.trim(),this.fileName=e.name,console.log("已从文件中读取基因ID:",this.geneIds)}catch(r){this.errorMessage="文件读取失败: "+r.message,console.error("文件读取错误:",r)}},s.onerror=()=>{this.errorMessage="文件读取错误",console.error("文件读取器错误")},s.readAsText(e)}else this.geneIds="",this.fileName="";t.target.value=""},async handleSubmit(){this.errorMessage="",this.showLoading();try{if(!this.geneIds||!this.geneIds.trim())throw new Error("请输入或上传基因ID");const t=Ha();console.log("Request ID:",t);const e=`gene_ids=${encodeURIComponent(this.geneIds)}&request_id=${encodeURIComponent(t)}`;console.log("formDataString:",e);const s=await _t.post("/tools/id-search/api/id-search-form/",e,{headers:{"Content-Type":"application/x-www-form-urlencoded","X-Request-ID":t}});if(!s)throw new Error("无效的响应数据");const i=s;if(i.status!=="success")throw new Error(i.error||"搜索失败");if(!i.query_ids||!Array.isArray(i.query_ids))throw new Error("无效的查询ID数据");if(console.log("查询ID:",i.query_ids[0]),console.log("查询ID数量:",i.query_ids.length),i.query_ids.length===1)this.$router.push({path:"/tools/id-search/results/",query:{id:i.query_ids[0],request_id:t}});else if(i.query_ids.length>1)this.$router.push({path:"/tools/id-search/id-search-summary/",query:{id:i.query_ids.join(","),request_id:t}});else throw new Error("没有找到匹配的基因ID")}catch(t){console.error("搜索错误详情:",t),console.error("错误类型:",typeof t),console.error("错误堆栈:",t.stack),console.error("错误响应:",t.response),this.errorMessage=t.response?.data?.error||t.message||"未知搜索错误",console.error("搜索错误:",this.errorMessage)}finally{this.hideLoading()}}}},lh={class:"container mt-4"},ch={class:"text-left"},uh={class:"card-body"},dh={class:"form-group"},fh={class:"mb-4"},ph={class:"mb-4"},hh={class:"input-group"},mh={class:"input-group-text"},gh={key:0,class:"alert alert-danger mt-3"};function _h(t,e,s,i,r,a){return b(),w("div",lh,[e[10]||(e[10]=o("h1",null,"Search by ID",-1)),o("div",ch,[o("div",uh,[o("form",{onSubmit:e[4]||(e[4]=pe((...c)=>a.handleSubmit&&a.handleSubmit(...c),["prevent"]))},[o("div",dh,[o("div",fh,[e[5]||(e[5]=o("label",{for:"geneIdInput",class:"form-label"},"Input Gene IDs",-1)),we(o("textarea",{class:"form-control",id:"geneIdInput",rows:"6",placeholder:"","onUpdate:modelValue":e[0]||(e[0]=c=>r.geneIds=c),ref:"gene_ids"},null,512),[[Ye,r.geneIds]]),o("button",{type:"button",class:"btn btn-info mt-2 mr-3",onClick:e[1]||(e[1]=(...c)=>a.loadExample&&a.loadExample(...c))},"load example"),o("button",{type:"button",class:"btn btn-secondary mt-2",onClick:e[2]||(e[2]=(...c)=>a.reset&&a.reset(...c))},"Reset"),e[6]||(e[6]=o("p",{class:"text-muted mt-1"},"one gene ID per line",-1))]),o("div",ph,[e[7]||(e[7]=o("label",{class:"form-label"},"select file",-1)),o("div",hh,[o("input",{type:"file",class:"form-control",id:"fileInput",accept:".txt,.csv,.xls,.xlsx",onChange:e[3]||(e[3]=(...c)=>a.handleFileSelect&&a.handleFileSelect(...c))},null,32),o("span",mh,$(r.fileName||"未选择文件"),1)]),e[8]||(e[8]=o("p",{class:"text-muted mt-1"},"support .txt or .csv file",-1))]),e[9]||(e[9]=o("div",{class:"d-flex gap-2"},[o("button",{type:"submit",class:"btn btn-primary"}," Search ")],-1))])],32),r.errorMessage?(b(),w("div",gh,$(r.errorMessage),1)):z("",!0)])])])}const vh=Pe(ah,[["render",_h]]),bh={class:"sequence-display-component"},yh={key:0,class:"d-flex flex-wrap gap-3 mb-4"},wh={class:"text-center flex-shrink-0"},kh={class:"text-center flex-shrink-0"},Eh={class:"text-center flex-shrink-0"},Ah={class:"text-center flex-shrink-0"},xh={class:"text-center flex-shrink-0"},Sh={class:"text-center flex-shrink-0"},Ch={class:"text-center flex-shrink-0"},Th={key:1,class:"mb-4 d-flex justify-content-start"},qh={class:"d-flex gap-3 align-items-end w-25"},$h={class:"flex-shrink-0 flex-grow-1"},Dh=["value"],Rh={class:"flex-shrink-0 flex-grow-1"},Ph=["value"],Ih={key:2},Oh={key:0,class:"mt-6"},Nh={class:"d-flex justify-content-between align-items-center mb-3"},Lh=["onClick"],Mh=["onClick"],jh={class:"bg-light p-4 rounded overflow-y-auto",style:{"max-height":"300px","white-space":"pre-wrap","font-family":"monospace","text-align":"left"}},Fh={key:0},Bh={__name:"SequenceDisplay",props:{displayMode:{type:String,default:"buttons",validator:t=>["buttons","full"].includes(t)},gene_seq:String,mrna_seq:String,upstream_seq:String,downstream_seq:String,cdna_seq:String,cds_seq:String,protein_seq:String,gene_id:String,currentTranscript:{type:Object,default:null},mrna_transcripts:{type:Array,default:()=>[]},results:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},upstreamLength:{type:Number,default:1e4},downstreamLength:{type:Number,default:1e4}},emits:["show-sequence","download-all","copy-all"],setup(t,{emit:e}){const s=t,i=e,r=[{key:"genomic",title:"基因组序列"},{key:"mrna",title:"mRNA序列"},{key:"upstream",title:"上游序列"},{key:"downstream",title:"下游序列"},{key:"cdna",title:"cDNA序列"},{key:"cds",title:"CDS序列"},{key:"protein",title:"蛋白序列"}],a=B(!0),c=B(s.upstreamLength),f=B(s.downstreamLength),p=[500,1e3,2e3,3e3,4e3,5e3,1e4];dn([c,f],()=>{s.displayMode==="full"&&(a.value=!1,setTimeout(()=>{a.value=!0},0))});const m=()=>{a.value=!a.value},v=g=>{let _=!1;g==="genomic"?_=s.gene_seq&&s.gene_seq!==""&&s.gene_seq!=="N/A":g==="mrna"?_=s.mrna_seq&&s.mrna_seq!==""&&s.mrna_seq!=="N/A":g==="upstream"?_=s.upstream_seq&&s.upstream_seq!==""&&s.upstream_seq!=="N/A":g==="downstream"?_=s.downstream_seq&&s.downstream_seq!==""&&s.downstream_seq!=="N/A":g==="cdna"?_=s.cdna_seq&&s.cdna_seq!==""&&s.cdna_seq!=="N/A"&&s.cdna_seq!=="unavailable":g==="cds"?_=s.cds_seq&&s.cds_seq!=="N/A"&&s.cds_seq!=="未找到CDS序列":g==="protein"&&(_=s.protein_seq&&s.protein_seq!=="N/A"&&s.protein_seq!=="未找到蛋白序列");let E=!1;s.currentTranscript&&(g==="mrna"?E=s.currentTranscript.mrna_seq&&s.currentTranscript.mrna_seq!=="N/A":g==="upstream"?E=s.currentTranscript.upstream_seq&&s.currentTranscript.upstream_seq!=="N/A":g==="downstream"?E=s.currentTranscript.downstream_seq&&s.currentTranscript.downstream_seq!=="N/A":g==="cdna"?E=s.currentTranscript.cdna_seq&&s.currentTranscript.cdna_seq!=="N/A"&&s.currentTranscript.cdna_seq!=="unavailable":g==="cds"?E=s.currentTranscript.cds_seq&&s.currentTranscript.cds_seq!=="N/A"&&s.currentTranscript.cds_seq!=="未找到CDS序列":g==="protein"&&(E=s.currentTranscript.protein_seq&&s.currentTranscript.protein_seq!=="N/A"&&s.currentTranscript.protein_seq!=="未找到蛋白序列"));let q=!1;return s.results&&s.results.length>0&&(q=s.results.some(y=>g==="genomic"?y.gene_seq&&y.gene_seq!==""&&y.gene_seq!=="N/A":g==="mrna"?y.mrna_seq&&y.mrna_seq!==""&&y.mrna_seq!=="N/A":g==="upstream"?y.upstream_seq&&y.upstream_seq!==""&&y.upstream_seq!=="N/A":g==="downstream"?y.downstream_seq&&y.downstream_seq!==""&&y.downstream_seq!=="N/A":g==="cdna"?y.cdna_seq&&y.cdna_seq!==""&&y.cdna_seq!=="N/A"&&y.cdna_seq!=="unavailable":g==="cds"?y.cds_seq&&y.cds_seq!=="N/A"&&y.cds_seq!=="未找到CDS序列":g==="protein"?y.protein_seq&&y.protein_seq!=="N/A"&&y.protein_seq!=="未找到蛋白序列":!1)),_||E||q},k=g=>{if(s.currentTranscript){if(g==="mrna")return s.currentTranscript.mrna_seq;if(g==="upstream")return s.currentTranscript.upstream_seq?s.currentTranscript.upstream_seq.slice(0,c.value):"";if(g==="downstream")return s.currentTranscript.downstream_seq?s.currentTranscript.downstream_seq.slice(0,f.value):"";if(g==="cdna")return s.currentTranscript.cdna_seq;if(g==="cds")return s.currentTranscript.cds_seq;if(g==="protein")return s.currentTranscript.protein_seq}if(g==="genomic")return s.gene_seq;if(g==="mrna")return s.mrna_seq;if(g==="upstream")return s.upstream_seq?s.upstream_seq.slice(0,c.value):"";if(g==="downstream")return s.downstream_seq?s.downstream_seq.slice(0,f.value):"";if(g==="cdna")return s.cdna_seq;if(g==="cds")return s.cds_seq;if(g==="protein")return s.protein_seq;if(s.results&&s.results.length>0){const _=s.results[0];if(g==="genomic")return _.gene_seq;if(g==="mrna")return _.mrna_seq;if(g==="upstream")return _.upstream_seq?_.upstream_seq.slice(0,c.value):"";if(g==="downstream")return _.downstream_seq?_.downstream_seq.slice(0,f.value):"";if(g==="cdna")return _.cdna_seq;if(g==="cds")return _.cds_seq;if(g==="protein")return _.protein_seq}return""},h=()=>s.results&&s.results.length>0?s.results[0].IDs||s.results[0].gene_id||"":s.currentTranscript?s.currentTranscript.id||s.currentTranscript.gene_id||"":s.gene_id?s.gene_id:"",x=(g,_,E,q)=>{let y="";const O=h();if(!s.results||s.results.length===0)if(g==="genomic"&&s.gene_seq&&s.gene_seq!=="N/A"&&(y+=`>${O} ${g}
${s.gene_seq}

`),s.mrna_transcripts&&s.mrna_transcripts.length>0)s.mrna_transcripts.forEach((P,j)=>{let V="",W="";if(g==="mrna"?V=P.mrna_seq:g==="upstream"?(V=P.upstream_seq?P.upstream_seq.slice(0,c.value):"",W=` (${c.value}bp)`):g==="downstream"?(V=P.downstream_seq?P.downstream_seq.slice(0,f.value):"",W=` (${f.value}bp)`):g==="cdna"?V=P.cdna_seq:g==="cds"?V=P.cds_seq:g==="protein"&&(V=P.protein_seq),V&&V!=="N/A"&&V!==""&&V!=="unavailable"&&V!=="未找到CDS序列"&&V!=="未找到蛋白序列"){const R=P.id||`transcript_${j+1}`;y+=`>${R} ${g}${W} (基因: ${O})
${V}

`}});else{let P="",j="";if(s.currentTranscript?g==="mrna"?P=s.currentTranscript.mrna_seq:g==="upstream"?(P=s.currentTranscript.upstream_seq?s.currentTranscript.upstream_seq.slice(0,c.value):"",j=` (${c.value}bp)`):g==="downstream"?(P=s.currentTranscript.downstream_seq?s.currentTranscript.downstream_seq.slice(0,f.value):"",j=` (${f.value}bp)`):g==="cdna"?P=s.currentTranscript.cdna_seq:g==="cds"?P=s.currentTranscript.cds_seq:g==="protein"&&(P=s.currentTranscript.protein_seq):g==="mrna"?P=s.mrna_seq:g==="upstream"?(P=s.upstream_seq?s.upstream_seq.slice(0,c.value):"",j=` (${c.value}bp)`):g==="downstream"?(P=s.downstream_seq?s.downstream_seq.slice(0,f.value):"",j=` (${f.value}bp)`):g==="cdna"?P=s.cdna_seq:g==="cds"?P=s.cds_seq:g==="protein"&&(P=s.protein_seq),P&&P!=="N/A"&&P!==""&&P!=="unavailable"&&P!=="未找到CDS序列"&&P!=="未找到蛋白序列"){const V=s.currentTranscript?s.currentTranscript.id:"";V?y+=`>${V} ${g}${j} (基因: ${O})
${P}

`:y+=`>${O} ${g}${j}
${P}

`}}else s.results.forEach(C=>{const P=C.IDs||"";if(g==="genomic"&&C.gene_seq&&C.gene_seq!==""&&C.gene_seq!=="N/A"&&(y+=`>${P} ${g}
${C.gene_seq}

`),g==="mrna"&&(C.mrna_seq&&C.mrna_seq!==""&&C.mrna_seq!=="N/A"&&(y+=`>${P} ${g}
${C.mrna_seq}

`),C.mrna_transcripts&&C.mrna_transcripts.length>0&&C.mrna_transcripts.forEach((j,V)=>{j.mrna_seq&&j.mrna_seq!=="N/A"&&(y+=`>${j.id} ${g} (基因: ${P})
${j.mrna_seq}

`)})),g==="upstream"){if(C.upstream_seq&&C.upstream_seq!==""&&C.upstream_seq!=="N/A"){const j=C.upstream_seq.slice(0,c.value);y+=`>${P} ${g} (${c.value}bp)
${j}

`}C.mrna_transcripts&&C.mrna_transcripts.length>0&&C.mrna_transcripts.forEach((j,V)=>{j.upstream_seq&&j.upstream_seq!=="N/A"&&(y+=`>${j.id} ${g} (基因: ${P}, ${c.value}bp)
${j.upstream_seq.slice(0,c.value)}

`)})}if(g==="downstream"){if(C.downstream_seq&&C.downstream_seq!==""&&C.downstream_seq!=="N/A"){const j=C.downstream_seq.slice(0,f.value);y+=`>${P} ${g} (${f.value}bp)
${j}

`}C.mrna_transcripts&&C.mrna_transcripts.length>0&&C.mrna_transcripts.forEach((j,V)=>{j.downstream_seq&&j.downstream_seq!=="N/A"&&(y+=`>${j.id} ${g} (基因: ${P}, ${f.value}bp)
${j.downstream_seq.slice(0,f.value)}

`)})}g==="cdna"&&(C.cdna_seq&&C.cdna_seq!==""&&C.cdna_seq!=="N/A"&&C.cdna_seq!=="unavailable"&&(y+=`>${P} ${g}
${C.cdna_seq}

`),C.mrna_transcripts&&C.mrna_transcripts.length>0&&C.mrna_transcripts.forEach((j,V)=>{j.cdna_seq&&j.cdna_seq!=="N/A"&&j.cdna_seq!=="unavailable"&&(y+=`>${j.id} ${g} (基因: ${P})
${j.cdna_seq}

`)})),g==="cds"&&(C.cds_seq&&C.cds_seq!=="N/A"&&C.cds_seq!=="未找到CDS序列"&&(y+=`>${P} ${g}
${C.cds_seq}

`),C.mrna_transcripts&&C.mrna_transcripts.length>0&&C.mrna_transcripts.forEach((j,V)=>{j.cds_seq&&j.cds_seq!=="N/A"&&j.cds_seq!=="未找到CDS序列"&&(y+=`>${j.id} ${g} (基因: ${P})
${j.cds_seq}

`)})),g==="protein"&&(C.protein_seq&&C.protein_seq!=="N/A"&&C.protein_seq!=="未找到蛋白序列"&&(y+=`>${P} ${g}
${C.protein_seq}

`),C.mrna_transcripts&&C.mrna_transcripts.length>0&&C.mrna_transcripts.forEach((j,V)=>{j.protein_seq&&j.protein_seq!=="N/A"&&j.protein_seq!=="未找到蛋白序列"&&(y+=`>${j.id} ${g} (基因: ${P})
${j.protein_seq}

`)}))});i("show-sequence",{type:g,title:_,content:y,id:s.results&&s.results.length>1?"multiple_genes":O})};return(g,_)=>(b(),w("div",bh,[t.displayMode==="buttons"||t.displayMode==="full"?(b(),w("div",yh,[o("div",wh,[_[9]||(_[9]=o("h4",{class:"h6 mb-2"},"Genomic",-1)),o("button",{class:"btn btn-sm btn-info",onClick:_[0]||(_[0]=E=>x("genomic","Genomic Sequence",k("genomic"),h()))},$((v("genomic"),"Show Sequence")),1)]),o("div",kh,[_[10]||(_[10]=o("h4",{class:"h6 mb-2"},"mRNA",-1)),o("button",{class:"btn btn-sm btn-info",onClick:_[1]||(_[1]=E=>x("mrna","mRNA Sequence",k("mrna"),h()))},$((v("mrna"),"Show Sequence")),1)]),o("div",Eh,[_[11]||(_[11]=o("h4",{class:"h6 mb-2"},"Upstream",-1)),o("button",{class:"btn btn-sm btn-info",onClick:_[2]||(_[2]=E=>x("upstream","Upstream Sequence",k("upstream"),h()))},$((v("upstream"),"Show Sequence")),1)]),o("div",Ah,[_[12]||(_[12]=o("h4",{class:"h6 mb-2"},"Downstream",-1)),o("button",{class:"btn btn-sm btn-info",onClick:_[3]||(_[3]=E=>x("downstream","Downstream Sequence",k("downstream"),h()))},$((v("downstream"),"Show Sequence")),1)]),o("div",xh,[_[13]||(_[13]=o("h4",{class:"h6 mb-2"},"cDNA",-1)),o("button",{class:"btn btn-sm btn-info",onClick:_[4]||(_[4]=E=>x("cdna","cDNA Sequence",k("cdna"),h()))},$((v("cdna"),"Show Sequence")),1)]),o("div",Sh,[_[14]||(_[14]=o("h4",{class:"h6 mb-2"},"CDS",-1)),o("button",{class:"btn btn-sm btn-info",onClick:_[5]||(_[5]=E=>x("cds","CDS Sequence",k("cds"),h()))},$((v("cds"),"Show Sequence")),1)]),o("div",Ch,[_[15]||(_[15]=o("h4",{class:"h6 mb-2"},"Protein",-1)),o("button",{class:"btn btn-sm btn-info",onClick:_[6]||(_[6]=E=>x("protein","Protein Sequence",k("protein"),h()))},$((v("protein"),"Show Sequence")),1)])])):z("",!0),t.displayMode==="buttons"||t.displayMode==="full"?(b(),w("div",Th,[o("div",qh,[o("div",$h,[_[16]||(_[16]=o("label",{for:"upstreamLengthSelect",class:"form-label form-label-sm text-center"},"Upstream",-1)),we(o("select",{class:"form-select form-select-sm",id:"upstreamLengthSelect","onUpdate:modelValue":_[7]||(_[7]=E=>c.value=E)},[(b(),w(te,null,ve(p,E=>o("option",{key:E,value:E},$(E),9,Dh)),64))],512),[[St,c.value,void 0,{number:!0}]])]),o("div",Rh,[_[17]||(_[17]=o("label",{for:"downstreamLengthSelect",class:"form-label form-label-sm text-center"},"Downstream",-1)),we(o("select",{class:"form-select form-select-sm",id:"downstreamLengthSelect","onUpdate:modelValue":_[8]||(_[8]=E=>f.value=E)},[(b(),w(te,null,ve(p,E=>o("option",{key:E,value:E},$(E),9,Ph)),64))],512),[[St,f.value,void 0,{number:!0}]])])])])):z("",!0),t.displayMode==="full"?(b(),w("div",Ih,[o("button",{class:"btn btn-sm btn-secondary mb-3",onClick:m},$(a.value?"隐藏序列":"显示序列"),1),a.value?(b(),w("div",Oh,[(b(),w(te,null,ve(r,(E,q)=>o("div",{key:q,class:"mb-6"},[o("div",Nh,[o("h4",null,$(E.title),1),o("div",null,[o("button",{class:"btn btn-sm btn-primary me-2",onClick:y=>g.$emit("download-all",E.key)},"下载全部",8,Lh),o("button",{class:"btn btn-sm btn-secondary",onClick:y=>g.$emit("copy-all",E.key)},"复制全部",8,Mh)])]),o("div",jh,[(b(!0),w(te,null,ve(t.results,(y,O)=>(b(),w(te,{key:`${E.key}-${O}`},[E.key==="genomic"&&y.gene_seq&&y.gene_seq!=="N/A"?(b(),w(te,{key:0},[ne(" >"+$(y.IDs||`基因 ${O+1}`)+" genomic ",1),_[18]||(_[18]=o("br",null,null,-1)),ne($(y.gene_seq)+" ",1),_[19]||(_[19]=o("br",null,null,-1)),_[20]||(_[20]=o("br",null,null,-1))],64)):z("",!0),E.key==="mrna"?(b(),w(te,{key:1},[y.mrna_transcripts&&y.mrna_transcripts.length>0?(b(!0),w(te,{key:0},ve(y.mrna_transcripts,(C,P)=>(b(),w(te,{key:`${y.IDs}-${P}`},[C.mrna_seq&&C.mrna_seq!=="N/A"?(b(),w(te,{key:0},[ne(" >"+$(y.IDs||`基因 ${O+1}`)+" mrna (转录本 "+$(P+1)+": "+$(C.id)+") ",1),_[21]||(_[21]=o("br",null,null,-1)),ne($(C.mrna_seq)+" ",1),_[22]||(_[22]=o("br",null,null,-1)),_[23]||(_[23]=o("br",null,null,-1))],64)):z("",!0)],64))),128)):z("",!0)],64)):E.key==="upstream"?(b(),w(te,{key:2},[y.mrna_transcripts&&y.mrna_transcripts.length>0?(b(!0),w(te,{key:0},ve(y.mrna_transcripts,(C,P)=>(b(),w(te,{key:`${y.IDs}-${P}`},[C.upstream_seq&&C.upstream_seq!=="N/A"?(b(),w(te,{key:0},[ne(" >"+$(y.IDs||`基因 ${O+1}`)+" upstream (转录本 "+$(P+1)+": "+$(C.id)+", "+$(c.value)+"bp) ",1),_[24]||(_[24]=o("br",null,null,-1)),ne($(C.upstream_seq.slice(0,c.value))+" ",1),_[25]||(_[25]=o("br",null,null,-1)),_[26]||(_[26]=o("br",null,null,-1))],64)):z("",!0)],64))),128)):z("",!0)],64)):E.key==="downstream"?(b(),w(te,{key:3},[y.mrna_transcripts&&y.mrna_transcripts.length>0?(b(!0),w(te,{key:0},ve(y.mrna_transcripts,(C,P)=>(b(),w(te,{key:`${y.IDs}-${P}`},[C.downstream_seq&&C.downstream_seq!=="N/A"?(b(),w(te,{key:0},[ne(" >"+$(y.IDs||`基因 ${O+1}`)+" downstream (转录本 "+$(P+1)+": "+$(C.id)+", "+$(f.value)+"bp) ",1),_[27]||(_[27]=o("br",null,null,-1)),ne($(C.downstream_seq.slice(0,f.value))+" ",1),_[28]||(_[28]=o("br",null,null,-1)),_[29]||(_[29]=o("br",null,null,-1))],64)):z("",!0)],64))),128)):z("",!0)],64)):E.key==="cdna"?(b(),w(te,{key:4},[y.mrna_transcripts&&y.mrna_transcripts.length>0?(b(!0),w(te,{key:0},ve(y.mrna_transcripts,(C,P)=>(b(),w(te,{key:`${y.IDs}-${P}`},[C.cdna_seq&&C.cdna_seq!=="N/A"&&C.cdna_seq!=="unavailable"?(b(),w(te,{key:0},[ne(" >"+$(y.IDs||`基因 ${O+1}`)+" cdna (转录本 "+$(P+1)+": "+$(C.id)+") ",1),_[30]||(_[30]=o("br",null,null,-1)),ne($(C.cdna_seq)+" ",1),_[31]||(_[31]=o("br",null,null,-1)),_[32]||(_[32]=o("br",null,null,-1))],64)):z("",!0)],64))),128)):z("",!0)],64)):E.key==="cds"?(b(),w(te,{key:5},[y.mrna_transcripts&&y.mrna_transcripts.length>0?(b(!0),w(te,{key:0},ve(y.mrna_transcripts,(C,P)=>(b(),w(te,{key:`${y.IDs}-${P}`},[C.cds_seq&&C.cds_seq!=="N/A"&&C.cds_seq!=="未找到CDS序列"?(b(),w(te,{key:0},[ne(" >"+$(y.IDs||`基因 ${O+1}`)+" cds (转录本 "+$(P+1)+": "+$(C.id)+") ",1),_[33]||(_[33]=o("br",null,null,-1)),ne($(C.cds_seq)+" ",1),_[34]||(_[34]=o("br",null,null,-1)),_[35]||(_[35]=o("br",null,null,-1))],64)):z("",!0)],64))),128)):z("",!0)],64)):E.key==="protein"?(b(),w(te,{key:6},[y.mrna_transcripts&&y.mrna_transcripts.length>0?(b(!0),w(te,{key:0},ve(y.mrna_transcripts,(C,P)=>(b(),w(te,{key:`${y.IDs}-${P}`},[C.protein_seq&&C.protein_seq!=="N/A"&&C.protein_seq!=="未找到蛋白序列"?(b(),w(te,{key:0},[ne(" >"+$(y.IDs||`基因 ${O+1}`)+" protein (转录本 "+$(P+1)+": "+$(C.id)+") ",1),_[36]||(_[36]=o("br",null,null,-1)),ne($(C.protein_seq)+" ",1),_[37]||(_[37]=o("br",null,null,-1)),_[38]||(_[38]=o("br",null,null,-1))],64)):z("",!0)],64))),128)):z("",!0)],64)):z("",!0)],64))),128)),v(E.key)?z("",!0):(b(),w("em",Fh,"该类型没有可用序列"))])])),64))])):z("",!0)])):z("",!0)]))}},Is=Pe(Bh,[["__scopeId","data-v-83221a69"]]),Uh={name:"IdSearchResultsView",components:{SequenceDisplay:Is},data(){return{result:null,hasFetched:!1,annotations:{},jbrowse_url:"",isLoading:!1,errorMessage:"",has_sequences:!1,sequenceCache:{},sequenceLoading:{},selectedTranscriptIndex:0,gffData:[],hasGffData:!1,currentPage:1,pageSize:10,showModal:!1,modalTitle:"",modalContent:"",currentSeqType:"",currentGeneId:"",svgWidth:800}},computed:{parsedGoAnnotations(){const t=this.annotations.GO_annotation||[],e=[];return t.forEach(s=>{s.replace(/;;+\s*$/,"").split(";; ").forEach(a=>{const c=a.match(/^(\w+\s+\w+):\s*([^\(]+)\s*\((GO:\d+)\)$/);c&&e.push({type:c[1],term:c[2].trim(),id:c[3]})})}),e},currentTranscript(){return!this.result||!this.result.mrna_transcripts||this.result.mrna_transcripts.length===0?null:this.result.mrna_transcripts[this.selectedTranscriptIndex]},hasMultipleTranscripts(){return this.result&&this.result.mrna_transcripts&&this.result.mrna_transcripts.length>1},currentPageGffData(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.gffData.slice(t,e)},currentTranscriptGffData(){if(!this.gffData||this.gffData.length===0)return[];console.log("currentTranscriptId:",this.currentTranscript);const t=this.currentTranscript?this.currentTranscript.id:this.result.IDs;return t?this.gffData.filter(e=>e.attributes?e.attributes.includes(t):!1).sort((e,s)=>(e.start||0)-(s.start||0)):[]},geneStart(){return!this.currentTranscriptGffData||this.currentTranscriptGffData.length===0?0:Math.min(...this.currentTranscriptGffData.map(t=>t.start||0))},geneEnd(){return!this.currentTranscriptGffData||this.currentTranscriptGffData.length===0?0:Math.max(...this.currentTranscriptGffData.map(t=>t.end||0))},geneLength(){return this.geneEnd-this.geneStart+1},scale(){return(this.svgWidth-40)/Math.max(this.geneLength,1)}},mounted(){const t=this.$route.query.id;t&&!this.hasFetched?(this.hasFetched=!0,this.fetchGeneData(t)):t||(this.errorMessage="未提供基因ID")},methods:{handlePageChange(){},handlePageSizeChange(){this.currentPage=1},async fetchGeneData(t){const e=setTimeout(()=>{this.isLoading=!0},300);this.errorMessage="",this.selectedTranscriptIndex=0;try{const s=new FormData;s.append("gene_ids",t);const i=await _t.post("/tools/id-search/api/id-search-form/",s);if(clearTimeout(e),i.status==="error"||i.status==="not_found")throw new Error(i.error||"基因信息不存在");if(i.results&&i.results.length>0)this.result=i.results[0],this.annotations=this.result.annotations||{},this.jbrowse_url=this.result.jbrowse_url||"",this.gffData=this.result.gff_data||[],this.gene_seq=this.result.gene_seq||"",console.log("后端返回的result数据:",this.result),this.has_sequences=!!(this.result.gene_seq||this.result.mrna_seq||this.result.cds_seq&&this.result.cds_seq!=="未找到CDS序列"||this.result.protein_seq&&this.result.protein_seq!=="未找到蛋白序列"||this.result.mrna_transcripts&&this.result.mrna_transcripts.length>0);else throw new Error("未找到基因信息");console.log("has_sequences:",this.has_sequences),this.hasGffData=this.gffData.length>0,this.currentPage=1}catch(s){clearTimeout(e),this.errorMessage=s.message,console.error("获取基因数据错误:",s)}finally{this.isLoading=!1}},switchTranscript(t){this.selectedTranscriptIndex=t},downloadCurrentTranscriptSequences(){if(!this.result||!this.currentTranscript){alert("无法获取基因序列数据");return}let t="";const e=this.currentGeneId||this.result.IDs,s=this.currentTranscript.id;if(this.result.gene_seq&&this.result.gene_seq!=="N/A"&&(t+=`>${e} genomic
${this.result.gene_seq}

`),this.currentTranscript.mrna_seq&&this.currentTranscript.mrna_seq!=="N/A"&&(t+=`>${s} mRNA
${this.currentTranscript.mrna_seq}

`),this.currentTranscript.upstream_seq&&this.currentTranscript.upstream_seq!=="N/A"&&(t+=`>${s} upstream
${this.currentTranscript.upstream_seq}

`),this.currentTranscript.downstream_seq&&this.currentTranscript.downstream_seq!=="N/A"&&(t+=`>${s} downstream
${this.currentTranscript.downstream_seq}

`),this.currentTranscript.cdna_seq&&this.currentTranscript.cdna_seq!=="N/A"&&this.currentTranscript.cdna_seq!=="unavailable"&&(t+=`>${s} cDNA
${this.currentTranscript.cdna_seq}

`),[{key:"cds_seq",type:"cds",label:"CDS Sequence"},{key:"protein_seq",type:"protein",label:"Protein Sequence"}].forEach(f=>{const p=this.currentTranscript[f.key];p&&p!=="N/A"&&p!=="unavailable"&&p!=="未找到CDS序列"&&p!=="未找到蛋白序列"&&(t+=`>${s} ${f.type}
${p}

`)}),!t){alert("没有找到可用的序列数据");return}const r=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(r),c=document.createElement("a");c.href=a,c.download=`${s}_all_sequences.fasta`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(a),this.showTemporaryMessage("当前转录本的所有序列已下载")},showSequenceModal(t,e,s,i){this.modalTitle=t,this.modalContent=e,this.currentSeqType=s,this.currentGeneId=i,this.showModal=!0},async handleShowSequence(t){const{type:e,title:s,content:i,id:r}=t,a=this.currentTranscript?.id||r,c=`${r}|${e}|${a}`;if(this.sequenceCache[c]){this.showSequenceModal(s,this.sequenceCache[c],e,r);return}if(!this.sequenceLoading[c]){this.sequenceLoading[c]=!0;try{let f="";if(i)f=i;else{const p=await _t.post("/tools/id-search/api/sequence/",{gene_id:r,transcript_id:a,type:e});console.log("序列懒传输成功:",p);const m=p.sequence||"未找到序列";if(m&&m!=="未找到序列"&&m!=="N/A"){const v=a,k=e==="upstream"||e==="downstream"?` (${e==="upstream"?this.upstreamLength:this.downstreamLength}bp)`:"";f=`>${v} ${e}${k}
${m}
`}else f=m}this.sequenceCache[c]=f,this.sequenceLoading[c]=!1,this.showSequenceModal(s,f,e,r)}catch{this.showSequenceModal(s,"序列加载失败",e,r),this.sequenceLoading[c]=!1}finally{this.sequenceLoading[c]=!1}}},closeModal(){this.showModal=!1},copySequence(t){const s=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${t}`;navigator.clipboard.writeText(s).then(()=>{this.showTemporaryMessage("序列已复制到剪贴板")}).catch(i=>{console.error("复制失败:",i),this.showTemporaryMessage("复制失败，请手动复制")})},showTemporaryMessage(t){const e=document.createElement("div");e.textContent=t,e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="4px",e.style.zIndex="9999",e.style.fontSize="16px",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",e.style.transition="opacity 2s ease-out",setTimeout(()=>{document.body.removeChild(e)},1500)},1500)},downloadFasta(){const e=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${this.modalContent}`,s=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(s),r=document.createElement("a");r.href=i,r.download=`${this.currentGeneId}_${this.currentSeqType}.fasta`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)},downloadAllSequences(){if(!this.result){alert("无法获取基因序列数据");return}let t="";const e=this.currentGeneId||this.result.IDs;if(this.result.gene_seq&&this.result.gene_seq!=="N/A"&&(t+=`>${e} genomic
${this.result.gene_seq}

`),this.hasMultipleTranscripts)this.result.mrna_transcripts.forEach(a=>{const c=a.id;a.mrna_seq&&a.mrna_seq!=="N/A"&&(t+=`>${c} mRNA
${a.mrna_seq}

`),a.upstream_seq&&a.upstream_seq!=="N/A"&&(t+=`>${c} upstream
${a.upstream_seq}

`),a.downstream_seq&&a.downstream_seq!=="N/A"&&(t+=`>${c} downstream
${a.downstream_seq}

`),a.cdna_seq&&a.cdna_seq!=="N/A"&&a.cdna_seq!=="unavailable"&&(t+=`>${c} cDNA
${a.cdna_seq}

`),a.cds_seq&&a.cds_seq!=="N/A"&&a.cds_seq!=="unavailable"&&a.cds_seq!=="未找到CDS序列"&&(t+=`>${c} cds
${a.cds_seq}

`),a.protein_seq&&a.protein_seq!=="N/A"&&a.protein_seq!=="unavailable"&&a.protein_seq!=="未找到蛋白序列"&&(t+=`>${c} protein
${a.protein_seq}

`)});else{const a=this.result.mrna_transcripts[0]||this.currentTranscript,c=a?.id||e;a?.mrna_seq&&a.mrna_seq!=="N/A"&&(t+=`>${c} mRNA
${a.mrna_seq}

`),a?.upstream_seq&&a.upstream_seq!=="N/A"&&(t+=`>${c} upstream
${a.upstream_seq}

`),a?.downstream_seq&&a.downstream_seq!=="N/A"&&(t+=`>${c} downstream
${a.downstream_seq}

`),a?.cdna_seq&&a.cdna_seq!=="N/A"&&a.cdna_seq!=="unavailable"&&(t+=`>${c} cDNA
${a.cdna_seq}

`),a?.cds_seq&&a.cds_seq!=="N/A"&&a.cds_seq!=="unavailable"&&a.cds_seq!=="未找到CDS序列"&&(t+=`>${c} cds
${a.cds_seq}

`),a?.protein_seq&&a.protein_seq!=="N/A"&&a.protein_seq!=="unavailable"&&a.protein_seq!=="未找到蛋白序列"&&(t+=`>${c} protein
${a.protein_seq}

`),this.result.cdna_seq&&this.result.cdna_seq!=="N/A"&&this.result.cdna_seq!=="unavailable"&&(!a||a.cdna_seq!==this.result.cdna_seq)&&(t+=`>${e} cDNA
${this.result.cdna_seq}

`)}if(!t){alert("没有找到可用的序列数据");return}const s=new Blob([t],{type:"text/plain"}),i=URL.createObjectURL(s),r=document.createElement("a");r.href=i,r.download=`${e}_all_sequences.fasta`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),this.showTemporaryMessage("All sequences have been downloaded"),setTimeout(()=>{this.closeModal()},500)},downloadGff(t){const e=this.currentGeneId||this.result.IDs;if(t==="txt"){let s="";this.gffData.forEach(c=>{const f=[c.seqid||"",c.source||"",c.type||"",c.start||"",c.end||"",c.score||"",c.strand||"",c.phase||"",c.attributes||""];s+=f.join("	")+`
`});const i=new Blob([s],{type:"text/plain"}),r=URL.createObjectURL(i),a=document.createElement("a");a.href=r,a.download=`${e}_gff.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),this.showTemporaryMessage("GFF数据已下载为TXT格式")}else if(t==="gff"){let s="";this.gffData.forEach(c=>{const f=[c.seqid||"",c.source||".",c.type||".",c.start||".",c.end||".",c.score||".",c.strand||".",c.phase||".",c.attributes||"."];s+=f.join("	")+`
`});const i=new Blob([s],{type:"text/plain"}),r=URL.createObjectURL(i),a=document.createElement("a");a.href=r,a.download=`${e}_gff.gff`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),this.showTemporaryMessage("GFF数据已下载为GFF格式")}},escapeCsvField(t){return typeof t!="string"&&(t=String(t)),t.includes(",")||t.includes('"')||t.includes(`
`)||t.includes("\r")?(t=t.replace(/"/g,'""'),`"${t}"`):t}}},Gh={class:"container mt-4"},Vh={key:0,class:"text-center py-5"},Kh={key:1,class:"alert alert-danger mt-3"},zh={key:2,class:"mt-4"},Hh={class:"card mb-4"},Jh={class:"card-body"},Wh={class:"table table-bordered"},Qh={class:"mb-4"},Xh={key:0,class:"mt-2"},Yh=["src"],Zh={key:1},em={key:0,class:"card mb-4"},tm={class:"card-body"},nm={key:0,class:"mb-4"},sm=["value"],om={key:1,class:"mb-4"},rm={class:"gene-structure-container"},im=["width"],am={x:"20",y:"20","font-size":"12","font-weight":"bold",fill:"#333"},lm={key:0},cm=["x","width"],um=["x","width"],dm=["x","width"],fm=["x1","x2"],pm=["x","width"],hm={key:0},mm=["points"],gm=["x"],_m={x:"20",y:"110","font-size":"10",fill:"#666"},vm=["x"],bm={class:"mb-3"},ym={key:1,class:"card mb-4"},wm={class:"card-body"},km={key:0,class:"mb-3"},Em={class:"table table-bordered"},Am={key:1,class:"mb-3"},xm={class:"list-group"},Sm={key:2,class:"mb-3"},Cm={class:"list-group"},Tm={key:3,class:"mb-3"},qm={class:"list-group"},$m={key:4,class:"mb-3"},Dm={class:"list-group"},Rm={key:5,class:"mb-3"},Pm={class:"list-group"},Im={key:2,class:"card mb-4"},Om={class:"card-header d-flex justify-content-between align-items-center"},Nm={class:"card-body"},Lm={class:"d-flex justify-content-between align-items-center mb-3"},Mm={class:"table-pagination"},jm={class:"d-flex justify-content-between align-items-center mt-3"},Fm={class:"table-info"},Bm={class:"mt-4"},Um={class:"modal-dialog",style:{"max-width":"50vw","max-height":"50vh",margin:"0",width:"auto"}},Gm={class:"modal-content",style:{height:"100%",display:"flex","flex-direction":"column"}},Vm={class:"modal-header"},Km={class:"modal-title"},zm={class:"modal-body",style:{flex:"1","overflow-y":"auto"}},Hm={class:"bg-light p-3 rounded",style:{"max-height":"calc(40vh - 100px)","overflow-y":"auto","white-space":"pre-wrap","word-break":"break-all"}},Jm={class:"modal-footer"};function Wm(t,e,s,i,r,a){const c=gt("router-link"),f=Is,p=ra,m=aa,v=la,k=ia;return b(),w("div",Gh,[e[38]||(e[38]=o("h1",null,"Search Results",-1)),r.isLoading?(b(),w("div",Vh,[...e[15]||(e[15]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"visually-hidden"},"loading...")],-1),o("p",{class:"mt-3"},"loading results...",-1)])])):r.errorMessage?(b(),w("div",Kh,[ne($(r.errorMessage)+" ",1),Z(c,{to:"/tools/id-search",class:"btn btn-primary btn-sm ml-2"},{default:me(()=>[...e[16]||(e[16]=[ne("new search",-1)])]),_:1})])):r.result?(b(),w("div",zh,[o("div",Hh,[e[22]||(e[22]=o("div",{class:"card-header"},[o("h2",null,"Gene Basic Information")],-1)),o("div",Jh,[o("table",Wh,[o("tbody",null,[o("tr",null,[e[17]||(e[17]=o("td",null,[o("strong",null,"Gene ID:")],-1)),o("td",null,$(r.result.IDs),1)]),o("tr",null,[e[18]||(e[18]=o("td",null,[o("strong",null,"Chromosome:")],-1)),o("td",null,$(r.result.seqid),1)]),o("tr",null,[e[19]||(e[19]=o("td",null,[o("strong",null,"Start Position:")],-1)),o("td",null,$(r.result.start),1)]),o("tr",null,[e[20]||(e[20]=o("td",null,[o("strong",null,"End Position:")],-1)),o("td",null,$(r.result.end),1)]),o("tr",null,[e[21]||(e[21]=o("td",null,[o("strong",null,"Strand:")],-1)),o("td",null,$(r.result.strand),1)])])])])]),o("div",Qh,[e[23]||(e[23]=o("strong",null,"JBrowse View:",-1)),r.jbrowse_url?(b(),w("div",Xh,[o("iframe",{src:r.jbrowse_url,style:{width:"100%",height:"400px",border:"1px solid #ddd","border-radius":"4px"}},null,8,Yh)])):(b(),w("div",Zh," JBrowse URL not available "))]),r.has_sequences?(b(),w("div",em,[e[27]||(e[27]=o("div",{class:"card-header"},[o("h2",null,"Sequence")],-1)),o("div",tm,[a.hasMultipleTranscripts?(b(),w("div",nm,[e[24]||(e[24]=o("h4",{class:"h6 mb-2"},"Transcript Selector",-1)),we(o("select",{class:"form-select w-auto","onUpdate:modelValue":e[0]||(e[0]=h=>r.selectedTranscriptIndex=h),onChange:e[1]||(e[1]=h=>a.switchTranscript(r.selectedTranscriptIndex))},[(b(!0),w(te,null,ve(r.result.mrna_transcripts,(h,x)=>(b(),w("option",{key:x,value:x},$(h.id)+" (Protein Length: "+$(h.protein_seq&&h.protein_seq!=="N/A"&&h.protein_seq!=="unavailable"&&h.protein_seq!=="未找到蛋白序列"?h.protein_seq.length:"N/A")+" aa) ",9,sm))),128))],544),[[St,r.selectedTranscriptIndex]])])):z("",!0),r.gffData.length>0?(b(),w("div",om,[e[26]||(e[26]=o("h4",{class:"h6 mb-2"},"Transcript Structure",-1)),o("div",rm,[(b(),w("svg",{width:r.svgWidth,height:"150",class:"gene-structure-svg"},[o("text",am,$(a.currentTranscript?a.currentTranscript.id:this.result.IDS),1),a.currentTranscriptGffData.length>0?(b(),w("g",lm,[(b(!0),w(te,null,ve(a.currentTranscriptGffData,(h,x)=>(b(),w("g",{key:"structure-"+x},[a.geneLength>0?(b(),w(te,{key:0},[h.type==="CDS"?(b(),w("rect",{key:0,x:20+(h.start-a.geneStart)*a.scale,y:"35",width:(h.end-h.start+1)*a.scale,height:"50",fill:"#34A853",stroke:"#227A3D","stroke-width":"1"},null,8,cm)):h.type==="five_prime_UTR"?(b(),w("rect",{key:1,x:20+(h.start-a.geneStart)*a.scale,y:"45",width:(h.end-h.start+1)*a.scale,height:"30",fill:"#FBBC05",stroke:"#F29900","stroke-width":"1"},null,8,um)):h.type==="three_prime_UTR"?(b(),w("rect",{key:2,x:20+(h.start-a.geneStart)*a.scale,y:"45",width:(h.end-h.start+1)*a.scale,height:"30",fill:"#EA4335",stroke:"#C5221F","stroke-width":"1"},null,8,dm)):z("",!0),x<a.currentTranscriptGffData.length-1?(b(),w("line",{key:3,x1:20+(h.end-a.geneStart)*a.scale,y1:"60",x2:20+(a.currentTranscriptGffData[x+1].start-a.geneStart)*a.scale,y2:"60",stroke:"#333","stroke-width":"2"},null,8,fm)):z("",!0),x<a.currentTranscriptGffData.length-1?(b(),w("rect",{key:4,x:20+(h.end-a.geneStart)*a.scale,y:"55",width:(a.currentTranscriptGffData[x+1].start-h.end-1)*a.scale,height:"10",fill:"#E0E0E0",stroke:"#BDBDBD","stroke-width":"1"},null,8,pm)):z("",!0)],64)):z("",!0)]))),128)),a.currentTranscriptGffData.length>0?(b(),w("g",hm,[a.geneLength>0?(b(),w(te,{key:0},[o("polygon",{points:[20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+10,50,20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+20,60,20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+10,70].join(","),fill:"#333"},null,8,mm),o("text",{x:20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+25,y:"65","font-size":"12",fill:"#333"}," Transcription Direction ",8,gm)],64)):z("",!0)])):z("",!0)])):z("",!0),o("text",_m,$(a.geneStart),1),o("text",{x:r.svgWidth-20,y:"110","font-size":"10",fill:"#666","text-anchor":"end"},$(a.geneEnd),9,vm),e[25]||(e[25]=Ss('<g transform="translate(20, 130)" data-v-19f8efd9><text font-size="11" font-weight="bold" fill="#333" data-v-19f8efd9>Legend:</text><g transform="translate(50, 0)" data-v-19f8efd9><rect x="0" y="-8" width="15" height="15" fill="#34A853" stroke="#227A3D" stroke-width="1" data-v-19f8efd9></rect><text x="20" y="5" font-size="10" fill="#333" data-v-19f8efd9>CDS</text></g><g transform="translate(120, 0)" data-v-19f8efd9><rect x="0" y="-8" width="15" height="15" fill="#FBBC05" stroke="#F29900" stroke-width="1" data-v-19f8efd9></rect><text x="20" y="5" font-size="10" fill="#333" data-v-19f8efd9>5&#39; UTR</text></g><g transform="translate(190, 0)" data-v-19f8efd9><rect x="0" y="-8" width="15" height="15" fill="#EA4335" stroke="#C5221F" stroke-width="1" data-v-19f8efd9></rect><text x="20" y="5" font-size="10" fill="#333" data-v-19f8efd9>3&#39; UTR</text></g><g transform="translate(260, 0)" data-v-19f8efd9><rect x="0" y="-3" width="30" height="5" fill="#E0E0E0" stroke="#BDBDBD" stroke-width="1" data-v-19f8efd9></rect><text x="35" y="5" font-size="10" fill="#333" data-v-19f8efd9>Intron</text></g></g>',1))],8,im))])])):z("",!0),Z(f,{"display-mode":"buttons",gene_seq:r.result.gene_seq,mrna_seq:r.result.mrna_seq,upstream_seq:r.result.upstream_seq,downstream_seq:r.result.downstream_seq,cdna_seq:r.result.cdna_seq,cds_seq:r.result.cds_seq,protein_seq:r.result.protein_seq,gene_id:r.result.IDs,"current-transcript":a.currentTranscript,loading:r.isLoading,onShowSequence:a.handleShowSequence},null,8,["gene_seq","mrna_seq","upstream_seq","downstream_seq","cdna_seq","cds_seq","protein_seq","gene_id","current-transcript","loading","onShowSequence"]),o("div",bm,[o("button",{class:"btn btn-success mr-2",onClick:e[2]||(e[2]=(...h)=>a.downloadAllSequences&&a.downloadAllSequences(...h))},"Download All Sequences"),a.hasMultipleTranscripts?(b(),w("button",{key:0,class:"btn btn-primary",onClick:e[3]||(e[3]=(...h)=>a.downloadCurrentTranscriptSequences&&a.downloadCurrentTranscriptSequences(...h))},"Download Current Transcript Sequences")):z("",!0)])])])):z("",!0),r.annotations&&Object.keys(r.annotations).length>0?(b(),w("div",ym,[e[35]||(e[35]=o("div",{class:"card-header"},[o("h2",null,"Annotations")],-1)),o("div",wm,[r.annotations.GO_annotation&&r.annotations.GO_annotation.length>0?(b(),w("div",km,[e[29]||(e[29]=o("h4",null,"GO Annotations",-1)),o("table",Em,[e[28]||(e[28]=o("thead",{class:"thead-light"},[o("tr",null,[o("th",null,"GO Type"),o("th",null,"Term"),o("th",null,"GO ID")])],-1)),o("tbody",null,[(b(!0),w(te,null,ve(a.parsedGoAnnotations,(h,x)=>(b(),w("tr",{key:x},[o("td",null,$(h.type),1),o("td",null,$(h.term),1),o("td",null,$(h.id),1)]))),128))])])])):z("",!0),r.annotations.KEGG_annotation&&r.annotations.KEGG_annotation.length>0?(b(),w("div",Am,[e[30]||(e[30]=o("h4",null,"KEGG Annotations",-1)),o("ul",xm,[(b(!0),w(te,null,ve(r.annotations.KEGG_annotation,(h,x)=>(b(),w("li",{key:x,class:"list-group-item"},$(h),1))),128))])])):z("",!0),r.annotations.Pfam_annotation&&r.annotations.Pfam_annotation.length>0?(b(),w("div",Sm,[e[31]||(e[31]=o("h4",null,"PFAM Annotations",-1)),o("ul",Cm,[(b(!0),w(te,null,ve(r.annotations.Pfam_annotation,(h,x)=>(b(),w("li",{key:x,class:"list-group-item"},$(h),1))),128))])])):z("",!0),r.annotations.TrEMBL_annotation&&r.annotations.TrEMBL_annotation.length>0?(b(),w("div",Tm,[e[32]||(e[32]=o("h4",null,"TrEMBL Annotations",-1)),o("ul",qm,[(b(!0),w(te,null,ve(r.annotations.TrEMBL_annotation,(h,x)=>(b(),w("li",{key:x,class:"list-group-item"},$(h),1))),128))])])):z("",!0),r.annotations.nr_annotation&&r.annotations.nr_annotation.length>0?(b(),w("div",$m,[e[33]||(e[33]=o("h4",null,"nr Annotations",-1)),o("ul",Dm,[(b(!0),w(te,null,ve(r.annotations.nr_annotation,(h,x)=>(b(),w("li",{key:x,class:"list-group-item"},$(h),1))),128))])])):z("",!0),r.annotations.Swissprot_annotation&&r.annotations.Swissprot_annotation.length>0?(b(),w("div",Rm,[e[34]||(e[34]=o("h4",null,"Swissprot Annotations",-1)),o("ul",Pm,[(b(!0),w(te,null,ve(r.annotations.Swissprot_annotation,(h,x)=>(b(),w("li",{key:x,class:"list-group-item"},$(h),1))),128))])])):z("",!0)])])):z("",!0),r.hasGffData?(b(),w("div",Im,[o("div",Om,[e[36]||(e[36]=o("h2",null,"GFF Data",-1)),o("div",null,[o("button",{class:"btn btn-sm btn-success mr-2",onClick:e[4]||(e[4]=h=>a.downloadGff("txt"))},"Download as TXT"),o("button",{class:"btn btn-sm btn-success",onClick:e[5]||(e[5]=h=>a.downloadGff("gff"))},"Download as GFF")])]),o("div",Nm,[o("div",Lm,[o("div",Mm,[Z(p,{"current-page":r.currentPage,"onUpdate:currentPage":e[6]||(e[6]=h=>r.currentPage=h),"page-size":r.pageSize,"onUpdate:pageSize":[e[7]||(e[7]=h=>r.pageSize=h),a.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"sizes",total:r.gffData.length,onCurrentChange:a.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])]),r.isLoading?(b(),As(m,{key:0,rows:10,animated:""})):(b(),As(k,{key:1,data:a.currentPageGffData,style:{width:"100%"},stripe:"",border:""},{default:me(()=>[Z(v,{prop:"seqid",label:"Seqid","min-width":"100"}),Z(v,{prop:"source",label:"Source","min-width":"100"}),Z(v,{prop:"type",label:"Type","min-width":"100"}),Z(v,{prop:"start",label:"Start","min-width":"100"}),Z(v,{prop:"end",label:"End","min-width":"100"}),Z(v,{prop:"score",label:"Score","min-width":"50"}),Z(v,{prop:"strand",label:"Strand","min-width":"50"}),Z(v,{prop:"phase",label:"Phase","min-width":"50"}),Z(v,{prop:"attributes",label:"Attributes","min-width":"200"})]),_:1},8,["data"])),o("div",jm,[o("span",Fm," Showing "+$((r.currentPage-1)*r.pageSize+1)+" to "+$(Math.min(r.currentPage*r.pageSize,r.gffData.length))+" of "+$(r.gffData.length)+" entries ",1),Z(p,{"current-page":r.currentPage,"onUpdate:currentPage":e[8]||(e[8]=h=>r.currentPage=h),"page-size":r.pageSize,"onUpdate:pageSize":[e[9]||(e[9]=h=>r.pageSize=h),a.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:r.gffData.length,onCurrentChange:a.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])])])):z("",!0),o("div",Bm,[Z(c,{to:"/id-search",class:"btn btn-primary"},{default:me(()=>[...e[37]||(e[37]=[ne("Return to Search",-1)])]),_:1})])])):z("",!0),r.showModal?(b(),w("div",{key:3,class:"modal",style:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"1050"},onClick:e[14]||(e[14]=pe((...h)=>a.closeModal&&a.closeModal(...h),["self"]))},[o("div",Um,[o("div",Gm,[o("div",Vm,[o("h5",Km,$(r.modalTitle),1),o("button",{type:"button",class:"close",onClick:e[10]||(e[10]=(...h)=>a.closeModal&&a.closeModal(...h)),style:{background:"none",border:"none","font-size":"1.5rem",cursor:"pointer"}},"×")]),o("div",zm,[o("div",Hm,$(r.modalContent),1)]),o("div",Jm,[o("button",{class:"btn btn-primary mr-2",onClick:e[11]||(e[11]=h=>a.copySequence(r.modalContent))},"Copy Sequence"),o("button",{class:"btn btn-secondary mr-2",onClick:e[12]||(e[12]=(...h)=>a.downloadFasta&&a.downloadFasta(...h))},"Download FASTA"),o("button",{class:"btn btn-secondary",onClick:e[13]||(e[13]=(...h)=>a.closeModal&&a.closeModal(...h))},"Close")])])])])):z("",!0)])}const Qm=Pe(Uh,[["render",Wm],["__scopeId","data-v-19f8efd9"]]),Xm={name:"IdSearchSummaryView",components:{SequenceDisplay:Is},data(){return{results:[],has_sequences:!1,loading:!1,error:null,showModal:!1,modalTitle:"",modalContent:"",currentSeqType:"",currentGeneId:""}},mounted(){console.log("页面已挂载，开始获取数据..."),console.log("当前URL参数:",new URLSearchParams(window.location.search).toString()),this.fetchSearchResults()},methods:{async fetchSearchResults(){this.loading=!0,this.error=null,this.results=[],this.has_sequences=!1;try{const t=new URLSearchParams(window.location.search);let e=t.get("id")||t.get("ids")||t.get("query_ids");if(!e){this.error="URL中未找到基因ID参数",this.loading=!1;return}const s=e.split(",").join(`
`),i=`gene_ids=${encodeURIComponent(s)}`,r=await _t.post("/tools/id-search/api/id-search-form/",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});r&&r.status==="success"?(this.results=r.results||[],this.has_sequences=r.has_sequences||!1):this.error=r.error||"请求处理失败"}catch(t){console.error("获取数据失败:",t),this.error="获取数据失败: "+(t.message||"未知错误")}finally{this.loading=!1}}},downloadAllFasta(t){let e="";if(this.results.forEach(s=>{let i="",r=`>${s.IDs} ${t}`;switch(t){case"genomic":i=s.gene_seq||"";break;case"mrna":i=s.mrna_seq||"";break;case"cds":i=s.cds_seq||"";break;case"protein":i=s.protein_seq||"";break}i&&i!=="N/A"&&i!=="未找到CDS序列"&&i!=="未找到蛋白序列"&&(e+=`${r}
${i}

`)}),e){const s=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(s),r=document.createElement("a");r.href=i,r.download=`all_${t}_sequences.fasta`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}},copyAllFasta(t){let e="";this.results.forEach(s=>{let i="",r=`>${s.IDs} ${t}`;switch(t){case"genomic":i=s.gene_seq||"";break;case"mrna":i=s.mrna_seq||"";break;case"cds":i=s.cds_seq||"";break;case"protein":i=s.protein_seq||"";break}i&&i!=="N/A"&&i!=="未找到CDS序列"&&i!=="未找到蛋白序列"&&(e+=`${r}
${i}

`)}),e&&navigator.clipboard.writeText(e).then(()=>{alert("序列已复制到剪贴板")}).catch(s=>{console.error("复制失败:",s)})},handleShowSequence(t){const{type:e,title:s,content:i,id:r}=t;this.modalTitle=s,this.modalContent=i,this.currentSeqType=e,this.currentGeneId=r,this.showModal=!0},closeModal(){this.showModal=!1},downloadAllSequences(){let t="";if(this.results.forEach(e=>{const s=e.IDs;e.gene_seq&&e.gene_seq!=="N/A"&&e.gene_seq!==""&&(t+=`>${s} genomic
${e.gene_seq}

`),e.mrna_seq&&e.mrna_seq!=="N/A"&&e.mrna_seq!==""&&(t+=`>${s} mrna
${e.mrna_seq}

`),e.cds_seq&&e.cds_seq!=="N/A"&&e.cds_seq!=="未找到CDS序列"&&(t+=`>${s} cds
${e.cds_seq}

`),e.protein_seq&&e.protein_seq!=="N/A"&&e.protein_seq!=="未找到蛋白序列"&&(t+=`>${s} protein
${e.protein_seq}

`)}),t){const e=new Blob([t],{type:"text/plain"}),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download="all_sequences.fasta",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}else alert("没有找到可用的序列数据")},copySequence(t){const s=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${t}`;navigator.clipboard.writeText(s).then(()=>{this.showTemporaryMessage("序列已复制到剪贴板")}).catch(i=>{console.error("复制失败:",i),this.showTemporaryMessage("复制失败，请手动复制")})},downloadFasta(){const e=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${this.modalContent}`,s=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(s),r=document.createElement("a");r.href=i,r.download=`${this.currentGeneId}_${this.currentSeqType}.fasta`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)},showTemporaryMessage(t){const e=document.createElement("div");e.textContent=t,e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="4px",e.style.zIndex="9999",e.style.fontSize="16px",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",e.style.transition="opacity 0.5s ease-out",setTimeout(()=>{document.body.removeChild(e)},500)},1500)}},Ym={class:"container mt-4"},Zm={class:"status-info bg-light p-3 rounded mb-4"},eg={key:0,class:"text-success"},tg={key:1,class:"text-muted"},ng={key:0,class:"text-center py-5"},sg={key:1,class:"alert alert-danger mt-4"},og={class:"table-responsive"},rg={class:"table table-bordered"},ig={class:"text-center align-middle",style:{width:"10%"}},ag={class:"text-center align-middle",style:{width:"10%"}},lg={class:"text-center align-middle",style:{width:"10%"}},cg={key:0,class:"mt-6"},ug={class:"mt-4 d-flex gap-2"},dg={key:1,class:"text-muted"},fg={key:3,class:"text-center py-5"},pg={class:"modal-dialog",style:{"max-width":"50vw","max-height":"50vh",margin:"0",width:"auto"}},hg={class:"modal-content",style:{height:"100%",display:"flex","flex-direction":"column"}},mg={class:"modal-header"},gg={class:"modal-title"},_g={class:"modal-body",style:{flex:"1","overflow-y":"auto"}},vg={class:"bg-light p-3 rounded",style:{"max-height":"calc(40vh - 100px)","overflow-y":"auto","white-space":"pre-wrap","font-family":"monospace"}},bg={class:"modal-footer"};function yg(t,e,s,i,r,a){const c=gt("router-link"),f=Is;return b(),w("div",Ym,[o("div",Zm,[r.results.length>0?(b(),w("p",eg,"找到 "+$(r.results.length)+" 个基因序列",1)):!r.loading&&!r.error?(b(),w("p",tg,"暂无数据，请检查输入的基因ID")):z("",!0)]),e[11]||(e[11]=o("h1",null,"ID搜索结果汇总",-1)),r.loading?(b(),w("div",ng,[...e[6]||(e[6]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"visually-hidden"},"loading...")],-1),o("p",{class:"mt-3"},"正在加载数据，请稍候...",-1)])])):r.error?(b(),w("div",sg,[o("p",null,"错误: "+$(r.error),1),e[7]||(e[7]=o("p",null,"请检查URL参数格式或稍后重试",-1))])):r.results?(b(),w(te,{key:2},[o("div",og,[o("table",rg,[e[8]||(e[8]=o("thead",null,[o("tr",{class:"text-center"},[o("th",{style:{width:"10%"}},"Input ID"),o("th",{style:{width:"10%"}},"Query ID"),o("th",{style:{width:"10%"}},"Species")])],-1)),o("tbody",null,[(b(!0),w(te,null,ve(r.results,(p,m)=>(b(),w("tr",{key:`result-${m}`},[o("td",ig,$(p.original_id||"-"),1),o("td",ag,[Z(c,{to:{path:"/tools/id-search/results/",query:{id:p.IDs}}},{default:me(()=>[ne($(p.IDs||"-"),1)]),_:2},1032,["to"])]),o("td",lg,$(p.species||"-"),1)]))),128))])])]),r.results.length>0?(b(),w("div",cg,[e[9]||(e[9]=o("h4",null,"Gene Sequences",-1)),Z(f,{"display-mode":"full",results:r.results,loading:!1,onShowSequence:t.handleShowSequence,onDownloadAll:t.downloadAllFasta,onCopyAll:t.copyAllFasta},null,8,["results","onShowSequence","onDownloadAll","onCopyAll"]),o("div",ug,[o("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...p)=>t.downloadAllSequences&&t.downloadAllSequences(...p))},"Download All Sequences")])])):(b(),w("p",dg,"No gene sequences available."))],64)):(b(),w("div",fg,[...e[10]||(e[10]=[o("p",{class:"text-muted"},"准备加载数据...",-1)])])),r.showModal?(b(),w("div",{key:4,class:"modal",style:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"1050"},onClick:e[5]||(e[5]=pe((...p)=>t.closeModal&&t.closeModal(...p),["self"]))},[o("div",pg,[o("div",hg,[o("div",mg,[o("h5",gg,$(r.modalTitle),1),o("button",{type:"button",class:"close",onClick:e[1]||(e[1]=(...p)=>t.closeModal&&t.closeModal(...p)),style:{background:"none",border:"none","font-size":"1.5rem",cursor:"pointer"}},"×")]),o("div",_g,[o("div",vg,$(r.modalContent),1)]),o("div",bg,[o("button",{class:"btn btn-primary mr-2",onClick:e[2]||(e[2]=p=>t.copySequence(r.modalContent))},"Copy Sequence"),o("button",{class:"btn btn-secondary mr-2",onClick:e[3]||(e[3]=(...p)=>t.downloadFasta&&t.downloadFasta(...p))},"Download FASTA"),o("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...p)=>t.closeModal&&t.closeModal(...p))},"Close")])])])])):z("",!0)])}const wg=Pe(Xm,[["render",yg],["__scopeId","data-v-4068b004"]]),kg={name:"JbrowseView",data(){return{genomes:[{id:1,name:"陆地棉基因组 (Ghirsutum)",description:"陆地棉（Gossypium hirsutum）基因组序列，版本为HAU v1.0",assembly:"Ghirsutum_genome_HAU_v1.0",track:"TM-1.gff"}],currentIframeUrl:"/assets/jbrowse/index.html?assembly=Ghirsutum_genome_HAU_v1.0&tracks=TM-1.gff&loc=Ghir_A01:1-1000000",iframeKey:0}},mounted(){this.refreshIframe()},watch:{$route(){this.refreshIframe()}},methods:{openGenome(t){this.currentIframeUrl=`/assets/jbrowse/index.html?assembly=${t.assembly}&tracks=${t.track}&loc=Ghir_A01:1-1000000`,this.refreshIframe()},refreshIframe(){this.iframeKey++}}},Eg={class:"container mt-4"},Ag={class:"card"},xg={class:"card-body"},Sg={class:"table table-bordered table-hover"},Cg=["href"],Tg=["onClick"],qg={class:"embed-container"},$g=["src"];function Dg(t,e,s,i,r,a){return b(),w("div",Eg,[e[3]||(e[3]=o("h1",null,"JBrowse 可视化",-1)),o("div",Ag,[o("div",xg,[e[1]||(e[1]=o("h2",{class:"card-title mb-4"},"选择基因组",-1)),o("table",Sg,[e[0]||(e[0]=o("thead",{class:"thead-light"},[o("tr",null,[o("th",null,"基因组名称"),o("th",null,"描述"),o("th",null,"操作")])],-1)),o("tbody",null,[(b(!0),w(te,null,ve(r.genomes,c=>(b(),w("tr",{key:c.id},[o("td",null,$(c.name),1),o("td",null,$(c.description),1),o("td",null,[o("a",{href:`/assets/jbrowse/index.html?config=config.json&assembly=${c.assembly}&tracks=${c.track}&loc=Ghir_A01:1-1000000`,target:"_blank",class:"btn btn-primary mr-2"}," 新窗口打开 ",8,Cg),o("button",{onClick:f=>a.openGenome(c),class:"btn btn-secondary"}," 嵌入查看 ",8,Tg)])]))),128))])]),e[2]||(e[2]=o("h2",{class:"card-title mt-5 mb-4"},"JBrowse 可视化",-1)),o("div",qg,[(b(),w("iframe",{key:r.iframeKey,src:r.currentIframeUrl,width:"100%",height:"600px",frameborder:"0"},null,8,$g))])])])])}const Rg=Pe(kg,[["render",Dg],["__scopeId","data-v-91513485"]]),Pg={name:"DownloadView"},Ig={class:"container mt-4"};function Og(t,e,s,i,r,a){return b(),w("div",Ig,[...e[0]||(e[0]=[o("h1",null,"下载数据",-1),o("p",null,"此页面正在开发中...",-1)])])}const Ng=Pe(Pg,[["render",Og]]),Lg={name:"Contact_usView"},Mg={class:"container mt-4"};function jg(t,e,s,i,r,a){return b(),w("div",Mg,[...e[0]||(e[0]=[o("h1",null,"联系我们",-1),o("p",null,"此页面正在开发中...",-1)])])}const Fg=Pe(Lg,[["render",jg]]),Bg={name:"AboutView"},Ug={class:"container mt-4"};function Gg(t,e,s,i,r,a){return b(),w("div",Ug,[...e[0]||(e[0]=[o("h1",null,"关于我们",-1),o("p",null,"这是关于我们的页面。",-1)])])}const Vg=Pe(Bg,[["render",Gg]]),Kg={class:"container mt-4"},zg={key:0,class:"alert alert-danger"},Hg={class:"card"},Jg={class:"card-body"},Wg={class:"form-group mb-3"},Qg={class:"row mb-3"},Xg={class:"col-md-6"},Yg={class:"form-group"},Zg={class:"col-md-6"},e_={class:"form-group"},ea="MGEAIKKQEGVSTVKEDNKLIDSKKKKANNSNLAKKTSWRRIDLMATKNQRNDDSSTRKRKSSEGEFDMCGIEVAYEDELKRLKQEGKEDRDECKVKNPDKSLISAYIHDIQQLLVKYRKCRFEYIPPMENNLAHILATETLKNKKEFYLVGSVPKSAEKKEERDRVREPD",t_=vt({__name:"BlastpView",setup(t){const e=Gt("showLoading"),s=Gt("hideLoading"),i=In(),r=B(""),a=B(.01),c=B(30),f=B(""),p=()=>{r.value=ea};console.log("exampleSequence:",ea);const m=async()=>{if(!r.value.trim()){f.value="Please enter a protein sequence";return}f.value="",console.log("sequence.value:",r.value),e();try{console.log("Submitting BLASTP search:",{sequence:r.value,evalue:a.value,maxTargetSeqs:c.value});const k=new FormData;k.append("sequence",r.value),k.append("evalue",a.value.toString()),k.append("max_target_seqs",c.value.toString());const h="/tools/blastp/api/blastp/";console.log("API URL:",h),console.log("FormData entries:");for(const[_,E]of k.entries())console.log(`${_}: ${E}`);const x=await fetch(h,{method:"POST",body:k,headers:{Accept:"application/json"}});if(console.log("Response status:",x.status),console.log("Response statusText:",x.statusText),console.log("Response headers:",Object.fromEntries(x.headers.entries())),!x.ok){const _=await x.text();throw console.error("Response error text:",_),new Error(`HTTP error! status: ${x.status}, text: ${_}`)}const g=await x.json();i.push({name:"blastpResults",query:{results:encodeURIComponent(JSON.stringify(g))}})}catch(k){f.value="BLASTP search failed. Please try again. "+k.message,console.error("BLASTP error:",k),console.error("Error details:",JSON.stringify(k,Object.getOwnPropertyNames(k)))}finally{s()}},v=()=>{r.value="",a.value=.01,c.value=30,f.value=""};return(k,h)=>(b(),w("div",Kg,[h[8]||(h[8]=o("h2",{class:"mb-4"},"BLASTP",-1)),f.value?(b(),w("div",zg,$(f.value),1)):z("",!0),o("div",Hg,[o("div",Jg,[o("form",{onSubmit:pe(m,["prevent"])},[o("div",Wg,[h[3]||(h[3]=o("label",{for:"sequence",class:"form-label"},"Protein Sequence:",-1)),we(o("textarea",{class:"form-control",id:"sequence","onUpdate:modelValue":h[0]||(h[0]=x=>r.value=x),rows:"10",required:""},null,512),[[Ye,r.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:p}," Load Example ")]),o("div",Qg,[o("div",Xg,[o("div",Yg,[h[4]||(h[4]=o("label",{for:"evalue",class:"form-label"},"E-value threshold:",-1)),we(o("input",{type:"number",class:"form-control",id:"evalue","onUpdate:modelValue":h[1]||(h[1]=x=>a.value=x),step:"0.01",min:"0"},null,512),[[Ye,a.value,void 0,{number:!0}]])])]),o("div",Zg,[o("div",e_,[h[5]||(h[5]=o("label",{for:"max_target_seqs",class:"form-label"},"Maximum target sequences:",-1)),we(o("input",{type:"number",class:"form-control",id:"max_target_seqs","onUpdate:modelValue":h[2]||(h[2]=x=>c.value=x),min:"1",max:"50"},null,512),[[Ye,c.value,void 0,{number:!0}]])])])]),h[7]||(h[7]=o("button",{type:"submit",class:"btn btn-primary me-2"},[o("i",{class:"fas fa-search"}),ne(" Search ")],-1)),o("button",{type:"button",class:"btn btn-outline-secondary",onClick:v},[...h[6]||(h[6]=[o("i",{class:"fas fa-undo"},null,-1),ne(" Reset ",-1)])])],32)])])]))}}),n_=Pe(t_,[["__scopeId","data-v-d7cd2ac0"]]),s_={class:"container mt-4"},o_={class:"d-flex justify-content-between align-items-center mb-4"},r_={key:0,class:"badge bg-info"},i_={class:"card mb-4"},a_={class:"card-body"},l_={class:"sequence-box"},c_={class:"mb-0"},u_={key:0,class:"text-muted"},d_={class:"card mb-4"},f_={class:"card-body"},p_={key:0,id:"chord-chart"},h_={key:1,class:"text-center py-4"},m_={class:"row g-2 align-items-center"},g_={class:"col-auto"},__={key:0,class:"text-center py-4"},v_={key:1},b_={class:"card mb-4"},y_={class:"card-header d-flex justify-content-between align-items-center"},w_={class:"mb-0"},k_={class:"badge bg-primary"},E_={class:"card-body p-0"},A_={class:"table-responsive"},x_={class:"table table-hover mb-0"},S_={class:"text-right"},C_={class:"text-right"},T_={class:"text-right"},q_={key:0,class:"card mb-4"},$_={class:"card-body p-0"},D_={class:"table-responsive"},R_={class:"table table-hover mb-0"},P_={key:1,"aria-label":"Page navigation"},I_={class:"pagination justify-content-center"},O_=["aria-disabled"],N_=["aria-disabled"],L_={class:"page-item active"},M_={class:"page-link"},j_=["aria-disabled"],F_=["aria-disabled"],B_={key:2,class:"alert alert-info"},U_={class:"mt-3"},G_=vt({__name:"BlastpResultView",setup(t){const e=On(),s=B(10),i=B("");B("");const r=B(.01),a=B([]),c=B([]),f=B([]),p=B(!1),m=B(1),v=B(0),k=B(0),h=B(null),x=B([]),g=Oe(()=>Math.ceil(v.value/s.value)),_=R=>R<.001?R.toExponential(2):R.toFixed(4),E=(R,U)=>R?typeof R!="string"?String(R):R.length>U?R.substring(0,U)+"...":R:"",q=(R,U)=>R?typeof R!="string"?String(R):R.length>U?R.substring(0,U)+"...":R:"",y=()=>{m.value=1,C()},O=R=>{m.value=R,C()},C=()=>{const R=(m.value-1)*s.value,U=R+s.value;a.value=c.value.slice(R,U)},P=async()=>{p.value=!0;try{if(e.query.results){const R=JSON.parse(decodeURIComponent(e.query.results));if(console.log("Received BLASTP results:",R),R.hits){const U=R.hits.map((J,_e)=>({query:"Query_Protein",subject:J.protein_id,identity:J.identity,alignment_length:J.length,mismatches:0,gaps:0,query_start:J.qStart,query_end:J.qEnd,subject_start:0,subject_end:J.length,evalue:J.evalue,bit_score:J.score})),L=[...new Map(U.map(J=>[J.subject,J])).values()];L.sort((J,_e)=>_e.bit_score-J.bit_score),c.value=L,v.value=L.length,i.value=R.query_sequence||"",k.value=R.execution_time||0,r.value=R.evalue||.01,f.value=R.local_matches||[],x.value=L.map(J=>({identity:J.identity,evalue:J.evalue,bitScore:J.bit_score,subject:J.subject})),C(),j(R)}}else console.error("No results found in route query"),a.value=[],v.value=0}catch(R){console.error("加载结果失败:",R),a.value=[],v.value=0}finally{p.value=!1}},j=R=>{if(!R.hits||R.hits.length===0){h.value=null;return}const U={query:"Query_Protein",queryLength:R.query_length||0,proteins:[{id:"Query_Protein",length:R.query_length||0},...R.hits.map(L=>({id:L.protein_id,length:L.length}))],hits:R.hits.map(L=>({query:L.protein_id,target:"Query_Protein",score:L.score,evalue:L.evalue,identity:L.identity,qStart:L.qStart,qEnd:L.qEnd}))};h.value=U},V=()=>{if(!h.value)return;const R=h.value;function U(F){const Re=[F.query,...F.proteins.map(et=>et.id)],nt=[F.queryLength,...F.proteins.map(et=>et.length)],Dt=nt.reduce((et,Qe)=>et+Qe,0),yt=Array(Re.length).fill(0).map(()=>Array(Re.length).fill(0));return F.hits.forEach(et=>{const Qe=Re.indexOf(et.query),Ke=Re.indexOf(et.target);Qe!==-1&&Ke!==-1&&Qe<yt.length&&Ke<yt.length&&yt[Qe]&&yt[Ke]&&(yt[Qe][Ke]=et.score,yt[Ke][Qe]=et.score)}),{matrix:yt,proteins:Re,lengths:nt,totalLength:Dt,hits:F.hits}}const L=U(R),J={};L.proteins.forEach(F=>{J[F]=0}),L.hits.forEach(F=>{F.query!==R.query&&(J[F.query]+=F.identity),F.target!==R.query&&(J[F.target]+=F.identity)});const _e={};L.hits.forEach(F=>{F.query!==R.query&&(_e[F.query]=(_e[F.query]||0)+1),F.target!==R.query&&(_e[F.target]=(_e[F.target]||0)+1)}),Object.keys(J).forEach(F=>{if(F!==R.query){const Re=_e[F]||1;J[F]!==void 0&&(J[F]=J[F]/Re)}});const Fe=R.query,Ne=[...L.proteins.filter(F=>F!==Fe)].sort((F,Re)=>{const nt=J[F]||0;return(J[Re]||0)-nt}),De=[Fe,...Ne].map(F=>L.proteins.indexOf(F)),N=De.map(F=>De.map(Re=>L.matrix&&F>=0&&F<L.matrix.length&&L.matrix[F]&&Re>=0&&Re<L.matrix[F].length?L.matrix[F][Re]:0)),Je=De.map(F=>L.lengths[F]),Ge=De.map(F=>L.proteins[F]);L.matrix=N,L.lengths=Je,L.proteins=Ge;const We=document.getElementById("chord-chart");if(!We)return;We.innerHTML="";const Be=We.clientWidth,Ve=800,Ie=Math.min(Be,Ve)*.5-40,ct=Ie-30,T=Nt("#chord-chart").append("svg").attr("width",Be).attr("height",Ve).append("g").attr("transform",`translate(${Be/2},${Ve/2})`),K=xu().padAngle(.1).sortSubgroups(Su)(L.matrix),ee=[0];let de=0;de+=L.lengths[0],ee.push(de/L.totalLength*2*Math.PI);for(let F=1;F<L.lengths.length;F++)de+=L.lengths[F],ee.push(de/L.totalLength*2*Math.PI);const Ae=Cu().innerRadius(ct).outerRadius(Ie).startAngle(F=>(ee[F.index]||0)+.02).endAngle(F=>(ee[F.index+1]||0)-.02),ce=Tu().domain(L.proteins).range(qu.concat($u)),oe=T.append("g").selectAll("g").data(K.groups).enter().append("g");oe.append("path").attr("class","chord-group").style("fill",F=>ce(L.proteins[F.index])).style("stroke","#000").style("stroke-width","0.5px").attr("d",F=>Ae(F)).append("title").text(F=>{const Re=L.proteins[F.index],nt=L.lengths[F.index],Dt=J[Re]||0;return`${Re} (Length: ${nt}, Avg Identity: ${Dt.toFixed(2)}%)`}),oe.append("text").each(F=>{const Re=ee[F.index]||0,nt=ee[F.index+1]||0;F.angle=(Re+nt)/2}).attr("class","protein-label").attr("dy",".35em").attr("transform",F=>`
            rotate(${F.angle*180/Math.PI-90})
            translate(${ct-5})
            ${F.angle>Math.PI?"rotate(180)":""}
          `).style("text-anchor",F=>F.angle>Math.PI?"end":null).text(F=>{const nt=L.proteins[F.index];return nt.length>4?nt.substring(0,4)+"...":nt});const xe=Du().radius(ct),bt=Nt("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none");T.append("g").selectAll("path").data(K).enter().append("path").attr("class","chord-ribbon").style("fill",F=>ce(L.proteins[F.source.index])).style("stroke",F=>ce(L.proteins[F.source.index])).attr("d",xe).style("opacity",.8).on("mouseover",F=>{_i(".chord-ribbon").style("opacity",.1);const Re=F.currentTarget;Re&&Nt(Re).style("opacity",1).style("stroke","#000").style("stroke-width","1px");const Dt=F.currentTarget?.__data__;if(Dt){const yt=L.proteins[Dt.source.index],et=L.proteins[Dt.target.index],Qe=L.hits.find(Ke=>Ke.query===yt&&Ke.target===et||Ke.query===et&&Ke.target===yt);bt.transition().duration(200).style("opacity",.9),bt.html(`
          <strong>Query Protein → ${et}</strong><br>
          ${Qe?`E-value: ${Qe.evalue}<br>Identity: ${Qe.identity}%<br>Alignment region: ${Qe.qStart}-${Qe.qEnd}`:""}
        `).style("left",F.pageX+15+"px").style("top",F.pageY-28+"px")}}).on("mouseout",()=>{_i(".chord-ribbon").style("opacity",.8).style("stroke","none"),bt.style("opacity",0)}).on("mousemove",F=>{bt.style("left",F.pageX+15+"px").style("top",F.pageY-28+"px")})},W=()=>{if(x.value.length===0)return;const R=document.getElementById("line-chart");if(!R)return;const U=R.clientWidth,L=400,J={top:20,right:30,bottom:40,left:60};R.innerHTML="";const _e=Nt("#line-chart").append("svg").attr("width",U).attr("height",L).append("g").attr("transform",`translate(${J.left},${J.top})`),Fe=U-J.left-J.right,He=L-J.top-J.bottom,Ne=x.value.map(N=>({...N,logEvalue:-Math.log10(N.evalue+1e-100)})),lt=vi().domain([0,100]).range([0,Fe]),De=vi().domain([0,Ru(Ne,N=>N.logEvalue)||0]).range([He,0]);_e.append("g").attr("transform",`translate(0,${He})`).call(bi(lt)).append("text").attr("x",Fe/2).attr("y",30).style("text-anchor","middle").style("font-size","12px").text("Identity (%)"),_e.append("g").call(yi(De)).append("text").attr("transform","rotate(-90)").attr("x",-He/2).attr("y",-40).style("text-anchor","middle").style("font-size","12px").text("-log10(E-value)"),_e.selectAll(".dot").data(Ne).enter().append("circle").attr("class","dot").attr("cx",N=>lt(N.identity)).attr("cy",N=>De(N.logEvalue)).attr("r",4).style("fill","#49B7CF").style("opacity",.7).style("stroke","#000").style("stroke-width","1px").on("mouseover",function(N,Je){Nt(this).style("opacity",1).style("stroke","#000").style("stroke-width","2px");const Ge=Nt("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","1000");Ge.transition().duration(200).style("opacity",.9),Ge.html(`
        <strong>${Je.subject}</strong><br>
        Identity: ${Je.identity.toFixed(2)}%<br>
        E-value: ${Je.evalue<.001?Je.evalue.toExponential(2):Je.evalue.toFixed(4)}<br>
        Bit Score: ${Je.bitScore.toFixed(0)}
      `).style("left",N.pageX+15+"px").style("top",N.pageY-28+"px"),Nt(this).datum({tooltip:Ge})}).on("mouseout",function(){Nt(this).style("opacity",.7).style("stroke","#000").style("stroke-width","1px");const N=Nt(this).datum();N.tooltip&&typeof N.tooltip.remove=="function"&&N.tooltip.remove(),Nt(this).datum(null)}),_e.append("g").attr("class","grid").attr("transform",`translate(0,${He})`).call(bi(lt).ticks(10).tickSize(-He).tickFormat(()=>"")),_e.append("g").attr("class","grid").call(yi(De).ticks(10).tickSize(-Fe).tickFormat(()=>""))};return Wt(()=>{P()}),dn(h,R=>{R&&setTimeout(()=>{V()},100)}),dn(x,()=>{W()},{deep:!0}),(R,U)=>{const L=gt("router-link");return b(),w("div",s_,[o("div",o_,[U[5]||(U[5]=o("h2",null,"BLASTP Results",-1)),k.value?(b(),w("span",r_,"Executed in "+$(k.value)+" seconds",1)):z("",!0)]),o("div",i_,[U[6]||(U[6]=o("div",{class:"card-header"},[o("h5",{class:"mb-0"},"Query Sequence")],-1)),o("div",a_,[o("div",l_,[o("pre",c_,$(q(i.value,200)),1),i.value.length>200?(b(),w("small",u_,"(truncated - full sequence used for search)")):z("",!0)])])]),o("div",d_,[U[8]||(U[8]=o("div",{class:"card-header"},[o("h5",{class:"mb-0"},"Chord Diagram")],-1)),o("div",f_,[h.value?(b(),w("div",p_)):(b(),w("div",h_,[...U[7]||(U[7]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])]))])]),o("form",{onSubmit:pe(y,["prevent"]),class:"mb-3"},[o("div",m_,[U[10]||(U[10]=o("div",{class:"col-auto"},[o("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),o("div",g_,[we(o("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":U[0]||(U[0]=J=>s.value=J)},[...U[9]||(U[9]=[o("option",{value:"5"},"5",-1),o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,s.value,void 0,{number:!0}]])]),U[11]||(U[11]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"条记录")],-1))])],32),p.value?(b(),w("div",__,[...U[12]||(U[12]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])])):a.value.length>0?(b(),w("div",v_,[o("div",b_,[o("div",y_,[o("h5",w_,"BLASTP Hits (E-value ≤ "+$(r.value)+")",1),o("span",k_,$(v.value)+" results",1)]),o("div",E_,[o("div",A_,[o("table",x_,[U[13]||(U[13]=o("thead",{class:"thead-light"},[o("tr",null,[o("th",null,"Protein ID"),o("th",{class:"text-right"},"E-value"),o("th",{class:"text-right"},"Bit Score"),o("th",{class:"text-right"},"Identity (%)")])],-1)),o("tbody",null,[(b(!0),w(te,null,ve(a.value,(J,_e)=>(b(),w("tr",{key:J.subject,class:"protein-row"},[o("td",null,[o("code",null,$(E(J.subject,15)),1)]),o("td",S_,$(_(J.evalue)),1),o("td",C_,$(J.bit_score.toFixed(0)),1),o("td",T_,$(J.identity.toFixed(2))+"%",1)]))),128))])])])])]),f.value.length>0?(b(),w("div",q_,[U[16]||(U[16]=o("div",{class:"card-header"},[o("h5",{class:"mb-0"},"Local Database Matches")],-1)),o("div",$_,[o("div",D_,[o("table",R_,[U[15]||(U[15]=o("thead",{class:"thead-light"},[o("tr",null,[o("th",null,"Protein ID"),o("th",null,"Gene ID"),o("th",null,"Description"),o("th",null,"Source"),o("th",null,"Actions")])],-1)),o("tbody",null,[(b(!0),w(te,null,ve(f.value,(J,_e)=>(b(),w("tr",{key:J.protein_id},[o("td",null,[o("code",null,$(J.protein_id),1)]),o("td",null,$(J.gene_id),1),o("td",null,$(E(J.description,50)),1),o("td",null,$(E(J.file_source,20)),1),U[14]||(U[14]=o("td",null,[o("div",{class:"btn-group btn-group-sm"},[o("a",{href:"#",class:"btn btn-outline-info",title:"View details"},[o("i",{class:"fas fa-eye"})]),o("a",{href:"#",class:"btn btn-outline-secondary",title:"Download sequence"},[o("i",{class:"fas fa-download"})])])],-1))]))),128))])])])])])):z("",!0),v.value>s.value?(b(),w("nav",P_,[o("ul",I_,[o("li",{class:$e(["page-item",{disabled:m.value===1}])},[o("a",{class:"page-link",href:"#",onClick:U[1]||(U[1]=pe(J=>O(1),["prevent"])),"aria-disabled":m.value===1}," 首页 ",8,O_)],2),o("li",{class:$e(["page-item",{disabled:m.value===1}])},[o("a",{class:"page-link",href:"#",onClick:U[2]||(U[2]=pe(J=>O(m.value-1),["prevent"])),"aria-disabled":m.value===1}," 上一页 ",8,N_)],2),o("li",L_,[o("span",M_," 第 "+$(m.value)+" 页 / 共 "+$(g.value)+" 页 ",1)]),o("li",{class:$e(["page-item",{disabled:m.value===g.value}])},[o("a",{class:"page-link",href:"#",onClick:U[3]||(U[3]=pe(J=>O(m.value+1),["prevent"])),"aria-disabled":m.value===g.value}," 下一页 ",8,j_)],2),o("li",{class:$e(["page-item",{disabled:m.value===g.value}])},[o("a",{class:"page-link",href:"#",onClick:U[4]||(U[4]=pe(J=>O(g.value),["prevent"])),"aria-disabled":m.value===g.value}," 末页 ",8,F_)],2)])])):z("",!0)])):(b(),w("div",B_,"未找到匹配结果")),o("div",U_,[Z(L,{to:"/tools/blastp",class:"btn btn-secondary"},{default:me(()=>[...U[17]||(U[17]=[ne("返回搜索",-1)])]),_:1})])])}}}),V_=Pe(G_,[["__scopeId","data-v-a4bf9ad8"]]),K_={class:"container mt-4"},z_={class:"form-group"},H_={class:"row mt-3"},J_={class:"col-md-6"},W_={class:"form-group"},Q_={class:"col-md-6"},X_={class:"form-group"},Y_={class:"form-group mt-3"},Z_={key:0,class:"alert alert-danger mt-3"},ev=vt({__name:"GoEnrichmentView",setup(t){const e=In(),i=hu()?.appContext.config.globalProperties.$http,r=B(""),a=B(.05),c=B(.05),f=B(10),p=B(""),m=()=>{const k=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230`;r.value=k},v=async()=>{if(p.value="",!r.value.trim()){p.value="请输入基因列表";return}try{if(!i)throw new Error("未找到全局axios实例");const h=(await i.post("/tools/go_enrichment/api/start/",{gene_list:r.value,p_value:a.value,q_value:c.value,per_page:f.value})).data;h.status==="success"?e.push({path:"/tools/go-enrichment/results",query:{task_id:h.task_id}}):p.value=h.error||"提交失败"}catch(k){p.value="提交失败，请重试",console.error("提交失败:",k)}};return(k,h)=>(b(),w("div",K_,[h[10]||(h[10]=o("h2",{class:"mb-4"},"GO富集分析",-1)),o("form",{onSubmit:pe(v,["prevent"])},[o("div",z_,[h[4]||(h[4]=o("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),we(o("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":h[0]||(h[0]=x=>r.value=x),rows:"10"},null,512),[[Ye,r.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:m}," load example ")]),o("div",H_,[o("div",J_,[o("div",W_,[h[5]||(h[5]=o("label",{for:"p_value"},"P值阈值:",-1)),we(o("input",{type:"number",class:"form-control",id:"p_value","onUpdate:modelValue":h[1]||(h[1]=x=>a.value=x),min:"0.0001",max:"1",step:"0.0001",required:""},null,512),[[Ye,a.value,void 0,{number:!0}]])])]),o("div",Q_,[o("div",X_,[h[6]||(h[6]=o("label",{for:"q_value"},"Q值阈值:",-1)),we(o("input",{type:"number",class:"form-control",id:"q_value","onUpdate:modelValue":h[2]||(h[2]=x=>c.value=x),min:"0.0001",max:"1",step:"0.0001",required:""},null,512),[[Ye,c.value,void 0,{number:!0}]])])])]),o("div",Y_,[h[8]||(h[8]=o("label",{for:"per_page"},"每页显示结果数:",-1)),we(o("select",{class:"form-control",id:"per_page","onUpdate:modelValue":h[3]||(h[3]=x=>f.value=x)},[...h[7]||(h[7]=[o("option",{value:"5"},"5",-1),o("option",{value:"10",selected:""},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,f.value,void 0,{number:!0}]])]),h[9]||(h[9]=o("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),p.value?(b(),w("div",Z_,$(p.value),1)):z("",!0)],32)]))}}),tv=Pe(ev,[["__scopeId","data-v-ba0b4675"]]),nv={class:"container mt-4"},sv={key:0,class:"text-center py-4"},ov={key:1,class:"alert alert-danger",role:"alert"},rv={key:2,class:"alert alert-warning",role:"alert"},iv={key:3},av={class:"row g-2 align-items-center"},lv={class:"col-auto"},cv=["id"],uv={class:"text-danger"},dv={key:0},fv={key:1},pv={key:2},hv={class:"text-muted"},mv={class:"table-responsive"},gv={class:"table table-bordered table-hover"},_v=["id"],vv=["title"],bv={key:0,class:"mt-4"},yv=["src","alt"],wv={"aria-label":"Page navigation"},kv=["id"],Ev=["onClick","data-category"],Av={key:1,class:"page-link"},xv=["onClick","data-category"],Sv={key:1,class:"page-link"},Cv={class:"page-item active"},Tv=["id"],qv=["onClick","data-category"],$v={key:1,class:"page-link"},Dv=["onClick","data-category"],Rv={key:1,class:"page-link"},Pv=vt({__name:"GoEnrichmentResultView",setup(t){const e=On(),s=B(10),i=B({BP:1,MF:1,CC:1}),r=B({BP:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},MF:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},CC:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1}}),a=B({}),c=B(!0),f=B(!1),p=B(""),m=B(0),v=E=>typeof E=="object"&&E!==null&&"name"in E?E.name:typeof E=="string"?E:"",k=E=>typeof E=="object"&&E!==null&&"definition"in E?E.definition:"",h=E=>{const q=E.target;q&&(q.style.display="none")},x=async()=>{i.value={BP:1,MF:1,CC:1},await _()},g=async(E,q)=>{i.value[E]=q,await _()},_=async()=>{f.value=!0;try{const E=e.query.task_id;if(!E){p.value="缺少任务ID",c.value=!1;return}const q={task_id:E,per_page:s.value};for(const O in i.value)q[`${O}_page`]=i.value[O];console.log("请求参数:",q);const y=await _t.get("/tools/go_enrichment/api/results/",{params:q});if(console.log("完整的后端返回数据:",JSON.stringify(y,null,2)),y.status==="success"||y.code===200||!y.error){let C=(y.results||y.data||{}).results||{},P=y.plot_images||y.images||y.charts||{};console.log("处理后的结果对象:",C),console.log("处理后的图像对象:",P),r.value={BP:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},MF:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},CC:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1}};for(const V in C){const W=C[V];console.log(`处理类别 ${V} 的数据:`,W),W&&typeof W=="object"&&(Array.isArray(W.results)?r.value[V]={results:W.results,total:W.total||W.results.length,num_pages:W.num_pages||1,current_page:W.current_page||i.value[V]||1,has_next:W.has_next||!1,has_previous:W.has_previous||!1}:Array.isArray(W)&&(r.value[V]={results:W,total:W.length,num_pages:1,current_page:i.value[V]||1,has_next:!1,has_previous:!1}))}a.value=P,console.log("可视化图像数据:",P);let j=!1;for(const V in r.value)if(r.value[V].results.length>0){j=!0;break}c.value=j,console.log("最终结果数据:",r.value),m.value=y.execution_time||y.elapsed_time||y.time||0}else y.status==="processing"?setTimeout(()=>_(),1e3):(p.value=y.error||"获取结果失败",c.value=!1)}catch(E){p.value="获取结果失败: "+(E.message||E),console.error("Error fetching results:",E),c.value=!1}finally{f.value=!1}};return Wt(async()=>{await _()}),Wt(()=>{}),(E,q)=>{const y=gt("router-link");return b(),w("div",nv,[q[9]||(q[9]=o("h2",{class:"mb-4"},"GO富集分析结果",-1)),Z(y,{to:"/tools/go-enrichment",class:"btn btn-secondary mb-4"},{default:me(()=>[...q[2]||(q[2]=[ne("返回",-1)])]),_:1}),f.value?(b(),w("div",sv,[...q[3]||(q[3]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])])):p.value?(b(),w("div",ov,$(p.value),1)):c.value?(b(),w("div",iv,[o("form",{onSubmit:pe(x,["prevent"]),class:"mb-3",id:"per-page-form"},[o("div",av,[q[5]||(q[5]=o("div",{class:"col-auto"},[o("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),o("div",lv,[we(o("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":q[0]||(q[0]=O=>s.value=O)},[...q[4]||(q[4]=[o("option",{value:"5"},"5",-1),o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,s.value,void 0,{number:!0}]])]),q[6]||(q[6]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"条记录")],-1))])],32),(b(!0),w(te,null,ve(r.value,(O,C)=>(b(),w("div",{key:C,class:"mb-5",id:`category-${C}`},[o("h4",uv,[C==="MF"?(b(),w("span",dv,"Molecular Function")):C==="BP"?(b(),w("span",fv,"Biological Process")):C==="CC"?(b(),w("span",pv,"Cellular Component")):z("",!0),o("small",hv," (共 "+$(O.total)+" 条) ",1)]),o("div",mv,[o("table",gv,[q[7]||(q[7]=o("thead",{class:"bg-light"},[o("tr",null,[o("th",null,"GO ID"),o("th",null,"Description"),o("th",null,"GeneRatio"),o("th",null,"BgRatio"),o("th",null,"RichFactor"),o("th",null,"FoldEnrichment"),o("th",null,"zScore"),o("th",null,"pvalue"),o("th",null,"Genes")])],-1)),o("tbody",{id:`tbody-${C}`},[(b(!0),w(te,null,ve(O.results,P=>(b(),w("tr",{key:P.go_id},[o("td",null,$(P.go_id),1),o("td",null,[ne($(v(P.description))+" ",1),k(P.description)?(b(),w("i",{key:0,class:"fas fa-info-circle text-muted",title:k(P.description),"data-bs-toggle":"tooltip"},null,8,vv)):z("",!0)]),o("td",null,$(P.gene_ratio),1),o("td",null,$(P.bg_ratio),1),o("td",null,$(parseFloat(P.rich_factor).toFixed(4)),1),o("td",null,$(parseFloat(P.fold_enrichment).toFixed(4)),1),o("td",null,$(parseFloat(P.z_score).toFixed(4)),1),o("td",null,$(parseFloat(P.p_value).toFixed(6)),1),o("td",null,$(P.genes),1)]))),128))],8,_v)])]),a.value&&(a.value[C]||a.value[C.toLowerCase()]||a.value[C.toUpperCase()])?(b(),w("div",bv,[q[8]||(q[8]=o("h5",null,"可视化结果",-1)),o("img",{src:`data:image/png;base64,${a.value[C]||a.value[C.toLowerCase()]||a.value[C.toUpperCase()]}`,class:"img-fluid",alt:`${C} Plot`,onError:q[1]||(q[1]=P=>h(P))},null,40,yv)])):z("",!0),o("nav",wv,[o("ul",{id:`pagination-${C}`,class:"pagination justify-content-center"},[o("li",{class:$e(["page-item",{disabled:!O.has_previous}])},[O.has_previous?(b(),w("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(P=>g(C,1),["prevent"]),"data-category":C}," 首页 ",8,Ev)):(b(),w("span",Av,"首页"))],2),o("li",{class:$e(["page-item",{disabled:!O.has_previous}])},[O.has_previous?(b(),w("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(P=>g(C,O.previous_page_number),["prevent"]),"data-category":C}," 上一页 ",8,xv)):(b(),w("span",Sv,"上一页"))],2),o("li",Cv,[o("span",{id:`current-page-${C}`,class:"page-link"}," 第 "+$(O.current_page)+" 页 / 共 "+$(O.num_pages)+" 页 ",9,Tv)]),o("li",{class:$e(["page-item",{disabled:!O.has_next}])},[O.has_next?(b(),w("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(P=>g(C,O.next_page_number),["prevent"]),"data-category":C}," 下一页 ",8,qv)):(b(),w("span",$v,"下一页"))],2),o("li",{class:$e(["page-item",{disabled:!O.has_next}])},[O.has_next?(b(),w("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(P=>g(C,O.num_pages),["prevent"]),"data-category":C}," 末页 ",8,Dv)):(b(),w("span",Rv,"末页"))],2)],8,kv)])],8,cv))),128))])):(b(),w("div",rv," 暂无富集结果 "))])}}}),Iv=Pe(Pv,[["__scopeId","data-v-2f118e97"]]),Ov={class:"container mt-4"},Nv={class:"form-group"},Lv={class:"form-group mt-3"},Mv={key:0,class:"alert alert-danger mt-3"},jv=vt({__name:"GoAnnotationView",setup(t){const e=In(),s=B(""),i=B(10),r=B(""),a=()=>{const f=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100`;s.value=f},c=async()=>{if(r.value="",!s.value.trim()){r.value="请输入基因列表";return}const f={gene_list:s.value,per_page:i.value};try{e.push({path:"/tools/go-annotation/results",query:f})}catch(p){r.value="提交失败，请重试",console.error("提交失败:",p)}};return(f,p)=>(b(),w("div",Ov,[p[6]||(p[6]=o("h2",{class:"mb-4"},"GO注释",-1)),o("form",{onSubmit:pe(c,["prevent"])},[o("div",Nv,[p[2]||(p[2]=o("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),we(o("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":p[0]||(p[0]=m=>s.value=m),rows:"10"},null,512),[[Ye,s.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:a}," load example ")]),o("div",Lv,[p[4]||(p[4]=o("label",{for:"per_page"},"每页显示结果数:",-1)),we(o("select",{class:"form-control",id:"per_page","onUpdate:modelValue":p[1]||(p[1]=m=>i.value=m)},[...p[3]||(p[3]=[o("option",{value:"5"},"5",-1),o("option",{value:"10",selected:""},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,i.value,void 0,{number:!0}]])]),p[5]||(p[5]=o("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),r.value?(b(),w("div",Mv,$(r.value),1)):z("",!0)],32)]))}}),Fv=Pe(jv,[["__scopeId","data-v-846c266a"]]),Bv={class:"container mt-4"},Uv={key:0,class:"card mb-4"},Gv={class:"card-body"},Vv=["src"],Kv={class:"row g-2 align-items-center"},zv={class:"col-auto"},Hv={key:1,class:"text-center py-4"},Jv={key:2},Wv={class:"table-responsive"},Qv={class:"table table-bordered table-hover"},Xv={key:0,"aria-label":"Page navigation"},Yv={class:"pagination justify-content-center"},Zv=["aria-disabled"],eb=["aria-disabled"],tb={class:"page-item active"},nb={class:"page-link"},sb=["aria-disabled"],ob=["aria-disabled"],rb={key:3,class:"alert alert-info"},ib={class:"mt-3"},ab=vt({__name:"GoAnnotationResultView",setup(t){const e=On(),s=B(10),i=B(""),r=B([]),a=B(!1),c=B(1),f=B(0),p=B(""),m=B(!0),v=Oe(()=>Math.ceil(f.value/s.value)),k=()=>{c.value=1,x()},h=g=>{c.value=g,x()},x=async()=>{a.value=!0;const g=e.query.gene_list||"";i.value=g,console.log("=== GO注释结果页面调试信息 ==="),console.log("路由参数:",e.query),console.log("获取的gene_list参数:",g),console.log("gene_list参数长度:",g.length),console.log("当前页码:",c.value),console.log("每页显示条数:",s.value);try{if(!g){console.log("没有获取到gene_list参数"),r.value=[],f.value=0,p.value="",m.value=!1;return}console.log("准备调用API");const _=await _t.get("/tools/go_annotation/",{params:{gene_id:g,per_page:s.value,page:c.value,api:"true"}});if(console.log("API调用成功"),console.log("API响应数据:",_),_&&_.success){console.log("API响应成功");const E=_.data;console.log("数据对象:",E),console.log("结果数组:",E.results),console.log("结果数量:",E.results?E.results.length:0),console.log("是否有图表:",E.chart?"是":"否"),r.value=E.results||[],f.value=E.results.length||0,p.value=E.chart||"",m.value=r.value.length>0,console.log("是否有结果:",m.value)}else console.log("API响应失败或success为false"),console.log("响应数据:",_),r.value=[],f.value=0,p.value="",m.value=!1}catch(_){console.error("加载结果失败:",_),r.value=[],f.value=0,p.value="",m.value=!1}finally{a.value=!1}};return Wt(()=>{x()}),(g,_)=>{const E=gt("router-link");return b(),w("div",Bv,[_[12]||(_[12]=o("h2",{class:"mb-4"},"GO注释结果",-1)),p.value?(b(),w("div",Uv,[o("div",Gv,[_[5]||(_[5]=o("h5",{class:"card-title"},"GO注释分布",-1)),o("img",{src:`data:image/png;base64,${p.value}`,alt:"GO Annotation Chart",class:"img-fluid"},null,8,Vv)])])):z("",!0),o("form",{onSubmit:pe(k,["prevent"]),class:"mb-3"},[o("div",Kv,[_[7]||(_[7]=o("div",{class:"col-auto"},[o("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),o("div",zv,[we(o("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":_[0]||(_[0]=q=>s.value=q)},[..._[6]||(_[6]=[o("option",{value:"5"},"5",-1),o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,s.value,void 0,{number:!0}]])]),_[8]||(_[8]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"条记录")],-1))])],32),a.value?(b(),w("div",Hv,[..._[9]||(_[9]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])])):r.value.length>0?(b(),w("div",Jv,[o("div",Wv,[o("table",Qv,[_[10]||(_[10]=o("thead",{class:"bg-light"},[o("tr",null,[o("th",null,"Chr"),o("th",null,"Start"),o("th",null,"End"),o("th",null,"ID"),o("th",null,"GO ID"),o("th",null,"Description"),o("th",null,"Gene Ontology")])],-1)),o("tbody",null,[(b(!0),w(te,null,ve(r.value,q=>(b(),w("tr",{key:`${q.ID}-${q.GO_ID}`},[o("td",null,$(q.Chr),1),o("td",null,$(q.Start),1),o("td",null,$(q.End),1),o("td",null,$(q.ID),1),o("td",null,$(q.GO_ID),1),o("td",null,$(q.Description),1),o("td",null,$(q.Gene_Ontology),1)]))),128))])])]),f.value>s.value?(b(),w("nav",Xv,[o("ul",Yv,[o("li",{class:$e(["page-item",{disabled:c.value===1}])},[o("a",{class:"page-link",href:"#",onClick:_[1]||(_[1]=pe(q=>h(1),["prevent"])),"aria-disabled":c.value===1}," 首页 ",8,Zv)],2),o("li",{class:$e(["page-item",{disabled:c.value===1}])},[o("a",{class:"page-link",href:"#",onClick:_[2]||(_[2]=pe(q=>h(c.value-1),["prevent"])),"aria-disabled":c.value===1}," 上一页 ",8,eb)],2),o("li",tb,[o("span",nb," 第 "+$(c.value)+" 页 / 共 "+$(v.value)+" 页 ",1)]),o("li",{class:$e(["page-item",{disabled:c.value===v.value}])},[o("a",{class:"page-link",href:"#",onClick:_[3]||(_[3]=pe(q=>h(c.value+1),["prevent"])),"aria-disabled":c.value===v.value}," 下一页 ",8,sb)],2),o("li",{class:$e(["page-item",{disabled:c.value===v.value}])},[o("a",{class:"page-link",href:"#",onClick:_[4]||(_[4]=pe(q=>h(v.value),["prevent"])),"aria-disabled":c.value===v.value}," 末页 ",8,ob)],2)])])):z("",!0)])):(b(),w("div",rb,"暂无注释结果")),o("div",ib,[Z(E,{to:"/tools/go-annotation",class:"btn btn-secondary"},{default:me(()=>[..._[11]||(_[11]=[ne("返回",-1)])]),_:1})])])}}}),lb=Pe(ab,[["__scopeId","data-v-03b3b785"]]),cb={class:"container mt-4"},ub={class:"form-group"},db={class:"form-group mt-3"},fb={key:0,class:"alert alert-danger mt-3"},pb=vt({__name:"GeneExpressionView",setup(t){const e=In(),s=B(""),i=B(""),r=B(""),a=()=>{const f=`Ghjin_A01g000110
Ghjin_A01g000120
Ghjin_A01g000130
Ghjin_A01g000140
Ghjin_A01g000150
Ghjin_A01g000160
Ghjin_A01g000170
Ghjin_A01g000180
Ghjin_A01g000190
`;s.value=f},c=async()=>{if(r.value="",!s.value.trim()){r.value="Please enter gene list";return}try{const f={gene_list:s.value,tissue:i.value};e.push({path:"/tools/gene-expression/results",query:f})}catch(f){r.value="Submission failed, please try again",console.error("Submission failed:",f)}};return(f,p)=>(b(),w("div",cb,[p[6]||(p[6]=o("h2",{class:"mb-4"},"Gene Expression Analysis",-1)),o("form",{onSubmit:pe(c,["prevent"])},[o("div",ub,[p[2]||(p[2]=o("label",{for:"gene_list"},"Enter gene list (one gene per line or separated by spaces):",-1)),we(o("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":p[0]||(p[0]=m=>s.value=m),rows:"10"},null,512),[[Ye,s.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:a}," Load Example ")]),o("div",db,[p[4]||(p[4]=o("label",{for:"tissue"},"Select Tissue:",-1)),we(o("select",{class:"form-control",id:"tissue","onUpdate:modelValue":p[1]||(p[1]=m=>i.value=m)},[...p[3]||(p[3]=[Ss('<option value="" data-v-9f7ece36>-- All Tissues --</option><option value="Root" data-v-9f7ece36>Root</option><option value="Stem" data-v-9f7ece36>Stem</option><option value="Cotyledon" data-v-9f7ece36>Cotyledon</option><option value="Leaf" data-v-9f7ece36>Leaf</option><option value="Pholem" data-v-9f7ece36>Pholem</option><option value="Sepal" data-v-9f7ece36>Sepal</option><option value="Bract" data-v-9f7ece36>Bract</option><option value="Petal" data-v-9f7ece36>Petal</option><option value="Anther" data-v-9f7ece36>Anther</option><option value="Stigma" data-v-9f7ece36>Stigma</option><option value="0_DPA_ovules" data-v-9f7ece36>0_DPA_ovules</option><option value="3_DPA_fibers" data-v-9f7ece36>3_DPA_fibers</option><option value="6_DPA_fibers" data-v-9f7ece36>6_DPA_fibers</option><option value="9_DPA_fibers" data-v-9f7ece36>9_DPA_fibers</option><option value="12_DPA_fibers" data-v-9f7ece36>12_DPA_fibers</option><option value="15_DPA_fibers" data-v-9f7ece36>15_DPA_fibers</option><option value="18_DPA_fibers" data-v-9f7ece36>18_DPA_fibers</option><option value="21_DPA_fibers" data-v-9f7ece36>21_DPA_fibers</option><option value="24_DPA_fibers" data-v-9f7ece36>24_DPA_fibers</option><option value="DPA0" data-v-9f7ece36>DPA0</option><option value="5_DPA_ovules" data-v-9f7ece36>5_DPA_ovules</option><option value="10_DPA_ovules" data-v-9f7ece36>10_DPA_ovules</option><option value="20_DPA_ovules" data-v-9f7ece36>20_DPA_ovules</option><option value="Seed" data-v-9f7ece36>Seed</option>',25)])],512),[[St,i.value]])]),p[5]||(p[5]=o("button",{type:"submit",class:"btn btn-primary mt-4"},"Submit Analysis",-1)),r.value?(b(),w("div",fb,$(r.value),1)):z("",!0)],32)]))}}),hb=Pe(pb,[["__scopeId","data-v-9f7ece36"]]);Pu();const mb={class:"container mt-4"},gb={class:"row g-2 align-items-center"},_b={class:"col-auto"},vb={key:0,class:"text-center py-4"},bb={key:1},yb={class:"table-responsive"},wb={class:"table table-bordered table-hover"},kb={class:"bg-light"},Eb={key:0},Ab={key:1},xb={class:"mt-4"},Sb={key:0,class:"heatmap-container mt-3 text-center"},Cb={class:"mt-2"},Tb=["src"],qb={key:1,class:"alert alert-info text-center mt-3"},$b={key:0,"aria-label":"Page navigation"},Db={class:"pagination justify-content-center"},Rb=["aria-disabled"],Pb=["aria-disabled"],Ib={class:"page-item active"},Ob={class:"page-link"},Nb=["aria-disabled"],Lb=["aria-disabled"],Mb={key:2,class:"alert alert-info"},jb={class:"mt-3"},Fb=vt({__name:"GeneExpressionResultView",setup(t){const e=On(),s=B(10),i=B(""),r=B(""),a=B([]),c=B(!1),f=B(1),p=B(0),m=B("");B(null),B(null);const v=[{value:"Root",label:"Root"},{value:"Stem",label:"Stem"},{value:"Cotyledon",label:"Cotyledon"},{value:"Leaf",label:"Leaf"},{value:"Pholem",label:"Pholem"},{value:"Sepal",label:"Sepal"},{value:"Bract",label:"Bract"},{value:"Petal",label:"Petal"},{value:"Anther",label:"Anther"},{value:"Stigma",label:"Stigma"},{value:"0_DPA_ovules",label:"0_DPA_ovules"},{value:"3_DPA_fibers",label:"3_DPA_fibers"},{value:"6_DPA_fibers",label:"6_DPA_fibers"},{value:"9_DPA_fibers",label:"9_DPA_fibers"},{value:"12_DPA_fibers",label:"12_DPA_fibers"},{value:"15_DPA_fibers",label:"15_DPA_fibers"},{value:"18_DPA_fibers",label:"18_DPA_fibers"},{value:"21_DPA_fibers",label:"21_DPA_fibers"},{value:"24_DPA_fibers",label:"24_DPA_fibers"},{value:"DPA0",label:"DPA0"},{value:"5_DPA_ovules",label:"5_DPA_ovules"},{value:"10_DPA_ovules",label:"10_DPA_ovules"},{value:"20_DPA_ovules",label:"20_DPA_ovules"},{value:"Seed",label:"Seed"}],k=Oe(()=>{const y=e.query.tissue||"";if(y){const O=v.find(C=>C.value===y);return O?[O]:v}else return v}),h=Oe(()=>Math.ceil(p.value/s.value)),x=Oe(()=>a.value.map(y=>({gene_id:y.gene_id,expression:y.expression}))),g=()=>{f.value=1,q()},_=y=>{f.value=y,q()},E=()=>{if(!m.value){alert("No heatmap available for download");return}const y=document.createElement("a");y.href=`data:image/png;base64,${m.value}`,y.download="gene_expression_heatmap.png",document.body.appendChild(y),y.click(),document.body.removeChild(y)};dn([a,k,x],()=>{console.log("数据变化，热图将通过API重新获取")},{deep:!0});const q=async()=>{c.value=!0;try{const y=e.query.gene_list||"",O=e.query.tissue||"";i.value=y,r.value=O;const C=y.trim().split(/[,\s]+/).filter(R=>R.trim());if(C.length===0){a.value=[],p.value=0,m.value="",c.value=!1;return}console.log("用户输入的基因ID:",C);let P=[`gene_ids=${encodeURIComponent(C.join(`
`))}`];r.value?P.push(`top_columns=${encodeURIComponent(r.value)}`):["Root","Stem","Cotyledon","Leaf","Pholem","Sepal","Bract","Petal","Anther","Stigma","0_DPA_ovules","3_DPA_fibers","6_DPA_fibers","9_DPA_fibers","12_DPA_fibers","15_DPA_fibers","18_DPA_fibers","21_DPA_fibers","24_DPA_fibers","DPA0","5_DPA_ovules","10_DPA_ovules","20_DPA_ovules","Seed"].forEach(U=>{P.push(`top_columns=${encodeURIComponent(U)}`)});const j=P.join("&"),V=await _t.post("/tools/gene_expression/gene_expression/",j,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});console.log("API响应:",V);const W=V;if(W.success){const R=W.data,U=C.map(L=>{const J=R.gene_ids?.indexOf(L)??-1;if(J>=0){const _e={};return R.columns?.forEach((Fe,He)=>{_e[Fe]=R.heatmap_data?.[J]?.[He]||0}),{gene_id:L,gene_name:L,expression:_e}}else return{gene_id:L,gene_name:L,expression:{}}});a.value=U,p.value=U.length,m.value=R.heatmap_image,console.log("处理后的结果数据:",a.value),console.log("后端生成的热图:",m.value?"已获取":"未获取")}else console.error("API请求失败:",W.error),a.value=[],p.value=0,m.value=""}catch(y){console.error("加载结果失败:",y),a.value=[],p.value=0,m.value=""}finally{c.value=!1}};return Wt(()=>{q()}),(y,O)=>{const C=gt("router-link");return b(),w("div",mb,[O[13]||(O[13]=o("h2",{class:"mb-4"},"Gene Expression Analysis Results",-1)),o("form",{onSubmit:pe(g,["prevent"]),class:"mb-3"},[o("div",gb,[O[6]||(O[6]=o("div",{class:"col-auto"},[o("label",{for:"per_page",class:"col-form-label"},"Results per page:")],-1)),o("div",_b,[we(o("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":O[0]||(O[0]=P=>s.value=P)},[...O[5]||(O[5]=[o("option",{value:"5"},"5",-1),o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,s.value,void 0,{number:!0}]])]),O[7]||(O[7]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"records")],-1))])],32),c.value?(b(),w("div",vb,[...O[8]||(O[8]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"Loading...")],-1)])])):a.value.length>0?(b(),w("div",bb,[o("div",yb,[o("table",wb,[o("thead",kb,[o("tr",null,[O[9]||(O[9]=o("th",null,"Gene ID",-1)),(b(!0),w(te,null,ve(k.value,P=>(b(),w("th",{key:P.value},$(P.label),1))),128))])]),o("tbody",null,[(b(!0),w(te,null,ve(a.value,P=>(b(),w("tr",{key:P.gene_id},[o("td",null,$(P.gene_id),1),(b(!0),w(te,null,ve(k.value,j=>(b(),w("td",{key:j.value},[P.expression[j.value]!==void 0?(b(),w("div",Eb,$(P.expression[j.value].toFixed(4)),1)):(b(),w("div",Ab,"-"))]))),128))]))),128))])])]),o("div",xb,[O[11]||(O[11]=o("h4",null,"Expression Level Visualization",-1)),m.value?(b(),w("div",Sb,[o("div",{class:"d-flex justify-content-between align-items-center mb-2"},[O[10]||(O[10]=o("h5",{class:"mb-0"},"Gene Expression Heatmap",-1)),o("div",null,[o("button",{class:"btn btn-sm btn-primary me-2",onClick:E},"Download Image")])]),o("div",Cb,[o("img",{src:`data:image/png;base64,${m.value}`,alt:"Gene Expression Heatmap",class:"img-fluid",style:{"max-width":"100%",height:"auto"}},null,8,Tb)])])):x.value.length>0?(b(),w("div",qb," No heatmap image available ")):z("",!0)]),p.value>s.value?(b(),w("nav",$b,[o("ul",Db,[o("li",{class:$e(["page-item",{disabled:f.value===1}])},[o("a",{class:"page-link",href:"#",onClick:O[1]||(O[1]=pe(P=>_(1),["prevent"])),"aria-disabled":f.value===1}," First ",8,Rb)],2),o("li",{class:$e(["page-item",{disabled:f.value===1}])},[o("a",{class:"page-link",href:"#",onClick:O[2]||(O[2]=pe(P=>_(f.value-1),["prevent"])),"aria-disabled":f.value===1}," Previous ",8,Pb)],2),o("li",Ib,[o("span",Ob," Page "+$(f.value)+" / "+$(h.value),1)]),o("li",{class:$e(["page-item",{disabled:f.value===h.value}])},[o("a",{class:"page-link",href:"#",onClick:O[3]||(O[3]=pe(P=>_(f.value+1),["prevent"])),"aria-disabled":f.value===h.value}," Next ",8,Nb)],2),o("li",{class:$e(["page-item",{disabled:f.value===h.value}])},[o("a",{class:"page-link",href:"#",onClick:O[4]||(O[4]=pe(P=>_(h.value),["prevent"])),"aria-disabled":f.value===h.value}," Last ",8,Lb)],2)])])):z("",!0)])):(b(),w("div",Mb,"No expression data available")),o("div",jb,[Z(C,{to:"/tools/gene-expression",class:"btn btn-secondary"},{default:me(()=>[...O[12]||(O[12]=[ne("Back",-1)])]),_:1})])])}}}),Bb=Pe(Fb,[["__scopeId","data-v-b47390e7"]]),Ub={name:"GeneExpressionEfpView",data(){return{geneId:"",lowColor:"#0000FF",midColor:"#00FF00",highColor:"#FF0000",isLoading:!1,resultImage:"",showResultImage:!1,message:"",messageType:"",currentRegionsInfo:[],currentImageSize:{width:0,height:0},mappedRegions:[],tooltipVisible:!1,tooltipContent:{name:"",value:""},tooltipStyle:{left:"0px",top:"0px"}}},mounted(){document.getElementById("gene_id").addEventListener("keypress",t=>{t.key==="Enter"&&this.generateImage()}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{fillExample(){const t="Ghjin_A01g000040";this.geneId=t},generateImage(){if(!this.geneId.trim()){this.showMessage("请输入基因ID","error");return}this.isLoading=!0,this.showResultImage=!1,this.hideMessage();const t={gene_id:this.geneId.trim(),low_color:this.lowColor,mid_color:this.midColor,high_color:this.highColor};fetch("/tools/gene_expression_in_eFP/generate-thermal-image/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":this.getCookie("csrftoken")},body:JSON.stringify(t)}).then(e=>e.ok?e.json():e.text().then(s=>{throw new Error(`HTTP错误 ${e.status}`)})).then(e=>{e.success?(this.currentRegionsInfo=e.regions_info||[],this.currentImageSize={width:e.image_width||0,height:e.image_height||0},this.resultImage=e.image,this.showResultImage=!0):this.showMessage("错误: "+e.error,"error")}).catch(e=>{this.showMessage("请求失败: "+e.message,"error")}).finally(()=>{this.isLoading=!1})},onImageLoad(){this.currentRegionsInfo.length>0&&this.currentImageSize.width>0&&this.createImageMap()},createImageMap(){const t=document.getElementById("result-image");if(!t||!t.complete||t.naturalWidth===0)return;const e=t.offsetWidth,s=t.offsetHeight,i=this.currentImageSize.width>0?e/this.currentImageSize.width:1,r=this.currentImageSize.height>0?s/this.currentImageSize.height:1;this.mappedRegions=this.currentRegionsInfo.filter(a=>a.polygon&&a.polygon.length>=3).map(a=>({coords:a.polygon.map(p=>[Math.round(p[0]*i),Math.round(p[1]*r)]).map(p=>`${p[0]},${p[1]}`).join(","),name:a.name,title:`${a.name}: ${typeof a.value=="number"?a.value.toFixed(4):a.value}`,value:a.value}))},showTooltip(t,e){let s;typeof e.value=="number"?s=e.value.toFixed(4):s=e.value,this.tooltipContent={name:e.name,value:s},this.tooltipVisible=!0,this.moveTooltip(t)},moveTooltip(t){const e=document.getElementById("result-image");if(!e||!e.complete||e.naturalWidth===0)return;e.getBoundingClientRect();const s=e.parentElement.getBoundingClientRect(),i=t.clientX-s.left+15,r=t.clientY-s.top+15;this.tooltipStyle={left:`${i}px`,top:`${r}px`}},hideTooltip(){this.tooltipVisible=!1},showMessage(t,e){this.message=t,this.messageType=e},hideMessage(){this.message=""},hideInitialImage(){},getCookie(t){let e=null;if(document.cookie&&document.cookie!==""){const s=document.cookie.split(";");for(let i=0;i<s.length;i++){const r=s[i].trim();if(r.substring(0,t.length+1)===t+"="){e=decodeURIComponent(r.substring(t.length+1));break}}}return e},updateColorBox(t,e){e==="low"?this.lowColor=t.target.value:e==="mid"?this.midColor=t.target.value:e==="high"&&(this.highColor=t.target.value),console.log(`Color updated: ${e} = ${t.target.value}`)},triggerColorInput(t){document.getElementById(`${t}-color`).click()},handleResize(){this.showResultImage&&this.currentRegionsInfo.length>0&&this.createImageMap()}}},Gb={class:"container"},Vb={class:"input-group"},Kb=["disabled"],zb={key:0,class:"loading",id:"loading"},Hb={class:"color-picker-group"},Jb={class:"color-picker"},Wb={class:"color-picker"},Qb={class:"color-picker"},Xb={id:"result"},Yb={class:"image-container"},Zb=["src"],e0={name:"regionMap",id:"regionMap"},t0=["coords","alt","title","onMouseenter"];function n0(t,e,s,i,r,a){return b(),w("div",Gb,[e[20]||(e[20]=o("h1",null,"gene_expression_in_eFP",-1)),o("div",Vb,[we(o("input",{type:"text",id:"gene_id","onUpdate:modelValue":e[0]||(e[0]=c=>r.geneId=c),placeholder:"请输入基因ID，例如: Gh_A01G0001",autocomplete:"off"},null,512),[[Ye,r.geneId]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",id:"fillExample",onClick:e[1]||(e[1]=(...c)=>a.fillExample&&a.fillExample(...c))}," load example "),o("button",{onClick:e[2]||(e[2]=(...c)=>a.generateImage&&a.generateImage(...c)),id:"generate-btn",disabled:r.isLoading}," 生成热图 ",8,Kb),r.isLoading?(b(),w("span",zb,"正在生成热图...")):z("",!0)]),o("div",Hb,[o("div",Jb,[e[16]||(e[16]=o("label",{for:"low-color"},"低值:",-1)),we(o("input",{type:"color",id:"low-color","onUpdate:modelValue":e[3]||(e[3]=c=>r.lowColor=c),class:"color-input",onChange:e[4]||(e[4]=c=>a.updateColorBox(c,"low"))},null,544),[[Ye,r.lowColor]]),o("div",{class:"color-box",style:bs({backgroundColor:r.lowColor}),onClick:e[5]||(e[5]=c=>a.triggerColorInput("low"))},null,4)]),o("div",Wb,[e[17]||(e[17]=o("label",{for:"mid-color"},"中值:",-1)),we(o("input",{type:"color",id:"mid-color","onUpdate:modelValue":e[6]||(e[6]=c=>r.midColor=c),class:"color-input",onChange:e[7]||(e[7]=c=>a.updateColorBox(c,"mid"))},null,544),[[Ye,r.midColor]]),o("div",{class:"color-box",style:bs({backgroundColor:r.midColor}),onClick:e[8]||(e[8]=c=>a.triggerColorInput("mid"))},null,4)]),o("div",Qb,[e[18]||(e[18]=o("label",{for:"high-color"},"高值:",-1)),we(o("input",{type:"color",id:"high-color","onUpdate:modelValue":e[9]||(e[9]=c=>r.highColor=c),class:"color-input",onChange:e[10]||(e[10]=c=>a.updateColorBox(c,"high"))},null,544),[[Ye,r.highColor]]),o("div",{class:"color-box",style:bs({backgroundColor:r.highColor}),onClick:e[11]||(e[11]=c=>a.triggerColorInput("high"))},null,4)])]),r.showResultImage?z("",!0):(b(),w("img",{key:0,id:"initial-image",src:ua,alt:"初始热图模板",onError:e[12]||(e[12]=(...c)=>a.hideInitialImage&&a.hideInitialImage(...c))},null,32)),r.message?(b(),w("div",{key:1,id:"message",class:$e(r.messageType)},$(r.message),3)):z("",!0),o("div",Xb,[o("div",Yb,[r.showResultImage?(b(),w("img",{key:0,id:"result-image",src:r.resultImage,alt:"热图结果",usemap:"#regionMap",onLoad:e[13]||(e[13]=(...c)=>a.onImageLoad&&a.onImageLoad(...c))},null,40,Zb)):z("",!0),o("map",e0,[(b(!0),w(te,null,ve(r.mappedRegions,(c,f)=>(b(),w("area",{key:f,shape:"poly",coords:c.coords,alt:c.name,title:c.title,onMouseenter:p=>a.showTooltip(p,c),onMousemove:e[14]||(e[14]=p=>a.moveTooltip(p)),onMouseleave:e[15]||(e[15]=(...p)=>a.hideTooltip&&a.hideTooltip(...p))},null,40,t0))),128))]),r.tooltipVisible?(b(),w("div",{key:1,id:"tooltip",class:"tooltip",style:bs(r.tooltipStyle)},[o("strong",null,$(r.tooltipContent.name),1),e[19]||(e[19]=o("br",null,null,-1)),ne(" 表达值: "+$(r.tooltipContent.value),1)],4)):z("",!0)])])])}const s0=Pe(Ub,[["render",n0],["__scopeId","data-v-ee61d65d"]]),o0={class:"container mt-4"},r0={class:"form-group"},i0=["disabled"],a0=["disabled"],l0={class:"d-flex justify-content-end mt-3"},c0=["disabled"],u0={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},d0={key:1},f0={__name:"KeggAnnotationView",setup(t){const e=B(""),s=B(!1),i=In(),r=()=>{const c=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230`;e.value=c},a=async()=>{if(!e.value.trim()){alert("Please enter gene IDs");return}s.value=!0;try{const c=await _t.post("/tools/kegg_annotation/api/start/",{gene_id:e.value});c.status==="success"&&c.task_id?i.push({path:"/tools/kegg-annotation/results",query:{task_id:c.task_id}}):alert("Error: "+(c.error||"Failed to get task ID"))}catch(c){console.error("Error submitting form:",c),alert("Error submitting form: "+(c.message||"Unknown error"))}finally{s.value=!1}};return(c,f)=>(b(),w("div",o0,[f[2]||(f[2]=o("h2",null,"KEGG Annotation Search",-1)),o("form",{onSubmit:pe(a,["prevent"])},[o("div",r0,[f[1]||(f[1]=o("label",{for:"gene_id"},"Enter Gene IDs (one per line or space/comma separated):",-1)),we(o("textarea",{id:"gene_id","onUpdate:modelValue":f[0]||(f[0]=p=>e.value=p),class:"form-control",rows:"5",disabled:s.value},null,8,i0),[[Ye,e.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",id:"fillExample",onClick:r,disabled:s.value}," load example ",8,a0)]),o("div",l0,[o("button",{type:"submit",class:"btn btn-primary",disabled:s.value},[s.value?(b(),w("span",u0)):(b(),w("span",d0,"Search"))],8,c0)])],32)]))}},p0=Pe(f0,[["__scopeId","data-v-6f69a42c"]]);ca.register(...Iu);const h0={class:"container mt-4"},m0={class:"d-flex justify-content-between align-items-center mb-4"},g0={key:0,class:"badge bg-info"},_0={key:0,class:"text-center py-4"},v0={key:1,class:"alert alert-danger",role:"alert"},b0={key:2,class:"alert alert-warning",role:"alert"},y0={key:3},w0={key:0,class:"mt-5"},k0={class:"row g-2 align-items-center"},E0={class:"col-auto"},A0={class:"card"},x0={class:"card-header d-flex justify-content-between align-items-center"},S0={class:"badge bg-primary"},C0={class:"card-body p-0"},T0={class:"table-responsive"},q0={class:"table table-striped table-bordered mb-0"},$0={key:0,"aria-label":"Page navigation"},D0={class:"pagination justify-content-center mt-3 mb-0"},R0=["onClick"],P0={key:1,class:"text-center mt-2 mb-3"},I0={class:"text-muted mb-0"},O0=vt({__name:"KeggAnnotationResultView",setup(t){const e=On(),s=B([]),i=B(10),r=B(1),a=B(!0),c=B(null),f=B(!1),p=B(""),m=B(0),v=B(0),k=B(0),h=B(0),x=B({labels:[],data:[]}),g=Oe(()=>Math.ceil(v.value/i.value)),_=Oe(()=>(r.value-1)*i.value+1),E=Oe(()=>Math.min(r.value*i.value,v.value)),q=Oe(()=>{const W=(r.value-1)*i.value,R=W+i.value;return s.value.slice(W,R)}),y=Oe(()=>{const W=g.value,R=r.value,U=[];if(W<=5)for(let L=1;L<=W;L++)U.push(L);else if(R<=3)for(let L=1;L<=5;L++)U.push(L);else if(R>=W-2)for(let L=W-4;L<=W;L++)U.push(L);else for(let L=R-2;L<=R+2;L++)U.push(L);return U}),O=()=>{r.value=1,j()},C=()=>{r.value=1,j()},P=W=>{W<1||W>g.value||(r.value=W,j())},j=async()=>{f.value=!0;try{const W=e.query.task_id;if(!W){p.value="缺少任务ID",a.value=!1;return}const R=await _t.get("/tools/kegg_annotation/api/results/",{params:{task_id:W,page_size:i.value,page:r.value}});console.log("KEGG注释API响应:",R),R&&R.status==="success"?(s.value=R.results||[],v.value=R.total||0,k.value=R.total_genes||0,h.value=R.annotated_genes||0,R.chart_data?x.value={labels:R.chart_data.labels||[],data:R.chart_data.data||[]}:x.value={labels:[],data:[]},a.value=s.value.length>0,console.log("KEGG注释结果:",s.value),console.log("图表数据:",x.value),console.log("图表标签数量:",x.value.labels.length),console.log("图表数据数量:",x.value.data.length),V()):R&&R.status==="processing"?setTimeout(()=>j(),1e3):(p.value=R.error||"获取结果失败",a.value=!1)}catch(W){p.value="获取结果失败: "+(W.message||W),console.error("Error fetching results:",W),a.value=!1}finally{f.value=!1}},V=()=>{console.log("渲染KEGG通路分布图表..."),console.log("图表数据:",x.value);const W=document.getElementById("keggChart");if(!W){console.error("没有找到keggChart元素");return}if(c.value&&(c.value.destroy(),c.value=null),!x.value.labels||x.value.labels.length===0){console.log("没有图表数据，不渲染图表");return}c.value=new ca(W,{type:"bar",data:{labels:x.value.labels,datasets:[{label:"",data:x.value.data,backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Count"}},x:{title:{display:!0,text:""}}}}})};return dn(()=>x.value,async W=>{W&&W.labels&&W.labels.length>0&&(await oa(),V())},{deep:!0}),Wt(async()=>{await j()}),(W,R)=>{const U=gt("router-link");return b(),w("div",h0,[o("div",m0,[R[5]||(R[5]=o("h2",null,"KEGG Annotation Results",-1)),m.value?(b(),w("span",g0,"Executed in "+$(m.value)+" seconds",1)):z("",!0)]),Z(U,{to:"/tools/kegg-annotation",class:"btn btn-secondary mb-4"},{default:me(()=>[...R[6]||(R[6]=[ne("返回搜索",-1)])]),_:1}),f.value?(b(),w("div",_0,[...R[7]||(R[7]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])])):p.value?(b(),w("div",v0,$(p.value),1)):a.value?(b(),w("div",y0,[x.value.labels&&x.value.labels.length>0?(b(),w("div",w0,[...R[8]||(R[8]=[o("h3",null,"KEGG Pathway",-1),o("div",{class:"chart-container",style:{height:"400px"}},[o("canvas",{id:"keggChart"})],-1)])])):z("",!0),o("form",{onSubmit:pe(O,["prevent"]),class:"mb-3"},[o("div",k0,[R[10]||(R[10]=o("div",{class:"col-auto"},[o("label",{for:"pageSize",class:"col-form-label"},"每页显示:")],-1)),o("div",E0,[we(o("select",{id:"pageSize","onUpdate:modelValue":R[0]||(R[0]=L=>i.value=L),class:"form-select",onChange:C},[...R[9]||(R[9]=[o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1),o("option",{value:"100"},"100",-1)])],544),[[St,i.value,void 0,{number:!0}]])]),R[11]||(R[11]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"条记录")],-1))])],32),o("div",A0,[o("div",x0,[R[12]||(R[12]=o("span",null,"Annotation Results",-1)),o("span",S0,$(v.value)+" results",1)]),o("div",C0,[o("div",T0,[o("table",q0,[R[13]||(R[13]=o("thead",null,[o("tr",null,[o("th",null,"Chr"),o("th",null,"Start"),o("th",null,"End"),o("th",null,"ID"),o("th",null,"KO"),o("th",null,"Pathway Name")])],-1)),o("tbody",null,[(b(!0),w(te,null,ve(q.value,L=>(b(),w("tr",{key:L.ID},[o("td",null,$(L.Chr),1),o("td",null,$(L.Start),1),o("td",null,$(L.End),1),o("td",null,$(L.ID),1),o("td",null,$(L.match),1),o("td",null,$(L.Description),1)]))),128))])])]),g.value>1?(b(),w("nav",$0,[o("ul",D0,[o("li",{class:$e(["page-item",{disabled:r.value===1}])},[o("a",{class:"page-link",href:"#",onClick:R[1]||(R[1]=pe(L=>P(1),["prevent"]))}," 首页 ")],2),o("li",{class:$e(["page-item",{disabled:r.value===1}])},[o("a",{class:"page-link",href:"#",onClick:R[2]||(R[2]=pe(L=>P(r.value-1),["prevent"]))}," 上一页 ")],2),(b(!0),w(te,null,ve(y.value,L=>(b(),w("li",{key:L,class:$e(["page-item",{active:L===r.value}])},[o("a",{class:"page-link",href:"#",onClick:pe(J=>P(L),["prevent"])},$(L),9,R0)],2))),128)),o("li",{class:$e(["page-item",{disabled:r.value===g.value}])},[o("a",{class:"page-link",href:"#",onClick:R[3]||(R[3]=pe(L=>P(r.value+1),["prevent"]))}," 下一页 ")],2),o("li",{class:$e(["page-item",{disabled:r.value===g.value}])},[o("a",{class:"page-link",href:"#",onClick:R[4]||(R[4]=pe(L=>P(g.value),["prevent"]))}," 末页 ")],2)])])):z("",!0),g.value>1?(b(),w("div",P0,[o("p",I0," Showing "+$(_.value)+" to "+$(E.value)+" of "+$(v.value)+" entries ",1)])):z("",!0)])])])):(b(),w("div",b0," No results found. Please try with different gene IDs. "))])}}}),N0=Pe(O0,[["__scopeId","data-v-7cf733fe"]]),L0={class:"container mt-4"},M0={class:"form-group"},j0=["disabled"],F0=["disabled"],B0={class:"row g-3 mt-3"},U0={class:"col-md-6"},G0=["disabled"],V0={class:"col-md-6"},K0=["disabled"],z0={class:"d-flex justify-content-end mt-3"},H0=["disabled"],J0={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},W0={key:1},Q0=vt({__name:"KeggEnrichmentView",setup(t){const e=B(""),s=B(.05),i=B(.05),r=B(!1),a=In(),c=()=>{const p=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230
Kirkii_Juiced.00g000240
Kirkii_Juiced.00g000250
Kirkii_Juiced.00g000260
Kirkii_Juiced.00g000270
Kirkii_Juiced.00g000280
Kirkii_Juiced.00g000290
Kirkii_Juiced.00g000300`;e.value=p},f=async()=>{if(!e.value.trim()){alert("请输入基因ID");return}if(s.value<0||s.value>1){alert("P值阈值必须在0到1之间");return}if(i.value<0||i.value>1){alert("Q值阈值必须在0到1之间");return}r.value=!0;try{const p=await _t.post("/tools/kegg_enrichment/api/start/",{gene_list:e.value,p_value_threshold:s.value});p&&p.status==="success"&&p.task_id&&a.push({path:"/tools/kegg-enrichment/results",query:{task_id:p.task_id}})}catch(p){console.error("提交表单时出错:",p),alert("提交表单时出错: "+(p.message||"未知错误"))}finally{r.value=!1}};return(p,m)=>(b(),w("div",L0,[m[6]||(m[6]=o("h2",null,"KEGG通路富集分析",-1)),o("form",{onSubmit:pe(f,["prevent"])},[o("div",M0,[m[3]||(m[3]=o("label",{for:"gene_list"},"输入基因ID（每行一个或空格/逗号分隔）:",-1)),we(o("textarea",{id:"gene_list","onUpdate:modelValue":m[0]||(m[0]=v=>e.value=v),class:"form-control",rows:"10",placeholder:"请在此输入基因ID...",disabled:r.value},null,8,j0),[[Ye,e.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:c,disabled:r.value}," 加载示例 ",8,F0)]),o("div",B0,[o("div",U0,[m[4]||(m[4]=o("label",{for:"p_value_threshold",class:"form-label"},"P值阈值:",-1)),we(o("input",{type:"number",id:"p_value_threshold","onUpdate:modelValue":m[1]||(m[1]=v=>s.value=v),class:"form-control",min:"0",max:"1",step:"0.001",disabled:r.value},null,8,G0),[[Ye,s.value,void 0,{number:!0}]])]),o("div",V0,[m[5]||(m[5]=o("label",{for:"q_value_threshold",class:"form-label"},"Q值阈值:",-1)),we(o("input",{type:"number",id:"q_value_threshold","onUpdate:modelValue":m[2]||(m[2]=v=>i.value=v),class:"form-control",min:"0",max:"1",step:"0.001",disabled:r.value},null,8,K0),[[Ye,i.value,void 0,{number:!0}]])])]),o("div",z0,[o("button",{type:"submit",class:"btn btn-primary",disabled:r.value},[r.value?(b(),w("span",J0)):(b(),w("span",W0,"提交"))],8,H0)])],32)]))}}),X0=Pe(Q0,[["__scopeId","data-v-2da975a3"]]),Y0={class:"container mt-4"},Z0={key:0,class:"text-center py-4"},ey={key:1,class:"alert alert-danger",role:"alert"},ty={key:2},ny={key:0,class:"alert alert-warning mb-4",role:"alert"},sy={key:1,class:"mb-4"},oy={class:"text-center"},ry=["src"],iy={key:2},ay={class:"row g-2 align-items-center"},ly={class:"col-auto"},cy={class:"mb-5"},uy={class:"text-danger"},dy={class:"text-muted"},fy={class:"table-responsive"},py={class:"table table-bordered table-hover"},hy=["title"],my={key:0,"aria-label":"Page navigation"},gy={class:"pagination justify-content-center",id:"pagination-results"},_y={class:"page-item active"},vy={class:"page-link"},by=vt({__name:"KeggEnrichmentResultView",setup(t){const e=On(),s=B([]),i=B(10),r=B(1),a=B(!0),c=B(!1),f=B(""),p=B(0),m=B(null),v=B(0),k=Oe(()=>Math.ceil(v.value/i.value)),h=Oe(()=>{const q=(r.value-1)*i.value,y=q+i.value;return s.value.slice(q,y)}),x=()=>{r.value=1,E()},g=()=>{r.value=1,E()},_=q=>{q<1||q>k.value||(r.value=q,E())},E=async()=>{c.value=!0;try{const q=e.query.task_id;if(!q){f.value="缺少任务ID",a.value=!1;return}const y=await _t.get("/tools/kegg_enrichment/api/results/",{params:{task_id:q,page_size:i.value,page:r.value}});console.log("KEGG富集API响应:",y),typeof y=="object"&&y!==null?y.status==="success"?(s.value=y.results||[],v.value=y.total||s.value.length,a.value=s.value.length>0,p.value=y.execution_time||0,m.value=y.plot_image||null):y.status==="processing"?setTimeout(()=>E(),1e3):(f.value=y.error||"获取结果失败",a.value=!1):(f.value="无效的API响应",a.value=!1)}catch(q){f.value="获取结果失败: "+(q.message||q),console.error("Error fetching results:",q),a.value=!1}finally{c.value=!1}};return Wt(async()=>{await E()}),(q,y)=>{const O=gt("router-link");return b(),w("div",Y0,[y[13]||(y[13]=o("h2",{class:"mb-4"},"KEGG通路富集分析结果",-1)),Z(O,{to:"/tools/kegg-enrichment",class:"btn btn-secondary mb-3"},{default:me(()=>[...y[5]||(y[5]=[ne("返回",-1)])]),_:1}),c.value?(b(),w("div",Z0,[...y[6]||(y[6]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])])):f.value?(b(),w("div",ey,$(f.value),1)):(b(),w("div",ty,[a.value?z("",!0):(b(),w("div",ny," 未找到显著的KEGG通路富集结果 ")),m.value?(b(),w("div",sy,[y[7]||(y[7]=o("h4",{class:"mb-3"},"KEGG Enrichment Plot",-1)),o("div",oy,[o("img",{src:"data:image/png;base64,"+m.value,alt:"KEGG Enrichment Plot",class:"img-fluid"},null,8,ry)])])):z("",!0),a.value?(b(),w("div",iy,[o("form",{onSubmit:pe(x,["prevent"]),class:"mb-3",id:"per-page-form"},[o("div",ay,[y[9]||(y[9]=o("div",{class:"col-auto"},[o("label",{for:"pageSize",class:"col-form-label"},"每页显示:")],-1)),o("div",ly,[we(o("select",{id:"pageSize","onUpdate:modelValue":y[0]||(y[0]=C=>i.value=C),class:"form-select",onChange:g},[...y[8]||(y[8]=[o("option",{value:"5"},"5",-1),o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],544),[[St,i.value,void 0,{number:!0}]])]),y[10]||(y[10]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"条记录")],-1))])],32),o("div",cy,[o("h4",uy,[y[11]||(y[11]=ne(" KEGG通路 ",-1)),o("small",dy,"(共 "+$(v.value)+" 条)",1)]),o("div",fy,[o("table",py,[y[12]||(y[12]=o("thead",{class:"bg-light"},[o("tr",null,[o("th",null,"通路ID"),o("th",null,"描述"),o("th",null,"GeneRatio"),o("th",null,"BgRatio"),o("th",null,"RichFactor"),o("th",null,"FoldEnrichment"),o("th",null,"zScore"),o("th",null,"pvalue")])],-1)),o("tbody",null,[(b(!0),w(te,null,ve(h.value,C=>(b(),w("tr",{key:C.pathway_id},[o("td",null,$(C.pathway_id),1),o("td",null,[ne($(C.description.name||"")+" ",1),C.description.definition?(b(),w("i",{key:0,class:"fas fa-info-circle text-muted","data-bs-toggle":"tooltip",title:C.description.definition},null,8,hy)):z("",!0)]),o("td",null,$(C.gene_ratio),1),o("td",null,$(C.bg_ratio),1),o("td",null,$(C.rich_factor.toFixed(4)),1),o("td",null,$(C.fold_enrichment.toFixed(4)),1),o("td",null,$(C.z_score.toFixed(4)),1),o("td",null,$(C.p_value.toFixed(6)),1)]))),128))])])]),k.value>1?(b(),w("nav",my,[o("ul",gy,[o("li",{class:$e(["page-item",{disabled:r.value===1}])},[o("a",{class:"page-link",href:"#",onClick:y[1]||(y[1]=pe(C=>_(1),["prevent"]))}," 首页 ")],2),o("li",{class:$e(["page-item",{disabled:r.value===1}])},[o("a",{class:"page-link",href:"#",onClick:y[2]||(y[2]=pe(C=>_(r.value-1),["prevent"]))}," 上一页 ")],2),o("li",_y,[o("span",vy," 第 "+$(r.value)+" 页 / 共 "+$(k.value)+" 页 ",1)]),o("li",{class:$e(["page-item",{disabled:r.value===k.value}])},[o("a",{class:"page-link",href:"#",onClick:y[3]||(y[3]=pe(C=>_(r.value+1),["prevent"]))}," 下一页 ")],2),o("li",{class:$e(["page-item",{disabled:r.value===k.value}])},[o("a",{class:"page-link",href:"#",onClick:y[4]||(y[4]=pe(C=>_(k.value),["prevent"]))}," 末页 ")],2)])])):z("",!0)])])):z("",!0)]))])}}}),yy=Pe(by,[["__scopeId","data-v-67ac7871"]]),wy={name:"TFView",components:{QuestionFilled:_u,VideoPlay:gu,Search:mu},setup(){const t=B([]),e=B({multiple:!1,checkStrictly:!1,expandTrigger:"click",showAllLevels:!1}),s=B([]),i=B(!1),r=async()=>{i.value=!0;try{const V=await(await fetch("/Browse/api/species/")).json();if(V.status==="success"){const W=V.data;console.log("speciesData:",W);const R={};W.forEach(U=>{const L=U.Genome_type||"undefined";R[L]||(R[L]=[]),R[L].push({value:U.name||U.Cotton_Species,label:U.name||U.Cotton_Species})}),console.log("genomes:",R),s.value=Object.entries(R).map(([U,L])=>({value:U,label:U,children:L}))}}catch(j){console.error("Error fetching genomes:",j)}finally{i.value=!1}},a=B([]),c=B([]),f=B(""),p=B(1),m=B(10),v=B(0),k=B(!1),h=Oe(()=>{const j=(p.value-1)*m.value,V=j+m.value;return c.value.slice(j,V)}),x=async()=>{try{const V=await(await fetch("/Browse/api/tf/families/")).json();V.status==="success"&&(a.value=V.data.map((W,R)=>({name:W.name,count:W.count,checked:R===0})),g())}catch(j){console.error("Error fetching TF families:",j)}},g=async()=>{k.value=!0;try{const j=new URLSearchParams;t.value.length>0&&j.append("genome",t.value[t.value.length-1]);const V=a.value.filter(U=>U.checked).map(U=>U.name);V.length>0&&j.append("family",V.join(",")),f.value&&j.append("search",f.value);const R=await(await fetch(`/Browse/api/tf/?${j}`)).json();R.status==="success"&&(c.value=R.data,v.value=R.total||0)}catch(j){console.error("Error fetching TF data:",j)}finally{k.value=!1}},_=()=>{p.value=1,g()},E=()=>{p.value=1,g()},q=()=>{p.value=1,g()},y=()=>{},O=()=>{p.value=1},C=j=>{console.log("Selected row:",j)},P=j=>{console.log("Gene link clicked:",j),Ja.push({name:"idSearchResults",query:{id:j}})};return dn(m,()=>{p.value=1}),Wt(()=>{r(),x()}),{selectedGenome:t,genomeOptions:s,genomeLoading:i,cascaderProps:e,tfFamilies:a,searchQuery:f,currentPage:p,pageSize:m,totalCount:v,tfData:c,paginatedTFData:h,loading:k,handleGenomeChange:_,handleFamilyChange:E,handleSearch:q,handlePageChange:y,handlePageSizeChange:O,handleRowClick:C,handleGeneClick:P}}},ky={class:"container-fluid"},Ey={class:"row"},Ay={class:"col-md-3"},xy={class:"sidebar"},Sy={class:"mt-4"},Cy={class:"sidebar-title"},Ty={class:"col-md-9"},qy={class:"main-content"},$y={class:"tf-families mt-4"},Dy={class:"row"},Ry={class:"tf-table mt-4"},Py={class:"d-flex justify-content-between align-items-center mb-3"},Iy={class:"table-pagination"},Oy={class:"table-search"},Ny={class:"d-flex justify-content-between align-items-center mt-3"},Ly={class:"table-info"};function My(t,e,s,i,r,a){const c=gt("QuestionFilled"),f=na,p=gt("VideoPlay"),m=vu,v=yu,k=ra,h=bu,x=aa,g=la,_=wu,E=ia;return b(),w("div",ky,[o("div",Ey,[o("div",Ay,[o("div",xy,[o("h3",null,[e[6]||(e[6]=ne("Transcription factors ",-1)),Z(f,{class:"info-icon"},{default:me(()=>[Z(c)]),_:1})]),o("div",Sy,[o("h4",Cy,[Z(f,{class:"play-icon"},{default:me(()=>[Z(p)]),_:1}),e[7]||(e[7]=ne(" Select a genome",-1))]),Z(m,{modelValue:i.selectedGenome,"onUpdate:modelValue":e[0]||(e[0]=q=>i.selectedGenome=q),options:i.genomeOptions,props:i.cascaderProps,placeholder:"Select genome",class:"w-100 mt-2",onChange:i.handleGenomeChange,loading:i.genomeLoading},null,8,["modelValue","options","props","onChange","loading"])])])]),o("div",Ty,[o("div",qy,[e[9]||(e[9]=o("h2",null,"Annotated transcription factors",-1)),o("div",$y,[o("div",Dy,[(b(!0),w(te,null,ve(i.tfFamilies,q=>(b(),w("div",{class:"col-md-3",key:q.name},[Z(v,{modelValue:q.checked,"onUpdate:modelValue":y=>q.checked=y,class:"tf-checkbox",onChange:i.handleFamilyChange},{default:me(()=>[ne($(q.name)+"("+$(q.count)+") ",1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]))),128))])]),o("div",Ry,[e[8]||(e[8]=o("h4",{class:"table-title"},"Click on a row to check the details of the selected gene",-1)),o("div",Py,[o("div",Iy,[Z(k,{"current-page":i.currentPage,"onUpdate:currentPage":e[1]||(e[1]=q=>i.currentPage=q),"page-size":i.pageSize,"onUpdate:pageSize":[e[2]||(e[2]=q=>i.pageSize=q),i.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"sizes",total:i.totalCount,onCurrentChange:i.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])]),o("div",Oy,[Z(h,{modelValue:i.searchQuery,"onUpdate:modelValue":e[3]||(e[3]=q=>i.searchQuery=q),placeholder:"Search","prefix-icon":"Search",size:"small",class:"w-100",onInput:i.handleSearch,clearable:""},null,8,["modelValue","onInput"])])]),i.loading?(b(),As(x,{key:0,rows:10,animated:""})):(b(),As(E,{key:1,data:i.paginatedTFData,style:{width:"100%"},onRowClick:i.handleRowClick,stripe:"",border:""},{default:me(()=>[Z(g,{prop:"TF_name",label:"TF Name","min-width":"50"}),Z(g,{prop:"TF_class",label:"TF Class","min-width":"50"}),Z(g,{prop:"TF_gene",label:"Gene","min-width":"120"},{default:me(q=>[Z(_,{type:"primary",underline:!1,onClick:y=>i.handleGeneClick(q.row.TF_gene),class:"gene-link"},{default:me(()=>[ne($(q.row.TF_gene),1)]),_:2},1032,["onClick"])]),_:1}),Z(g,{prop:"TF_genome",label:"Genome","min-width":"120"})]),_:1},8,["data","onRowClick"])),o("div",Ny,[o("span",Ly," Showing "+$((i.currentPage-1)*i.pageSize+1)+" to "+$(Math.min(i.currentPage*i.pageSize,i.totalCount))+" of "+$(i.totalCount)+" entries ",1),Z(k,{"current-page":i.currentPage,"onUpdate:currentPage":e[4]||(e[4]=q=>i.currentPage=q),"page-size":i.pageSize,"onUpdate:pageSize":[e[5]||(e[5]=q=>i.pageSize=q),i.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:i.totalCount,onCurrentChange:i.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])])])])])])}const jy=Pe(wy,[["render",My],["__scopeId","data-v-70e3e752"]]),Mt={props:["title"],template:`<div class="container mt-4">
    <h1>{{ title }}</h1>
    <p>此页面正在开发中...</p>
  </div>`},Fy=[{path:"/",name:"home",component:kf},{path:"/browse/genome",name:"BrowseGenome",component:Sf},{path:"/browse/species",name:"BrowseSpecies",component:()=>({...Mt,propsData:{title:"浏览物种"}})},{path:"/browse/tf",name:"BrowseTF",component:jy},{path:"/jbrowse",name:"jbrowse",component:Rg},{path:"/tools/id-search",name:"idSearch",component:vh},{path:"/tools/id-search/results",name:"idSearchResults",component:Qm},{path:"/tools/id-search/id-search-summary/",name:"idSearchSummary",component:wg},{path:"/tools/blastp",name:"Blastp",component:n_},{path:"/tools/blastp/results",name:"blastpResults",component:V_},{path:"/tools/go-enrichment",name:"GoEnrichment",component:tv},{path:"/tools/go-enrichment/results",name:"goEnrichmentResults",component:Iv},{path:"/tools/go-annotation",name:"GoAnnotation",component:Fv},{path:"/tools/go-annotation/results",name:"goAnnotationResults",component:lb},{path:"/tools/kegg-annotation",name:"KeggAnnotation",component:p0},{path:"/tools/kegg-annotation/results",name:"KeggAnnotationResults",component:N0},{path:"/tools/kegg-enrichment",name:"KeggEnrichment",component:X0},{path:"/tools/kegg-enrichment/results",name:"KeggEnrichmentResults",component:yy},{path:"/tools/heatmap",name:"Heatmap",component:()=>({...Mt,propsData:{title:"热图分析"}})},{path:"/tools/gene-expression",name:"GeneExpression",component:hb},{path:"/tools/gene-expression/results",name:"geneExpressionResults",component:Bb},{path:"/tools/gene-expression-efp",name:"GeneExpressionEfp",component:s0},{path:"/tools/ks-calculator",name:"KsCalculator",component:()=>({...Mt,propsData:{title:"KS计算器"}})},{path:"/tools/ks-calculator/results",name:"KsCalculatorResults",component:()=>({...Mt,propsData:{title:"KS计算器结果"}})},{path:"/tools/orthogroup",name:"Orthogroup",component:()=>({...Mt,propsData:{title:"Orthogroup分析"}})},{path:"/tools/orthogroup/results",name:"OrthogroupResults",component:()=>({...Mt,propsData:{title:"Orthogroup分析结果"}})},{path:"/tools/msa",name:"Msa",component:()=>({...Mt,propsData:{title:"多序列比对"}})},{path:"/tools/msa/results",name:"MsaResults",component:()=>({...Mt,propsData:{title:"多序列比对结果"}})},{path:"/tools/circos",name:"Circos",component:()=>({...Mt,propsData:{title:"Circos可视化"}})},{path:"/tools/circos/results",name:"CircosResults",component:()=>({...Mt,propsData:{title:"Circos可视化结果"}})},{path:"/download",name:"Download",component:Ng},{path:"/contact-us",name:"Contact_us",component:Fg},{path:"/about-us",name:"About_us",component:Vg}],Ja=of({history:Nd("/"),routes:Fy});const By=Symbol();var ta;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ta||(ta={}));function Uy(){const t=ku(!0),e=t.run(()=>B({}));let s=[],i=[];const r=Eu({install(a){r._a=a,a.provide(By,r),a.config.globalProperties.$pinia=r,i.forEach(c=>s.push(c)),i=[]},use(a){return this._a?s.push(a):i.push(a),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}const Gy=Uy(),jo=Au(Yu),Fo=je.create({baseURL:"http://localhost:8000",timeout:1e4,withCredentials:!0});Fo.interceptors.request.use(t=>{const e=document.cookie.match(/csrftoken=([^;]+)/)?.[1];return e&&(t.headers["X-CSRFToken"]=e),t},t=>Promise.reject(t));Fo.interceptors.response.use(t=>t,t=>Promise.reject(t));jo.config.globalProperties.$uuid={v4:Ha};jo.config.globalProperties.$http=Fo;jo.use(Gy).use(Ja).mount("#app");(function(t,e){typeof Wa=="object"&&typeof Ro<"u"?Ro.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).bootstrap=e()})(void 0,function(){const t=new Map,e={set(u,n,l){t.has(u)||t.set(u,new Map);const d=t.get(u);d.has(n)||d.size===0?d.set(n,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(d.keys())[0]}.`)},get:(u,n)=>t.has(u)&&t.get(u).get(n)||null,remove(u,n){if(!t.has(u))return;const l=t.get(u);l.delete(n),l.size===0&&t.delete(u)}},s="transitionend",i=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(n,l)=>`#${CSS.escape(l)}`)),u),r=u=>u==null?`${u}`:Object.prototype.toString.call(u).match(/\s([a-z]+)/i)[1].toLowerCase(),a=u=>{u.dispatchEvent(new Event(s))},c=u=>!(!u||typeof u!="object")&&(u.jquery!==void 0&&(u=u[0]),u.nodeType!==void 0),f=u=>c(u)?u.jquery?u[0]:u:typeof u=="string"&&u.length>0?document.querySelector(i(u)):null,p=u=>{if(!c(u)||u.getClientRects().length===0)return!1;const n=getComputedStyle(u).getPropertyValue("visibility")==="visible",l=u.closest("details:not([open])");if(!l)return n;if(l!==u){const d=u.closest("summary");if(d&&d.parentNode!==l||d===null)return!1}return n},m=u=>!u||u.nodeType!==Node.ELEMENT_NODE||!!u.classList.contains("disabled")||(u.disabled!==void 0?u.disabled:u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false"),v=u=>{if(!document.documentElement.attachShadow)return null;if(typeof u.getRootNode=="function"){const n=u.getRootNode();return n instanceof ShadowRoot?n:null}return u instanceof ShadowRoot?u:u.parentNode?v(u.parentNode):null},k=()=>{},h=u=>{u.offsetHeight},x=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,g=[],_=()=>document.documentElement.dir==="rtl",E=u=>{var n;n=()=>{const l=x();if(l){const d=u.NAME,A=l.fn[d];l.fn[d]=u.jQueryInterface,l.fn[d].Constructor=u,l.fn[d].noConflict=()=>(l.fn[d]=A,u.jQueryInterface)}},document.readyState==="loading"?(g.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of g)l()}),g.push(n)):n()},q=(u,n=[],l=u)=>typeof u=="function"?u.call(...n):l,y=(u,n,l=!0)=>{if(!l)return void q(u);const d=(I=>{if(!I)return 0;let{transitionDuration:M,transitionDelay:G}=window.getComputedStyle(I);const X=Number.parseFloat(M),Y=Number.parseFloat(G);return X||Y?(M=M.split(",")[0],G=G.split(",")[0],1e3*(Number.parseFloat(M)+Number.parseFloat(G))):0})(n)+5;let A=!1;const S=({target:I})=>{I===n&&(A=!0,n.removeEventListener(s,S),q(u))};n.addEventListener(s,S),setTimeout(()=>{A||a(n)},d)},O=(u,n,l,d)=>{const A=u.length;let S=u.indexOf(n);return S===-1?!l&&d?u[A-1]:u[0]:(S+=l?1:-1,d&&(S=(S+A)%A),u[Math.max(0,Math.min(S,A-1))])},C=/[^.]*(?=\..*)\.|.*/,P=/\..*/,j=/::\d+$/,V={};let W=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},U=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function L(u,n){return n&&`${n}::${W++}`||u.uidEvent||W++}function J(u){const n=L(u);return u.uidEvent=n,V[n]=V[n]||{},V[n]}function _e(u,n,l=null){return Object.values(u).find(d=>d.callable===n&&d.delegationSelector===l)}function Fe(u,n,l){const d=typeof n=="string",A=d?l:n||l;let S=De(u);return U.has(S)||(S=u),[d,A,S]}function He(u,n,l,d,A){if(typeof n!="string"||!u)return;let[S,I,M]=Fe(n,l,d);n in R&&(I=(ie=>function(re){if(!re.relatedTarget||re.relatedTarget!==re.delegateTarget&&!re.delegateTarget.contains(re.relatedTarget))return ie.call(this,re)})(I));const G=J(u),X=G[M]||(G[M]={}),Y=_e(X,I,S?l:null);if(Y)return void(Y.oneOff=Y.oneOff&&A);const H=L(I,n.replace(C,"")),ue=S?(function(se,ie,re){return function ae(Se){const qe=se.querySelectorAll(ie);for(let{target:he}=Se;he&&he!==this;he=he.parentNode)for(const be of qe)if(be===he)return Je(Se,{delegateTarget:he}),ae.oneOff&&N.off(se,Se.type,ie,re),re.apply(he,[Se])}})(u,l,I):(function(se,ie){return function re(ae){return Je(ae,{delegateTarget:se}),re.oneOff&&N.off(se,ae.type,ie),ie.apply(se,[ae])}})(u,I);ue.delegationSelector=S?l:null,ue.callable=I,ue.oneOff=A,ue.uidEvent=H,X[H]=ue,u.addEventListener(M,ue,S)}function Ne(u,n,l,d,A){const S=_e(n[l],d,A);S&&(u.removeEventListener(l,S,!!A),delete n[l][S.uidEvent])}function lt(u,n,l,d){const A=n[l]||{};for(const[S,I]of Object.entries(A))S.includes(d)&&Ne(u,n,l,I.callable,I.delegationSelector)}function De(u){return u=u.replace(P,""),R[u]||u}const N={on(u,n,l,d){He(u,n,l,d,!1)},one(u,n,l,d){He(u,n,l,d,!0)},off(u,n,l,d){if(typeof n!="string"||!u)return;const[A,S,I]=Fe(n,l,d),M=I!==n,G=J(u),X=G[I]||{},Y=n.startsWith(".");if(S===void 0){if(Y)for(const H of Object.keys(G))lt(u,G,H,n.slice(1));for(const[H,ue]of Object.entries(X)){const se=H.replace(j,"");M&&!n.includes(se)||Ne(u,G,I,ue.callable,ue.delegationSelector)}}else{if(!Object.keys(X).length)return;Ne(u,G,I,S,A?l:null)}},trigger(u,n,l){if(typeof n!="string"||!u)return null;const d=x();let A=null,S=!0,I=!0,M=!1;n!==De(n)&&d&&(A=d.Event(n,l),d(u).trigger(A),S=!A.isPropagationStopped(),I=!A.isImmediatePropagationStopped(),M=A.isDefaultPrevented());const G=Je(new Event(n,{bubbles:S,cancelable:!0}),l);return M&&G.preventDefault(),I&&u.dispatchEvent(G),G.defaultPrevented&&A&&A.preventDefault(),G}};function Je(u,n={}){for(const[l,d]of Object.entries(n))try{u[l]=d}catch{Object.defineProperty(u,l,{configurable:!0,get:()=>d})}return u}function Ge(u){if(u==="true")return!0;if(u==="false")return!1;if(u===Number(u).toString())return Number(u);if(u===""||u==="null")return null;if(typeof u!="string")return u;try{return JSON.parse(decodeURIComponent(u))}catch{return u}}function We(u){return u.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const Be={setDataAttribute(u,n,l){u.setAttribute(`data-bs-${We(n)}`,l)},removeDataAttribute(u,n){u.removeAttribute(`data-bs-${We(n)}`)},getDataAttributes(u){if(!u)return{};const n={},l=Object.keys(u.dataset).filter(d=>d.startsWith("bs")&&!d.startsWith("bsConfig"));for(const d of l){let A=d.replace(/^bs/,"");A=A.charAt(0).toLowerCase()+A.slice(1),n[A]=Ge(u.dataset[d])}return n},getDataAttribute:(u,n)=>Ge(u.getAttribute(`data-bs-${We(n)}`))};class Ve{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,l){const d=c(l)?Be.getDataAttribute(l,"config"):{};return{...this.constructor.Default,...typeof d=="object"?d:{},...c(l)?Be.getDataAttributes(l):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,l=this.constructor.DefaultType){for(const[d,A]of Object.entries(l)){const S=n[d],I=c(S)?"element":r(S);if(!new RegExp(A).test(I))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${d}" provided type "${I}" but expected type "${A}".`)}}}class Ie extends Ve{constructor(n,l){super(),(n=f(n))&&(this._element=n,this._config=this._getConfig(l),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),N.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,l,d=!0){y(n,l,d)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return e.get(f(n),this.DATA_KEY)}static getOrCreateInstance(n,l={}){return this.getInstance(n)||new this(n,typeof l=="object"?l:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const ct=u=>{let n=u.getAttribute("data-bs-target");if(!n||n==="#"){let l=u.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),n=l&&l!=="#"?l.trim():null}return n?n.split(",").map(l=>i(l)).join(","):null},T={find:(u,n=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(n,u)),findOne:(u,n=document.documentElement)=>Element.prototype.querySelector.call(n,u),children:(u,n)=>[].concat(...u.children).filter(l=>l.matches(n)),parents(u,n){const l=[];let d=u.parentNode.closest(n);for(;d;)l.push(d),d=d.parentNode.closest(n);return l},prev(u,n){let l=u.previousElementSibling;for(;l;){if(l.matches(n))return[l];l=l.previousElementSibling}return[]},next(u,n){let l=u.nextElementSibling;for(;l;){if(l.matches(n))return[l];l=l.nextElementSibling}return[]},focusableChildren(u){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(n,u).filter(l=>!m(l)&&p(l))},getSelectorFromElement(u){const n=ct(u);return n&&T.findOne(n)?n:null},getElementFromSelector(u){const n=ct(u);return n?T.findOne(n):null},getMultipleElementsFromSelector(u){const n=ct(u);return n?T.find(n):[]}},Q=(u,n="hide")=>{const l=`click.dismiss${u.EVENT_KEY}`,d=u.NAME;N.on(document,l,`[data-bs-dismiss="${d}"]`,function(A){if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),m(this))return;const S=T.getElementFromSelector(this)||this.closest(`.${d}`);u.getOrCreateInstance(S)[n]()})},K=".bs.alert",ee=`close${K}`,de=`closed${K}`;class Ae extends Ie{static get NAME(){return"alert"}close(){if(N.trigger(this._element,ee).defaultPrevented)return;this._element.classList.remove("show");const n=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),N.trigger(this._element,de),this.dispose()}static jQueryInterface(n){return this.each(function(){const l=Ae.getOrCreateInstance(this);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n](this)}})}}Q(Ae,"close"),E(Ae);const ce='[data-bs-toggle="button"]';class oe extends Ie{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(n){return this.each(function(){const l=oe.getOrCreateInstance(this);n==="toggle"&&l[n]()})}}N.on(document,"click.bs.button.data-api",ce,u=>{u.preventDefault();const n=u.target.closest(ce);oe.getOrCreateInstance(n).toggle()}),E(oe);const xe=".bs.swipe",bt=`touchstart${xe}`,F=`touchmove${xe}`,Re=`touchend${xe}`,nt=`pointerdown${xe}`,Dt=`pointerup${xe}`,yt={endCallback:null,leftCallback:null,rightCallback:null},et={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qe extends Ve{constructor(n,l){super(),this._element=n,n&&Qe.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return yt}static get DefaultType(){return et}static get NAME(){return"swipe"}dispose(){N.off(this._element,xe)}_start(n){this._supportPointerEvents?this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX):this._deltaX=n.touches[0].clientX}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),q(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=40)return;const l=n/this._deltaX;this._deltaX=0,l&&q(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(N.on(this._element,nt,n=>this._start(n)),N.on(this._element,Dt,n=>this._end(n)),this._element.classList.add("pointer-event")):(N.on(this._element,bt,n=>this._start(n)),N.on(this._element,F,n=>this._move(n)),N.on(this._element,Re,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType==="pen"||n.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ke=".bs.carousel",Bo=".data-api",Qa="ArrowLeft",Xa="ArrowRight",Mn="next",pn="prev",hn="left",es="right",Ya=`slide${Ke}`,Os=`slid${Ke}`,Za=`keydown${Ke}`,el=`mouseenter${Ke}`,tl=`mouseleave${Ke}`,nl=`dragstart${Ke}`,sl=`load${Ke}${Bo}`,ol=`click${Ke}${Bo}`,Uo="carousel",ts="active",Go=".active",Vo=".carousel-item",rl=Go+Vo,il={[Qa]:es,[Xa]:hn},al={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ll={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class mn extends Ie{constructor(n,l){super(n,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=T.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Uo&&this.cycle()}static get Default(){return al}static get DefaultType(){return ll}static get NAME(){return"carousel"}next(){this._slide(Mn)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(pn)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?N.one(this._element,Os,()=>this.cycle()):this.cycle())}to(n){const l=this._getItems();if(n>l.length-1||n<0)return;if(this._isSliding)return void N.one(this._element,Os,()=>this.to(n));const d=this._getItemIndex(this._getActive());if(d===n)return;const A=n>d?Mn:pn;this._slide(A,l[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&N.on(this._element,Za,n=>this._keydown(n)),this._config.pause==="hover"&&(N.on(this._element,el,()=>this.pause()),N.on(this._element,tl,()=>this._maybeEnableCycle())),this._config.touch&&Qe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of T.find(".carousel-item img",this._element))N.on(l,nl,d=>d.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(hn)),rightCallback:()=>this._slide(this._directionToOrder(es)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Qe(this._element,n)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const l=il[n.key];l&&(n.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const l=T.findOne(Go,this._indicatorsElement);l.classList.remove(ts),l.removeAttribute("aria-current");const d=T.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);d&&(d.classList.add(ts),d.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const l=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(n,l=null){if(this._isSliding)return;const d=this._getActive(),A=n===Mn,S=l||O(this._getItems(),d,A,this._config.wrap);if(S===d)return;const I=this._getItemIndex(S),M=H=>N.trigger(this._element,H,{relatedTarget:S,direction:this._orderToDirection(n),from:this._getItemIndex(d),to:I});if(M(Ya).defaultPrevented||!d||!S)return;const G=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(I),this._activeElement=S;const X=A?"carousel-item-start":"carousel-item-end",Y=A?"carousel-item-next":"carousel-item-prev";S.classList.add(Y),h(S),d.classList.add(X),S.classList.add(X),this._queueCallback(()=>{S.classList.remove(X,Y),S.classList.add(ts),d.classList.remove(ts,Y,X),this._isSliding=!1,M(Os)},d,this._isAnimated()),G&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return T.findOne(rl,this._element)}_getItems(){return T.find(Vo,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return _()?n===hn?pn:Mn:n===hn?Mn:pn}_orderToDirection(n){return _()?n===pn?hn:es:n===pn?es:hn}static jQueryInterface(n){return this.each(function(){const l=mn.getOrCreateInstance(this,n);if(typeof n!="number"){if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}}else l.to(n)})}}N.on(document,ol,"[data-bs-slide], [data-bs-slide-to]",function(u){const n=T.getElementFromSelector(this);if(!n||!n.classList.contains(Uo))return;u.preventDefault();const l=mn.getOrCreateInstance(n),d=this.getAttribute("data-bs-slide-to");return d?(l.to(d),void l._maybeEnableCycle()):Be.getDataAttribute(this,"slide")==="next"?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),N.on(window,sl,()=>{const u=T.find('[data-bs-ride="carousel"]');for(const n of u)mn.getOrCreateInstance(n)}),E(mn);const jn=".bs.collapse",cl=`show${jn}`,ul=`shown${jn}`,dl=`hide${jn}`,fl=`hidden${jn}`,pl=`click${jn}.data-api`,Ns="show",gn="collapse",ns="collapsing",hl=`:scope .${gn} .${gn}`,Ls='[data-bs-toggle="collapse"]',ml={parent:null,toggle:!0},gl={parent:"(null|element)",toggle:"boolean"};class _n extends Ie{constructor(n,l){super(n,l),this._isTransitioning=!1,this._triggerArray=[];const d=T.find(Ls);for(const A of d){const S=T.getSelectorFromElement(A),I=T.find(S).filter(M=>M===this._element);S!==null&&I.length&&this._triggerArray.push(A)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ml}static get DefaultType(){return gl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(A=>A!==this._element).map(A=>_n.getOrCreateInstance(A,{toggle:!1}))),n.length&&n[0]._isTransitioning||N.trigger(this._element,cl).defaultPrevented)return;for(const A of n)A.hide();const l=this._getDimension();this._element.classList.remove(gn),this._element.classList.add(ns),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const d=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ns),this._element.classList.add(gn,Ns),this._element.style[l]="",N.trigger(this._element,ul)},this._element,!0),this._element.style[l]=`${this._element[d]}px`}hide(){if(this._isTransitioning||!this._isShown()||N.trigger(this._element,dl).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,h(this._element),this._element.classList.add(ns),this._element.classList.remove(gn,Ns);for(const l of this._triggerArray){const d=T.getElementFromSelector(l);d&&!this._isShown(d)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0,this._element.style[n]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ns),this._element.classList.add(gn),N.trigger(this._element,fl)},this._element,!0)}_isShown(n=this._element){return n.classList.contains(Ns)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=f(n.parent),n}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(Ls);for(const l of n){const d=T.getElementFromSelector(l);d&&this._addAriaAndCollapsedClass([l],this._isShown(d))}}_getFirstLevelChildren(n){const l=T.find(hl,this._config.parent);return T.find(n,this._config.parent).filter(d=>!l.includes(d))}_addAriaAndCollapsedClass(n,l){if(n.length)for(const d of n)d.classList.toggle("collapsed",!l),d.setAttribute("aria-expanded",l)}static jQueryInterface(n){const l={};return typeof n=="string"&&/show|hide/.test(n)&&(l.toggle=!1),this.each(function(){const d=_n.getOrCreateInstance(this,l);if(typeof n=="string"){if(d[n]===void 0)throw new TypeError(`No method named "${n}"`);d[n]()}})}}N.on(document,pl,Ls,function(u){(u.target.tagName==="A"||u.delegateTarget&&u.delegateTarget.tagName==="A")&&u.preventDefault();for(const n of T.getMultipleElementsFromSelector(this))_n.getOrCreateInstance(n,{toggle:!1}).toggle()}),E(_n);var st="top",ft="bottom",pt="right",ot="left",ss="auto",vn=[st,ft,pt,ot],Qt="start",bn="end",Ko="clippingParents",Ms="viewport",yn="popper",zo="reference",js=vn.reduce(function(u,n){return u.concat([n+"-"+Qt,n+"-"+bn])},[]),Fs=[].concat(vn,[ss]).reduce(function(u,n){return u.concat([n,n+"-"+Qt,n+"-"+bn])},[]),Ho="beforeRead",Jo="read",Wo="afterRead",Qo="beforeMain",Xo="main",Yo="afterMain",Zo="beforeWrite",er="write",tr="afterWrite",nr=[Ho,Jo,Wo,Qo,Xo,Yo,Zo,er,tr];function Rt(u){return u?(u.nodeName||"").toLowerCase():null}function ht(u){if(u==null)return window;if(u.toString()!=="[object Window]"){var n=u.ownerDocument;return n&&n.defaultView||window}return u}function Xt(u){return u instanceof ht(u).Element||u instanceof Element}function wt(u){return u instanceof ht(u).HTMLElement||u instanceof HTMLElement}function Bs(u){return typeof ShadowRoot<"u"&&(u instanceof ht(u).ShadowRoot||u instanceof ShadowRoot)}const Us={name:"applyStyles",enabled:!0,phase:"write",fn:function(u){var n=u.state;Object.keys(n.elements).forEach(function(l){var d=n.styles[l]||{},A=n.attributes[l]||{},S=n.elements[l];wt(S)&&Rt(S)&&(Object.assign(S.style,d),Object.keys(A).forEach(function(I){var M=A[I];M===!1?S.removeAttribute(I):S.setAttribute(I,M===!0?"":M)}))})},effect:function(u){var n=u.state,l={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,l.popper),n.styles=l,n.elements.arrow&&Object.assign(n.elements.arrow.style,l.arrow),function(){Object.keys(n.elements).forEach(function(d){var A=n.elements[d],S=n.attributes[d]||{},I=Object.keys(n.styles.hasOwnProperty(d)?n.styles[d]:l[d]).reduce(function(M,G){return M[G]="",M},{});wt(A)&&Rt(A)&&(Object.assign(A.style,I),Object.keys(S).forEach(function(M){A.removeAttribute(M)}))})}},requires:["computeStyles"]};function Pt(u){return u.split("-")[0]}var Yt=Math.max,os=Math.min,wn=Math.round;function Gs(){var u=navigator.userAgentData;return u!=null&&u.brands&&Array.isArray(u.brands)?u.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function sr(){return!/^((?!chrome|android).)*safari/i.test(Gs())}function kn(u,n,l){n===void 0&&(n=!1),l===void 0&&(l=!1);var d=u.getBoundingClientRect(),A=1,S=1;n&&wt(u)&&(A=u.offsetWidth>0&&wn(d.width)/u.offsetWidth||1,S=u.offsetHeight>0&&wn(d.height)/u.offsetHeight||1);var I=(Xt(u)?ht(u):window).visualViewport,M=!sr()&&l,G=(d.left+(M&&I?I.offsetLeft:0))/A,X=(d.top+(M&&I?I.offsetTop:0))/S,Y=d.width/A,H=d.height/S;return{width:Y,height:H,top:X,right:G+Y,bottom:X+H,left:G,x:G,y:X}}function Vs(u){var n=kn(u),l=u.offsetWidth,d=u.offsetHeight;return Math.abs(n.width-l)<=1&&(l=n.width),Math.abs(n.height-d)<=1&&(d=n.height),{x:u.offsetLeft,y:u.offsetTop,width:l,height:d}}function or(u,n){var l=n.getRootNode&&n.getRootNode();if(u.contains(n))return!0;if(l&&Bs(l)){var d=n;do{if(d&&u.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function jt(u){return ht(u).getComputedStyle(u)}function _l(u){return["table","td","th"].indexOf(Rt(u))>=0}function Vt(u){return((Xt(u)?u.ownerDocument:u.document)||window.document).documentElement}function rs(u){return Rt(u)==="html"?u:u.assignedSlot||u.parentNode||(Bs(u)?u.host:null)||Vt(u)}function rr(u){return wt(u)&&jt(u).position!=="fixed"?u.offsetParent:null}function Fn(u){for(var n=ht(u),l=rr(u);l&&_l(l)&&jt(l).position==="static";)l=rr(l);return l&&(Rt(l)==="html"||Rt(l)==="body"&&jt(l).position==="static")?n:l||(function(d){var A=/firefox/i.test(Gs());if(/Trident/i.test(Gs())&&wt(d)&&jt(d).position==="fixed")return null;var S=rs(d);for(Bs(S)&&(S=S.host);wt(S)&&["html","body"].indexOf(Rt(S))<0;){var I=jt(S);if(I.transform!=="none"||I.perspective!=="none"||I.contain==="paint"||["transform","perspective"].indexOf(I.willChange)!==-1||A&&I.willChange==="filter"||A&&I.filter&&I.filter!=="none")return S;S=S.parentNode}return null})(u)||n}function Ks(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function Bn(u,n,l){return Yt(u,os(n,l))}function ir(u){return Object.assign({},{top:0,right:0,bottom:0,left:0},u)}function ar(u,n){return n.reduce(function(l,d){return l[d]=u,l},{})}const lr={name:"arrow",enabled:!0,phase:"main",fn:function(u){var n,l=u.state,d=u.name,A=u.options,S=l.elements.arrow,I=l.modifiersData.popperOffsets,M=Pt(l.placement),G=Ks(M),X=[ot,pt].indexOf(M)>=0?"height":"width";if(S&&I){var Y=(function(Ce,Ee){return ir(typeof(Ce=typeof Ce=="function"?Ce(Object.assign({},Ee.rects,{placement:Ee.placement})):Ce)!="number"?Ce:ar(Ce,vn))})(A.padding,l),H=Vs(S),ue=G==="y"?st:ot,se=G==="y"?ft:pt,ie=l.rects.reference[X]+l.rects.reference[G]-I[G]-l.rects.popper[X],re=I[G]-l.rects.reference[G],ae=Fn(S),Se=ae?G==="y"?ae.clientHeight||0:ae.clientWidth||0:0,qe=ie/2-re/2,he=Y[ue],be=Se-H[X]-Y[se],fe=Se/2-H[X]/2+qe,ge=Bn(he,fe,be),ke=G;l.modifiersData[d]=((n={})[ke]=ge,n.centerOffset=ge-fe,n)}},effect:function(u){var n=u.state,l=u.options.element,d=l===void 0?"[data-popper-arrow]":l;d!=null&&(typeof d!="string"||(d=n.elements.popper.querySelector(d)))&&or(n.elements.popper,d)&&(n.elements.arrow=d)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function En(u){return u.split("-")[1]}var vl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cr(u){var n,l=u.popper,d=u.popperRect,A=u.placement,S=u.variation,I=u.offsets,M=u.position,G=u.gpuAcceleration,X=u.adaptive,Y=u.roundOffsets,H=u.isFixed,ue=I.x,se=ue===void 0?0:ue,ie=I.y,re=ie===void 0?0:ie,ae=typeof Y=="function"?Y({x:se,y:re}):{x:se,y:re};se=ae.x,re=ae.y;var Se=I.hasOwnProperty("x"),qe=I.hasOwnProperty("y"),he=ot,be=st,fe=window;if(X){var ge=Fn(l),ke="clientHeight",Ce="clientWidth";ge===ht(l)&&jt(ge=Vt(l)).position!=="static"&&M==="absolute"&&(ke="scrollHeight",Ce="scrollWidth"),(A===st||(A===ot||A===pt)&&S===bn)&&(be=ft,re-=(H&&ge===fe&&fe.visualViewport?fe.visualViewport.height:ge[ke])-d.height,re*=G?1:-1),A!==ot&&(A!==st&&A!==ft||S!==bn)||(he=pt,se-=(H&&ge===fe&&fe.visualViewport?fe.visualViewport.width:ge[Ce])-d.width,se*=G?1:-1)}var Ee,Ue=Object.assign({position:M},X&&vl),mt=Y===!0?(function(Tt,rt){var Et=Tt.x,At=Tt.y,Le=rt.devicePixelRatio||1;return{x:wn(Et*Le)/Le||0,y:wn(At*Le)/Le||0}})({x:se,y:re},ht(l)):{x:se,y:re};return se=mt.x,re=mt.y,G?Object.assign({},Ue,((Ee={})[be]=qe?"0":"",Ee[he]=Se?"0":"",Ee.transform=(fe.devicePixelRatio||1)<=1?"translate("+se+"px, "+re+"px)":"translate3d("+se+"px, "+re+"px, 0)",Ee)):Object.assign({},Ue,((n={})[be]=qe?re+"px":"",n[he]=Se?se+"px":"",n.transform="",n))}const zs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(u){var n=u.state,l=u.options,d=l.gpuAcceleration,A=d===void 0||d,S=l.adaptive,I=S===void 0||S,M=l.roundOffsets,G=M===void 0||M,X={placement:Pt(n.placement),variation:En(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:A,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,cr(Object.assign({},X,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:I,roundOffsets:G})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,cr(Object.assign({},X,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:G})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}};var is={passive:!0};const Hs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(u){var n=u.state,l=u.instance,d=u.options,A=d.scroll,S=A===void 0||A,I=d.resize,M=I===void 0||I,G=ht(n.elements.popper),X=[].concat(n.scrollParents.reference,n.scrollParents.popper);return S&&X.forEach(function(Y){Y.addEventListener("scroll",l.update,is)}),M&&G.addEventListener("resize",l.update,is),function(){S&&X.forEach(function(Y){Y.removeEventListener("scroll",l.update,is)}),M&&G.removeEventListener("resize",l.update,is)}},data:{}};var bl={left:"right",right:"left",bottom:"top",top:"bottom"};function as(u){return u.replace(/left|right|bottom|top/g,function(n){return bl[n]})}var yl={start:"end",end:"start"};function ur(u){return u.replace(/start|end/g,function(n){return yl[n]})}function Js(u){var n=ht(u);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Ws(u){return kn(Vt(u)).left+Js(u).scrollLeft}function Qs(u){var n=jt(u),l=n.overflow,d=n.overflowX,A=n.overflowY;return/auto|scroll|overlay|hidden/.test(l+A+d)}function dr(u){return["html","body","#document"].indexOf(Rt(u))>=0?u.ownerDocument.body:wt(u)&&Qs(u)?u:dr(rs(u))}function Un(u,n){var l;n===void 0&&(n=[]);var d=dr(u),A=d===((l=u.ownerDocument)==null?void 0:l.body),S=ht(d),I=A?[S].concat(S.visualViewport||[],Qs(d)?d:[]):d,M=n.concat(I);return A?M:M.concat(Un(rs(I)))}function Xs(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function fr(u,n,l){return n===Ms?Xs((function(d,A){var S=ht(d),I=Vt(d),M=S.visualViewport,G=I.clientWidth,X=I.clientHeight,Y=0,H=0;if(M){G=M.width,X=M.height;var ue=sr();(ue||!ue&&A==="fixed")&&(Y=M.offsetLeft,H=M.offsetTop)}return{width:G,height:X,x:Y+Ws(d),y:H}})(u,l)):Xt(n)?(function(d,A){var S=kn(d,!1,A==="fixed");return S.top=S.top+d.clientTop,S.left=S.left+d.clientLeft,S.bottom=S.top+d.clientHeight,S.right=S.left+d.clientWidth,S.width=d.clientWidth,S.height=d.clientHeight,S.x=S.left,S.y=S.top,S})(n,l):Xs((function(d){var A,S=Vt(d),I=Js(d),M=(A=d.ownerDocument)==null?void 0:A.body,G=Yt(S.scrollWidth,S.clientWidth,M?M.scrollWidth:0,M?M.clientWidth:0),X=Yt(S.scrollHeight,S.clientHeight,M?M.scrollHeight:0,M?M.clientHeight:0),Y=-I.scrollLeft+Ws(d),H=-I.scrollTop;return jt(M||S).direction==="rtl"&&(Y+=Yt(S.clientWidth,M?M.clientWidth:0)-G),{width:G,height:X,x:Y,y:H}})(Vt(u)))}function pr(u){var n,l=u.reference,d=u.element,A=u.placement,S=A?Pt(A):null,I=A?En(A):null,M=l.x+l.width/2-d.width/2,G=l.y+l.height/2-d.height/2;switch(S){case st:n={x:M,y:l.y-d.height};break;case ft:n={x:M,y:l.y+l.height};break;case pt:n={x:l.x+l.width,y:G};break;case ot:n={x:l.x-d.width,y:G};break;default:n={x:l.x,y:l.y}}var X=S?Ks(S):null;if(X!=null){var Y=X==="y"?"height":"width";switch(I){case Qt:n[X]=n[X]-(l[Y]/2-d[Y]/2);break;case bn:n[X]=n[X]+(l[Y]/2-d[Y]/2)}}return n}function An(u,n){n===void 0&&(n={});var l=n,d=l.placement,A=d===void 0?u.placement:d,S=l.strategy,I=S===void 0?u.strategy:S,M=l.boundary,G=M===void 0?Ko:M,X=l.rootBoundary,Y=X===void 0?Ms:X,H=l.elementContext,ue=H===void 0?yn:H,se=l.altBoundary,ie=se!==void 0&&se,re=l.padding,ae=re===void 0?0:re,Se=ir(typeof ae!="number"?ae:ar(ae,vn)),qe=ue===yn?zo:yn,he=u.rects.popper,be=u.elements[ie?qe:ue],fe=(function(rt,Et,At,Le){var It=Et==="clippingParents"?(function(Te){var it=Un(rs(Te)),xt=["absolute","fixed"].indexOf(jt(Te).position)>=0&&wt(Te)?Fn(Te):Te;return Xt(xt)?it.filter(function(zt){return Xt(zt)&&or(zt,xt)&&Rt(zt)!=="body"}):[]})(rt):[].concat(Et),Ot=[].concat(It,[At]),Cn=Ot[0],Xe=Ot.reduce(function(Te,it){var xt=fr(rt,it,Le);return Te.top=Yt(xt.top,Te.top),Te.right=os(xt.right,Te.right),Te.bottom=os(xt.bottom,Te.bottom),Te.left=Yt(xt.left,Te.left),Te},fr(rt,Cn,Le));return Xe.width=Xe.right-Xe.left,Xe.height=Xe.bottom-Xe.top,Xe.x=Xe.left,Xe.y=Xe.top,Xe})(Xt(be)?be:be.contextElement||Vt(u.elements.popper),G,Y,I),ge=kn(u.elements.reference),ke=pr({reference:ge,element:he,placement:A}),Ce=Xs(Object.assign({},he,ke)),Ee=ue===yn?Ce:ge,Ue={top:fe.top-Ee.top+Se.top,bottom:Ee.bottom-fe.bottom+Se.bottom,left:fe.left-Ee.left+Se.left,right:Ee.right-fe.right+Se.right},mt=u.modifiersData.offset;if(ue===yn&&mt){var Tt=mt[A];Object.keys(Ue).forEach(function(rt){var Et=[pt,ft].indexOf(rt)>=0?1:-1,At=[st,ft].indexOf(rt)>=0?"y":"x";Ue[rt]+=Tt[At]*Et})}return Ue}function wl(u,n){n===void 0&&(n={});var l=n,d=l.placement,A=l.boundary,S=l.rootBoundary,I=l.padding,M=l.flipVariations,G=l.allowedAutoPlacements,X=G===void 0?Fs:G,Y=En(d),H=Y?M?js:js.filter(function(ie){return En(ie)===Y}):vn,ue=H.filter(function(ie){return X.indexOf(ie)>=0});ue.length===0&&(ue=H);var se=ue.reduce(function(ie,re){return ie[re]=An(u,{placement:re,boundary:A,rootBoundary:S,padding:I})[Pt(re)],ie},{});return Object.keys(se).sort(function(ie,re){return se[ie]-se[re]})}const hr={name:"flip",enabled:!0,phase:"main",fn:function(u){var n=u.state,l=u.options,d=u.name;if(!n.modifiersData[d]._skip){for(var A=l.mainAxis,S=A===void 0||A,I=l.altAxis,M=I===void 0||I,G=l.fallbackPlacements,X=l.padding,Y=l.boundary,H=l.rootBoundary,ue=l.altBoundary,se=l.flipVariations,ie=se===void 0||se,re=l.allowedAutoPlacements,ae=n.options.placement,Se=Pt(ae),qe=G||(Se!==ae&&ie?(function(Te){if(Pt(Te)===ss)return[];var it=as(Te);return[ur(Te),it,ur(it)]})(ae):[as(ae)]),he=[ae].concat(qe).reduce(function(Te,it){return Te.concat(Pt(it)===ss?wl(n,{placement:it,boundary:Y,rootBoundary:H,padding:X,flipVariations:ie,allowedAutoPlacements:re}):it)},[]),be=n.rects.reference,fe=n.rects.popper,ge=new Map,ke=!0,Ce=he[0],Ee=0;Ee<he.length;Ee++){var Ue=he[Ee],mt=Pt(Ue),Tt=En(Ue)===Qt,rt=[st,ft].indexOf(mt)>=0,Et=rt?"width":"height",At=An(n,{placement:Ue,boundary:Y,rootBoundary:H,altBoundary:ue,padding:X}),Le=rt?Tt?pt:ot:Tt?ft:st;be[Et]>fe[Et]&&(Le=as(Le));var It=as(Le),Ot=[];if(S&&Ot.push(At[mt]<=0),M&&Ot.push(At[Le]<=0,At[It]<=0),Ot.every(function(Te){return Te})){Ce=Ue,ke=!1;break}ge.set(Ue,Ot)}if(ke)for(var Cn=function(Te){var it=he.find(function(xt){var zt=ge.get(xt);if(zt)return zt.slice(0,Te).every(function(gs){return gs})});if(it)return Ce=it,"break"},Xe=ie?3:1;Xe>0&&Cn(Xe)!=="break";Xe--);n.placement!==Ce&&(n.modifiersData[d]._skip=!0,n.placement=Ce,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function mr(u,n,l){return l===void 0&&(l={x:0,y:0}),{top:u.top-n.height-l.y,right:u.right-n.width+l.x,bottom:u.bottom-n.height+l.y,left:u.left-n.width-l.x}}function gr(u){return[st,pt,ft,ot].some(function(n){return u[n]>=0})}const _r={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(u){var n=u.state,l=u.name,d=n.rects.reference,A=n.rects.popper,S=n.modifiersData.preventOverflow,I=An(n,{elementContext:"reference"}),M=An(n,{altBoundary:!0}),G=mr(I,d),X=mr(M,A,S),Y=gr(G),H=gr(X);n.modifiersData[l]={referenceClippingOffsets:G,popperEscapeOffsets:X,isReferenceHidden:Y,hasPopperEscaped:H},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":Y,"data-popper-escaped":H})}},vr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(u){var n=u.state,l=u.options,d=u.name,A=l.offset,S=A===void 0?[0,0]:A,I=Fs.reduce(function(Y,H){return Y[H]=(function(ue,se,ie){var re=Pt(ue),ae=[ot,st].indexOf(re)>=0?-1:1,Se=typeof ie=="function"?ie(Object.assign({},se,{placement:ue})):ie,qe=Se[0],he=Se[1];return qe=qe||0,he=(he||0)*ae,[ot,pt].indexOf(re)>=0?{x:he,y:qe}:{x:qe,y:he}})(H,n.rects,S),Y},{}),M=I[n.placement],G=M.x,X=M.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=G,n.modifiersData.popperOffsets.y+=X),n.modifiersData[d]=I}},Ys={name:"popperOffsets",enabled:!0,phase:"read",fn:function(u){var n=u.state,l=u.name;n.modifiersData[l]=pr({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})},data:{}},br={name:"preventOverflow",enabled:!0,phase:"main",fn:function(u){var n=u.state,l=u.options,d=u.name,A=l.mainAxis,S=A===void 0||A,I=l.altAxis,M=I!==void 0&&I,G=l.boundary,X=l.rootBoundary,Y=l.altBoundary,H=l.padding,ue=l.tether,se=ue===void 0||ue,ie=l.tetherOffset,re=ie===void 0?0:ie,ae=An(n,{boundary:G,rootBoundary:X,padding:H,altBoundary:Y}),Se=Pt(n.placement),qe=En(n.placement),he=!qe,be=Ks(Se),fe=be==="x"?"y":"x",ge=n.modifiersData.popperOffsets,ke=n.rects.reference,Ce=n.rects.popper,Ee=typeof re=="function"?re(Object.assign({},n.rects,{placement:n.placement})):re,Ue=typeof Ee=="number"?{mainAxis:Ee,altAxis:Ee}:Object.assign({mainAxis:0,altAxis:0},Ee),mt=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Tt={x:0,y:0};if(ge){if(S){var rt,Et=be==="y"?st:ot,At=be==="y"?ft:pt,Le=be==="y"?"height":"width",It=ge[be],Ot=It+ae[Et],Cn=It-ae[At],Xe=se?-Ce[Le]/2:0,Te=qe===Qt?ke[Le]:Ce[Le],it=qe===Qt?-Ce[Le]:-ke[Le],xt=n.elements.arrow,zt=se&&xt?Vs(xt):{width:0,height:0},gs=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ri=gs[Et],ii=gs[At],_s=Bn(0,ke[Le],zt[Le]),Zc=he?ke[Le]/2-Xe-_s-ri-Ue.mainAxis:Te-_s-ri-Ue.mainAxis,eu=he?-ke[Le]/2+Xe+_s+ii+Ue.mainAxis:it+_s+ii+Ue.mainAxis,po=n.elements.arrow&&Fn(n.elements.arrow),tu=po?be==="y"?po.clientTop||0:po.clientLeft||0:0,ai=(rt=mt?.[be])!=null?rt:0,nu=It+eu-ai,li=Bn(se?os(Ot,It+Zc-ai-tu):Ot,It,se?Yt(Cn,nu):Cn);ge[be]=li,Tt[be]=li-It}if(M){var ci,su=be==="x"?st:ot,ou=be==="x"?ft:pt,an=ge[fe],vs=fe==="y"?"height":"width",ui=an+ae[su],di=an-ae[ou],ho=[st,ot].indexOf(Se)!==-1,fi=(ci=mt?.[fe])!=null?ci:0,pi=ho?ui:an-ke[vs]-Ce[vs]-fi+Ue.altAxis,hi=ho?an+ke[vs]+Ce[vs]-fi-Ue.altAxis:di,mi=se&&ho?(function(ru,iu,mo){var gi=Bn(ru,iu,mo);return gi>mo?mo:gi})(pi,an,hi):Bn(se?pi:ui,an,se?hi:di);ge[fe]=mi,Tt[fe]=mi-an}n.modifiersData[d]=Tt}},requiresIfExists:["offset"]};function kl(u,n,l){l===void 0&&(l=!1);var d,A,S=wt(n),I=wt(n)&&(function(H){var ue=H.getBoundingClientRect(),se=wn(ue.width)/H.offsetWidth||1,ie=wn(ue.height)/H.offsetHeight||1;return se!==1||ie!==1})(n),M=Vt(n),G=kn(u,I,l),X={scrollLeft:0,scrollTop:0},Y={x:0,y:0};return(S||!S&&!l)&&((Rt(n)!=="body"||Qs(M))&&(X=(d=n)!==ht(d)&&wt(d)?{scrollLeft:(A=d).scrollLeft,scrollTop:A.scrollTop}:Js(d)),wt(n)?((Y=kn(n,!0)).x+=n.clientLeft,Y.y+=n.clientTop):M&&(Y.x=Ws(M))),{x:G.left+X.scrollLeft-Y.x,y:G.top+X.scrollTop-Y.y,width:G.width,height:G.height}}function El(u){var n=new Map,l=new Set,d=[];function A(S){l.add(S.name),[].concat(S.requires||[],S.requiresIfExists||[]).forEach(function(I){if(!l.has(I)){var M=n.get(I);M&&A(M)}}),d.push(S)}return u.forEach(function(S){n.set(S.name,S)}),u.forEach(function(S){l.has(S.name)||A(S)}),d}var yr={placement:"bottom",modifiers:[],strategy:"absolute"};function wr(){for(var u=arguments.length,n=new Array(u),l=0;l<u;l++)n[l]=arguments[l];return!n.some(function(d){return!(d&&typeof d.getBoundingClientRect=="function")})}function ls(u){u===void 0&&(u={});var n=u,l=n.defaultModifiers,d=l===void 0?[]:l,A=n.defaultOptions,S=A===void 0?yr:A;return function(I,M,G){G===void 0&&(G=S);var X,Y,H={placement:"bottom",orderedModifiers:[],options:Object.assign({},yr,S),modifiersData:{},elements:{reference:I,popper:M},attributes:{},styles:{}},ue=[],se=!1,ie={state:H,setOptions:function(ae){var Se=typeof ae=="function"?ae(H.options):ae;re(),H.options=Object.assign({},S,H.options,Se),H.scrollParents={reference:Xt(I)?Un(I):I.contextElement?Un(I.contextElement):[],popper:Un(M)};var qe,he,be=(function(fe){var ge=El(fe);return nr.reduce(function(ke,Ce){return ke.concat(ge.filter(function(Ee){return Ee.phase===Ce}))},[])})((qe=[].concat(d,H.options.modifiers),he=qe.reduce(function(fe,ge){var ke=fe[ge.name];return fe[ge.name]=ke?Object.assign({},ke,ge,{options:Object.assign({},ke.options,ge.options),data:Object.assign({},ke.data,ge.data)}):ge,fe},{}),Object.keys(he).map(function(fe){return he[fe]})));return H.orderedModifiers=be.filter(function(fe){return fe.enabled}),H.orderedModifiers.forEach(function(fe){var ge=fe.name,ke=fe.options,Ce=ke===void 0?{}:ke,Ee=fe.effect;if(typeof Ee=="function"){var Ue=Ee({state:H,name:ge,instance:ie,options:Ce});ue.push(Ue||function(){})}}),ie.update()},forceUpdate:function(){if(!se){var ae=H.elements,Se=ae.reference,qe=ae.popper;if(wr(Se,qe)){H.rects={reference:kl(Se,Fn(qe),H.options.strategy==="fixed"),popper:Vs(qe)},H.reset=!1,H.placement=H.options.placement,H.orderedModifiers.forEach(function(Ee){return H.modifiersData[Ee.name]=Object.assign({},Ee.data)});for(var he=0;he<H.orderedModifiers.length;he++)if(H.reset!==!0){var be=H.orderedModifiers[he],fe=be.fn,ge=be.options,ke=ge===void 0?{}:ge,Ce=be.name;typeof fe=="function"&&(H=fe({state:H,options:ke,name:Ce,instance:ie})||H)}else H.reset=!1,he=-1}}},update:(X=function(){return new Promise(function(ae){ie.forceUpdate(),ae(H)})},function(){return Y||(Y=new Promise(function(ae){Promise.resolve().then(function(){Y=void 0,ae(X())})})),Y}),destroy:function(){re(),se=!0}};if(!wr(I,M))return ie;function re(){ue.forEach(function(ae){return ae()}),ue=[]}return ie.setOptions(G).then(function(ae){!se&&G.onFirstUpdate&&G.onFirstUpdate(ae)}),ie}}var Al=ls(),xl=ls({defaultModifiers:[Hs,Ys,zs,Us]}),Zs=ls({defaultModifiers:[Hs,Ys,zs,Us,vr,hr,br,lr,_r]});const kr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Yo,afterRead:Wo,afterWrite:tr,applyStyles:Us,arrow:lr,auto:ss,basePlacements:vn,beforeMain:Qo,beforeRead:Ho,beforeWrite:Zo,bottom:ft,clippingParents:Ko,computeStyles:zs,createPopper:Zs,createPopperBase:Al,createPopperLite:xl,detectOverflow:An,end:bn,eventListeners:Hs,flip:hr,hide:_r,left:ot,main:Xo,modifierPhases:nr,offset:vr,placements:Fs,popper:yn,popperGenerator:ls,popperOffsets:Ys,preventOverflow:br,read:Jo,reference:zo,right:pt,start:Qt,top:st,variationPlacements:js,viewport:Ms,write:er},Symbol.toStringTag,{value:"Module"})),Er="dropdown",Zt=".bs.dropdown",eo=".data-api",Sl="ArrowUp",Ar="ArrowDown",Cl=`hide${Zt}`,Tl=`hidden${Zt}`,ql=`show${Zt}`,$l=`shown${Zt}`,xr=`click${Zt}${eo}`,Sr=`keydown${Zt}${eo}`,Dl=`keyup${Zt}${eo}`,xn="show",en='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Rl=`${en}.${xn}`,cs=".dropdown-menu",Pl=_()?"top-end":"top-start",Il=_()?"top-start":"top-end",Ol=_()?"bottom-end":"bottom-start",Nl=_()?"bottom-start":"bottom-end",Ll=_()?"left-start":"right-start",Ml=_()?"right-start":"left-start",jl={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Fl={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ct extends Ie{constructor(n,l){super(n,l),this._popper=null,this._parent=this._element.parentNode,this._menu=T.next(this._element,cs)[0]||T.prev(this._element,cs)[0]||T.findOne(cs,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return jl}static get DefaultType(){return Fl}static get NAME(){return Er}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!N.trigger(this._element,ql,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const l of[].concat(...document.body.children))N.on(l,"mouseover",k);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(xn),this._element.classList.add(xn),N.trigger(this._element,$l,n)}}hide(){if(m(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!N.trigger(this._element,Cl,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))N.off(l,"mouseover",k);this._popper&&this._popper.destroy(),this._menu.classList.remove(xn),this._element.classList.remove(xn),this._element.setAttribute("aria-expanded","false"),Be.removeDataAttribute(this._menu,"popper"),N.trigger(this._element,Tl,n)}}_getConfig(n){if(typeof(n=super._getConfig(n)).reference=="object"&&!c(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${Er.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(kr===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:c(this._config.reference)?n=f(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const l=this._getPopperConfig();this._popper=Zs(n,this._menu,l)}_isShown(){return this._menu.classList.contains(xn)}_getPlacement(){const n=this._parent;if(n.classList.contains("dropend"))return Ll;if(n.classList.contains("dropstart"))return Ml;if(n.classList.contains("dropup-center"))return"top";if(n.classList.contains("dropdown-center"))return"bottom";const l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains("dropup")?l?Il:Pl:l?Nl:Ol}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(l=>Number.parseInt(l,10)):typeof n=="function"?l=>n(l,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Be.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...q(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:l}){const d=T.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(A=>p(A));d.length&&O(d,l,n===Ar,!d.includes(l)).focus()}static jQueryInterface(n){return this.each(function(){const l=Ct.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}static clearMenus(n){if(n.button===2||n.type==="keyup"&&n.key!=="Tab")return;const l=T.find(Rl);for(const d of l){const A=Ct.getInstance(d);if(!A||A._config.autoClose===!1)continue;const S=n.composedPath(),I=S.includes(A._menu);if(S.includes(A._element)||A._config.autoClose==="inside"&&!I||A._config.autoClose==="outside"&&I||A._menu.contains(n.target)&&(n.type==="keyup"&&n.key==="Tab"||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const M={relatedTarget:A._element};n.type==="click"&&(M.clickEvent=n),A._completeHide(M)}}static dataApiKeydownHandler(n){const l=/input|textarea/i.test(n.target.tagName),d=n.key==="Escape",A=[Sl,Ar].includes(n.key);if(!A&&!d||l&&!d)return;n.preventDefault();const S=this.matches(en)?this:T.prev(this,en)[0]||T.next(this,en)[0]||T.findOne(en,n.delegateTarget.parentNode),I=Ct.getOrCreateInstance(S);if(A)return n.stopPropagation(),I.show(),void I._selectMenuItem(n);I._isShown()&&(n.stopPropagation(),I.hide(),S.focus())}}N.on(document,Sr,en,Ct.dataApiKeydownHandler),N.on(document,Sr,cs,Ct.dataApiKeydownHandler),N.on(document,xr,Ct.clearMenus),N.on(document,Dl,Ct.clearMenus),N.on(document,xr,en,function(u){u.preventDefault(),Ct.getOrCreateInstance(this).toggle()}),E(Ct);const Cr="backdrop",Tr="show",qr=`mousedown.bs.${Cr}`,Bl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ul={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class $r extends Ve{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return Bl}static get DefaultType(){return Ul}static get NAME(){return Cr}show(n){if(!this._config.isVisible)return void q(n);this._append();const l=this._getElement();this._config.isAnimated&&h(l),l.classList.add(Tr),this._emulateAnimation(()=>{q(n)})}hide(n){this._config.isVisible?(this._getElement().classList.remove(Tr),this._emulateAnimation(()=>{this.dispose(),q(n)})):q(n)}dispose(){this._isAppended&&(N.off(this._element,qr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add("fade"),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=f(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),N.on(n,qr,()=>{q(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){y(n,this._getElement(),this._config.isAnimated)}}const us=".bs.focustrap",Gl=`focusin${us}`,Vl=`keydown.tab${us}`,Dr="backward",Kl={autofocus:!0,trapElement:null},zl={autofocus:"boolean",trapElement:"element"};class Rr extends Ve{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Kl}static get DefaultType(){return zl}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),N.off(document,us),N.on(document,Gl,n=>this._handleFocusin(n)),N.on(document,Vl,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,N.off(document,us))}_handleFocusin(n){const{trapElement:l}=this._config;if(n.target===document||n.target===l||l.contains(n.target))return;const d=T.focusableChildren(l);d.length===0?l.focus():this._lastTabNavDirection===Dr?d[d.length-1].focus():d[0].focus()}_handleKeydown(n){n.key==="Tab"&&(this._lastTabNavDirection=n.shiftKey?Dr:"forward")}}const Pr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ir=".sticky-top",ds="padding-right",Or="margin-right";class to{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ds,l=>l+n),this._setElementAttributes(Pr,ds,l=>l+n),this._setElementAttributes(Ir,Or,l=>l-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ds),this._resetElementAttributes(Pr,ds),this._resetElementAttributes(Ir,Or)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,l,d){const A=this.getWidth();this._applyManipulationCallback(n,S=>{if(S!==this._element&&window.innerWidth>S.clientWidth+A)return;this._saveInitialAttribute(S,l);const I=window.getComputedStyle(S).getPropertyValue(l);S.style.setProperty(l,`${d(Number.parseFloat(I))}px`)})}_saveInitialAttribute(n,l){const d=n.style.getPropertyValue(l);d&&Be.setDataAttribute(n,l,d)}_resetElementAttributes(n,l){this._applyManipulationCallback(n,d=>{const A=Be.getDataAttribute(d,l);A!==null?(Be.removeDataAttribute(d,l),d.style.setProperty(l,A)):d.style.removeProperty(l)})}_applyManipulationCallback(n,l){if(c(n))l(n);else for(const d of T.find(n,this._element))l(d)}}const kt=".bs.modal",Hl=`hide${kt}`,Jl=`hidePrevented${kt}`,Nr=`hidden${kt}`,Lr=`show${kt}`,Wl=`shown${kt}`,Ql=`resize${kt}`,Xl=`click.dismiss${kt}`,Yl=`mousedown.dismiss${kt}`,Zl=`keydown.dismiss${kt}`,ec=`click${kt}.data-api`,Mr="modal-open",jr="show",no="modal-static",tc={backdrop:!0,focus:!0,keyboard:!0},nc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class tn extends Ie{constructor(n,l){super(n,l),this._dialog=T.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new to,this._addEventListeners()}static get Default(){return tc}static get DefaultType(){return nc}static get NAME(){return"modal"}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||N.trigger(this._element,Lr,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Mr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){this._isShown&&!this._isTransitioning&&(N.trigger(this._element,Hl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(jr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){N.off(window,kt),N.off(this._dialog,kt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new $r({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Rr({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=T.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),h(this._element),this._element.classList.add(jr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,N.trigger(this._element,Wl,{relatedTarget:n})},this._dialog,this._isAnimated())}_addEventListeners(){N.on(this._element,Zl,n=>{n.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),N.on(window,Ql,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),N.on(this._element,Yl,n=>{N.one(this._element,Xl,l=>{this._element===n.target&&this._element===l.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Mr),this._resetAdjustments(),this._scrollBar.reset(),N.trigger(this._element,Nr)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(N.trigger(this._element,Jl).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(no)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(no),this._queueCallback(()=>{this._element.classList.remove(no),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),d=l>0;if(d&&!n){const A=_()?"paddingLeft":"paddingRight";this._element.style[A]=`${l}px`}if(!d&&n){const A=_()?"paddingRight":"paddingLeft";this._element.style[A]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,l){return this.each(function(){const d=tn.getOrCreateInstance(this,n);if(typeof n=="string"){if(d[n]===void 0)throw new TypeError(`No method named "${n}"`);d[n](l)}})}}N.on(document,ec,'[data-bs-toggle="modal"]',function(u){const n=T.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&u.preventDefault(),N.one(n,Lr,d=>{d.defaultPrevented||N.one(n,Nr,()=>{p(this)&&this.focus()})});const l=T.findOne(".modal.show");l&&tn.getInstance(l).hide(),tn.getOrCreateInstance(n).toggle(this)}),Q(tn),E(tn);const Ft=".bs.offcanvas",Fr=".data-api",sc=`load${Ft}${Fr}`,Br="show",Ur="showing",Gr="hiding",Vr=".offcanvas.show",oc=`show${Ft}`,rc=`shown${Ft}`,ic=`hide${Ft}`,Kr=`hidePrevented${Ft}`,zr=`hidden${Ft}`,ac=`resize${Ft}`,lc=`click${Ft}${Fr}`,cc=`keydown.dismiss${Ft}`,uc={backdrop:!0,keyboard:!0,scroll:!1},dc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Bt extends Ie{constructor(n,l){super(n,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return uc}static get DefaultType(){return dc}static get NAME(){return"offcanvas"}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||N.trigger(this._element,oc,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new to().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ur),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Br),this._element.classList.remove(Ur),N.trigger(this._element,rc,{relatedTarget:n})},this._element,!0))}hide(){this._isShown&&(N.trigger(this._element,ic).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Gr),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Br,Gr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new to().reset(),N.trigger(this._element,zr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=!!this._config.backdrop;return new $r({className:"offcanvas-backdrop",isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?()=>{this._config.backdrop!=="static"?this.hide():N.trigger(this._element,Kr)}:null})}_initializeFocusTrap(){return new Rr({trapElement:this._element})}_addEventListeners(){N.on(this._element,cc,n=>{n.key==="Escape"&&(this._config.keyboard?this.hide():N.trigger(this._element,Kr))})}static jQueryInterface(n){return this.each(function(){const l=Bt.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n](this)}})}}N.on(document,lc,'[data-bs-toggle="offcanvas"]',function(u){const n=T.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),m(this))return;N.one(n,zr,()=>{p(this)&&this.focus()});const l=T.findOne(Vr);l&&l!==n&&Bt.getInstance(l).hide(),Bt.getOrCreateInstance(n).toggle(this)}),N.on(window,sc,()=>{for(const u of T.find(Vr))Bt.getOrCreateInstance(u).show()}),N.on(window,ac,()=>{for(const u of T.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&Bt.getOrCreateInstance(u).hide()}),Q(Bt),E(Bt);const Hr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},fc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),pc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,hc=(u,n)=>{const l=u.nodeName.toLowerCase();return n.includes(l)?!fc.has(l)||!!pc.test(u.nodeValue):n.filter(d=>d instanceof RegExp).some(d=>d.test(l))},mc={allowList:Hr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},gc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},_c={entry:"(string|element|function|null)",selector:"(string|element)"};class vc extends Ve{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return mc}static get DefaultType(){return gc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[A,S]of Object.entries(this._config.content))this._setContent(n,S,A);const l=n.children[0],d=this._resolvePossibleFunction(this._config.extraClass);return d&&l.classList.add(...d.split(" ")),l}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[l,d]of Object.entries(n))super._typeCheckConfig({selector:l,entry:d},_c)}_setContent(n,l,d){const A=T.findOne(d,n);A&&((l=this._resolvePossibleFunction(l))?c(l)?this._putElementInTemplate(f(l),A):this._config.html?A.innerHTML=this._maybeSanitize(l):A.textContent=l:A.remove())}_maybeSanitize(n){return this._config.sanitize?(function(l,d,A){if(!l.length)return l;if(A&&typeof A=="function")return A(l);const S=new window.DOMParser().parseFromString(l,"text/html"),I=[].concat(...S.body.querySelectorAll("*"));for(const M of I){const G=M.nodeName.toLowerCase();if(!Object.keys(d).includes(G)){M.remove();continue}const X=[].concat(...M.attributes),Y=[].concat(d["*"]||[],d[G]||[]);for(const H of X)hc(H,Y)||M.removeAttribute(H.nodeName)}return S.body.innerHTML})(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return q(n,[void 0,this])}_putElementInTemplate(n,l){if(this._config.html)return l.innerHTML="",void l.append(n);l.textContent=n.textContent}}const bc=new Set(["sanitize","allowList","sanitizeFn"]),so="fade",fs="show",yc=".tooltip-inner",Jr=".modal",Wr="hide.bs.modal",Gn="hover",oo="focus",ro="click",wc={AUTO:"auto",TOP:"top",RIGHT:_()?"left":"right",BOTTOM:"bottom",LEFT:_()?"right":"left"},kc={allowList:Hr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ec={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class nn extends Ie{constructor(n,l){if(kr===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return kc}static get DefaultType(){return Ec}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),N.off(this._element.closest(Jr),Wr,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const n=N.trigger(this._element,this.constructor.eventName("show")),l=(v(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!l)return;this._disposePopper();const d=this._getTipElement();this._element.setAttribute("aria-describedby",d.getAttribute("id"));const{container:A}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(A.append(d),N.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(d),d.classList.add(fs),"ontouchstart"in document.documentElement)for(const S of[].concat(...document.body.children))N.on(S,"mouseover",k);this._queueCallback(()=>{N.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!N.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(fs),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))N.off(n,"mouseover",k);this._activeTrigger[ro]=!1,this._activeTrigger[oo]=!1,this._activeTrigger[Gn]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),N.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const l=this._getTemplateFactory(n).toHtml();if(!l)return null;l.classList.remove(so,fs),l.classList.add(`bs-${this.constructor.NAME}-auto`);const d=(A=>{do A+=Math.floor(1e6*Math.random());while(document.getElementById(A));return A})(this.constructor.NAME).toString();return l.setAttribute("id",d),this._isAnimated()&&l.classList.add(so),l}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new vc({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[yc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(so)}_isShown(){return this.tip&&this.tip.classList.contains(fs)}_createPopper(n){const l=q(this._config.placement,[this,n,this._element]),d=wc[l.toUpperCase()];return Zs(this._element,n,this._getPopperConfig(d))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(l=>Number.parseInt(l,10)):typeof n=="function"?l=>n(l,this._element):n}_resolvePossibleFunction(n){return q(n,[this._element,this._element])}_getPopperConfig(n){const l={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:d=>{this._getTipElement().setAttribute("data-popper-placement",d.state.placement)}}]};return{...l,...q(this._config.popperConfig,[void 0,l])}}_setListeners(){const n=this._config.trigger.split(" ");for(const l of n)if(l==="click")N.on(this._element,this.constructor.eventName("click"),this._config.selector,d=>{const A=this._initializeOnDelegatedTarget(d);A._activeTrigger[ro]=!(A._isShown()&&A._activeTrigger[ro]),A.toggle()});else if(l!=="manual"){const d=l===Gn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),A=l===Gn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");N.on(this._element,d,this._config.selector,S=>{const I=this._initializeOnDelegatedTarget(S);I._activeTrigger[S.type==="focusin"?oo:Gn]=!0,I._enter()}),N.on(this._element,A,this._config.selector,S=>{const I=this._initializeOnDelegatedTarget(S);I._activeTrigger[S.type==="focusout"?oo:Gn]=I._element.contains(S.relatedTarget),I._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},N.on(this._element.closest(Jr),Wr,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,l){clearTimeout(this._timeout),this._timeout=setTimeout(n,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const l=Be.getDataAttributes(this._element);for(const d of Object.keys(l))bc.has(d)&&delete l[d];return n={...l,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:f(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[l,d]of Object.entries(this._config))this.constructor.Default[l]!==d&&(n[l]=d);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const l=nn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}}E(nn);const Ac=".popover-header",xc=".popover-body",Sc={...nn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Cc={...nn.DefaultType,content:"(null|string|element|function)"};class ps extends nn{static get Default(){return Sc}static get DefaultType(){return Cc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ac]:this._getTitle(),[xc]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const l=ps.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}}E(ps);const io=".bs.scrollspy",Tc=`activate${io}`,Qr=`click${io}`,qc=`load${io}.data-api`,Sn="active",ao="[href]",Xr=".nav-link",$c=`${Xr}, .nav-item > ${Xr}, .list-group-item`,Dc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Rc={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Vn extends Ie{constructor(n,l){super(n,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Dc}static get DefaultType(){return Rc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=f(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(l=>Number.parseFloat(l))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(N.off(this._config.target,Qr),N.on(this._config.target,Qr,ao,n=>{const l=this._observableSections.get(n.target.hash);if(l){n.preventDefault();const d=this._rootElement||window,A=l.offsetTop-this._element.offsetTop;if(d.scrollTo)return void d.scrollTo({top:A,behavior:"smooth"});d.scrollTop=A}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),n)}_observerCallback(n){const l=I=>this._targetLinks.get(`#${I.target.id}`),d=I=>{this._previousScrollData.visibleEntryTop=I.target.offsetTop,this._process(l(I))},A=(this._rootElement||document.documentElement).scrollTop,S=A>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=A;for(const I of n){if(!I.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(I));continue}const M=I.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(S&&M){if(d(I),!A)return}else S||M||d(I)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=T.find(ao,this._config.target);for(const l of n){if(!l.hash||m(l))continue;const d=T.findOne(decodeURI(l.hash),this._element);p(d)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,d))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(Sn),this._activateParents(n),N.trigger(this._element,Tc,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains("dropdown-item"))T.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(Sn);else for(const l of T.parents(n,".nav, .list-group"))for(const d of T.prev(l,$c))d.classList.add(Sn)}_clearActiveClass(n){n.classList.remove(Sn);const l=T.find(`${ao}.${Sn}`,n);for(const d of l)d.classList.remove(Sn)}static jQueryInterface(n){return this.each(function(){const l=Vn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}})}}N.on(window,qc,()=>{for(const u of T.find('[data-bs-spy="scroll"]'))Vn.getOrCreateInstance(u)}),E(Vn);const sn=".bs.tab",Pc=`hide${sn}`,Ic=`hidden${sn}`,Oc=`show${sn}`,Nc=`shown${sn}`,Lc=`click${sn}`,Mc=`keydown${sn}`,jc=`load${sn}`,Fc="ArrowLeft",Yr="ArrowRight",Bc="ArrowUp",Zr="ArrowDown",lo="Home",ei="End",on="active",ti="fade",co="show",ni=".dropdown-toggle",uo=`:not(${ni})`,si='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',fo=`.nav-link${uo}, .list-group-item${uo}, [role="tab"]${uo}, ${si}`,Uc=`.${on}[data-bs-toggle="tab"], .${on}[data-bs-toggle="pill"], .${on}[data-bs-toggle="list"]`;class rn extends Ie{constructor(n){super(n),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),N.on(this._element,Mc,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const n=this._element;if(this._elemIsActive(n))return;const l=this._getActiveElem(),d=l?N.trigger(l,Pc,{relatedTarget:n}):null;N.trigger(n,Oc,{relatedTarget:l}).defaultPrevented||d&&d.defaultPrevented||(this._deactivate(l,n),this._activate(n,l))}_activate(n,l){n&&(n.classList.add(on),this._activate(T.getElementFromSelector(n)),this._queueCallback(()=>{n.getAttribute("role")==="tab"?(n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),N.trigger(n,Nc,{relatedTarget:l})):n.classList.add(co)},n,n.classList.contains(ti)))}_deactivate(n,l){n&&(n.classList.remove(on),n.blur(),this._deactivate(T.getElementFromSelector(n)),this._queueCallback(()=>{n.getAttribute("role")==="tab"?(n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),N.trigger(n,Ic,{relatedTarget:l})):n.classList.remove(co)},n,n.classList.contains(ti)))}_keydown(n){if(![Fc,Yr,Bc,Zr,lo,ei].includes(n.key))return;n.stopPropagation(),n.preventDefault();const l=this._getChildren().filter(A=>!m(A));let d;if([lo,ei].includes(n.key))d=l[n.key===lo?0:l.length-1];else{const A=[Yr,Zr].includes(n.key);d=O(l,n.target,A,!0)}d&&(d.focus({preventScroll:!0}),rn.getOrCreateInstance(d).show())}_getChildren(){return T.find(fo,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,l){this._setAttributeIfNotExists(n,"role","tablist");for(const d of l)this._setInitialAttributesOnChild(d)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const l=this._elemIsActive(n),d=this._getOuterElement(n);n.setAttribute("aria-selected",l),d!==n&&this._setAttributeIfNotExists(d,"role","presentation"),l||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const l=T.getElementFromSelector(n);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,l){const d=this._getOuterElement(n);if(!d.classList.contains("dropdown"))return;const A=(S,I)=>{const M=T.findOne(S,d);M&&M.classList.toggle(I,l)};A(ni,on),A(".dropdown-menu",co),d.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(n,l,d){n.hasAttribute(l)||n.setAttribute(l,d)}_elemIsActive(n){return n.classList.contains(on)}_getInnerElement(n){return n.matches(fo)?n:T.findOne(fo,n)}_getOuterElement(n){return n.closest(".nav-item, .list-group-item")||n}static jQueryInterface(n){return this.each(function(){const l=rn.getOrCreateInstance(this);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}})}}N.on(document,Lc,si,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),m(this)||rn.getOrCreateInstance(this).show()}),N.on(window,jc,()=>{for(const u of T.find(Uc))rn.getOrCreateInstance(u)}),E(rn);const Kt=".bs.toast",Gc=`mouseover${Kt}`,Vc=`mouseout${Kt}`,Kc=`focusin${Kt}`,zc=`focusout${Kt}`,Hc=`hide${Kt}`,Jc=`hidden${Kt}`,Wc=`show${Kt}`,Qc=`shown${Kt}`,oi="hide",hs="show",ms="showing",Xc={animation:"boolean",autohide:"boolean",delay:"number"},Yc={animation:!0,autohide:!0,delay:5e3};class Kn extends Ie{constructor(n,l){super(n,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Yc}static get DefaultType(){return Xc}static get NAME(){return"toast"}show(){N.trigger(this._element,Wc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(oi),h(this._element),this._element.classList.add(hs,ms),this._queueCallback(()=>{this._element.classList.remove(ms),N.trigger(this._element,Qc),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(N.trigger(this._element,Hc).defaultPrevented||(this._element.classList.add(ms),this._queueCallback(()=>{this._element.classList.add(oi),this._element.classList.remove(ms,hs),N.trigger(this._element,Jc)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(hs),super.dispose()}isShown(){return this._element.classList.contains(hs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,l){switch(n.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const d=n.relatedTarget;this._element===d||this._element.contains(d)||this._maybeScheduleHide()}_setListeners(){N.on(this._element,Gc,n=>this._onInteraction(n,!0)),N.on(this._element,Vc,n=>this._onInteraction(n,!1)),N.on(this._element,Kc,n=>this._onInteraction(n,!0)),N.on(this._element,zc,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const l=Kn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n](this)}})}}return Q(Kn),E(Kn),{Alert:Ae,Button:oe,Carousel:mn,Collapse:_n,Dropdown:Ct,Modal:tn,Offcanvas:Bt,Popover:ps,ScrollSpy:Vn,Tab:rn,Toast:Kn,Tooltip:nn}})});export default Vy();
