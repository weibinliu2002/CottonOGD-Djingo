var iu=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import{r as U,c as w,a as As,b as s,d as H,e as Z,w as _e,f as gt,E as au,o as y,g as se,h as na,u as Tn,i as lu,p as $n,s as cu,j as vt,k as uu,l as Le,m as qn,n as sa,q as Jn,t as Gt,v as du,x as we,y as Ye,z as fu,A as pe,B as q,C as _t,F as ee,D as be,G as Cs,H as oa,I as ra,J as ia,K as aa,L as Wt,M as Oe,N as hu,O as ys,P as pu,Q as mu,R as gu,S as _u,T as vu,U as bu,V as yu,W as wu,X as ku,Y as Eu}from"./element-plus-kI5dZbzF.js";import{s as Nt,c as xu,d as Cu,a as Su,o as Au,b as Tu,T as $u,r as qu,e as vi,l as bi,m as Ru,f as yi,g as wi}from"./d3-FZRuB6XP.js";import{r as Iu}from"./tools-BemMMEYA.js";import{C as la,r as Ou}from"./chart-js-Bcjh2pZL.js";var Hy=iu((Ja,Oo)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=o(r);fetch(r.href,a)}})();const ca="/assets/egg-CeAhh0Oe.jpg",Du={class:"app"},Pu={class:"navbar navbar-expand-lg custom-navbar"},Nu={class:"container"},Lu={class:"collapse navbar-collapse",id:"navbarNav"},Mu={class:"navbar-nav"},Fu={class:"nav-item"},ju={class:"nav-item dropdown"},Bu={class:"dropdown-menu","aria-labelledby":"BrowseDropdown"},Uu={class:"nav-item"},Gu={class:"nav-item dropdown"},Vu={class:"dropdown-menu","aria-labelledby":"toolsDropdown"},Ku={class:"nav-item"},zu={class:"nav-item"},Hu={class:"nav-item"},Ju={class:"container"},Wu={key:0,class:"loading-overlay"},Qu={class:"backtop-content"},Xu={__name:"App",setup(t){const e=U(!1),o=()=>{e.value=!0},i=()=>{e.value=!1};return $n("isLoading",e),$n("showLoading",o),$n("hideLoading",i),(r,a)=>{const c=gt("router-link"),f=gt("router-view"),h=na,p=au;return y(),w("div",Du,[a[20]||(a[20]=As('<div id="head-container"><div class="head-content"><img src="'+ca+'" alt="Logo" style="height:90px;width:100px;"><div class="site-title"><span class="main-title"> CottonOGD </span><span class="sub-title"> —— a comprehensive cotton orthogroups database </span></div></div></div>',1)),s("nav",Pu,[s("div",Nu,[a[18]||(a[18]=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[s("span",{class:"navbar-toggler-icon"})],-1)),s("div",Lu,[s("ul",Mu,[s("li",Fu,[Z(c,{class:"nav-link",to:"/","exact-active-class":"active"},{default:_e(()=>[...a[0]||(a[0]=[se("Home",-1)])]),_:1})]),s("li",ju,[a[4]||(a[4]=s("a",{class:"nav-link dropdown-toggle",href:"#",id:"BrowseDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Browse",-1)),s("ul",Bu,[s("li",null,[Z(c,{class:"dropdown-item",to:"/browse/genome"},{default:_e(()=>[...a[1]||(a[1]=[se("Genome",-1)])]),_:1})]),s("li",null,[Z(c,{class:"dropdown-item",to:"/browse/species"},{default:_e(()=>[...a[2]||(a[2]=[se("Species",-1)])]),_:1})]),s("li",null,[Z(c,{class:"dropdown-item",to:"/browse/tf"},{default:_e(()=>[...a[3]||(a[3]=[se("TF",-1)])]),_:1})])])]),s("li",Uu,[Z(c,{class:"nav-link",to:"/jbrowse","exact-active-class":"active"},{default:_e(()=>[...a[5]||(a[5]=[se("Jbrowse",-1)])]),_:1})]),s("li",Gu,[a[14]||(a[14]=s("a",{class:"nav-link dropdown-toggle",href:"#",id:"toolsDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Tools",-1)),s("ul",Vu,[s("li",null,[Z(c,{class:"dropdown-item",to:"/tools/id-search"},{default:_e(()=>[...a[6]||(a[6]=[se("Search by GeneID",-1)])]),_:1})]),s("li",null,[Z(c,{class:"dropdown-item",to:"/tools/blastp"},{default:_e(()=>[...a[7]||(a[7]=[se("blastp",-1)])]),_:1})]),s("li",null,[Z(c,{class:"dropdown-item",to:"/tools/go-enrichment"},{default:_e(()=>[...a[8]||(a[8]=[se("go_enrichment",-1)])]),_:1})]),s("li",null,[Z(c,{class:"dropdown-item",to:"/tools/go-annotation"},{default:_e(()=>[...a[9]||(a[9]=[se("go_annotation",-1)])]),_:1})]),s("li",null,[Z(c,{class:"dropdown-item",to:"/tools/kegg-annotation"},{default:_e(()=>[...a[10]||(a[10]=[se("kegg_annotation",-1)])]),_:1})]),s("li",null,[Z(c,{class:"dropdown-item",to:"/tools/kegg-enrichment"},{default:_e(()=>[...a[11]||(a[11]=[se("kegg_enrichment",-1)])]),_:1})]),s("li",null,[Z(c,{class:"dropdown-item",to:"/tools/gene-expression"},{default:_e(()=>[...a[12]||(a[12]=[se("gene_expression",-1)])]),_:1})]),s("li",null,[Z(c,{class:"dropdown-item",to:"/tools/gene-expression-efp"},{default:_e(()=>[...a[13]||(a[13]=[se("gene_expression_in_eFP",-1)])]),_:1})])])]),s("li",Ku,[Z(c,{class:"nav-link",to:"/download"},{default:_e(()=>[...a[15]||(a[15]=[se("Download",-1)])]),_:1})]),s("li",zu,[Z(c,{class:"nav-link",to:"/about-us"},{default:_e(()=>[...a[16]||(a[16]=[se("About",-1)])]),_:1})]),s("li",Hu,[Z(c,{class:"nav-link",to:"/contact-us"},{default:_e(()=>[...a[17]||(a[17]=[se("Contact us",-1)])]),_:1})])])])])]),s("main",Ju,[Z(f)]),e.value?(y(),w("div",Wu,[...a[19]||(a[19]=[s("div",{class:"loading-content"},[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")]),s("div",{class:"mt-3"},"正在检索中...")],-1)])])):H("",!0),a[21]||(a[21]=s("div",{class:"footer-section"},[s("footer",null,[s("div",{class:"container"},[s("p",{class:"mb-0"},"CottonOGD Website © 2025")])])],-1)),Z(p,{"visibility-height":200,right:40,bottom:40,target:".app"},{default:_e(()=>[s("div",Qu,[Z(h,{class:"backtop-icon"},{default:_e(()=>[Z(Tn(lu))]),_:1})])]),_:1})])}}};const An=typeof document<"u";function ua(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Yu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ua(t.default)}const Ee=Object.assign;function _o(t,e){const o={};for(const i in e){const r=e[i];o[i]=$t(r)?r.map(t):t(r)}return o}const Wn=()=>{},$t=Array.isArray;function ki(t,e){const o={};for(const i in t)o[i]=i in e?e[i]:t[i];return o}const da=/#/g,Zu=/&/g,ed=/\//g,td=/=/g,nd=/\?/g,fa=/\+/g,sd=/%5B/g,od=/%5D/g,ha=/%5E/g,rd=/%60/g,pa=/%7B/g,id=/%7C/g,ma=/%7D/g,ad=/%20/g;function Do(t){return t==null?"":encodeURI(""+t).replace(id,"|").replace(sd,"[").replace(od,"]")}function ld(t){return Do(t).replace(pa,"{").replace(ma,"}").replace(ha,"^")}function Co(t){return Do(t).replace(fa,"%2B").replace(ad,"+").replace(da,"%23").replace(Zu,"%26").replace(rd,"`").replace(pa,"{").replace(ma,"}").replace(ha,"^")}function cd(t){return Co(t).replace(td,"%3D")}function ud(t){return Do(t).replace(da,"%23").replace(nd,"%3F")}function dd(t){return ud(t).replace(ed,"%2F")}function Qn(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const fd=/\/$/,hd=t=>t.replace(fd,"");function vo(t,e,o="/"){let i,r={},a="",c="";const f=e.indexOf("#");let h=e.indexOf("?");return h=f>=0&&h>f?-1:h,h>=0&&(i=e.slice(0,h),a=e.slice(h,f>0?f:e.length),r=t(a.slice(1))),f>=0&&(i=i||e.slice(0,f),c=e.slice(f,e.length)),i=_d(i??e,o),{fullPath:i+a+c,path:i,query:r,hash:Qn(c)}}function pd(t,e){const o=e.query?t(e.query):"";return e.path+(o&&"?")+o+(e.hash||"")}function Ei(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function md(t,e,o){const i=e.matched.length-1,r=o.matched.length-1;return i>-1&&i===r&&Rn(e.matched[i],o.matched[r])&&ga(e.params,o.params)&&t(e.query)===t(o.query)&&e.hash===o.hash}function Rn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ga(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var o in t)if(!gd(t[o],e[o]))return!1;return!0}function gd(t,e){return $t(t)?xi(t,e):$t(e)?xi(e,t):t?.valueOf()===e?.valueOf()}function xi(t,e){return $t(e)?t.length===e.length&&t.every((o,i)=>o===e[i]):t.length===1&&t[0]===e}function _d(t,e){if(t.startsWith("/"))return t;if(!t)return e;const o=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let a=o.length-1,c,f;for(c=0;c<i.length;c++)if(f=i[c],f!==".")if(f==="..")a>1&&a--;else break;return o.slice(0,a).join("/")+"/"+i.slice(c).join("/")}const Ht={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let So=(function(t){return t.pop="pop",t.push="push",t})({}),bo=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function vd(t){if(!t)if(An){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),hd(t)}const bd=/^[^#]+#/;function yd(t,e){return t.replace(bd,"#")+e}function wd(t,e){const o=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-o.left-(e.left||0),top:i.top-o.top-(e.top||0)}}const Ts=()=>({left:window.scrollX,top:window.scrollY});function kd(t){let e;if("el"in t){const o=t.el,i=typeof o=="string"&&o.startsWith("#"),r=typeof o=="string"?i?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!r)return;e=wd(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ci(t,e){return(history.state?history.state.position-e:-1)+t}const Ao=new Map;function Ed(t,e){Ao.set(t,e)}function xd(t){const e=Ao.get(t);return Ao.delete(t),e}function Cd(t){return typeof t=="string"||t&&typeof t=="object"}function _a(t){return typeof t=="string"||typeof t=="symbol"}let je=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const va=Symbol("");je.MATCHER_NOT_FOUND+"",je.NAVIGATION_GUARD_REDIRECT+"",je.NAVIGATION_ABORTED+"",je.NAVIGATION_CANCELLED+"",je.NAVIGATION_DUPLICATED+"";function In(t,e){return Ee(new Error,{type:t,[va]:!0},e)}function Ut(t,e){return t instanceof Error&&va in t&&(e==null||!!(t.type&e))}const Sd=["params","query","hash"];function Ad(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const o of Sd)o in t&&(e[o]=t[o]);return JSON.stringify(e,null,2)}function Td(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<o.length;++i){const r=o[i].replace(fa," "),a=r.indexOf("="),c=Qn(a<0?r:r.slice(0,a)),f=a<0?null:Qn(r.slice(a+1));if(c in e){let h=e[c];$t(h)||(h=e[c]=[h]),h.push(f)}else e[c]=f}return e}function Si(t){let e="";for(let o in t){const i=t[o];if(o=cd(o),i==null){i!==void 0&&(e+=(e.length?"&":"")+o);continue}($t(i)?i.map(r=>r&&Co(r)):[i&&Co(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+o,r!=null&&(e+="="+r))})}return e}function $d(t){const e={};for(const o in t){const i=t[o];i!==void 0&&(e[o]=$t(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const qd=Symbol(""),Ai=Symbol(""),$s=Symbol(""),Po=Symbol(""),To=Symbol("");function zn(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function o(){t=[]}return{add:e,list:()=>t.slice(),reset:o}}function Jt(t,e,o,i,r,a=c=>c()){const c=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((f,h)=>{const p=g=>{g===!1?h(In(je.NAVIGATION_ABORTED,{from:o,to:e})):g instanceof Error?h(g):Cd(g)?h(In(je.NAVIGATION_GUARD_REDIRECT,{from:e,to:g})):(c&&i.enterCallbacks[r]===c&&typeof g=="function"&&c.push(g),f())},v=a(()=>t.call(i&&i.instances[r],e,o,p));let k=Promise.resolve(v);t.length<3&&(k=k.then(p)),k.catch(g=>h(g))})}function yo(t,e,o,i,r=a=>a()){const a=[];for(const c of t)for(const f in c.components){let h=c.components[f];if(!(e!=="beforeRouteEnter"&&!c.instances[f]))if(ua(h)){const p=(h.__vccOpts||h)[e];p&&a.push(Jt(p,o,i,c,f,r))}else{let p=h();a.push(()=>p.then(v=>{if(!v)throw new Error(`Couldn't resolve component "${f}" at "${c.path}"`);const k=Yu(v)?v.default:v;c.mods[f]=v,c.components[f]=k;const g=(k.__vccOpts||k)[e];return g&&Jt(g,o,i,c,f,r)()}))}}return a}function Rd(t,e){const o=[],i=[],r=[],a=Math.max(e.matched.length,t.matched.length);for(let c=0;c<a;c++){const f=e.matched[c];f&&(t.matched.find(p=>Rn(p,f))?i.push(f):o.push(f));const h=t.matched[c];h&&(e.matched.find(p=>Rn(p,h))||r.push(h))}return[o,i,r]}let Id=()=>location.protocol+"//"+location.host;function ba(t,e){const{pathname:o,search:i,hash:r}=e,a=t.indexOf("#");if(a>-1){let c=r.includes(t.slice(a))?t.slice(a).length:1,f=r.slice(c);return f[0]!=="/"&&(f="/"+f),Ei(f,"")}return Ei(o,t)+i+r}function Od(t,e,o,i){let r=[],a=[],c=null;const f=({state:g})=>{const _=ba(t,location),m=o.value,E=e.value;let $=0;if(g){if(o.value=_,e.value=g,c&&c===m){c=null;return}$=E?g.position-E.position:0}else i(_);r.forEach(b=>{b(o.value,m,{delta:$,type:So.pop,direction:$?$>0?bo.forward:bo.back:bo.unknown})})};function h(){c=o.value}function p(g){r.push(g);const _=()=>{const m=r.indexOf(g);m>-1&&r.splice(m,1)};return a.push(_),_}function v(){if(document.visibilityState==="hidden"){const{history:g}=window;if(!g.state)return;g.replaceState(Ee({},g.state,{scroll:Ts()}),"")}}function k(){for(const g of a)g();a=[],window.removeEventListener("popstate",f),window.removeEventListener("pagehide",v),document.removeEventListener("visibilitychange",v)}return window.addEventListener("popstate",f),window.addEventListener("pagehide",v),document.addEventListener("visibilitychange",v),{pauseListeners:h,listen:p,destroy:k}}function Ti(t,e,o,i=!1,r=!1){return{back:t,current:e,forward:o,replaced:i,position:window.history.length,scroll:r?Ts():null}}function Dd(t){const{history:e,location:o}=window,i={value:ba(t,o)},r={value:e.state};r.value||a(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(h,p,v){const k=t.indexOf("#"),g=k>-1?(o.host&&document.querySelector("base")?t:t.slice(k))+h:Id()+t+h;try{e[v?"replaceState":"pushState"](p,"",g),r.value=p}catch(_){console.error(_),o[v?"replace":"assign"](g)}}function c(h,p){a(h,Ee({},e.state,Ti(r.value.back,h,r.value.forward,!0),p,{position:r.value.position}),!0),i.value=h}function f(h,p){const v=Ee({},r.value,e.state,{forward:h,scroll:Ts()});a(v.current,v,!0),a(h,Ee({},Ti(i.value,h,null),{position:v.position+1},p),!1),i.value=h}return{location:i,state:r,push:f,replace:c}}function Pd(t){t=vd(t);const e=Dd(t),o=Od(t,e.state,e.location,e.replace);function i(a,c=!0){c||o.pauseListeners(),history.go(a)}const r=Ee({location:"",base:t,go:i,createHref:yd.bind(null,t)},e,o);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let ln=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var He=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(He||{});const Nd={type:ln.Static,value:""},Ld=/[a-zA-Z0-9_]/;function Md(t){if(!t)return[[]];if(t==="/")return[[Nd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(_){throw new Error(`ERR (${o})/"${p}": ${_}`)}let o=He.Static,i=o;const r=[];let a;function c(){a&&r.push(a),a=[]}let f=0,h,p="",v="";function k(){p&&(o===He.Static?a.push({type:ln.Static,value:p}):o===He.Param||o===He.ParamRegExp||o===He.ParamRegExpEnd?(a.length>1&&(h==="*"||h==="+")&&e(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),a.push({type:ln.Param,value:p,regexp:v,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):e("Invalid state to consume buffer"),p="")}function g(){p+=h}for(;f<t.length;){if(h=t[f++],h==="\\"&&o!==He.ParamRegExp){i=o,o=He.EscapeNext;continue}switch(o){case He.Static:h==="/"?(p&&k(),c()):h===":"?(k(),o=He.Param):g();break;case He.EscapeNext:g(),o=i;break;case He.Param:h==="("?o=He.ParamRegExp:Ld.test(h)?g():(k(),o=He.Static,h!=="*"&&h!=="?"&&h!=="+"&&f--);break;case He.ParamRegExp:h===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+h:o=He.ParamRegExpEnd:v+=h;break;case He.ParamRegExpEnd:k(),o=He.Static,h!=="*"&&h!=="?"&&h!=="+"&&f--,v="";break;default:e("Unknown state");break}}return o===He.ParamRegExp&&e(`Unfinished custom RegExp for param "${p}"`),k(),c(),r}const $i="[^/]+?",Fd={sensitive:!1,strict:!1,start:!0,end:!0};var lt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(lt||{});const jd=/[.+*?^${}()[\]/\\]/g;function Bd(t,e){const o=Ee({},Fd,e),i=[];let r=o.start?"^":"";const a=[];for(const p of t){const v=p.length?[]:[lt.Root];o.strict&&!p.length&&(r+="/");for(let k=0;k<p.length;k++){const g=p[k];let _=lt.Segment+(o.sensitive?lt.BonusCaseSensitive:0);if(g.type===ln.Static)k||(r+="/"),r+=g.value.replace(jd,"\\$&"),_+=lt.Static;else if(g.type===ln.Param){const{value:m,repeatable:E,optional:$,regexp:b}=g;a.push({name:m,repeatable:E,optional:$});const D=b||$i;if(D!==$i){_+=lt.BonusCustomRegExp;try{`${D}`}catch(R){throw new Error(`Invalid custom RegExp for param "${m}" (${D}): `+R.message)}}let S=E?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;k||(S=$&&p.length<2?`(?:/${S})`:"/"+S),$&&(S+="?"),r+=S,_+=lt.Dynamic,$&&(_+=lt.BonusOptional),E&&(_+=lt.BonusRepeatable),D===".*"&&(_+=lt.BonusWildcard)}v.push(_)}i.push(v)}if(o.strict&&o.end){const p=i.length-1;i[p][i[p].length-1]+=lt.BonusStrict}o.strict||(r+="/?"),o.end?r+="$":o.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const c=new RegExp(r,o.sensitive?"":"i");function f(p){const v=p.match(c),k={};if(!v)return null;for(let g=1;g<v.length;g++){const _=v[g]||"",m=a[g-1];k[m.name]=_&&m.repeatable?_.split("/"):_}return k}function h(p){let v="",k=!1;for(const g of t){(!k||!v.endsWith("/"))&&(v+="/"),k=!1;for(const _ of g)if(_.type===ln.Static)v+=_.value;else if(_.type===ln.Param){const{value:m,repeatable:E,optional:$}=_,b=m in p?p[m]:"";if($t(b)&&!E)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const D=$t(b)?b.join("/"):b;if(!D)if($)g.length<2&&(v.endsWith("/")?v=v.slice(0,-1):k=!0);else throw new Error(`Missing required param "${m}"`);v+=D}}return v||"/"}return{re:c,score:i,keys:a,parse:f,stringify:h}}function Ud(t,e){let o=0;for(;o<t.length&&o<e.length;){const i=e[o]-t[o];if(i)return i;o++}return t.length<e.length?t.length===1&&t[0]===lt.Static+lt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===lt.Static+lt.Segment?1:-1:0}function ya(t,e){let o=0;const i=t.score,r=e.score;for(;o<i.length&&o<r.length;){const a=Ud(i[o],r[o]);if(a)return a;o++}if(Math.abs(r.length-i.length)===1){if(qi(i))return 1;if(qi(r))return-1}return r.length-i.length}function qi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Gd={strict:!1,end:!0,sensitive:!1};function Vd(t,e,o){const i=Bd(Md(t.path),o),r=Ee(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Kd(t,e){const o=[],i=new Map;e=ki(Gd,e);function r(k){return i.get(k)}function a(k,g,_){const m=!_,E=Ii(k);E.aliasOf=_&&_.record;const $=ki(e,k),b=[E];if("alias"in k){const R=typeof k.alias=="string"?[k.alias]:k.alias;for(const j of R)b.push(Ii(Ee({},E,{components:_?_.record.components:E.components,path:j,aliasOf:_?_.record:E})))}let D,S;for(const R of b){const{path:j}=R;if(g&&j[0]!=="/"){const V=g.record.path,Y=V[V.length-1]==="/"?"":"/";R.path=g.record.path+(j&&Y+j)}if(D=Vd(R,g,$),_?_.alias.push(D):(S=S||D,S!==D&&S.alias.push(D),m&&k.name&&!Oi(D)&&c(k.name)),wa(D)&&h(D),E.children){const V=E.children;for(let Y=0;Y<V.length;Y++)a(V[Y],D,_&&_.children[Y])}_=_||D}return S?()=>{c(S)}:Wn}function c(k){if(_a(k)){const g=i.get(k);g&&(i.delete(k),o.splice(o.indexOf(g),1),g.children.forEach(c),g.alias.forEach(c))}else{const g=o.indexOf(k);g>-1&&(o.splice(g,1),k.record.name&&i.delete(k.record.name),k.children.forEach(c),k.alias.forEach(c))}}function f(){return o}function h(k){const g=Jd(k,o);o.splice(g,0,k),k.record.name&&!Oi(k)&&i.set(k.record.name,k)}function p(k,g){let _,m={},E,$;if("name"in k&&k.name){if(_=i.get(k.name),!_)throw In(je.MATCHER_NOT_FOUND,{location:k});$=_.record.name,m=Ee(Ri(g.params,_.keys.filter(S=>!S.optional).concat(_.parent?_.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),k.params&&Ri(k.params,_.keys.map(S=>S.name))),E=_.stringify(m)}else if(k.path!=null)E=k.path,_=o.find(S=>S.re.test(E)),_&&(m=_.parse(E),$=_.record.name);else{if(_=g.name?i.get(g.name):o.find(S=>S.re.test(g.path)),!_)throw In(je.MATCHER_NOT_FOUND,{location:k,currentLocation:g});$=_.record.name,m=Ee({},g.params,k.params),E=_.stringify(m)}const b=[];let D=_;for(;D;)b.unshift(D.record),D=D.parent;return{name:$,path:E,params:m,matched:b,meta:Hd(b)}}t.forEach(k=>a(k));function v(){o.length=0,i.clear()}return{addRoute:a,resolve:p,removeRoute:c,clearRoutes:v,getRoutes:f,getRecordMatcher:r}}function Ri(t,e){const o={};for(const i of e)i in t&&(o[i]=t[i]);return o}function Ii(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:zd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function zd(t){const e={},o=t.props||!1;if("component"in t)e.default=o;else for(const i in t.components)e[i]=typeof o=="object"?o[i]:o;return e}function Oi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Hd(t){return t.reduce((e,o)=>Ee(e,o.meta),{})}function Jd(t,e){let o=0,i=e.length;for(;o!==i;){const a=o+i>>1;ya(t,e[a])<0?i=a:o=a+1}const r=Wd(t);return r&&(i=e.lastIndexOf(r,i-1)),i}function Wd(t){let e=t;for(;e=e.parent;)if(wa(e)&&ya(t,e)===0)return e}function wa({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Di(t){const e=Gt($s),o=Gt(Po),i=Le(()=>{const h=Tn(t.to);return e.resolve(h)}),r=Le(()=>{const{matched:h}=i.value,{length:p}=h,v=h[p-1],k=o.matched;if(!v||!k.length)return-1;const g=k.findIndex(Rn.bind(null,v));if(g>-1)return g;const _=Pi(h[p-2]);return p>1&&Pi(v)===_&&k[k.length-1].path!==_?k.findIndex(Rn.bind(null,h[p-2])):g}),a=Le(()=>r.value>-1&&ef(o.params,i.value.params)),c=Le(()=>r.value>-1&&r.value===o.matched.length-1&&ga(o.params,i.value.params));function f(h={}){if(Zd(h)){const p=e[Tn(t.replace)?"replace":"push"](Tn(t.to)).catch(Wn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:i,href:Le(()=>i.value.href),isActive:a,isExactActive:c,navigate:f}}function Qd(t){return t.length===1?t[0]:t}const Xd=vt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Di,setup(t,{slots:e}){const o=du(Di(t)),{options:i}=Gt($s),r=Le(()=>({[Ni(t.activeClass,i.linkActiveClass,"router-link-active")]:o.isActive,[Ni(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const a=e.default&&Qd(e.default(o));return t.custom?a:sa("a",{"aria-current":o.isExactActive?t.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:r.value},a)}}}),Yd=Xd;function Zd(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ef(t,e){for(const o in e){const i=e[o],r=t[o];if(typeof i=="string"){if(i!==r)return!1}else if(!$t(r)||r.length!==i.length||i.some((a,c)=>a.valueOf()!==r[c].valueOf()))return!1}return!0}function Pi(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ni=(t,e,o)=>t??e??o,tf=vt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:o}){const i=Gt(To),r=Le(()=>t.route||i.value),a=Gt(Ai,0),c=Le(()=>{let p=Tn(a);const{matched:v}=r.value;let k;for(;(k=v[p])&&!k.components;)p++;return p}),f=Le(()=>r.value.matched[c.value]);$n(Ai,Le(()=>c.value+1)),$n(qd,f),$n(To,r);const h=U();return qn(()=>[h.value,f.value,t.name],([p,v,k],[g,_,m])=>{v&&(v.instances[k]=p,_&&_!==v&&p&&p===g&&(v.leaveGuards.size||(v.leaveGuards=_.leaveGuards),v.updateGuards.size||(v.updateGuards=_.updateGuards))),p&&v&&(!_||!Rn(v,_)||!g)&&(v.enterCallbacks[k]||[]).forEach(E=>E(p))},{flush:"post"}),()=>{const p=r.value,v=t.name,k=f.value,g=k&&k.components[v];if(!g)return Li(o.default,{Component:g,route:p});const _=k.props[v],m=_?_===!0?p.params:typeof _=="function"?_(p):_:null,$=sa(g,Ee({},m,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(k.instances[v]=null)},ref:h}));return Li(o.default,{Component:$,route:p})||$}}});function Li(t,e){if(!t)return null;const o=t(e);return o.length===1?o[0]:o}const nf=tf;function sf(t){const e=Kd(t.routes,t),o=t.parseQuery||Td,i=t.stringifyQuery||Si,r=t.history,a=zn(),c=zn(),f=zn(),h=cu(Ht);let p=Ht;An&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=_o.bind(null,A=>""+A),k=_o.bind(null,dd),g=_o.bind(null,Qn);function _(A,W){let K,ne;return _a(A)?(K=e.getRecordMatcher(A),ne=W):ne=A,e.addRoute(ne,K)}function m(A){const W=e.getRecordMatcher(A);W&&e.removeRoute(W)}function E(){return e.getRoutes().map(A=>A.record)}function $(A){return!!e.getRecordMatcher(A)}function b(A,W){if(W=Ee({},W||h.value),typeof A=="string"){const re=vo(o,A,W.path),Ae=e.resolve({path:re.path},W),bt=r.createHref(re.fullPath);return Ee(re,Ae,{params:g(Ae.params),hash:Qn(re.hash),redirectedFrom:void 0,href:bt})}let K;if(A.path!=null)K=Ee({},A,{path:vo(o,A.path,W.path).path});else{const re=Ee({},A.params);for(const Ae in re)re[Ae]==null&&delete re[Ae];K=Ee({},A,{params:k(re)}),W.params=k(W.params)}const ne=e.resolve(K,W),fe=A.hash||"";ne.params=v(g(ne.params));const Se=pd(i,Ee({},A,{hash:ld(fe),path:ne.path})),ue=r.createHref(Se);return Ee({fullPath:Se,hash:fe,query:i===Si?$d(A.query):A.query||{}},ne,{redirectedFrom:void 0,href:ue})}function D(A){return typeof A=="string"?vo(o,A,h.value.path):Ee({},A)}function S(A,W){if(p!==A)return In(je.NAVIGATION_CANCELLED,{from:W,to:A})}function R(A){return Y(A)}function j(A){return R(Ee(D(A),{replace:!0}))}function V(A,W){const K=A.matched[A.matched.length-1];if(K&&K.redirect){const{redirect:ne}=K;let fe=typeof ne=="function"?ne(A,W):ne;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=D(fe):{path:fe},fe.params={}),Ee({query:A.query,hash:A.hash,params:fe.path!=null?{}:A.params},fe)}}function Y(A,W){const K=p=b(A),ne=h.value,fe=A.state,Se=A.force,ue=A.replace===!0,re=V(K,ne);if(re)return Y(Ee(D(re),{state:typeof re=="object"?Ee({},fe,re.state):fe,force:Se,replace:ue}),W||K);const Ae=K;Ae.redirectedFrom=W;let bt;return!Se&&md(i,ne,K)&&(bt=In(je.NAVIGATION_DUPLICATED,{to:Ae,from:ne}),Ve(ne,ne,!0,!1)),(bt?Promise.resolve(bt):N(Ae,ne)).catch(B=>Ut(B)?Ut(B,je.NAVIGATION_GUARD_REDIRECT)?B:Je(B):qe(B,Ae,ne)).then(B=>{if(B){if(Ut(B,je.NAVIGATION_GUARD_REDIRECT))return Y(Ee({replace:ue},D(B.to),{state:typeof B.to=="object"?Ee({},fe,B.to.state):fe,force:Se}),W||Ae)}else B=F(Ae,ne,!0,ue,fe);return O(Ae,ne,B),B})}function J(A,W){const K=S(A,W);return K?Promise.reject(K):Promise.resolve()}function T(A){const W=Ke.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(A):A()}function N(A,W){let K;const[ne,fe,Se]=Rd(A,W);K=yo(ne.reverse(),"beforeRouteLeave",A,W);for(const re of ne)re.leaveGuards.forEach(Ae=>{K.push(Jt(Ae,A,W))});const ue=J.bind(null,A,W);return K.push(ue),ct(K).then(()=>{K=[];for(const re of a.list())K.push(Jt(re,A,W));return K.push(ue),ct(K)}).then(()=>{K=yo(fe,"beforeRouteUpdate",A,W);for(const re of fe)re.updateGuards.forEach(Ae=>{K.push(Jt(Ae,A,W))});return K.push(ue),ct(K)}).then(()=>{K=[];for(const re of Se)if(re.beforeEnter)if($t(re.beforeEnter))for(const Ae of re.beforeEnter)K.push(Jt(Ae,A,W));else K.push(Jt(re.beforeEnter,A,W));return K.push(ue),ct(K)}).then(()=>(A.matched.forEach(re=>re.enterCallbacks={}),K=yo(Se,"beforeRouteEnter",A,W,T),K.push(ue),ct(K))).then(()=>{K=[];for(const re of c.list())K.push(Jt(re,A,W));return K.push(ue),ct(K)}).catch(re=>Ut(re,je.NAVIGATION_CANCELLED)?re:Promise.reject(re))}function O(A,W,K){f.list().forEach(ne=>T(()=>ne(A,W,K)))}function F(A,W,K,ne,fe){const Se=S(A,W);if(Se)return Se;const ue=W===Ht,re=An?history.state:{};K&&(ne||ue?r.replace(A.fullPath,Ee({scroll:ue&&re&&re.scroll},fe)):r.push(A.fullPath,fe)),h.value=A,Ve(A,W,K,ue),Je()}let te;function ke(){te||(te=r.listen((A,W,K)=>{if(!Ne.listening)return;const ne=b(A),fe=V(ne,Ne.currentRoute.value);if(fe){Y(Ee(fe,{replace:!0,force:!0}),ne).catch(Wn);return}p=ne;const Se=h.value;An&&Ed(Ci(Se.fullPath,K.delta),Ts()),N(ne,Se).catch(ue=>Ut(ue,je.NAVIGATION_ABORTED|je.NAVIGATION_CANCELLED)?ue:Ut(ue,je.NAVIGATION_GUARD_REDIRECT)?(Y(Ee(D(ue.to),{force:!0}),ne).then(re=>{Ut(re,je.NAVIGATION_ABORTED|je.NAVIGATION_DUPLICATED)&&!K.delta&&K.type===So.pop&&r.go(-1,!1)}).catch(Wn),Promise.reject()):(K.delta&&r.go(-K.delta,!1),qe(ue,ne,Se))).then(ue=>{ue=ue||F(ne,Se,!1),ue&&(K.delta&&!Ut(ue,je.NAVIGATION_CANCELLED)?r.go(-K.delta,!1):K.type===So.pop&&Ut(ue,je.NAVIGATION_ABORTED|je.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),O(ne,Se,ue)}).catch(Wn)}))}let Me=zn(),ge=zn(),et;function qe(A,W,K){Je(A);const ne=ge.list();return ne.length?ne.forEach(fe=>fe(A,W,K)):console.error(A),Promise.reject(A)}function L(){return et&&h.value!==Ht?Promise.resolve():new Promise((A,W)=>{Me.add([A,W])})}function Je(A){return et||(et=!A,ke(),Me.list().forEach(([W,K])=>A?K(A):W()),Me.reset()),A}function Ve(A,W,K,ne){const{scrollBehavior:fe}=t;if(!An||!fe)return Promise.resolve();const Se=!K&&xd(Ci(A.fullPath,0))||(ne||!K)&&history.state&&history.state.scroll||null;return Jn().then(()=>fe(A,W,Se)).then(ue=>ue&&kd(ue)).catch(ue=>qe(ue,A,W))}const We=A=>r.go(A);let Ue;const Ke=new Set,Ne={currentRoute:h,listening:!0,addRoute:_,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:$,getRoutes:E,resolve:b,options:t,push:R,replace:j,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:a.add,beforeResolve:c.add,afterEach:f.add,onError:ge.add,isReady:L,install(A){A.component("RouterLink",Yd),A.component("RouterView",nf),A.config.globalProperties.$router=Ne,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Tn(h)}),An&&!Ue&&h.value===Ht&&(Ue=!0,R(r.location).catch(ne=>{}));const W={};for(const ne in Ht)Object.defineProperty(W,ne,{get:()=>h.value[ne],enumerable:!0});A.provide($s,Ne),A.provide(Po,uu(W)),A.provide(To,h);const K=A.unmount;Ke.add(A),A.unmount=function(){Ke.delete(A),Ke.size<1&&(p=Ht,te&&te(),te=null,h.value=Ht,Ue=!1,et=!1),K()}}};function ct(A){return A.reduce((W,K)=>W.then(()=>T(K)),Promise.resolve())}return Ne}function Dn(){return Gt($s)}function Pn(t){return Gt(Po)}const Pe=(t,e)=>{const o=t.__vccOpts||t;for(const[i,r]of e)o[i]=r;return o},of={name:"HomeView",data(){return{searchQuery:""}},methods:{performSearch(){this.searchQuery.trim()&&this.$router.push({path:"/tools/id-search/results",query:{q:this.searchQuery.trim()}})}}},rf={class:"home"},af={class:"hero-section"},lf={class:"container"},cf={class:"search-box-container"},uf={class:"input-group"},df={class:"features-section py-8"},ff={class:"container"},hf={class:"row"},pf={class:"col-md-4 mb-4"},mf={class:"feature-card h-100"},gf={class:"col-md-4 mb-4"},_f={class:"feature-card h-100"},vf={class:"col-md-4 mb-4"},bf={class:"feature-card h-100"};function yf(t,e,o,i,r,a){const c=gt("router-link");return y(),w("div",rf,[s("div",af,[s("div",lf,[e[4]||(e[4]=s("h1",{class:"text-center mb-4"},"Welcome to CottonOGD Website",-1)),e[5]||(e[5]=s("p",{class:"text-center mb-6"},"Comprehensive genomic database for cotton research",-1)),s("div",cf,[s("div",uf,[we(s("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter gene ID, symbol or keyword...","onUpdate:modelValue":e[0]||(e[0]=f=>r.searchQuery=f),onKeyup:e[1]||(e[1]=fu((...f)=>a.performSearch&&a.performSearch(...f),["enter"]))},null,544),[[Ye,r.searchQuery]]),s("button",{class:"btn btn-primary btn-lg",onClick:e[2]||(e[2]=(...f)=>a.performSearch&&a.performSearch(...f))},[...e[3]||(e[3]=[s("i",{class:"fas fa-search"},null,-1),se(" Search ",-1)])])])])])]),s("div",df,[s("div",ff,[s("div",hf,[s("div",pf,[s("div",mf,[e[7]||(e[7]=s("div",{class:"icon-container"},[s("i",{class:"fas fa-database fa-3x text-primary"})],-1)),e[8]||(e[8]=s("h3",{class:"mt-3 mb-2"},"Browse",-1)),e[9]||(e[9]=s("p",{class:"mb-4"},"Explore cotton genome data, species information and transcription factors",-1)),Z(c,{to:"/browse/genome",class:"btn btn-outline-primary"},{default:_e(()=>[...e[6]||(e[6]=[se(" Get Started ",-1)])]),_:1})])]),s("div",gf,[s("div",_f,[e[11]||(e[11]=s("div",{class:"icon-container"},[s("i",{class:"fas fa-chart-line fa-3x text-primary"})],-1)),e[12]||(e[12]=s("h3",{class:"mt-3 mb-2"},"Visualization",-1)),e[13]||(e[13]=s("p",{class:"mb-4"},"View genomic data interactively with JBrowse and expression patterns",-1)),Z(c,{to:"/jbrowse",class:"btn btn-outline-primary"},{default:_e(()=>[...e[10]||(e[10]=[se(" Launch JBrowse ",-1)])]),_:1})])]),s("div",vf,[s("div",bf,[e[15]||(e[15]=s("div",{class:"icon-container"},[s("i",{class:"fas fa-tools fa-3x text-primary"})],-1)),e[16]||(e[16]=s("h3",{class:"mt-3 mb-2"},"Tools",-1)),e[17]||(e[17]=s("p",{class:"mb-4"},"Use various analysis tools for gene function, expression and enrichment",-1)),Z(c,{to:"/tools/id-search",class:"btn btn-outline-primary"},{default:_e(()=>[...e[14]||(e[14]=[se(" Explore Tools ",-1)])]),_:1})])])])])]),e[18]||(e[18]=As('<div class="research-section bg-light py-8" data-v-fafdabbe><div class="container" data-v-fafdabbe><h2 class="text-center mb-6" data-v-fafdabbe>Latest Research Highlights</h2><div class="row" data-v-fafdabbe><div class="col-md-6 mb-4" data-v-fafdabbe><div class="research-card bg-white rounded-lg shadow-sm p-4" data-v-fafdabbe><h4 data-v-fafdabbe>Genome-Wide Analysis of Cotton Transcription Factors</h4><p class="text-muted" data-v-fafdabbe>Identification and characterization of transcription factor families across cotton species</p></div></div><div class="col-md-6 mb-4" data-v-fafdabbe><div class="research-card bg-white rounded-lg shadow-sm p-4" data-v-fafdabbe><h4 data-v-fafdabbe>Comparative Genomics of Gossypium</h4><p class="text-muted" data-v-fafdabbe>Evolutionary insights from comparative analysis of multiple cotton genomes</p></div></div></div></div></div>',1))])}const wf=Pe(of,[["render",yf],["__scopeId","data-v-fafdabbe"]]),kf={name:"BrowseGenomeView"},Ef={class:"container mt-4"};function xf(t,e,o,i,r,a){return y(),w("div",Ef,[...e[0]||(e[0]=[s("h1",null,"浏览基因组",-1),s("p",null,"此页面正在开发中...",-1)])])}const Cf=Pe(kf,[["render",xf]]);function ka(t,e){return function(){return t.apply(e,arguments)}}const{toString:Sf}=Object.prototype,{getPrototypeOf:No}=Object,{iterator:qs,toStringTag:Ea}=Symbol,Rs=(t=>e=>{const o=Sf.call(e);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),qt=t=>(t=t.toLowerCase(),e=>Rs(e)===t),Is=t=>e=>typeof e===t,{isArray:Nn}=Array,On=Is("undefined");function Xn(t){return t!==null&&!On(t)&&t.constructor!==null&&!On(t.constructor)&&ut(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const xa=qt("ArrayBuffer");function Af(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xa(t.buffer),e}const Tf=Is("string"),ut=Is("function"),Ca=Is("number"),Yn=t=>t!==null&&typeof t=="object",$f=t=>t===!0||t===!1,ks=t=>{if(Rs(t)!=="object")return!1;const e=No(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ea in t)&&!(qs in t)},qf=t=>{if(!Yn(t)||Xn(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Rf=qt("Date"),If=qt("File"),Of=qt("Blob"),Df=qt("FileList"),Pf=t=>Yn(t)&&ut(t.pipe),Nf=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ut(t.append)&&((e=Rs(t))==="formdata"||e==="object"&&ut(t.toString)&&t.toString()==="[object FormData]"))},Lf=qt("URLSearchParams"),[Mf,Ff,jf,Bf]=["ReadableStream","Request","Response","Headers"].map(qt),Uf=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zn(t,e,{allOwnKeys:o=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Nn(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(Xn(t))return;const a=o?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let f;for(i=0;i<c;i++)f=a[i],e.call(null,t[f],f,t)}}function Sa(t,e){if(Xn(t))return null;e=e.toLowerCase();const o=Object.keys(t);let i=o.length,r;for(;i-- >0;)if(r=o[i],e===r.toLowerCase())return r;return null}const cn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Aa=t=>!On(t)&&t!==cn;function $o(){const{caseless:t,skipUndefined:e}=Aa(this)&&this||{},o={},i=(r,a)=>{const c=t&&Sa(o,a)||a;ks(o[c])&&ks(r)?o[c]=$o(o[c],r):ks(r)?o[c]=$o({},r):Nn(r)?o[c]=r.slice():(!e||!On(r))&&(o[c]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Zn(arguments[r],i);return o}const Gf=(t,e,o,{allOwnKeys:i}={})=>(Zn(e,(r,a)=>{o&&ut(r)?t[a]=ka(r,o):t[a]=r},{allOwnKeys:i}),t),Vf=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Kf=(t,e,o,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),o&&Object.assign(t.prototype,o)},zf=(t,e,o,i)=>{let r,a,c;const f={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),a=r.length;a-- >0;)c=r[a],(!i||i(c,t,e))&&!f[c]&&(e[c]=t[c],f[c]=!0);t=o!==!1&&No(t)}while(t&&(!o||o(t,e))&&t!==Object.prototype);return e},Hf=(t,e,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=e.length;const i=t.indexOf(e,o);return i!==-1&&i===o},Jf=t=>{if(!t)return null;if(Nn(t))return t;let e=t.length;if(!Ca(e))return null;const o=new Array(e);for(;e-- >0;)o[e]=t[e];return o},Wf=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&No(Uint8Array)),Qf=(t,e)=>{const i=(t&&t[qs]).call(t);let r;for(;(r=i.next())&&!r.done;){const a=r.value;e.call(t,a[0],a[1])}},Xf=(t,e)=>{let o;const i=[];for(;(o=t.exec(e))!==null;)i.push(o);return i},Yf=qt("HTMLFormElement"),Zf=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,r){return i.toUpperCase()+r}),Mi=(({hasOwnProperty:t})=>(e,o)=>t.call(e,o))(Object.prototype),eh=qt("RegExp"),Ta=(t,e)=>{const o=Object.getOwnPropertyDescriptors(t),i={};Zn(o,(r,a)=>{let c;(c=e(r,a,t))!==!1&&(i[a]=c||r)}),Object.defineProperties(t,i)},th=t=>{Ta(t,(e,o)=>{if(ut(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=t[o];if(ut(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},nh=(t,e)=>{const o={},i=r=>{r.forEach(a=>{o[a]=!0})};return Nn(t)?i(t):i(String(t).split(e)),o},sh=()=>{},oh=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function rh(t){return!!(t&&ut(t.append)&&t[Ea]==="FormData"&&t[qs])}const ih=t=>{const e=new Array(10),o=(i,r)=>{if(Yn(i)){if(e.indexOf(i)>=0)return;if(Xn(i))return i;if(!("toJSON"in i)){e[r]=i;const a=Nn(i)?[]:{};return Zn(i,(c,f)=>{const h=o(c,r+1);!On(h)&&(a[f]=h)}),e[r]=void 0,a}}return i};return o(t,0)},ah=qt("AsyncFunction"),lh=t=>t&&(Yn(t)||ut(t))&&ut(t.then)&&ut(t.catch),$a=((t,e)=>t?setImmediate:e?((o,i)=>(cn.addEventListener("message",({source:r,data:a})=>{r===cn&&a===o&&i.length&&i.shift()()},!1),r=>{i.push(r),cn.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",ut(cn.postMessage)),ch=typeof queueMicrotask<"u"?queueMicrotask.bind(cn):typeof process<"u"&&process.nextTick||$a,uh=t=>t!=null&&ut(t[qs]),I={isArray:Nn,isArrayBuffer:xa,isBuffer:Xn,isFormData:Nf,isArrayBufferView:Af,isString:Tf,isNumber:Ca,isBoolean:$f,isObject:Yn,isPlainObject:ks,isEmptyObject:qf,isReadableStream:Mf,isRequest:Ff,isResponse:jf,isHeaders:Bf,isUndefined:On,isDate:Rf,isFile:If,isBlob:Of,isRegExp:eh,isFunction:ut,isStream:Pf,isURLSearchParams:Lf,isTypedArray:Wf,isFileList:Df,forEach:Zn,merge:$o,extend:Gf,trim:Uf,stripBOM:Vf,inherits:Kf,toFlatObject:zf,kindOf:Rs,kindOfTest:qt,endsWith:Hf,toArray:Jf,forEachEntry:Qf,matchAll:Xf,isHTMLForm:Yf,hasOwnProperty:Mi,hasOwnProp:Mi,reduceDescriptors:Ta,freezeMethods:th,toObjectSet:nh,toCamelCase:Zf,noop:sh,toFiniteNumber:oh,findKey:Sa,global:cn,isContextDefined:Aa,isSpecCompliantForm:rh,toJSONObject:ih,isAsyncFn:ah,isThenable:lh,setImmediate:$a,asap:ch,isIterable:uh};function ce(t,e,o,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),o&&(this.config=o),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}I.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const qa=ce.prototype,Ra={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ra[t]={value:t}});Object.defineProperties(ce,Ra);Object.defineProperty(qa,"isAxiosError",{value:!0});ce.from=(t,e,o,i,r,a)=>{const c=Object.create(qa);I.toFlatObject(t,c,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const f=t&&t.message?t.message:"Error",h=e==null&&t?t.code:e;return ce.call(c,f,h,o,i,r),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",a&&Object.assign(c,a),c};const dh=null;function qo(t){return I.isPlainObject(t)||I.isArray(t)}function Ia(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function Fi(t,e,o){return t?t.concat(e).map(function(r,a){return r=Ia(r),!o&&a?"["+r+"]":r}).join(o?".":""):e}function fh(t){return I.isArray(t)&&!t.some(qo)}const hh=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function Os(t,e,o){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,o=I.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,$){return!I.isUndefined($[E])});const i=o.metaTokens,r=o.visitor||v,a=o.dots,c=o.indexes,h=(o.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(r))throw new TypeError("visitor must be a function");function p(m){if(m===null)return"";if(I.isDate(m))return m.toISOString();if(I.isBoolean(m))return m.toString();if(!h&&I.isBlob(m))throw new ce("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(m)||I.isTypedArray(m)?h&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function v(m,E,$){let b=m;if(m&&!$&&typeof m=="object"){if(I.endsWith(E,"{}"))E=i?E:E.slice(0,-2),m=JSON.stringify(m);else if(I.isArray(m)&&fh(m)||(I.isFileList(m)||I.endsWith(E,"[]"))&&(b=I.toArray(m)))return E=Ia(E),b.forEach(function(S,R){!(I.isUndefined(S)||S===null)&&e.append(c===!0?Fi([E],R,a):c===null?E:E+"[]",p(S))}),!1}return qo(m)?!0:(e.append(Fi($,E,a),p(m)),!1)}const k=[],g=Object.assign(hh,{defaultVisitor:v,convertValue:p,isVisitable:qo});function _(m,E){if(!I.isUndefined(m)){if(k.indexOf(m)!==-1)throw Error("Circular reference detected in "+E.join("."));k.push(m),I.forEach(m,function(b,D){(!(I.isUndefined(b)||b===null)&&r.call(e,b,I.isString(D)?D.trim():D,E,g))===!0&&_(b,E?E.concat(D):[D])}),k.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return _(t),e}function ji(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Lo(t,e){this._pairs=[],t&&Os(t,this,e)}const Oa=Lo.prototype;Oa.append=function(e,o){this._pairs.push([e,o])};Oa.toString=function(e){const o=e?function(i){return e.call(this,i,ji)}:ji;return this._pairs.map(function(r){return o(r[0])+"="+o(r[1])},"").join("&")};function ph(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Da(t,e,o){if(!e)return t;const i=o&&o.encode||ph;I.isFunction(o)&&(o={serialize:o});const r=o&&o.serialize;let a;if(r?a=r(e,o):a=I.isURLSearchParams(e)?e.toString():new Lo(e,o).toString(i),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Bi{constructor(){this.handlers=[]}use(e,o,i){return this.handlers.push({fulfilled:e,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Pa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mh=typeof URLSearchParams<"u"?URLSearchParams:Lo,gh=typeof FormData<"u"?FormData:null,_h=typeof Blob<"u"?Blob:null,vh={isBrowser:!0,classes:{URLSearchParams:mh,FormData:gh,Blob:_h},protocols:["http","https","file","blob","url","data"]},Mo=typeof window<"u"&&typeof document<"u",Ro=typeof navigator=="object"&&navigator||void 0,bh=Mo&&(!Ro||["ReactNative","NativeScript","NS"].indexOf(Ro.product)<0),yh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wh=Mo&&window.location.href||"http://localhost",kh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mo,hasStandardBrowserEnv:bh,hasStandardBrowserWebWorkerEnv:yh,navigator:Ro,origin:wh},Symbol.toStringTag,{value:"Module"})),nt={...kh,...vh};function Eh(t,e){return Os(t,new nt.classes.URLSearchParams,{visitor:function(o,i,r,a){return nt.isNode&&I.isBuffer(o)?(this.append(i,o.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function xh(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ch(t){const e={},o=Object.keys(t);let i;const r=o.length;let a;for(i=0;i<r;i++)a=o[i],e[a]=t[a];return e}function Na(t){function e(o,i,r,a){let c=o[a++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),h=a>=o.length;return c=!c&&I.isArray(r)?r.length:c,h?(I.hasOwnProp(r,c)?r[c]=[r[c],i]:r[c]=i,!f):((!r[c]||!I.isObject(r[c]))&&(r[c]=[]),e(o,i,r[c],a)&&I.isArray(r[c])&&(r[c]=Ch(r[c])),!f)}if(I.isFormData(t)&&I.isFunction(t.entries)){const o={};return I.forEachEntry(t,(i,r)=>{e(xh(i),r,o,0)}),o}return null}function Sh(t,e,o){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(t)}const es={transitional:Pa,adapter:["xhr","http","fetch"],transformRequest:[function(e,o){const i=o.getContentType()||"",r=i.indexOf("application/json")>-1,a=I.isObject(e);if(a&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return r?JSON.stringify(Na(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Eh(e,this.formSerializer).toString();if((f=I.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Os(f?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||r?(o.setContentType("application/json",!1),Sh(e)):e}],transformResponse:[function(e){const o=this.transitional||es.transitional,i=o&&o.forcedJSONParsing,r=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(i&&!this.responseType||r)){const c=!(o&&o.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(f){if(c)throw f.name==="SyntaxError"?ce.from(f,ce.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{es.headers[t]={}});const Ah=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Th=t=>{const e={};let o,i,r;return t&&t.split(`
`).forEach(function(c){r=c.indexOf(":"),o=c.substring(0,r).trim().toLowerCase(),i=c.substring(r+1).trim(),!(!o||e[o]&&Ah[o])&&(o==="set-cookie"?e[o]?e[o].push(i):e[o]=[i]:e[o]=e[o]?e[o]+", "+i:i)}),e},Ui=Symbol("internals");function Hn(t){return t&&String(t).trim().toLowerCase()}function Es(t){return t===!1||t==null?t:I.isArray(t)?t.map(Es):String(t)}function $h(t){const e=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(t);)e[i[1]]=i[2];return e}const qh=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wo(t,e,o,i,r){if(I.isFunction(i))return i.call(this,e,o);if(r&&(e=o),!!I.isString(e)){if(I.isString(i))return e.indexOf(i)!==-1;if(I.isRegExp(i))return i.test(e)}}function Rh(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,o,i)=>o.toUpperCase()+i)}function Ih(t,e){const o=I.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+o,{value:function(r,a,c){return this[i].call(this,e,r,a,c)},configurable:!0})})}let dt=class{constructor(e){e&&this.set(e)}set(e,o,i){const r=this;function a(f,h,p){const v=Hn(h);if(!v)throw new Error("header name must be a non-empty string");const k=I.findKey(r,v);(!k||r[k]===void 0||p===!0||p===void 0&&r[k]!==!1)&&(r[k||h]=Es(f))}const c=(f,h)=>I.forEach(f,(p,v)=>a(p,v,h));if(I.isPlainObject(e)||e instanceof this.constructor)c(e,o);else if(I.isString(e)&&(e=e.trim())&&!qh(e))c(Th(e),o);else if(I.isObject(e)&&I.isIterable(e)){let f={},h,p;for(const v of e){if(!I.isArray(v))throw TypeError("Object iterator must return a key-value pair");f[p=v[0]]=(h=f[p])?I.isArray(h)?[...h,v[1]]:[h,v[1]]:v[1]}c(f,o)}else e!=null&&a(o,e,i);return this}get(e,o){if(e=Hn(e),e){const i=I.findKey(this,e);if(i){const r=this[i];if(!o)return r;if(o===!0)return $h(r);if(I.isFunction(o))return o.call(this,r,i);if(I.isRegExp(o))return o.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,o){if(e=Hn(e),e){const i=I.findKey(this,e);return!!(i&&this[i]!==void 0&&(!o||wo(this,this[i],i,o)))}return!1}delete(e,o){const i=this;let r=!1;function a(c){if(c=Hn(c),c){const f=I.findKey(i,c);f&&(!o||wo(i,i[f],f,o))&&(delete i[f],r=!0)}}return I.isArray(e)?e.forEach(a):a(e),r}clear(e){const o=Object.keys(this);let i=o.length,r=!1;for(;i--;){const a=o[i];(!e||wo(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const o=this,i={};return I.forEach(this,(r,a)=>{const c=I.findKey(i,a);if(c){o[c]=Es(r),delete o[a];return}const f=e?Rh(a):String(a).trim();f!==a&&delete o[a],o[f]=Es(r),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const o=Object.create(null);return I.forEach(this,(i,r)=>{i!=null&&i!==!1&&(o[r]=e&&I.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,o])=>e+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...o){const i=new this(e);return o.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Ui]=this[Ui]={accessors:{}}).accessors,r=this.prototype;function a(c){const f=Hn(c);i[f]||(Ih(r,c),i[f]=!0)}return I.isArray(e)?e.forEach(a):a(e),this}};dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(dt.prototype,({value:t},e)=>{let o=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[o]=i}}});I.freezeMethods(dt);function ko(t,e){const o=this||es,i=e||o,r=dt.from(i.headers);let a=i.data;return I.forEach(t,function(f){a=f.call(o,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function La(t){return!!(t&&t.__CANCEL__)}function Ln(t,e,o){ce.call(this,t??"canceled",ce.ERR_CANCELED,e,o),this.name="CanceledError"}I.inherits(Ln,ce,{__CANCEL__:!0});function Ma(t,e,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?t(o):e(new ce("Request failed with status code "+o.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Oh(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Dh(t,e){t=t||10;const o=new Array(t),i=new Array(t);let r=0,a=0,c;return e=e!==void 0?e:1e3,function(h){const p=Date.now(),v=i[a];c||(c=p),o[r]=h,i[r]=p;let k=a,g=0;for(;k!==r;)g+=o[k++],k=k%t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),p-c<e)return;const _=v&&p-v;return _?Math.round(g*1e3/_):void 0}}function Ph(t,e){let o=0,i=1e3/e,r,a;const c=(p,v=Date.now())=>{o=v,r=null,a&&(clearTimeout(a),a=null),t(...p)};return[(...p)=>{const v=Date.now(),k=v-o;k>=i?c(p,v):(r=p,a||(a=setTimeout(()=>{a=null,c(r)},i-k)))},()=>r&&c(r)]}const Ss=(t,e,o=3)=>{let i=0;const r=Dh(50,250);return Ph(a=>{const c=a.loaded,f=a.lengthComputable?a.total:void 0,h=c-i,p=r(h),v=c<=f;i=c;const k={loaded:c,total:f,progress:f?c/f:void 0,bytes:h,rate:p||void 0,estimated:p&&f&&v?(f-c)/p:void 0,event:a,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(k)},o)},Gi=(t,e)=>{const o=t!=null;return[i=>e[0]({lengthComputable:o,total:t,loaded:i}),e[1]]},Vi=t=>(...e)=>I.asap(()=>t(...e)),Nh=nt.hasStandardBrowserEnv?((t,e)=>o=>(o=new URL(o,nt.origin),t.protocol===o.protocol&&t.host===o.host&&(e||t.port===o.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0,Lh=nt.hasStandardBrowserEnv?{write(t,e,o,i,r,a,c){if(typeof document>"u")return;const f=[`${t}=${encodeURIComponent(e)}`];I.isNumber(o)&&f.push(`expires=${new Date(o).toUTCString()}`),I.isString(i)&&f.push(`path=${i}`),I.isString(r)&&f.push(`domain=${r}`),a===!0&&f.push("secure"),I.isString(c)&&f.push(`SameSite=${c}`),document.cookie=f.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Mh(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fh(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Fa(t,e,o){let i=!Mh(e);return t&&(i||o==!1)?Fh(t,e):e}const Ki=t=>t instanceof dt?{...t}:t;function dn(t,e){e=e||{};const o={};function i(p,v,k,g){return I.isPlainObject(p)&&I.isPlainObject(v)?I.merge.call({caseless:g},p,v):I.isPlainObject(v)?I.merge({},v):I.isArray(v)?v.slice():v}function r(p,v,k,g){if(I.isUndefined(v)){if(!I.isUndefined(p))return i(void 0,p,k,g)}else return i(p,v,k,g)}function a(p,v){if(!I.isUndefined(v))return i(void 0,v)}function c(p,v){if(I.isUndefined(v)){if(!I.isUndefined(p))return i(void 0,p)}else return i(void 0,v)}function f(p,v,k){if(k in e)return i(p,v);if(k in t)return i(void 0,p)}const h={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(p,v,k)=>r(Ki(p),Ki(v),k,!0)};return I.forEach(Object.keys({...t,...e}),function(v){const k=h[v]||r,g=k(t[v],e[v],v);I.isUndefined(g)&&k!==f||(o[v]=g)}),o}const ja=t=>{const e=dn({},t);let{data:o,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:c,auth:f}=e;if(e.headers=c=dt.from(c),e.url=Da(Fa(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),I.isFormData(o)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(I.isFunction(o.getHeaders)){const h=o.getHeaders(),p=["content-type","content-length"];Object.entries(h).forEach(([v,k])=>{p.includes(v.toLowerCase())&&c.set(v,k)})}}if(nt.hasStandardBrowserEnv&&(i&&I.isFunction(i)&&(i=i(e)),i||i!==!1&&Nh(e.url))){const h=r&&a&&Lh.read(a);h&&c.set(r,h)}return e},jh=typeof XMLHttpRequest<"u",Bh=jh&&function(t){return new Promise(function(o,i){const r=ja(t);let a=r.data;const c=dt.from(r.headers).normalize();let{responseType:f,onUploadProgress:h,onDownloadProgress:p}=r,v,k,g,_,m;function E(){_&&_(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(v),r.signal&&r.signal.removeEventListener("abort",v)}let $=new XMLHttpRequest;$.open(r.method.toUpperCase(),r.url,!0),$.timeout=r.timeout;function b(){if(!$)return;const S=dt.from("getAllResponseHeaders"in $&&$.getAllResponseHeaders()),j={data:!f||f==="text"||f==="json"?$.responseText:$.response,status:$.status,statusText:$.statusText,headers:S,config:t,request:$};Ma(function(Y){o(Y),E()},function(Y){i(Y),E()},j),$=null}"onloadend"in $?$.onloadend=b:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(b)},$.onabort=function(){$&&(i(new ce("Request aborted",ce.ECONNABORTED,t,$)),$=null)},$.onerror=function(R){const j=R&&R.message?R.message:"Network Error",V=new ce(j,ce.ERR_NETWORK,t,$);V.event=R||null,i(V),$=null},$.ontimeout=function(){let R=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const j=r.transitional||Pa;r.timeoutErrorMessage&&(R=r.timeoutErrorMessage),i(new ce(R,j.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,t,$)),$=null},a===void 0&&c.setContentType(null),"setRequestHeader"in $&&I.forEach(c.toJSON(),function(R,j){$.setRequestHeader(j,R)}),I.isUndefined(r.withCredentials)||($.withCredentials=!!r.withCredentials),f&&f!=="json"&&($.responseType=r.responseType),p&&([g,m]=Ss(p,!0),$.addEventListener("progress",g)),h&&$.upload&&([k,_]=Ss(h),$.upload.addEventListener("progress",k),$.upload.addEventListener("loadend",_)),(r.cancelToken||r.signal)&&(v=S=>{$&&(i(!S||S.type?new Ln(null,t,$):S),$.abort(),$=null)},r.cancelToken&&r.cancelToken.subscribe(v),r.signal&&(r.signal.aborted?v():r.signal.addEventListener("abort",v)));const D=Oh(r.url);if(D&&nt.protocols.indexOf(D)===-1){i(new ce("Unsupported protocol "+D+":",ce.ERR_BAD_REQUEST,t));return}$.send(a||null)})},Uh=(t,e)=>{const{length:o}=t=t?t.filter(Boolean):[];if(e||o){let i=new AbortController,r;const a=function(p){if(!r){r=!0,f();const v=p instanceof Error?p:this.reason;i.abort(v instanceof ce?v:new Ln(v instanceof Error?v.message:v))}};let c=e&&setTimeout(()=>{c=null,a(new ce(`timeout ${e} of ms exceeded`,ce.ETIMEDOUT))},e);const f=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),t=null)};t.forEach(p=>p.addEventListener("abort",a));const{signal:h}=i;return h.unsubscribe=()=>I.asap(f),h}},Gh=function*(t,e){let o=t.byteLength;if(o<e){yield t;return}let i=0,r;for(;i<o;)r=i+e,yield t.slice(i,r),i=r},Vh=async function*(t,e){for await(const o of Kh(t))yield*Gh(o,e)},Kh=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:o,value:i}=await e.read();if(o)break;yield i}}finally{await e.cancel()}},zi=(t,e,o,i)=>{const r=Vh(t,e);let a=0,c,f=h=>{c||(c=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:p,value:v}=await r.next();if(p){f(),h.close();return}let k=v.byteLength;if(o){let g=a+=k;o(g)}h.enqueue(new Uint8Array(v))}catch(p){throw f(p),p}},cancel(h){return f(h),r.return()}},{highWaterMark:2})},Hi=64*1024,{isFunction:ws}=I,zh=(({Request:t,Response:e})=>({Request:t,Response:e}))(I.global),{ReadableStream:Ji,TextEncoder:Wi}=I.global,Qi=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Hh=t=>{t=I.merge.call({skipUndefined:!0},zh,t);const{fetch:e,Request:o,Response:i}=t,r=e?ws(e):typeof fetch=="function",a=ws(o),c=ws(i);if(!r)return!1;const f=r&&ws(Ji),h=r&&(typeof Wi=="function"?(m=>E=>m.encode(E))(new Wi):async m=>new Uint8Array(await new o(m).arrayBuffer())),p=a&&f&&Qi(()=>{let m=!1;const E=new o(nt.origin,{body:new Ji,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!E}),v=c&&f&&Qi(()=>I.isReadableStream(new i("").body)),k={stream:v&&(m=>m.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!k[m]&&(k[m]=(E,$)=>{let b=E&&E[m];if(b)return b.call(E);throw new ce(`Response type '${m}' is not supported`,ce.ERR_NOT_SUPPORT,$)})});const g=async m=>{if(m==null)return 0;if(I.isBlob(m))return m.size;if(I.isSpecCompliantForm(m))return(await new o(nt.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(I.isArrayBufferView(m)||I.isArrayBuffer(m))return m.byteLength;if(I.isURLSearchParams(m)&&(m=m+""),I.isString(m))return(await h(m)).byteLength},_=async(m,E)=>{const $=I.toFiniteNumber(m.getContentLength());return $??g(E)};return async m=>{let{url:E,method:$,data:b,signal:D,cancelToken:S,timeout:R,onDownloadProgress:j,onUploadProgress:V,responseType:Y,headers:J,withCredentials:T="same-origin",fetchOptions:N}=ja(m),O=e||fetch;Y=Y?(Y+"").toLowerCase():"text";let F=Uh([D,S&&S.toAbortSignal()],R),te=null;const ke=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let Me;try{if(V&&p&&$!=="get"&&$!=="head"&&(Me=await _(J,b))!==0){let Ve=new o(E,{method:"POST",body:b,duplex:"half"}),We;if(I.isFormData(b)&&(We=Ve.headers.get("content-type"))&&J.setContentType(We),Ve.body){const[Ue,Ke]=Gi(Me,Ss(Vi(V)));b=zi(Ve.body,Hi,Ue,Ke)}}I.isString(T)||(T=T?"include":"omit");const ge=a&&"credentials"in o.prototype,et={...N,signal:F,method:$.toUpperCase(),headers:J.normalize().toJSON(),body:b,duplex:"half",credentials:ge?T:void 0};te=a&&new o(E,et);let qe=await(a?O(te,N):O(E,et));const L=v&&(Y==="stream"||Y==="response");if(v&&(j||L&&ke)){const Ve={};["status","statusText","headers"].forEach(Ne=>{Ve[Ne]=qe[Ne]});const We=I.toFiniteNumber(qe.headers.get("content-length")),[Ue,Ke]=j&&Gi(We,Ss(Vi(j),!0))||[];qe=new i(zi(qe.body,Hi,Ue,()=>{Ke&&Ke(),ke&&ke()}),Ve)}Y=Y||"text";let Je=await k[I.findKey(k,Y)||"text"](qe,m);return!L&&ke&&ke(),await new Promise((Ve,We)=>{Ma(Ve,We,{data:Je,headers:dt.from(qe.headers),status:qe.status,statusText:qe.statusText,config:m,request:te})})}catch(ge){throw ke&&ke(),ge&&ge.name==="TypeError"&&/Load failed|fetch/i.test(ge.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,m,te),{cause:ge.cause||ge}):ce.from(ge,ge&&ge.code,m,te)}}},Jh=new Map,Ba=t=>{let e=t&&t.env||{};const{fetch:o,Request:i,Response:r}=e,a=[i,r,o];let c=a.length,f=c,h,p,v=Jh;for(;f--;)h=a[f],p=v.get(h),p===void 0&&v.set(h,p=f?new Map:Hh(e)),v=p;return p};Ba();const Fo={http:dh,xhr:Bh,fetch:{get:Ba}};I.forEach(Fo,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Xi=t=>`- ${t}`,Wh=t=>I.isFunction(t)||t===null||t===!1;function Qh(t,e){t=I.isArray(t)?t:[t];const{length:o}=t;let i,r;const a={};for(let c=0;c<o;c++){i=t[c];let f;if(r=i,!Wh(i)&&(r=Fo[(f=String(i)).toLowerCase()],r===void 0))throw new ce(`Unknown adapter '${f}'`);if(r&&(I.isFunction(r)||(r=r.get(e))))break;a[f||"#"+c]=r}if(!r){const c=Object.entries(a).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let f=o?c.length>1?`since :
`+c.map(Xi).join(`
`):" "+Xi(c[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return r}const Ua={getAdapter:Qh,adapters:Fo};function Eo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ln(null,t)}function Yi(t){return Eo(t),t.headers=dt.from(t.headers),t.data=ko.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ua.getAdapter(t.adapter||es.adapter,t)(t).then(function(i){return Eo(t),i.data=ko.call(t,t.transformResponse,i),i.headers=dt.from(i.headers),i},function(i){return La(i)||(Eo(t),i&&i.response&&(i.response.data=ko.call(t,t.transformResponse,i.response),i.response.headers=dt.from(i.response.headers))),Promise.reject(i)})}const Ga="1.13.2",Ds={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ds[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Zi={};Ds.transitional=function(e,o,i){function r(a,c){return"[Axios v"+Ga+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,f)=>{if(e===!1)throw new ce(r(c," has been removed"+(o?" in "+o:"")),ce.ERR_DEPRECATED);return o&&!Zi[c]&&(Zi[c]=!0,console.warn(r(c," has been deprecated since v"+o+" and will be removed in the near future"))),e?e(a,c,f):!0}};Ds.spelling=function(e){return(o,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Xh(t,e,o){if(typeof t!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const a=i[r],c=e[a];if(c){const f=t[a],h=f===void 0||c(f,a,t);if(h!==!0)throw new ce("option "+a+" must be "+h,ce.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new ce("Unknown option "+a,ce.ERR_BAD_OPTION)}}const xs={assertOptions:Xh,validators:Ds},Lt=xs.validators;let un=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Bi,response:new Bi}}async request(e,o){try{return await this._request(e,o)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,o){typeof e=="string"?(o=o||{},o.url=e):o=e||{},o=dn(this.defaults,o);const{transitional:i,paramsSerializer:r,headers:a}=o;i!==void 0&&xs.assertOptions(i,{silentJSONParsing:Lt.transitional(Lt.boolean),forcedJSONParsing:Lt.transitional(Lt.boolean),clarifyTimeoutError:Lt.transitional(Lt.boolean)},!1),r!=null&&(I.isFunction(r)?o.paramsSerializer={serialize:r}:xs.assertOptions(r,{encode:Lt.function,serialize:Lt.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),xs.assertOptions(o,{baseUrl:Lt.spelling("baseURL"),withXsrfToken:Lt.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let c=a&&I.merge(a.common,a[o.method]);a&&I.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),o.headers=dt.concat(c,a);const f=[];let h=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(o)===!1||(h=h&&E.synchronous,f.unshift(E.fulfilled,E.rejected))});const p=[];this.interceptors.response.forEach(function(E){p.push(E.fulfilled,E.rejected)});let v,k=0,g;if(!h){const m=[Yi.bind(this),void 0];for(m.unshift(...f),m.push(...p),g=m.length,v=Promise.resolve(o);k<g;)v=v.then(m[k++],m[k++]);return v}g=f.length;let _=o;for(;k<g;){const m=f[k++],E=f[k++];try{_=m(_)}catch($){E.call(this,$);break}}try{v=Yi.call(this,_)}catch(m){return Promise.reject(m)}for(k=0,g=p.length;k<g;)v=v.then(p[k++],p[k++]);return v}getUri(e){e=dn(this.defaults,e);const o=Fa(e.baseURL,e.url,e.allowAbsoluteUrls);return Da(o,e.params,e.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(e){un.prototype[e]=function(o,i){return this.request(dn(i||{},{method:e,url:o,data:(i||{}).data}))}});I.forEach(["post","put","patch"],function(e){function o(i){return function(a,c,f){return this.request(dn(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}un.prototype[e]=o(),un.prototype[e+"Form"]=o(!0)});let Yh=class Va{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(a){o=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const c=new Promise(f=>{i.subscribe(f),a=f}).then(r);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,f){i.reason||(i.reason=new Ln(a,c,f),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const o=this._listeners.indexOf(e);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const e=new AbortController,o=i=>{e.abort(i)};return this.subscribe(o),e.signal.unsubscribe=()=>this.unsubscribe(o),e.signal}static source(){let e;return{token:new Va(function(r){e=r}),cancel:e}}};function Zh(t){return function(o){return t.apply(null,o)}}function ep(t){return I.isObject(t)&&t.isAxiosError===!0}const Io={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Io).forEach(([t,e])=>{Io[e]=t});function Ka(t){const e=new un(t),o=ka(un.prototype.request,e);return I.extend(o,un.prototype,e,{allOwnKeys:!0}),I.extend(o,e,null,{allOwnKeys:!0}),o.create=function(r){return Ka(dn(t,r))},o}const Be=Ka(es);Be.Axios=un;Be.CanceledError=Ln;Be.CancelToken=Yh;Be.isCancel=La;Be.VERSION=Ga;Be.toFormData=Os;Be.AxiosError=ce;Be.Cancel=Be.CanceledError;Be.all=function(e){return Promise.all(e)};Be.spread=Zh;Be.isAxiosError=ep;Be.mergeConfig=dn;Be.AxiosHeaders=dt;Be.formToJSON=t=>Na(I.isHTMLForm(t)?new FormData(t):t);Be.getAdapter=Ua.getAdapter;Be.HttpStatusCode=Io;Be.default=Be;const{Axios:t1,AxiosError:n1,CanceledError:s1,isCancel:o1,CancelToken:r1,VERSION:i1,all:a1,Cancel:l1,isAxiosError:c1,spread:u1,toFormData:d1,AxiosHeaders:f1,HttpStatusCode:h1,formToJSON:p1,getAdapter:m1,mergeConfig:g1}=Be,St=Be.create({timeout:1e12,withCredentials:!0});St.interceptors.response.use(t=>t.data,t=>Promise.reject(t));St.interceptors.request.use(t=>{const e=document.cookie.match(/csrftoken=([^;]+)/)?.[1];return e&&(t.headers["X-CSRFToken"]=e),t},t=>Promise.reject(t));const Ze=[];for(let t=0;t<256;++t)Ze.push((t+256).toString(16).slice(1));function tp(t,e=0){return(Ze[t[e+0]]+Ze[t[e+1]]+Ze[t[e+2]]+Ze[t[e+3]]+"-"+Ze[t[e+4]]+Ze[t[e+5]]+"-"+Ze[t[e+6]]+Ze[t[e+7]]+"-"+Ze[t[e+8]]+Ze[t[e+9]]+"-"+Ze[t[e+10]]+Ze[t[e+11]]+Ze[t[e+12]]+Ze[t[e+13]]+Ze[t[e+14]]+Ze[t[e+15]]).toLowerCase()}let xo;const np=new Uint8Array(16);function sp(){if(!xo){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xo=crypto.getRandomValues.bind(crypto)}return xo(np)}const op=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ea={randomUUID:op};function rp(t,e,o){t=t||{};const i=t.random??t.rng?.()??sp();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){if(o=o||0,o<0||o+16>e.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`);for(let r=0;r<16;++r)e[o+r]=i[r];return e}return tp(i)}function za(t,e,o){return ea.randomUUID&&!e&&!t?ea.randomUUID():rp(t,e,o)}const ip={name:"IdSearchView",inject:["showLoading","hideLoading"],data(){return{geneIds:"",fileName:"",errorMessage:""}},methods:{loadExample(){this.geneIds=`Ghir_A01G000040.1
Ghir_A01G000060
Ghir_A01G000290.1
Ghir_A01G000120.2`,this.errorMessage=""},reset(){this.geneIds="",this.fileName="",this.errorMessage="";const t=document.getElementById("fileInput");t&&(t.value="")},handleFileSelect(t){const e=t.target.files[0];if(e){const o=new FileReader;o.onload=i=>{try{const r=i.target.result;this.geneIds=r.trim(),this.fileName=e.name,console.log("已从文件中读取基因ID:",this.geneIds)}catch(r){this.errorMessage="文件读取失败: "+r.message,console.error("文件读取错误:",r)}},o.onerror=()=>{this.errorMessage="文件读取错误",console.error("文件读取器错误")},o.readAsText(e)}else this.geneIds="",this.fileName="";t.target.value=""},async handleSubmit(){this.errorMessage="",this.showLoading();try{if(!this.geneIds||!this.geneIds.trim())throw new Error("请输入或上传基因ID");const t=za();console.log("Request ID:",t);const e=`gene_ids=${encodeURIComponent(this.geneIds)}&request_id=${encodeURIComponent(t)}`;console.log("formDataString:",e);const o=await St.post("/tools/id-search/api/id-search-form/",e,{headers:{"Content-Type":"application/x-www-form-urlencoded","X-Request-ID":t}});if(!o)throw new Error("无效的响应数据");const i=o;if(i.status!=="success")throw new Error(i.error||"搜索失败");if(!i.query_ids||!Array.isArray(i.query_ids))throw new Error("无效的查询ID数据");if(console.log("查询ID:",i.query_ids[0]),console.log("查询ID数量:",i.query_ids.length),i.query_ids.length===1)this.$router.push({path:"/tools/id-search/results/",query:{id:i.query_ids[0],request_id:t}});else if(i.query_ids.length>1)this.$router.push({path:"/tools/id-search/id-search-summary/",query:{id:i.query_ids.join(","),request_id:t}});else throw new Error("没有找到匹配的基因ID")}catch(t){console.error("搜索错误详情:",t),console.error("错误类型:",typeof t),console.error("错误堆栈:",t.stack),console.error("错误响应:",t.response),this.errorMessage=t.response?.data?.error||t.message||"未知搜索错误",console.error("搜索错误:",this.errorMessage)}finally{this.hideLoading()}}}},ap={class:"container mt-4"},lp={class:"text-left"},cp={class:"card-body"},up={class:"form-group"},dp={class:"mb-4"},fp={class:"mb-4"},hp={class:"input-group"},pp={class:"input-group-text"},mp={key:0,class:"alert alert-danger mt-3"};function gp(t,e,o,i,r,a){return y(),w("div",ap,[e[10]||(e[10]=s("h1",null,"Search by ID",-1)),s("div",lp,[s("div",cp,[s("form",{onSubmit:e[4]||(e[4]=pe((...c)=>a.handleSubmit&&a.handleSubmit(...c),["prevent"]))},[s("div",up,[s("div",dp,[e[5]||(e[5]=s("label",{for:"geneIdInput",class:"form-label"},"Input Gene IDs",-1)),we(s("textarea",{class:"form-control",id:"geneIdInput",rows:"6",placeholder:"","onUpdate:modelValue":e[0]||(e[0]=c=>r.geneIds=c),ref:"gene_ids"},null,512),[[Ye,r.geneIds]]),s("button",{type:"button",class:"btn btn-info mt-2 mr-3",onClick:e[1]||(e[1]=(...c)=>a.loadExample&&a.loadExample(...c))},"load example"),s("button",{type:"button",class:"btn btn-secondary mt-2",onClick:e[2]||(e[2]=(...c)=>a.reset&&a.reset(...c))},"Reset"),e[6]||(e[6]=s("p",{class:"text-muted mt-1"},"one gene ID per line",-1))]),s("div",fp,[e[7]||(e[7]=s("label",{class:"form-label"},"select file",-1)),s("div",hp,[s("input",{type:"file",class:"form-control",id:"fileInput",accept:".txt,.csv,.xls,.xlsx",onChange:e[3]||(e[3]=(...c)=>a.handleFileSelect&&a.handleFileSelect(...c))},null,32),s("span",pp,q(r.fileName||"未选择文件"),1)]),e[8]||(e[8]=s("p",{class:"text-muted mt-1"},"support .txt or .csv file",-1))]),e[9]||(e[9]=s("div",{class:"d-flex gap-2"},[s("button",{type:"submit",class:"btn btn-primary"}," Search ")],-1))])],32),r.errorMessage?(y(),w("div",mp,q(r.errorMessage),1)):H("",!0)])])])}const _p=Pe(ip,[["render",gp]]),vp={class:"sequence-display-component"},bp={key:0,class:"d-flex flex-wrap gap-3 mb-4"},yp={class:"text-center flex-shrink-0"},wp={class:"text-center flex-shrink-0"},kp={class:"text-center flex-shrink-0"},Ep={class:"text-center flex-shrink-0"},xp={class:"text-center flex-shrink-0"},Cp={class:"text-center flex-shrink-0"},Sp={class:"text-center flex-shrink-0"},Ap={key:1,class:"mb-4 d-flex justify-content-start"},Tp={class:"d-flex gap-3 align-items-end w-25"},$p={class:"flex-shrink-0 flex-grow-1"},qp=["value"],Rp={class:"flex-shrink-0 flex-grow-1"},Ip=["value"],Op={key:2},Dp={key:0,class:"mt-6"},Pp={class:"d-flex justify-content-between align-items-center mb-3"},Np=["onClick"],Lp=["onClick"],Mp={class:"bg-light p-4 rounded overflow-y-auto",style:{"max-height":"300px","white-space":"pre-wrap","font-family":"monospace","text-align":"left"}},Fp={key:0},jp={__name:"SequenceDisplay",props:{displayMode:{type:String,default:"buttons",validator:t=>["buttons","full"].includes(t)},gene_seq:String,mrna_seq:String,upstream_seq:String,downstream_seq:String,cdna_seq:String,cds_seq:String,protein_seq:String,gene_id:String,currentTranscript:{type:Object,default:null},results:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},upstreamLength:{type:Number,default:1e4},downstreamLength:{type:Number,default:1e4}},emits:["show-sequence","download-all","copy-all"],setup(t,{emit:e}){const o=t,i=e,r=[{key:"genomic",title:"基因组序列"},{key:"mrna",title:"mRNA序列"},{key:"upstream",title:"上游序列"},{key:"downstream",title:"下游序列"},{key:"cdna",title:"cDNA序列"},{key:"cds",title:"CDS序列"},{key:"protein",title:"蛋白序列"}],a=U(!1),c=U(o.upstreamLength),f=U(o.downstreamLength),h=[500,1e3,2e3,3e3,4e3,5e3,1e4],p=_=>{let m=!1;_==="genomic"?m=o.gene_seq&&o.gene_seq!==""&&o.gene_seq!=="N/A":_==="mrna"?m=o.mrna_seq&&o.mrna_seq!==""&&o.mrna_seq!=="N/A":_==="upstream"?m=o.upstream_seq&&o.upstream_seq!==""&&o.upstream_seq!=="N/A":_==="downstream"?m=o.downstream_seq&&o.downstream_seq!==""&&o.downstream_seq!=="N/A":_==="cdna"?m=o.cdna_seq&&o.cdna_seq!==""&&o.cdna_seq!=="N/A"&&o.cdna_seq!=="unavailable":_==="cds"?m=o.cds_seq&&o.cds_seq!=="N/A"&&o.cds_seq!=="未找到CDS序列":_==="protein"&&(m=o.protein_seq&&o.protein_seq!=="N/A"&&o.protein_seq!=="未找到蛋白序列");let E=!1;o.currentTranscript&&(_==="mrna"?E=o.currentTranscript.mrna_seq&&o.currentTranscript.mrna_seq!=="N/A":_==="upstream"?E=o.currentTranscript.upstream_seq&&o.currentTranscript.upstream_seq!=="N/A":_==="downstream"?E=o.currentTranscript.downstream_seq&&o.currentTranscript.downstream_seq!=="N/A":_==="cdna"?E=o.currentTranscript.cdna_seq&&o.currentTranscript.cdna_seq!=="N/A"&&o.currentTranscript.cdna_seq!=="unavailable":_==="cds"?E=o.currentTranscript.cds_seq&&o.currentTranscript.cds_seq!=="N/A"&&o.currentTranscript.cds_seq!=="未找到CDS序列":_==="protein"&&(E=o.currentTranscript.protein_seq&&o.currentTranscript.protein_seq!=="N/A"&&o.currentTranscript.protein_seq!=="未找到蛋白序列"));let $=!1;return o.results&&o.results.length>0&&($=o.results.some(b=>_==="genomic"?b.gene_seq&&b.gene_seq!==""&&b.gene_seq!=="N/A":_==="mrna"?b.mrna_seq&&b.mrna_seq!==""&&b.mrna_seq!=="N/A":_==="upstream"?b.upstream_seq&&b.upstream_seq!==""&&b.upstream_seq!=="N/A":_==="downstream"?b.downstream_seq&&b.downstream_seq!==""&&b.downstream_seq!=="N/A":_==="cdna"?b.cdna_seq&&b.cdna_seq!==""&&b.cdna_seq!=="N/A"&&b.cdna_seq!=="unavailable":_==="cds"?b.cds_seq&&b.cds_seq!=="N/A"&&b.cds_seq!=="未找到CDS序列":_==="protein"?b.protein_seq&&b.protein_seq!=="N/A"&&b.protein_seq!=="未找到蛋白序列":!1)),m||E||$},v=_=>{if(o.currentTranscript){if(_==="mrna")return o.currentTranscript.mrna_seq;if(_==="upstream")return o.currentTranscript.upstream_seq?o.currentTranscript.upstream_seq.slice(0,c.value):"";if(_==="downstream")return o.currentTranscript.downstream_seq?o.currentTranscript.downstream_seq.slice(0,f.value):"";if(_==="cdna")return o.currentTranscript.cdna_seq;if(_==="cds")return o.currentTranscript.cds_seq;if(_==="protein")return o.currentTranscript.protein_seq}if(_==="genomic")return o.gene_seq;if(_==="mrna")return o.mrna_seq;if(_==="upstream")return o.upstream_seq?o.upstream_seq.slice(0,c.value):"";if(_==="downstream")return o.downstream_seq?o.downstream_seq.slice(0,f.value):"";if(_==="cdna")return o.cdna_seq;if(_==="cds")return o.cds_seq;if(_==="protein")return o.protein_seq;if(o.results&&o.results.length>0){const m=o.results[0];if(_==="genomic")return m.gene_seq;if(_==="mrna")return m.mrna_seq;if(_==="upstream")return m.upstream_seq?m.upstream_seq.slice(0,c.value):"";if(_==="downstream")return m.downstream_seq?m.downstream_seq.slice(0,f.value):"";if(_==="cdna")return m.cdna_seq;if(_==="cds")return m.cds_seq;if(_==="protein")return m.protein_seq}return""},k=()=>o.results&&o.results.length>0?o.results[0].IDs||o.results[0].gene_id||"":o.currentTranscript?o.currentTranscript.id||o.currentTranscript.gene_id||"":o.gene_id?o.gene_id:"",g=(_,m,E,$)=>{let b="";const D=k();if(!o.results||o.results.length===0)if(_==="genomic"&&o.gene_seq&&o.gene_seq!=="N/A"&&(b+=`>${D} ${_}
${o.gene_seq}

`),o.mrna_transcripts&&o.mrna_transcripts.length>0)o.mrna_transcripts.forEach((R,j)=>{let V="",Y="";if(_==="mrna"?V=R.mrna_seq:_==="upstream"?(V=R.upstream_seq?R.upstream_seq.slice(0,c.value):"",Y=` (${c.value}bp)`):_==="downstream"?(V=R.downstream_seq?R.downstream_seq.slice(0,f.value):"",Y=` (${f.value}bp)`):_==="cdna"?V=R.cdna_seq:_==="cds"?V=R.cds_seq:_==="protein"&&(V=R.protein_seq),V&&V!=="N/A"&&V!==""&&V!=="unavailable"&&V!=="未找到CDS序列"&&V!=="未找到蛋白序列"){const J=R.id||`transcript_${j+1}`;b+=`>${J} ${_}${Y} (基因: ${D})
${V}

`}});else{let R="",j="";if(o.currentTranscript?_==="mrna"?R=o.currentTranscript.mrna_seq:_==="upstream"?(R=o.currentTranscript.upstream_seq?o.currentTranscript.upstream_seq.slice(0,c.value):"",j=` (${c.value}bp)`):_==="downstream"?(R=o.currentTranscript.downstream_seq?o.currentTranscript.downstream_seq.slice(0,f.value):"",j=` (${f.value}bp)`):_==="cdna"?R=o.currentTranscript.cdna_seq:_==="cds"?R=o.currentTranscript.cds_seq:_==="protein"&&(R=o.currentTranscript.protein_seq):_==="mrna"?R=o.mrna_seq:_==="upstream"?(R=o.upstream_seq?o.upstream_seq.slice(0,c.value):"",j=` (${c.value}bp)`):_==="downstream"?(R=o.downstream_seq?o.downstream_seq.slice(0,f.value):"",j=` (${f.value}bp)`):_==="cdna"?R=o.cdna_seq:_==="cds"?R=o.cds_seq:_==="protein"&&(R=o.protein_seq),R&&R!=="N/A"&&R!==""&&R!=="unavailable"&&R!=="未找到CDS序列"&&R!=="未找到蛋白序列"){const V=o.currentTranscript?o.currentTranscript.id:"";V?b+=`>${V} ${_}${j} (基因: ${D})
${R}

`:b+=`>${D} ${_}${j}
${R}

`}}else o.results.forEach(S=>{const R=S.IDs||"";if(_==="genomic"&&S.gene_seq&&S.gene_seq!==""&&S.gene_seq!=="N/A"&&(b+=`>${R} ${_}
${S.gene_seq}

`),_==="mrna"&&(S.mrna_seq&&S.mrna_seq!==""&&S.mrna_seq!=="N/A"&&(b+=`>${R} ${_}
${S.mrna_seq}

`),S.mrna_transcripts&&S.mrna_transcripts.length>0&&S.mrna_transcripts.forEach((j,V)=>{j.mrna_seq&&j.mrna_seq!=="N/A"&&(b+=`>${j.id} ${_} (基因: ${R})
${j.mrna_seq}

`)})),_==="upstream"){if(S.upstream_seq&&S.upstream_seq!==""&&S.upstream_seq!=="N/A"){const j=S.upstream_seq.slice(0,c.value);b+=`>${R} ${_} (${c.value}bp)
${j}

`}S.mrna_transcripts&&S.mrna_transcripts.length>0&&S.mrna_transcripts.forEach((j,V)=>{j.upstream_seq&&j.upstream_seq!=="N/A"&&(b+=`>${j.id} ${_} (基因: ${R}, ${c.value}bp)
${j.upstream_seq.slice(0,c.value)}

`)})}if(_==="downstream"){if(S.downstream_seq&&S.downstream_seq!==""&&S.downstream_seq!=="N/A"){const j=S.downstream_seq.slice(0,f.value);b+=`>${R} ${_} (${f.value}bp)
${j}

`}S.mrna_transcripts&&S.mrna_transcripts.length>0&&S.mrna_transcripts.forEach((j,V)=>{j.downstream_seq&&j.downstream_seq!=="N/A"&&(b+=`>${j.id} ${_} (基因: ${R}, ${f.value}bp)
${j.downstream_seq.slice(0,f.value)}

`)})}_==="cdna"&&(S.cdna_seq&&S.cdna_seq!==""&&S.cdna_seq!=="N/A"&&S.cdna_seq!=="unavailable"&&(b+=`>${R} ${_}
${S.cdna_seq}

`),S.mrna_transcripts&&S.mrna_transcripts.length>0&&S.mrna_transcripts.forEach((j,V)=>{j.cdna_seq&&j.cdna_seq!=="N/A"&&j.cdna_seq!=="unavailable"&&(b+=`>${j.id} ${_} (基因: ${R})
${j.cdna_seq}

`)})),_==="cds"&&(S.cds_seq&&S.cds_seq!=="N/A"&&S.cds_seq!=="未找到CDS序列"&&(b+=`>${R} ${_}
${S.cds_seq}

`),S.mrna_transcripts&&S.mrna_transcripts.length>0&&S.mrna_transcripts.forEach((j,V)=>{j.cds_seq&&j.cds_seq!=="N/A"&&j.cds_seq!=="未找到CDS序列"&&(b+=`>${j.id} ${_} (基因: ${R})
${j.cds_seq}

`)})),_==="protein"&&(S.protein_seq&&S.protein_seq!=="N/A"&&S.protein_seq!=="未找到蛋白序列"&&(b+=`>${R} ${_}
${S.protein_seq}

`),S.mrna_transcripts&&S.mrna_transcripts.length>0&&S.mrna_transcripts.forEach((j,V)=>{j.protein_seq&&j.protein_seq!=="N/A"&&j.protein_seq!=="未找到蛋白序列"&&(b+=`>${j.id} ${_} (基因: ${R})
${j.protein_seq}

`)}))});i("show-sequence",{type:_,title:m,content:b,id:o.results&&o.results.length>1?"multiple_genes":D})};return(_,m)=>(y(),w("div",vp,[t.displayMode==="buttons"||t.displayMode==="full"?(y(),w("div",bp,[s("div",yp,[m[9]||(m[9]=s("h4",{class:"h6 mb-2"},"Genomic",-1)),s("button",{class:"btn btn-sm btn-info",onClick:m[0]||(m[0]=E=>g("genomic","Genomic Sequence",v("genomic"),k()))},q((p("genomic"),"Show Sequence")),1)]),s("div",wp,[m[10]||(m[10]=s("h4",{class:"h6 mb-2"},"mRNA",-1)),s("button",{class:"btn btn-sm btn-info",onClick:m[1]||(m[1]=E=>g("mrna","mRNA Sequence",v("mrna"),k()))},q((p("mrna"),"Show Sequence")),1)]),s("div",kp,[m[11]||(m[11]=s("h4",{class:"h6 mb-2"},"Upstream",-1)),s("button",{class:"btn btn-sm btn-info",onClick:m[2]||(m[2]=E=>g("upstream","Upstream Sequence",v("upstream"),k()))},q((p("upstream"),"Show Sequence")),1)]),s("div",Ep,[m[12]||(m[12]=s("h4",{class:"h6 mb-2"},"Downstream",-1)),s("button",{class:"btn btn-sm btn-info",onClick:m[3]||(m[3]=E=>g("downstream","Downstream Sequence",v("downstream"),k()))},q((p("downstream"),"Show Sequence")),1)]),s("div",xp,[m[13]||(m[13]=s("h4",{class:"h6 mb-2"},"cDNA",-1)),s("button",{class:"btn btn-sm btn-info",onClick:m[4]||(m[4]=E=>g("cdna","cDNA Sequence",v("cdna"),k()))},q((p("cdna"),"Show Sequence")),1)]),s("div",Cp,[m[14]||(m[14]=s("h4",{class:"h6 mb-2"},"CDS",-1)),s("button",{class:"btn btn-sm btn-info",onClick:m[5]||(m[5]=E=>g("cds","CDS Sequence",v("cds"),k()))},q((p("cds"),"Show Sequence")),1)]),s("div",Sp,[m[15]||(m[15]=s("h4",{class:"h6 mb-2"},"Protein",-1)),s("button",{class:"btn btn-sm btn-info",onClick:m[6]||(m[6]=E=>g("protein","Protein Sequence",v("protein"),k()))},q((p("protein"),"Show Sequence")),1)])])):H("",!0),t.displayMode==="buttons"||t.displayMode==="full"?(y(),w("div",Ap,[s("div",Tp,[s("div",$p,[m[16]||(m[16]=s("label",{for:"upstreamLengthSelect",class:"form-label form-label-sm text-center"},"Upstream",-1)),we(s("select",{class:"form-select form-select-sm",id:"upstreamLengthSelect","onUpdate:modelValue":m[7]||(m[7]=E=>c.value=E)},[(y(),w(ee,null,be(h,E=>s("option",{key:E,value:E},q(E),9,qp)),64))],512),[[_t,c.value,void 0,{number:!0}]])]),s("div",Rp,[m[17]||(m[17]=s("label",{for:"downstreamLengthSelect",class:"form-label form-label-sm text-center"},"Downstream",-1)),we(s("select",{class:"form-select form-select-sm",id:"downstreamLengthSelect","onUpdate:modelValue":m[8]||(m[8]=E=>f.value=E)},[(y(),w(ee,null,be(h,E=>s("option",{key:E,value:E},q(E),9,Ip)),64))],512),[[_t,f.value,void 0,{number:!0}]])])])])):H("",!0),t.displayMode==="full"?(y(),w("div",Op,[a.value?(y(),w("div",Dp,[(y(),w(ee,null,be(r,(E,$)=>s("div",{key:$,class:"mb-6"},[s("div",Pp,[s("h4",null,q(E.title),1),s("div",null,[s("button",{class:"btn btn-sm btn-primary me-2",onClick:b=>_.$emit("download-all",E.key)},"下载全部",8,Np),s("button",{class:"btn btn-sm btn-secondary",onClick:b=>_.$emit("copy-all",E.key)},"复制全部",8,Lp)])]),s("div",Mp,[(y(!0),w(ee,null,be(t.results,(b,D)=>(y(),w(ee,{key:`${E.key}-${D}`},[E.key==="genomic"&&b.gene_seq&&b.gene_seq!=="N/A"?(y(),w(ee,{key:0},[se(" >"+q(b.IDs||`基因 ${D+1}`)+" genomic ",1),m[18]||(m[18]=s("br",null,null,-1)),se(q(b.gene_seq)+" ",1),m[19]||(m[19]=s("br",null,null,-1)),m[20]||(m[20]=s("br",null,null,-1))],64)):H("",!0),E.key==="mrna"?(y(),w(ee,{key:1},[b.mrna_transcripts&&b.mrna_transcripts.length>0?(y(!0),w(ee,{key:0},be(b.mrna_transcripts,(S,R)=>(y(),w(ee,{key:`${b.IDs}-${R}`},[S.mrna_seq&&S.mrna_seq!=="N/A"?(y(),w(ee,{key:0},[se(" >"+q(b.IDs||`基因 ${D+1}`)+" mrna (转录本 "+q(R+1)+": "+q(S.id)+") ",1),m[21]||(m[21]=s("br",null,null,-1)),se(q(S.mrna_seq)+" ",1),m[22]||(m[22]=s("br",null,null,-1)),m[23]||(m[23]=s("br",null,null,-1))],64)):H("",!0)],64))),128)):H("",!0)],64)):E.key==="upstream"?(y(),w(ee,{key:2},[b.mrna_transcripts&&b.mrna_transcripts.length>0?(y(!0),w(ee,{key:0},be(b.mrna_transcripts,(S,R)=>(y(),w(ee,{key:`${b.IDs}-${R}`},[S.upstream_seq&&S.upstream_seq!=="N/A"?(y(),w(ee,{key:0},[se(" >"+q(b.IDs||`基因 ${D+1}`)+" upstream (转录本 "+q(R+1)+": "+q(S.id)+", "+q(c.value)+"bp) ",1),m[24]||(m[24]=s("br",null,null,-1)),se(q(S.upstream_seq.slice(0,c.value))+" ",1),m[25]||(m[25]=s("br",null,null,-1)),m[26]||(m[26]=s("br",null,null,-1))],64)):H("",!0)],64))),128)):H("",!0)],64)):E.key==="downstream"?(y(),w(ee,{key:3},[b.mrna_transcripts&&b.mrna_transcripts.length>0?(y(!0),w(ee,{key:0},be(b.mrna_transcripts,(S,R)=>(y(),w(ee,{key:`${b.IDs}-${R}`},[S.downstream_seq&&S.downstream_seq!=="N/A"?(y(),w(ee,{key:0},[se(" >"+q(b.IDs||`基因 ${D+1}`)+" downstream (转录本 "+q(R+1)+": "+q(S.id)+", "+q(f.value)+"bp) ",1),m[27]||(m[27]=s("br",null,null,-1)),se(q(S.downstream_seq.slice(0,f.value))+" ",1),m[28]||(m[28]=s("br",null,null,-1)),m[29]||(m[29]=s("br",null,null,-1))],64)):H("",!0)],64))),128)):H("",!0)],64)):E.key==="cdna"?(y(),w(ee,{key:4},[b.mrna_transcripts&&b.mrna_transcripts.length>0?(y(!0),w(ee,{key:0},be(b.mrna_transcripts,(S,R)=>(y(),w(ee,{key:`${b.IDs}-${R}`},[S.cdna_seq&&S.cdna_seq!=="N/A"&&S.cdna_seq!=="unavailable"?(y(),w(ee,{key:0},[se(" >"+q(b.IDs||`基因 ${D+1}`)+" cdna (转录本 "+q(R+1)+": "+q(S.id)+") ",1),m[30]||(m[30]=s("br",null,null,-1)),se(q(S.cdna_seq)+" ",1),m[31]||(m[31]=s("br",null,null,-1)),m[32]||(m[32]=s("br",null,null,-1))],64)):H("",!0)],64))),128)):H("",!0)],64)):E.key==="cds"?(y(),w(ee,{key:5},[b.mrna_transcripts&&b.mrna_transcripts.length>0?(y(!0),w(ee,{key:0},be(b.mrna_transcripts,(S,R)=>(y(),w(ee,{key:`${b.IDs}-${R}`},[S.cds_seq&&S.cds_seq!=="N/A"&&S.cds_seq!=="未找到CDS序列"?(y(),w(ee,{key:0},[se(" >"+q(b.IDs||`基因 ${D+1}`)+" cds (转录本 "+q(R+1)+": "+q(S.id)+") ",1),m[33]||(m[33]=s("br",null,null,-1)),se(q(S.cds_seq)+" ",1),m[34]||(m[34]=s("br",null,null,-1)),m[35]||(m[35]=s("br",null,null,-1))],64)):H("",!0)],64))),128)):H("",!0)],64)):E.key==="protein"?(y(),w(ee,{key:6},[b.mrna_transcripts&&b.mrna_transcripts.length>0?(y(!0),w(ee,{key:0},be(b.mrna_transcripts,(S,R)=>(y(),w(ee,{key:`${b.IDs}-${R}`},[S.protein_seq&&S.protein_seq!=="N/A"&&S.protein_seq!=="未找到蛋白序列"?(y(),w(ee,{key:0},[se(" >"+q(b.IDs||`基因 ${D+1}`)+" protein (转录本 "+q(R+1)+": "+q(S.id)+") ",1),m[36]||(m[36]=s("br",null,null,-1)),se(q(S.protein_seq)+" ",1),m[37]||(m[37]=s("br",null,null,-1)),m[38]||(m[38]=s("br",null,null,-1))],64)):H("",!0)],64))),128)):H("",!0)],64)):H("",!0)],64))),128)),p(E.key)?H("",!0):(y(),w("em",Fp,"该类型没有可用序列"))])])),64))])):H("",!0)])):H("",!0)]))}},Ps=Pe(jp,[["__scopeId","data-v-9f09d374"]]),Bp={name:"IdSearchResultsView",components:{SequenceDisplay:Ps},data(){return{result:null,hasFetched:!1,annotations:{},jbrowse_url:"",isLoading:!1,errorMessage:"",has_sequences:!1,sequenceCache:{},sequenceLoading:{},selectedTranscriptIndex:0,gffData:[],hasGffData:!1,currentPage:1,pageSize:10,showModal:!1,modalTitle:"",modalContent:"",currentSeqType:"",currentGeneId:"",svgWidth:800}},computed:{parsedGoAnnotations(){const t=this.annotations.GO_annotation||[],e=[];return t.forEach(o=>{o.replace(/;;+\s*$/,"").split(";; ").forEach(a=>{const c=a.match(/^(\w+\s+\w+):\s*([^\(]+)\s*\((GO:\d+)\)$/);c&&e.push({type:c[1],term:c[2].trim(),id:c[3]})})}),e},currentTranscript(){return!this.result||!this.result.mrna_transcripts||this.result.mrna_transcripts.length===0?null:this.result.mrna_transcripts[this.selectedTranscriptIndex]},hasMultipleTranscripts(){return this.result&&this.result.mrna_transcripts&&this.result.mrna_transcripts.length>1},currentPageGffData(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.gffData.slice(t,e)},currentTranscriptGffData(){if(!this.gffData||this.gffData.length===0)return[];console.log("currentTranscriptId:",this.currentTranscript);const t=this.currentTranscript?this.currentTranscript.id:this.result.IDs;return t?this.gffData.filter(e=>e.attributes?e.attributes.includes(t):!1).sort((e,o)=>(e.start||0)-(o.start||0)):[]},geneStart(){return!this.currentTranscriptGffData||this.currentTranscriptGffData.length===0?0:Math.min(...this.currentTranscriptGffData.map(t=>t.start||0))},geneEnd(){return!this.currentTranscriptGffData||this.currentTranscriptGffData.length===0?0:Math.max(...this.currentTranscriptGffData.map(t=>t.end||0))},geneLength(){return this.geneEnd-this.geneStart+1},scale(){return(this.svgWidth-40)/Math.max(this.geneLength,1)}},mounted(){const t=this.$route.query.id;t&&!this.hasFetched?(this.hasFetched=!0,this.fetchGeneData(t)):t||(this.errorMessage="未提供基因ID")},methods:{handlePageChange(){},handlePageSizeChange(){this.currentPage=1},async fetchGeneData(t){const e=setTimeout(()=>{this.isLoading=!0},300);this.errorMessage="",this.selectedTranscriptIndex=0;try{const o=new FormData;o.append("gene_ids",t);const i=await St.post("/tools/id-search/api/id-search-form/",o);if(clearTimeout(e),i.status==="error"||i.status==="not_found")throw new Error(i.error||"基因信息不存在");if(i.results&&i.results.length>0)this.result=i.results[0],this.annotations=this.result.annotations||{},this.jbrowse_url=this.result.jbrowse_url||"",this.gffData=this.result.gff_data||[],this.gene_seq=this.result.gene_seq||"",console.log("后端返回的result数据:",this.result),this.has_sequences=!!(this.result.gene_seq||this.result.mrna_seq||this.result.cds_seq&&this.result.cds_seq!=="未找到CDS序列"||this.result.protein_seq&&this.result.protein_seq!=="未找到蛋白序列"||this.result.mrna_transcripts&&this.result.mrna_transcripts.length>0);else throw new Error("未找到基因信息");console.log("has_sequences:",this.has_sequences),this.hasGffData=this.gffData.length>0,this.currentPage=1}catch(o){clearTimeout(e),this.errorMessage=o.message,console.error("获取基因数据错误:",o)}finally{this.isLoading=!1}},switchTranscript(t){this.selectedTranscriptIndex=t},downloadCurrentTranscriptSequences(){if(!this.result||!this.currentTranscript){alert("无法获取基因序列数据");return}let t="";const e=this.currentGeneId||this.result.IDs,o=this.currentTranscript.id;if(this.result.gene_seq&&this.result.gene_seq!=="N/A"&&(t+=`>${e} genomic
${this.result.gene_seq}

`),this.currentTranscript.mrna_seq&&this.currentTranscript.mrna_seq!=="N/A"&&(t+=`>${o} mRNA
${this.currentTranscript.mrna_seq}

`),this.currentTranscript.upstream_seq&&this.currentTranscript.upstream_seq!=="N/A"&&(t+=`>${o} upstream
${this.currentTranscript.upstream_seq}

`),this.currentTranscript.downstream_seq&&this.currentTranscript.downstream_seq!=="N/A"&&(t+=`>${o} downstream
${this.currentTranscript.downstream_seq}

`),this.currentTranscript.cdna_seq&&this.currentTranscript.cdna_seq!=="N/A"&&this.currentTranscript.cdna_seq!=="unavailable"&&(t+=`>${o} cDNA
${this.currentTranscript.cdna_seq}

`),[{key:"cds_seq",type:"cds",label:"CDS Sequence"},{key:"protein_seq",type:"protein",label:"Protein Sequence"}].forEach(f=>{const h=this.currentTranscript[f.key];h&&h!=="N/A"&&h!=="unavailable"&&h!=="未找到CDS序列"&&h!=="未找到蛋白序列"&&(t+=`>${o} ${f.type}
${h}

`)}),!t){alert("没有找到可用的序列数据");return}const r=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(r),c=document.createElement("a");c.href=a,c.download=`${o}_all_sequences.fasta`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(a),this.showTemporaryMessage("当前转录本的所有序列已下载")},showSequenceModal(t,e,o,i){this.modalTitle=t,this.modalContent=e,this.currentSeqType=o,this.currentGeneId=i,this.showModal=!0},async handleShowSequence(t){const{type:e,title:o,content:i,id:r}=t,a=this.currentTranscript?.id||r,c=`${r}|${e}|${a}`;if(this.sequenceCache[c]){this.showSequenceModal(o,this.sequenceCache[c],e,r);return}if(!this.sequenceLoading[c]){this.sequenceLoading[c]=!0;try{let f="";if(i)f=i;else{const h=await St.post("/tools/id-search/api/sequence/",{gene_id:r,transcript_id:a,type:e});console.log("序列懒传输成功:",h);const p=h.sequence||"未找到序列";if(p&&p!=="未找到序列"&&p!=="N/A"){const v=a,k=e==="upstream"||e==="downstream"?` (${e==="upstream"?this.upstreamLength:this.downstreamLength}bp)`:"";f=`>${v} ${e}${k}
${p}
`}else f=p}this.sequenceCache[c]=f,this.sequenceLoading[c]=!1,this.showSequenceModal(o,f,e,r)}catch{this.showSequenceModal(o,"序列加载失败",e,r),this.sequenceLoading[c]=!1}finally{this.sequenceLoading[c]=!1}}},closeModal(){this.showModal=!1},copySequence(t){const o=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${t}`;navigator.clipboard.writeText(o).then(()=>{this.showTemporaryMessage("序列已复制到剪贴板")}).catch(i=>{console.error("复制失败:",i),this.showTemporaryMessage("复制失败，请手动复制")})},showTemporaryMessage(t){const e=document.createElement("div");e.textContent=t,e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="4px",e.style.zIndex="9999",e.style.fontSize="16px",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",e.style.transition="opacity 2s ease-out",setTimeout(()=>{document.body.removeChild(e)},1500)},1500)},downloadFasta(){const e=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${this.modalContent}`,o=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(o),r=document.createElement("a");r.href=i,r.download=`${this.currentGeneId}_${this.currentSeqType}.fasta`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)},downloadAllSequences(){if(!this.result){alert("无法获取基因序列数据");return}let t="";const e=this.currentGeneId||this.result.IDs;if(this.result.gene_seq&&this.result.gene_seq!=="N/A"&&(t+=`>${e} genomic
${this.result.gene_seq}

`),this.hasMultipleTranscripts)this.result.mrna_transcripts.forEach(a=>{const c=a.id;a.mrna_seq&&a.mrna_seq!=="N/A"&&(t+=`>${c} mRNA
${a.mrna_seq}

`),a.upstream_seq&&a.upstream_seq!=="N/A"&&(t+=`>${c} upstream
${a.upstream_seq}

`),a.downstream_seq&&a.downstream_seq!=="N/A"&&(t+=`>${c} downstream
${a.downstream_seq}

`),a.cdna_seq&&a.cdna_seq!=="N/A"&&a.cdna_seq!=="unavailable"&&(t+=`>${c} cDNA
${a.cdna_seq}

`),a.cds_seq&&a.cds_seq!=="N/A"&&a.cds_seq!=="unavailable"&&a.cds_seq!=="未找到CDS序列"&&(t+=`>${c} cds
${a.cds_seq}

`),a.protein_seq&&a.protein_seq!=="N/A"&&a.protein_seq!=="unavailable"&&a.protein_seq!=="未找到蛋白序列"&&(t+=`>${c} protein
${a.protein_seq}

`)});else{const a=this.result.mrna_transcripts[0]||this.currentTranscript,c=a?.id||e;a?.mrna_seq&&a.mrna_seq!=="N/A"&&(t+=`>${c} mRNA
${a.mrna_seq}

`),a?.upstream_seq&&a.upstream_seq!=="N/A"&&(t+=`>${c} upstream
${a.upstream_seq}

`),a?.downstream_seq&&a.downstream_seq!=="N/A"&&(t+=`>${c} downstream
${a.downstream_seq}

`),a?.cdna_seq&&a.cdna_seq!=="N/A"&&a.cdna_seq!=="unavailable"&&(t+=`>${c} cDNA
${a.cdna_seq}

`),a?.cds_seq&&a.cds_seq!=="N/A"&&a.cds_seq!=="unavailable"&&a.cds_seq!=="未找到CDS序列"&&(t+=`>${c} cds
${a.cds_seq}

`),a?.protein_seq&&a.protein_seq!=="N/A"&&a.protein_seq!=="unavailable"&&a.protein_seq!=="未找到蛋白序列"&&(t+=`>${c} protein
${a.protein_seq}

`),this.result.cdna_seq&&this.result.cdna_seq!=="N/A"&&this.result.cdna_seq!=="unavailable"&&(!a||a.cdna_seq!==this.result.cdna_seq)&&(t+=`>${e} cDNA
${this.result.cdna_seq}

`)}if(!t){alert("没有找到可用的序列数据");return}const o=new Blob([t],{type:"text/plain"}),i=URL.createObjectURL(o),r=document.createElement("a");r.href=i,r.download=`${e}_all_sequences.fasta`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),this.showTemporaryMessage("All sequences have been downloaded"),setTimeout(()=>{this.closeModal()},500)},downloadGff(t){const e=this.currentGeneId||this.result.IDs;if(t==="txt"){let o="";this.gffData.forEach(c=>{const f=[c.seqid||"",c.source||"",c.type||"",c.start||"",c.end||"",c.score||"",c.strand||"",c.phase||"",c.attributes||""];o+=f.join("	")+`
`});const i=new Blob([o],{type:"text/plain"}),r=URL.createObjectURL(i),a=document.createElement("a");a.href=r,a.download=`${e}_gff.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),this.showTemporaryMessage("GFF数据已下载为TXT格式")}else if(t==="gff"){let o="";this.gffData.forEach(c=>{const f=[c.seqid||"",c.source||".",c.type||".",c.start||".",c.end||".",c.score||".",c.strand||".",c.phase||".",c.attributes||"."];o+=f.join("	")+`
`});const i=new Blob([o],{type:"text/plain"}),r=URL.createObjectURL(i),a=document.createElement("a");a.href=r,a.download=`${e}_gff.gff`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),this.showTemporaryMessage("GFF数据已下载为GFF格式")}},escapeCsvField(t){return typeof t!="string"&&(t=String(t)),t.includes(",")||t.includes('"')||t.includes(`
`)||t.includes("\r")?(t=t.replace(/"/g,'""'),`"${t}"`):t}}},Up={class:"container mt-4"},Gp={key:0,class:"text-center py-5"},Vp={key:1,class:"alert alert-danger mt-3"},Kp={key:2,class:"mt-4"},zp={class:"card mb-4"},Hp={class:"card-body"},Jp={class:"table table-bordered"},Wp={class:"mb-4"},Qp={key:0,class:"mt-2"},Xp=["src"],Yp={key:1},Zp={key:0,class:"card mb-4"},em={class:"card-body"},tm={key:0,class:"mb-4"},nm=["value"],sm={key:1,class:"mb-4"},om={class:"gene-structure-container"},rm=["width"],im={x:"20",y:"20","font-size":"12","font-weight":"bold",fill:"#333"},am={key:0},lm=["x","width"],cm=["x","width"],um=["x","width"],dm=["x1","x2"],fm=["x","width"],hm={key:0},pm=["points"],mm=["x"],gm={x:"20",y:"110","font-size":"10",fill:"#666"},_m=["x"],vm={class:"mb-3"},bm={key:1,class:"card mb-4"},ym={class:"card-body"},wm={key:0,class:"mb-3"},km={class:"table table-bordered"},Em={key:1,class:"mb-3"},xm={class:"list-group"},Cm={key:2,class:"mb-3"},Sm={class:"list-group"},Am={key:3,class:"mb-3"},Tm={class:"list-group"},$m={key:4,class:"mb-3"},qm={class:"list-group"},Rm={key:5,class:"mb-3"},Im={class:"list-group"},Om={key:2,class:"card mb-4"},Dm={class:"card-header d-flex justify-content-between align-items-center"},Pm={class:"card-body"},Nm={class:"d-flex justify-content-between align-items-center mb-3"},Lm={class:"table-pagination"},Mm={class:"d-flex justify-content-between align-items-center mt-3"},Fm={class:"table-info"},jm={class:"mt-4"},Bm={class:"modal-dialog",style:{"max-width":"50vw","max-height":"50vh",margin:"0",width:"auto"}},Um={class:"modal-content",style:{height:"100%",display:"flex","flex-direction":"column"}},Gm={class:"modal-header"},Vm={class:"modal-title"},Km={class:"modal-body",style:{flex:"1","overflow-y":"auto"}},zm={class:"bg-light p-3 rounded",style:{"max-height":"calc(40vh - 100px)","overflow-y":"auto","white-space":"pre-wrap","word-break":"break-all"}},Hm={class:"modal-footer"};function Jm(t,e,o,i,r,a){const c=gt("router-link"),f=Ps,h=oa,p=ia,v=aa,k=ra;return y(),w("div",Up,[e[38]||(e[38]=s("h1",null,"Search Results",-1)),r.isLoading?(y(),w("div",Gp,[...e[15]||(e[15]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"loading...")],-1),s("p",{class:"mt-3"},"loading results...",-1)])])):r.errorMessage?(y(),w("div",Vp,[se(q(r.errorMessage)+" ",1),Z(c,{to:"/tools/id-search",class:"btn btn-primary btn-sm ml-2"},{default:_e(()=>[...e[16]||(e[16]=[se("new search",-1)])]),_:1})])):r.result?(y(),w("div",Kp,[s("div",zp,[e[22]||(e[22]=s("div",{class:"card-header"},[s("h2",null,"Gene Basic Information")],-1)),s("div",Hp,[s("table",Jp,[s("tbody",null,[s("tr",null,[e[17]||(e[17]=s("td",null,[s("strong",null,"Gene ID:")],-1)),s("td",null,q(r.result.IDs),1)]),s("tr",null,[e[18]||(e[18]=s("td",null,[s("strong",null,"Chromosome:")],-1)),s("td",null,q(r.result.seqid),1)]),s("tr",null,[e[19]||(e[19]=s("td",null,[s("strong",null,"Start Position:")],-1)),s("td",null,q(r.result.start),1)]),s("tr",null,[e[20]||(e[20]=s("td",null,[s("strong",null,"End Position:")],-1)),s("td",null,q(r.result.end),1)]),s("tr",null,[e[21]||(e[21]=s("td",null,[s("strong",null,"Strand:")],-1)),s("td",null,q(r.result.strand),1)])])])])]),s("div",Wp,[e[23]||(e[23]=s("strong",null,"JBrowse View:",-1)),r.jbrowse_url?(y(),w("div",Qp,[s("iframe",{src:r.jbrowse_url,style:{width:"100%",height:"400px",border:"1px solid #ddd","border-radius":"4px"}},null,8,Xp)])):(y(),w("div",Yp," JBrowse URL not available "))]),r.has_sequences?(y(),w("div",Zp,[e[27]||(e[27]=s("div",{class:"card-header"},[s("h2",null,"Sequence")],-1)),s("div",em,[a.hasMultipleTranscripts?(y(),w("div",tm,[e[24]||(e[24]=s("h4",{class:"h6 mb-2"},"Transcript Selector",-1)),we(s("select",{class:"form-select w-auto","onUpdate:modelValue":e[0]||(e[0]=g=>r.selectedTranscriptIndex=g),onChange:e[1]||(e[1]=g=>a.switchTranscript(r.selectedTranscriptIndex))},[(y(!0),w(ee,null,be(r.result.mrna_transcripts,(g,_)=>(y(),w("option",{key:_,value:_},q(g.id)+" (Protein Length: "+q(g.protein_seq&&g.protein_seq!=="N/A"&&g.protein_seq!=="unavailable"&&g.protein_seq!=="未找到蛋白序列"?g.protein_seq.length:"N/A")+" aa) ",9,nm))),128))],544),[[_t,r.selectedTranscriptIndex]])])):H("",!0),r.gffData.length>0?(y(),w("div",sm,[e[26]||(e[26]=s("h4",{class:"h6 mb-2"},"Transcript Structure",-1)),s("div",om,[(y(),w("svg",{width:r.svgWidth,height:"150",class:"gene-structure-svg"},[s("text",im,q(a.currentTranscript?a.currentTranscript.id:this.result.IDS),1),a.currentTranscriptGffData.length>0?(y(),w("g",am,[(y(!0),w(ee,null,be(a.currentTranscriptGffData,(g,_)=>(y(),w("g",{key:"structure-"+_},[a.geneLength>0?(y(),w(ee,{key:0},[g.type==="CDS"?(y(),w("rect",{key:0,x:20+(g.start-a.geneStart)*a.scale,y:"35",width:(g.end-g.start+1)*a.scale,height:"50",fill:"#34A853",stroke:"#227A3D","stroke-width":"1"},null,8,lm)):g.type==="five_prime_UTR"?(y(),w("rect",{key:1,x:20+(g.start-a.geneStart)*a.scale,y:"45",width:(g.end-g.start+1)*a.scale,height:"30",fill:"#FBBC05",stroke:"#F29900","stroke-width":"1"},null,8,cm)):g.type==="three_prime_UTR"?(y(),w("rect",{key:2,x:20+(g.start-a.geneStart)*a.scale,y:"45",width:(g.end-g.start+1)*a.scale,height:"30",fill:"#EA4335",stroke:"#C5221F","stroke-width":"1"},null,8,um)):H("",!0),_<a.currentTranscriptGffData.length-1?(y(),w("line",{key:3,x1:20+(g.end-a.geneStart)*a.scale,y1:"60",x2:20+(a.currentTranscriptGffData[_+1].start-a.geneStart)*a.scale,y2:"60",stroke:"#333","stroke-width":"2"},null,8,dm)):H("",!0),_<a.currentTranscriptGffData.length-1?(y(),w("rect",{key:4,x:20+(g.end-a.geneStart)*a.scale,y:"55",width:(a.currentTranscriptGffData[_+1].start-g.end-1)*a.scale,height:"10",fill:"#E0E0E0",stroke:"#BDBDBD","stroke-width":"1"},null,8,fm)):H("",!0)],64)):H("",!0)]))),128)),a.currentTranscriptGffData.length>0?(y(),w("g",hm,[a.geneLength>0?(y(),w(ee,{key:0},[s("polygon",{points:[20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+10,50,20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+20,60,20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+10,70].join(","),fill:"#333"},null,8,pm),s("text",{x:20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+25,y:"65","font-size":"12",fill:"#333"}," Transcription Direction ",8,mm)],64)):H("",!0)])):H("",!0)])):H("",!0),s("text",gm,q(a.geneStart),1),s("text",{x:r.svgWidth-20,y:"110","font-size":"10",fill:"#666","text-anchor":"end"},q(a.geneEnd),9,_m),e[25]||(e[25]=As('<g transform="translate(20, 130)" data-v-19f8efd9><text font-size="11" font-weight="bold" fill="#333" data-v-19f8efd9>Legend:</text><g transform="translate(50, 0)" data-v-19f8efd9><rect x="0" y="-8" width="15" height="15" fill="#34A853" stroke="#227A3D" stroke-width="1" data-v-19f8efd9></rect><text x="20" y="5" font-size="10" fill="#333" data-v-19f8efd9>CDS</text></g><g transform="translate(120, 0)" data-v-19f8efd9><rect x="0" y="-8" width="15" height="15" fill="#FBBC05" stroke="#F29900" stroke-width="1" data-v-19f8efd9></rect><text x="20" y="5" font-size="10" fill="#333" data-v-19f8efd9>5&#39; UTR</text></g><g transform="translate(190, 0)" data-v-19f8efd9><rect x="0" y="-8" width="15" height="15" fill="#EA4335" stroke="#C5221F" stroke-width="1" data-v-19f8efd9></rect><text x="20" y="5" font-size="10" fill="#333" data-v-19f8efd9>3&#39; UTR</text></g><g transform="translate(260, 0)" data-v-19f8efd9><rect x="0" y="-3" width="30" height="5" fill="#E0E0E0" stroke="#BDBDBD" stroke-width="1" data-v-19f8efd9></rect><text x="35" y="5" font-size="10" fill="#333" data-v-19f8efd9>Intron</text></g></g>',1))],8,rm))])])):H("",!0),Z(f,{"display-mode":"buttons",gene_seq:r.result.gene_seq,mrna_seq:r.result.mrna_seq,upstream_seq:r.result.upstream_seq,downstream_seq:r.result.downstream_seq,cdna_seq:r.result.cdna_seq,cds_seq:r.result.cds_seq,protein_seq:r.result.protein_seq,gene_id:r.result.IDs,"current-transcript":a.currentTranscript,loading:r.isLoading,onShowSequence:a.handleShowSequence},null,8,["gene_seq","mrna_seq","upstream_seq","downstream_seq","cdna_seq","cds_seq","protein_seq","gene_id","current-transcript","loading","onShowSequence"]),s("div",vm,[s("button",{class:"btn btn-success mr-2",onClick:e[2]||(e[2]=(...g)=>a.downloadAllSequences&&a.downloadAllSequences(...g))},"Download All Sequences"),a.hasMultipleTranscripts?(y(),w("button",{key:0,class:"btn btn-primary",onClick:e[3]||(e[3]=(...g)=>a.downloadCurrentTranscriptSequences&&a.downloadCurrentTranscriptSequences(...g))},"Download Current Transcript Sequences")):H("",!0)])])])):H("",!0),r.annotations&&Object.keys(r.annotations).length>0?(y(),w("div",bm,[e[35]||(e[35]=s("div",{class:"card-header"},[s("h2",null,"Annotations")],-1)),s("div",ym,[r.annotations.GO_annotation&&r.annotations.GO_annotation.length>0?(y(),w("div",wm,[e[29]||(e[29]=s("h4",null,"GO Annotations",-1)),s("table",km,[e[28]||(e[28]=s("thead",{class:"thead-light"},[s("tr",null,[s("th",null,"GO Type"),s("th",null,"Term"),s("th",null,"GO ID")])],-1)),s("tbody",null,[(y(!0),w(ee,null,be(a.parsedGoAnnotations,(g,_)=>(y(),w("tr",{key:_},[s("td",null,q(g.type),1),s("td",null,q(g.term),1),s("td",null,q(g.id),1)]))),128))])])])):H("",!0),r.annotations.KEGG_annotation&&r.annotations.KEGG_annotation.length>0?(y(),w("div",Em,[e[30]||(e[30]=s("h4",null,"KEGG Annotations",-1)),s("ul",xm,[(y(!0),w(ee,null,be(r.annotations.KEGG_annotation,(g,_)=>(y(),w("li",{key:_,class:"list-group-item"},q(g),1))),128))])])):H("",!0),r.annotations.Pfam_annotation&&r.annotations.Pfam_annotation.length>0?(y(),w("div",Cm,[e[31]||(e[31]=s("h4",null,"PFAM Annotations",-1)),s("ul",Sm,[(y(!0),w(ee,null,be(r.annotations.Pfam_annotation,(g,_)=>(y(),w("li",{key:_,class:"list-group-item"},q(g),1))),128))])])):H("",!0),r.annotations.TrEMBL_annotation&&r.annotations.TrEMBL_annotation.length>0?(y(),w("div",Am,[e[32]||(e[32]=s("h4",null,"TrEMBL Annotations",-1)),s("ul",Tm,[(y(!0),w(ee,null,be(r.annotations.TrEMBL_annotation,(g,_)=>(y(),w("li",{key:_,class:"list-group-item"},q(g),1))),128))])])):H("",!0),r.annotations.nr_annotation&&r.annotations.nr_annotation.length>0?(y(),w("div",$m,[e[33]||(e[33]=s("h4",null,"nr Annotations",-1)),s("ul",qm,[(y(!0),w(ee,null,be(r.annotations.nr_annotation,(g,_)=>(y(),w("li",{key:_,class:"list-group-item"},q(g),1))),128))])])):H("",!0),r.annotations.Swissprot_annotation&&r.annotations.Swissprot_annotation.length>0?(y(),w("div",Rm,[e[34]||(e[34]=s("h4",null,"Swissprot Annotations",-1)),s("ul",Im,[(y(!0),w(ee,null,be(r.annotations.Swissprot_annotation,(g,_)=>(y(),w("li",{key:_,class:"list-group-item"},q(g),1))),128))])])):H("",!0)])])):H("",!0),r.hasGffData?(y(),w("div",Om,[s("div",Dm,[e[36]||(e[36]=s("h2",null,"GFF Data",-1)),s("div",null,[s("button",{class:"btn btn-sm btn-success mr-2",onClick:e[4]||(e[4]=g=>a.downloadGff("txt"))},"Download as TXT"),s("button",{class:"btn btn-sm btn-success",onClick:e[5]||(e[5]=g=>a.downloadGff("gff"))},"Download as GFF")])]),s("div",Pm,[s("div",Nm,[s("div",Lm,[Z(h,{"current-page":r.currentPage,"onUpdate:currentPage":e[6]||(e[6]=g=>r.currentPage=g),"page-size":r.pageSize,"onUpdate:pageSize":[e[7]||(e[7]=g=>r.pageSize=g),a.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"sizes",total:r.gffData.length,onCurrentChange:a.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])]),r.isLoading?(y(),Cs(p,{key:0,rows:10,animated:""})):(y(),Cs(k,{key:1,data:a.currentPageGffData,style:{width:"100%"},stripe:"",border:""},{default:_e(()=>[Z(v,{prop:"seqid",label:"Seqid","min-width":"100"}),Z(v,{prop:"source",label:"Source","min-width":"100"}),Z(v,{prop:"type",label:"Type","min-width":"100"}),Z(v,{prop:"start",label:"Start","min-width":"100"}),Z(v,{prop:"end",label:"End","min-width":"100"}),Z(v,{prop:"score",label:"Score","min-width":"50"}),Z(v,{prop:"strand",label:"Strand","min-width":"50"}),Z(v,{prop:"phase",label:"Phase","min-width":"50"}),Z(v,{prop:"attributes",label:"Attributes","min-width":"200"})]),_:1},8,["data"])),s("div",Mm,[s("span",Fm," Showing "+q((r.currentPage-1)*r.pageSize+1)+" to "+q(Math.min(r.currentPage*r.pageSize,r.gffData.length))+" of "+q(r.gffData.length)+" entries ",1),Z(h,{"current-page":r.currentPage,"onUpdate:currentPage":e[8]||(e[8]=g=>r.currentPage=g),"page-size":r.pageSize,"onUpdate:pageSize":[e[9]||(e[9]=g=>r.pageSize=g),a.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:r.gffData.length,onCurrentChange:a.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])])])):H("",!0),s("div",jm,[Z(c,{to:"/id-search",class:"btn btn-primary"},{default:_e(()=>[...e[37]||(e[37]=[se("Return to Search",-1)])]),_:1})])])):H("",!0),r.showModal?(y(),w("div",{key:3,class:"modal",style:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"1050"},onClick:e[14]||(e[14]=pe((...g)=>a.closeModal&&a.closeModal(...g),["self"]))},[s("div",Bm,[s("div",Um,[s("div",Gm,[s("h5",Vm,q(r.modalTitle),1),s("button",{type:"button",class:"close",onClick:e[10]||(e[10]=(...g)=>a.closeModal&&a.closeModal(...g)),style:{background:"none",border:"none","font-size":"1.5rem",cursor:"pointer"}},"×")]),s("div",Km,[s("div",zm,q(r.modalContent),1)]),s("div",Hm,[s("button",{class:"btn btn-primary mr-2",onClick:e[11]||(e[11]=g=>a.copySequence(r.modalContent))},"Copy Sequence"),s("button",{class:"btn btn-secondary mr-2",onClick:e[12]||(e[12]=(...g)=>a.downloadFasta&&a.downloadFasta(...g))},"Download FASTA"),s("button",{class:"btn btn-secondary",onClick:e[13]||(e[13]=(...g)=>a.closeModal&&a.closeModal(...g))},"Close")])])])])):H("",!0)])}const Wm=Pe(Bp,[["render",Jm],["__scopeId","data-v-19f8efd9"]]),Qm={name:"IdSearchSummaryView",components:{SequenceDisplay:Ps},data(){return{results:[],has_sequences:!1,loading:!1,error:null,showModal:!1,modalTitle:"",modalContent:"",currentSeqType:"",currentGeneId:""}},mounted(){console.log("页面已挂载，开始获取数据..."),console.log("当前URL参数:",new URLSearchParams(window.location.search).toString()),this.fetchSearchResults()},methods:{async fetchSearchResults(){this.loading=!0,this.error=null,this.results=[],this.has_sequences=!1;try{const t=new URLSearchParams(window.location.search);let e=t.get("id")||t.get("ids")||t.get("query_ids");if(!e){this.error="URL中未找到基因ID参数",this.loading=!1;return}const o=e.split(",").join(`
`),i=`gene_ids=${encodeURIComponent(o)}`,r=await St.post("/tools/id-search/api/id-search-form/",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});r&&r.status==="success"?(this.results=r.results||[],this.has_sequences=r.has_sequences||!1):this.error=r.error||"请求处理失败"}catch(t){console.error("获取数据失败:",t),this.error="获取数据失败: "+(t.message||"未知错误")}finally{this.loading=!1}}},downloadAllFasta(t){let e="";if(this.results.forEach(o=>{let i="",r=`>${o.IDs} ${t}`;switch(t){case"genomic":i=o.gene_seq||"";break;case"mrna":i=o.mrna_seq||"";break;case"cds":i=o.cds_seq||"";break;case"protein":i=o.protein_seq||"";break}i&&i!=="N/A"&&i!=="未找到CDS序列"&&i!=="未找到蛋白序列"&&(e+=`${r}
${i}

`)}),e){const o=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(o),r=document.createElement("a");r.href=i,r.download=`all_${t}_sequences.fasta`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}},copyAllFasta(t){let e="";this.results.forEach(o=>{let i="",r=`>${o.IDs} ${t}`;switch(t){case"genomic":i=o.gene_seq||"";break;case"mrna":i=o.mrna_seq||"";break;case"cds":i=o.cds_seq||"";break;case"protein":i=o.protein_seq||"";break}i&&i!=="N/A"&&i!=="未找到CDS序列"&&i!=="未找到蛋白序列"&&(e+=`${r}
${i}

`)}),e&&navigator.clipboard.writeText(e).then(()=>{alert("序列已复制到剪贴板")}).catch(o=>{console.error("复制失败:",o)})},handleShowSequence(t){const{type:e,title:o,content:i,id:r}=t;this.modalTitle=o,this.modalContent=i,this.currentSeqType=e,this.currentGeneId=r,this.showModal=!0},closeModal(){this.showModal=!1},downloadAllSequences(){let t="";if(this.results.forEach(e=>{const o=e.IDs;e.gene_seq&&e.gene_seq!=="N/A"&&e.gene_seq!==""&&(t+=`>${o} genomic
${e.gene_seq}

`),e.mrna_seq&&e.mrna_seq!=="N/A"&&e.mrna_seq!==""&&(t+=`>${o} mrna
${e.mrna_seq}

`),e.cds_seq&&e.cds_seq!=="N/A"&&e.cds_seq!=="未找到CDS序列"&&(t+=`>${o} cds
${e.cds_seq}

`),e.protein_seq&&e.protein_seq!=="N/A"&&e.protein_seq!=="未找到蛋白序列"&&(t+=`>${o} protein
${e.protein_seq}

`)}),t){const e=new Blob([t],{type:"text/plain"}),o=URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download="all_sequences.fasta",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}else alert("没有找到可用的序列数据")},copySequence(t){const o=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${t}`;navigator.clipboard.writeText(o).then(()=>{this.showTemporaryMessage("序列已复制到剪贴板")}).catch(i=>{console.error("复制失败:",i),this.showTemporaryMessage("复制失败，请手动复制")})},downloadFasta(){const e=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${this.modalContent}`,o=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(o),r=document.createElement("a");r.href=i,r.download=`${this.currentGeneId}_${this.currentSeqType}.fasta`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)},showTemporaryMessage(t){const e=document.createElement("div");e.textContent=t,e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="4px",e.style.zIndex="9999",e.style.fontSize="16px",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",e.style.transition="opacity 0.5s ease-out",setTimeout(()=>{document.body.removeChild(e)},500)},1500)}},Xm={class:"container mt-4"},Ym={class:"status-info bg-light p-3 rounded mb-4"},Zm={key:0,class:"text-success"},eg={key:1,class:"text-muted"},tg={key:0,class:"text-center py-5"},ng={key:1,class:"alert alert-danger mt-4"},sg={class:"table-responsive"},og={class:"table table-bordered"},rg={class:"text-center align-middle",style:{width:"10%"}},ig={class:"text-center align-middle",style:{width:"10%"}},ag={class:"text-center align-middle",style:{width:"10%"}},lg={key:0,class:"mt-6"},cg={class:"mt-4 d-flex gap-2"},ug={key:1,class:"text-muted"},dg={key:3,class:"text-center py-5"},fg={class:"modal-dialog",style:{"max-width":"50vw","max-height":"50vh",margin:"0",width:"auto"}},hg={class:"modal-content",style:{height:"100%",display:"flex","flex-direction":"column"}},pg={class:"modal-header"},mg={class:"modal-title"},gg={class:"modal-body",style:{flex:"1","overflow-y":"auto"}},_g={class:"bg-light p-3 rounded",style:{"max-height":"calc(40vh - 100px)","overflow-y":"auto","white-space":"pre-wrap","font-family":"monospace"}},vg={class:"modal-footer"};function bg(t,e,o,i,r,a){const c=gt("router-link"),f=Ps;return y(),w("div",Xm,[s("div",Ym,[r.results.length>0?(y(),w("p",Zm,"找到 "+q(r.results.length)+" 个基因序列",1)):!r.loading&&!r.error?(y(),w("p",eg,"暂无数据，请检查输入的基因ID")):H("",!0)]),e[11]||(e[11]=s("h1",null,"ID搜索结果汇总",-1)),r.loading?(y(),w("div",tg,[...e[6]||(e[6]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"loading...")],-1),s("p",{class:"mt-3"},"正在加载数据，请稍候...",-1)])])):r.error?(y(),w("div",ng,[s("p",null,"错误: "+q(r.error),1),e[7]||(e[7]=s("p",null,"请检查URL参数格式或稍后重试",-1))])):r.results?(y(),w(ee,{key:2},[s("div",sg,[s("table",og,[e[8]||(e[8]=s("thead",null,[s("tr",{class:"text-center"},[s("th",{style:{width:"10%"}},"Input ID"),s("th",{style:{width:"10%"}},"Query ID"),s("th",{style:{width:"10%"}},"Species")])],-1)),s("tbody",null,[(y(!0),w(ee,null,be(r.results,(h,p)=>(y(),w("tr",{key:`result-${p}`},[s("td",rg,q(h.original_id||"-"),1),s("td",ig,[Z(c,{to:{path:"/tools/id-search/results/",query:{id:h.IDs}}},{default:_e(()=>[se(q(h.IDs||"-"),1)]),_:2},1032,["to"])]),s("td",ag,q(h.species||"-"),1)]))),128))])])]),r.results.length>0?(y(),w("div",lg,[e[9]||(e[9]=s("h4",null,"Gene Sequences",-1)),Z(f,{"display-mode":"full",results:r.results,loading:!1,onShowSequence:t.handleShowSequence,onDownloadAll:t.downloadAllFasta,onCopyAll:t.copyAllFasta},null,8,["results","onShowSequence","onDownloadAll","onCopyAll"]),s("div",cg,[s("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...h)=>t.downloadAllSequences&&t.downloadAllSequences(...h))},"Download All Sequences")])])):(y(),w("p",ug,"No gene sequences available."))],64)):(y(),w("div",dg,[...e[10]||(e[10]=[s("p",{class:"text-muted"},"准备加载数据...",-1)])])),r.showModal?(y(),w("div",{key:4,class:"modal",style:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"1050"},onClick:e[5]||(e[5]=pe((...h)=>t.closeModal&&t.closeModal(...h),["self"]))},[s("div",fg,[s("div",hg,[s("div",pg,[s("h5",mg,q(r.modalTitle),1),s("button",{type:"button",class:"close",onClick:e[1]||(e[1]=(...h)=>t.closeModal&&t.closeModal(...h)),style:{background:"none",border:"none","font-size":"1.5rem",cursor:"pointer"}},"×")]),s("div",gg,[s("div",_g,q(r.modalContent),1)]),s("div",vg,[s("button",{class:"btn btn-primary mr-2",onClick:e[2]||(e[2]=h=>t.copySequence(r.modalContent))},"Copy Sequence"),s("button",{class:"btn btn-secondary mr-2",onClick:e[3]||(e[3]=(...h)=>t.downloadFasta&&t.downloadFasta(...h))},"Download FASTA"),s("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...h)=>t.closeModal&&t.closeModal(...h))},"Close")])])])])):H("",!0)])}const yg=Pe(Qm,[["render",bg],["__scopeId","data-v-4068b004"]]),wg={name:"JbrowseView",data(){return{genomes:[{id:1,name:"陆地棉基因组 (Ghirsutum)",description:"陆地棉（Gossypium hirsutum）基因组序列，版本为HAU v1.0",assembly:"Ghirsutum_genome_HAU_v1.0",track:"TM-1.gff"}],currentIframeUrl:"/assets/jbrowse/index.html?assembly=Ghirsutum_genome_HAU_v1.0&tracks=TM-1.gff&loc=Ghir_A01:1-1000000",iframeKey:0}},mounted(){this.refreshIframe()},watch:{$route(){this.refreshIframe()}},methods:{openGenome(t){this.currentIframeUrl=`/assets/jbrowse/index.html?assembly=${t.assembly}&tracks=${t.track}&loc=Ghir_A01:1-1000000`,this.refreshIframe()},refreshIframe(){this.iframeKey++}}},kg={class:"container mt-4"},Eg={class:"card"},xg={class:"card-body"},Cg={class:"table table-bordered table-hover"},Sg=["href"],Ag=["onClick"],Tg={class:"embed-container"},$g=["src"];function qg(t,e,o,i,r,a){return y(),w("div",kg,[e[3]||(e[3]=s("h1",null,"JBrowse 可视化",-1)),s("div",Eg,[s("div",xg,[e[1]||(e[1]=s("h2",{class:"card-title mb-4"},"选择基因组",-1)),s("table",Cg,[e[0]||(e[0]=s("thead",{class:"thead-light"},[s("tr",null,[s("th",null,"基因组名称"),s("th",null,"描述"),s("th",null,"操作")])],-1)),s("tbody",null,[(y(!0),w(ee,null,be(r.genomes,c=>(y(),w("tr",{key:c.id},[s("td",null,q(c.name),1),s("td",null,q(c.description),1),s("td",null,[s("a",{href:`/assets/jbrowse/index.html?config=config.json&assembly=${c.assembly}&tracks=${c.track}&loc=Ghir_A01:1-1000000`,target:"_blank",class:"btn btn-primary mr-2"}," 新窗口打开 ",8,Sg),s("button",{onClick:f=>a.openGenome(c),class:"btn btn-secondary"}," 嵌入查看 ",8,Ag)])]))),128))])]),e[2]||(e[2]=s("h2",{class:"card-title mt-5 mb-4"},"JBrowse 可视化",-1)),s("div",Tg,[(y(),w("iframe",{key:r.iframeKey,src:r.currentIframeUrl,width:"100%",height:"600px",frameborder:"0"},null,8,$g))])])])])}const Rg=Pe(wg,[["render",qg],["__scopeId","data-v-91513485"]]),Ig={name:"DownloadView"},Og={class:"container mt-4"};function Dg(t,e,o,i,r,a){return y(),w("div",Og,[...e[0]||(e[0]=[s("h1",null,"下载数据",-1),s("p",null,"此页面正在开发中...",-1)])])}const Pg=Pe(Ig,[["render",Dg]]),Ng={name:"Contact_usView"},Lg={class:"container mt-4"};function Mg(t,e,o,i,r,a){return y(),w("div",Lg,[...e[0]||(e[0]=[s("h1",null,"联系我们",-1),s("p",null,"此页面正在开发中...",-1)])])}const Fg=Pe(Ng,[["render",Mg]]),jg={name:"AboutView"},Bg={class:"container mt-4"};function Ug(t,e,o,i,r,a){return y(),w("div",Bg,[...e[0]||(e[0]=[s("h1",null,"关于我们",-1),s("p",null,"这是关于我们的页面。",-1)])])}const Gg=Pe(jg,[["render",Ug]]),Vg={class:"container mt-4"},Kg={key:0,class:"alert alert-danger"},zg={class:"card"},Hg={class:"card-body"},Jg={class:"form-group mb-3"},Wg={class:"row mb-3"},Qg={class:"col-md-6"},Xg={class:"form-group"},Yg={class:"col-md-6"},Zg={class:"form-group"},e_="MGEAIKKQEGVSTVKEDNKLIDSKKKKANNSNLAKKTSWRRIDLMATKNQRNDDSSTRKRKSSEGEFDMCGIEVAYEDELKRLKQEGKEDRDECKVKNPDKSLISAYIHDIQQLLVKYRKCRFEYIPPMENNLAHILATETLKNKKEFYLVGSVPKSAEKKEERDRVREPD",t_=vt({__name:"BlastpView",setup(t){const e=Gt("showLoading"),o=Gt("hideLoading"),i=Dn(),r=U(""),a=U(.01),c=U(30),f=U(""),h=()=>{r.value=e_},p=async()=>{if(!r.value.trim()){f.value="Please enter a protein sequence";return}f.value="",e();try{console.log("Submitting BLASTP search:",{sequence:r.value,evalue:a.value,maxTargetSeqs:c.value});const k=new FormData;k.append("sequence",r.value),k.append("evalue",a.value.toString()),k.append("max_target_seqs",c.value.toString());const g="/tools/blastp/api/blastp/";console.log("API URL:",g),console.log("FormData entries:");for(const[E,$]of k.entries())console.log(`${E}: ${$}`);const _=await fetch(g,{method:"POST",body:k,headers:{Accept:"application/json"}});if(console.log("Response status:",_.status),console.log("Response statusText:",_.statusText),console.log("Response headers:",Object.fromEntries(_.headers.entries())),!_.ok){const E=await _.text();throw console.error("Response error text:",E),new Error(`HTTP error! status: ${_.status}, text: ${E}`)}const m=await _.json();i.push({name:"blastpResults",query:{results:encodeURIComponent(JSON.stringify(m))}})}catch(k){f.value="BLASTP search failed. Please try again. "+k.message,console.error("BLASTP error:",k),console.error("Error details:",JSON.stringify(k,Object.getOwnPropertyNames(k)))}finally{o()}},v=()=>{r.value="",a.value=.01,c.value=30,f.value=""};return(k,g)=>(y(),w("div",Vg,[g[8]||(g[8]=s("h2",{class:"mb-4"},"BLASTP",-1)),f.value?(y(),w("div",Kg,q(f.value),1)):H("",!0),s("div",zg,[s("div",Hg,[s("form",{onSubmit:pe(p,["prevent"])},[s("div",Jg,[g[3]||(g[3]=s("label",{for:"sequence",class:"form-label"},"Protein Sequence:",-1)),we(s("textarea",{class:"form-control",id:"sequence","onUpdate:modelValue":g[0]||(g[0]=_=>r.value=_),rows:"10",required:""},null,512),[[Ye,r.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:h}," Load Example ")]),s("div",Wg,[s("div",Qg,[s("div",Xg,[g[4]||(g[4]=s("label",{for:"evalue",class:"form-label"},"E-value threshold:",-1)),we(s("input",{type:"number",class:"form-control",id:"evalue","onUpdate:modelValue":g[1]||(g[1]=_=>a.value=_),step:"0.01",min:"0"},null,512),[[Ye,a.value,void 0,{number:!0}]])])]),s("div",Yg,[s("div",Zg,[g[5]||(g[5]=s("label",{for:"max_target_seqs",class:"form-label"},"Maximum target sequences:",-1)),we(s("input",{type:"number",class:"form-control",id:"max_target_seqs","onUpdate:modelValue":g[2]||(g[2]=_=>c.value=_),min:"1",max:"50"},null,512),[[Ye,c.value,void 0,{number:!0}]])])])]),g[7]||(g[7]=s("button",{type:"submit",class:"btn btn-primary me-2"},[s("i",{class:"fas fa-search"}),se(" Search ")],-1)),s("button",{type:"button",class:"btn btn-outline-secondary",onClick:v},[...g[6]||(g[6]=[s("i",{class:"fas fa-undo"},null,-1),se(" Reset ",-1)])])],32)])])]))}}),n_=Pe(t_,[["__scopeId","data-v-ca4d24cb"]]),s_={class:"container mt-4"},o_={class:"d-flex justify-content-between align-items-center mb-4"},r_={key:0,class:"badge bg-info"},i_={class:"card mb-4"},a_={class:"card-body"},l_={class:"sequence-box"},c_={class:"mb-0"},u_={key:0,class:"text-muted"},d_={class:"card mb-4"},f_={class:"card-body"},h_={key:0,id:"chord-chart"},p_={key:1,class:"text-center py-4"},m_={class:"row g-2 align-items-center"},g_={class:"col-auto"},__={key:0,class:"text-center py-4"},v_={key:1},b_={class:"card mb-4"},y_={class:"card-header d-flex justify-content-between align-items-center"},w_={class:"mb-0"},k_={class:"badge bg-primary"},E_={class:"card-body p-0"},x_={class:"table-responsive"},C_={class:"table table-hover mb-0"},S_={class:"text-right"},A_={class:"text-right"},T_={class:"text-right"},$_={key:0,class:"card mb-4"},q_={class:"card-body p-0"},R_={class:"table-responsive"},I_={class:"table table-hover mb-0"},O_={key:1,"aria-label":"Page navigation"},D_={class:"pagination justify-content-center"},P_=["aria-disabled"],N_=["aria-disabled"],L_={class:"page-item active"},M_={class:"page-link"},F_=["aria-disabled"],j_=["aria-disabled"],B_={key:2,class:"alert alert-info"},U_={class:"mt-3"},G_=vt({__name:"BlastpResultView",setup(t){const e=Pn(),o=U(10),i=U("");U("");const r=U(.01),a=U([]),c=U([]),f=U([]),h=U(!1),p=U(1),v=U(0),k=U(0),g=U(null),_=U([]),m=Le(()=>Math.ceil(v.value/o.value)),E=T=>T<.001?T.toExponential(2):T.toFixed(4),$=(T,N)=>T?typeof T!="string"?String(T):T.length>N?T.substring(0,N)+"...":T:"",b=(T,N)=>T?typeof T!="string"?String(T):T.length>N?T.substring(0,N)+"...":T:"",D=()=>{p.value=1,R()},S=T=>{p.value=T,R()},R=()=>{const T=(p.value-1)*o.value,N=T+o.value;a.value=c.value.slice(T,N)},j=async()=>{h.value=!0;try{if(e.query.results){const T=JSON.parse(decodeURIComponent(e.query.results));if(console.log("Received BLASTP results:",T),T.hits){const N=T.hits.map((F,te)=>({query:"Query_Protein",subject:F.protein_id,identity:F.identity,alignment_length:F.length,mismatches:0,gaps:0,query_start:F.qStart,query_end:F.qEnd,subject_start:0,subject_end:F.length,evalue:F.evalue,bit_score:F.score})),O=[...new Map(N.map(F=>[F.subject,F])).values()];O.sort((F,te)=>te.bit_score-F.bit_score),c.value=O,v.value=O.length,i.value=T.query_sequence||"",k.value=T.execution_time||0,r.value=T.evalue||.01,f.value=T.local_matches||[],_.value=O.map(F=>({identity:F.identity,evalue:F.evalue,bitScore:F.bit_score,subject:F.subject})),R(),V(T)}}else console.error("No results found in route query"),a.value=[],v.value=0}catch(T){console.error("加载结果失败:",T),a.value=[],v.value=0}finally{h.value=!1}},V=T=>{if(!T.hits||T.hits.length===0){g.value=null;return}const N={query:"Query_Protein",queryLength:T.query_length||0,proteins:[{id:"Query_Protein",length:T.query_length||0},...T.hits.map(O=>({id:O.protein_id,length:O.length}))],hits:T.hits.map(O=>({query:O.protein_id,target:"Query_Protein",score:O.score,evalue:O.evalue,identity:O.identity,qStart:O.qStart,qEnd:O.qEnd}))};g.value=N},Y=()=>{if(!g.value)return;const T=g.value;function N(B){const De=[B.query,...B.proteins.map(tt=>tt.id)],st=[B.queryLength,...B.proteins.map(tt=>tt.length)],Rt=st.reduce((tt,Qe)=>tt+Qe,0),yt=Array(De.length).fill(0).map(()=>Array(De.length).fill(0));return B.hits.forEach(tt=>{const Qe=De.indexOf(tt.query),ze=De.indexOf(tt.target);Qe!==-1&&ze!==-1&&Qe<yt.length&&ze<yt.length&&yt[Qe]&&yt[ze]&&(yt[Qe][ze]=tt.score,yt[ze][Qe]=tt.score)}),{matrix:yt,proteins:De,lengths:st,totalLength:Rt,hits:B.hits}}const O=N(T),F={};O.proteins.forEach(B=>{F[B]=0}),O.hits.forEach(B=>{B.query!==T.query&&(F[B.query]+=B.identity),B.target!==T.query&&(F[B.target]+=B.identity)});const te={};O.hits.forEach(B=>{B.query!==T.query&&(te[B.query]=(te[B.query]||0)+1),B.target!==T.query&&(te[B.target]=(te[B.target]||0)+1)}),Object.keys(F).forEach(B=>{if(B!==T.query){const De=te[B]||1;F[B]!==void 0&&(F[B]=F[B]/De)}});const ke=T.query,ge=[...O.proteins.filter(B=>B!==ke)].sort((B,De)=>{const st=F[B]||0;return(F[De]||0)-st}),qe=[ke,...ge].map(B=>O.proteins.indexOf(B)),L=qe.map(B=>qe.map(De=>O.matrix&&B>=0&&B<O.matrix.length&&O.matrix[B]&&De>=0&&De<O.matrix[B].length?O.matrix[B][De]:0)),Je=qe.map(B=>O.lengths[B]),Ve=qe.map(B=>O.proteins[B]);O.matrix=L,O.lengths=Je,O.proteins=Ve;const We=document.getElementById("chord-chart");if(!We)return;We.innerHTML="";const Ue=We.clientWidth,Ke=800,Ne=Math.min(Ue,Ke)*.5-40,ct=Ne-30,A=Nt("#chord-chart").append("svg").attr("width",Ue).attr("height",Ke).append("g").attr("transform",`translate(${Ue/2},${Ke/2})`),K=xu().padAngle(.1).sortSubgroups(Cu)(O.matrix),ne=[0];let fe=0;fe+=O.lengths[0],ne.push(fe/O.totalLength*2*Math.PI);for(let B=1;B<O.lengths.length;B++)fe+=O.lengths[B],ne.push(fe/O.totalLength*2*Math.PI);const Se=Su().innerRadius(ct).outerRadius(Ne).startAngle(B=>(ne[B.index]||0)+.02).endAngle(B=>(ne[B.index+1]||0)-.02),ue=Au().domain(O.proteins).range(Tu.concat($u)),re=A.append("g").selectAll("g").data(K.groups).enter().append("g");re.append("path").attr("class","chord-group").style("fill",B=>ue(O.proteins[B.index])).style("stroke","#000").style("stroke-width","0.5px").attr("d",B=>Se(B)).append("title").text(B=>{const De=O.proteins[B.index],st=O.lengths[B.index],Rt=F[De]||0;return`${De} (Length: ${st}, Avg Identity: ${Rt.toFixed(2)}%)`}),re.append("text").each(B=>{const De=ne[B.index]||0,st=ne[B.index+1]||0;B.angle=(De+st)/2}).attr("class","protein-label").attr("dy",".35em").attr("transform",B=>`
            rotate(${B.angle*180/Math.PI-90})
            translate(${ct-5})
            ${B.angle>Math.PI?"rotate(180)":""}
          `).style("text-anchor",B=>B.angle>Math.PI?"end":null).text(B=>{const st=O.proteins[B.index];return st.length>4?st.substring(0,4)+"...":st});const Ae=qu().radius(ct),bt=Nt("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none");A.append("g").selectAll("path").data(K).enter().append("path").attr("class","chord-ribbon").style("fill",B=>ue(O.proteins[B.source.index])).style("stroke",B=>ue(O.proteins[B.source.index])).attr("d",Ae).style("opacity",.8).on("mouseover",B=>{vi(".chord-ribbon").style("opacity",.1);const De=B.currentTarget;De&&Nt(De).style("opacity",1).style("stroke","#000").style("stroke-width","1px");const Rt=B.currentTarget?.__data__;if(Rt){const yt=O.proteins[Rt.source.index],tt=O.proteins[Rt.target.index],Qe=O.hits.find(ze=>ze.query===yt&&ze.target===tt||ze.query===tt&&ze.target===yt);bt.transition().duration(200).style("opacity",.9),bt.html(`
          <strong>Query Protein → ${tt}</strong><br>
          ${Qe?`E-value: ${Qe.evalue}<br>Identity: ${Qe.identity}%<br>Alignment region: ${Qe.qStart}-${Qe.qEnd}`:""}
        `).style("left",B.pageX+15+"px").style("top",B.pageY-28+"px")}}).on("mouseout",()=>{vi(".chord-ribbon").style("opacity",.8).style("stroke","none"),bt.style("opacity",0)}).on("mousemove",B=>{bt.style("left",B.pageX+15+"px").style("top",B.pageY-28+"px")})},J=()=>{if(_.value.length===0)return;const T=document.getElementById("line-chart");if(!T)return;const N=T.clientWidth,O=400,F={top:20,right:30,bottom:40,left:60};T.innerHTML="";const te=Nt("#line-chart").append("svg").attr("width",N).attr("height",O).append("g").attr("transform",`translate(${F.left},${F.top})`),ke=N-F.left-F.right,Me=O-F.top-F.bottom,ge=_.value.map(L=>({...L,logEvalue:-Math.log10(L.evalue+1e-100)})),et=bi().domain([0,100]).range([0,ke]),qe=bi().domain([0,Ru(ge,L=>L.logEvalue)||0]).range([Me,0]);te.append("g").attr("transform",`translate(0,${Me})`).call(yi(et)).append("text").attr("x",ke/2).attr("y",30).style("text-anchor","middle").style("font-size","12px").text("Identity (%)"),te.append("g").call(wi(qe)).append("text").attr("transform","rotate(-90)").attr("x",-Me/2).attr("y",-40).style("text-anchor","middle").style("font-size","12px").text("-log10(E-value)"),te.selectAll(".dot").data(ge).enter().append("circle").attr("class","dot").attr("cx",L=>et(L.identity)).attr("cy",L=>qe(L.logEvalue)).attr("r",4).style("fill","#49B7CF").style("opacity",.7).style("stroke","#000").style("stroke-width","1px").on("mouseover",function(L,Je){Nt(this).style("opacity",1).style("stroke","#000").style("stroke-width","2px");const Ve=Nt("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","1000");Ve.transition().duration(200).style("opacity",.9),Ve.html(`
        <strong>${Je.subject}</strong><br>
        Identity: ${Je.identity.toFixed(2)}%<br>
        E-value: ${Je.evalue<.001?Je.evalue.toExponential(2):Je.evalue.toFixed(4)}<br>
        Bit Score: ${Je.bitScore.toFixed(0)}
      `).style("left",L.pageX+15+"px").style("top",L.pageY-28+"px"),Nt(this).datum({tooltip:Ve})}).on("mouseout",function(){Nt(this).style("opacity",.7).style("stroke","#000").style("stroke-width","1px");const L=Nt(this).datum();L.tooltip&&typeof L.tooltip.remove=="function"&&L.tooltip.remove(),Nt(this).datum(null)}),te.append("g").attr("class","grid").attr("transform",`translate(0,${Me})`).call(yi(et).ticks(10).tickSize(-Me).tickFormat(()=>"")),te.append("g").attr("class","grid").call(wi(qe).ticks(10).tickSize(-ke).tickFormat(()=>""))};return Wt(()=>{j()}),qn(g,T=>{T&&setTimeout(()=>{Y()},100)}),qn(_,()=>{J()},{deep:!0}),(T,N)=>{const O=gt("router-link");return y(),w("div",s_,[s("div",o_,[N[5]||(N[5]=s("h2",null,"BLASTP Results",-1)),k.value?(y(),w("span",r_,"Executed in "+q(k.value)+" seconds",1)):H("",!0)]),s("div",i_,[N[6]||(N[6]=s("div",{class:"card-header"},[s("h5",{class:"mb-0"},"Query Sequence")],-1)),s("div",a_,[s("div",l_,[s("pre",c_,q(b(i.value,200)),1),i.value.length>200?(y(),w("small",u_,"(truncated - full sequence used for search)")):H("",!0)])])]),s("div",d_,[N[8]||(N[8]=s("div",{class:"card-header"},[s("h5",{class:"mb-0"},"Chord Diagram")],-1)),s("div",f_,[g.value?(y(),w("div",h_)):(y(),w("div",p_,[...N[7]||(N[7]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])]))])]),s("form",{onSubmit:pe(D,["prevent"]),class:"mb-3"},[s("div",m_,[N[10]||(N[10]=s("div",{class:"col-auto"},[s("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),s("div",g_,[we(s("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":N[0]||(N[0]=F=>o.value=F)},[...N[9]||(N[9]=[s("option",{value:"5"},"5",-1),s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[_t,o.value,void 0,{number:!0}]])]),N[11]||(N[11]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),h.value?(y(),w("div",__,[...N[12]||(N[12]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):a.value.length>0?(y(),w("div",v_,[s("div",b_,[s("div",y_,[s("h5",w_,"BLASTP Hits (E-value ≤ "+q(r.value)+")",1),s("span",k_,q(v.value)+" results",1)]),s("div",E_,[s("div",x_,[s("table",C_,[N[13]||(N[13]=s("thead",{class:"thead-light"},[s("tr",null,[s("th",null,"Protein ID"),s("th",{class:"text-right"},"E-value"),s("th",{class:"text-right"},"Bit Score"),s("th",{class:"text-right"},"Identity (%)")])],-1)),s("tbody",null,[(y(!0),w(ee,null,be(a.value,(F,te)=>(y(),w("tr",{key:F.subject,class:"protein-row"},[s("td",null,[s("code",null,q($(F.subject,15)),1)]),s("td",S_,q(E(F.evalue)),1),s("td",A_,q(F.bit_score.toFixed(0)),1),s("td",T_,q(F.identity.toFixed(2))+"%",1)]))),128))])])])])]),f.value.length>0?(y(),w("div",$_,[N[16]||(N[16]=s("div",{class:"card-header"},[s("h5",{class:"mb-0"},"Local Database Matches")],-1)),s("div",q_,[s("div",R_,[s("table",I_,[N[15]||(N[15]=s("thead",{class:"thead-light"},[s("tr",null,[s("th",null,"Protein ID"),s("th",null,"Gene ID"),s("th",null,"Description"),s("th",null,"Source"),s("th",null,"Actions")])],-1)),s("tbody",null,[(y(!0),w(ee,null,be(f.value,(F,te)=>(y(),w("tr",{key:F.protein_id},[s("td",null,[s("code",null,q(F.protein_id),1)]),s("td",null,q(F.gene_id),1),s("td",null,q($(F.description,50)),1),s("td",null,q($(F.file_source,20)),1),N[14]||(N[14]=s("td",null,[s("div",{class:"btn-group btn-group-sm"},[s("a",{href:"#",class:"btn btn-outline-info",title:"View details"},[s("i",{class:"fas fa-eye"})]),s("a",{href:"#",class:"btn btn-outline-secondary",title:"Download sequence"},[s("i",{class:"fas fa-download"})])])],-1))]))),128))])])])])])):H("",!0),v.value>o.value?(y(),w("nav",O_,[s("ul",D_,[s("li",{class:Oe(["page-item",{disabled:p.value===1}])},[s("a",{class:"page-link",href:"#",onClick:N[1]||(N[1]=pe(F=>S(1),["prevent"])),"aria-disabled":p.value===1}," 首页 ",8,P_)],2),s("li",{class:Oe(["page-item",{disabled:p.value===1}])},[s("a",{class:"page-link",href:"#",onClick:N[2]||(N[2]=pe(F=>S(p.value-1),["prevent"])),"aria-disabled":p.value===1}," 上一页 ",8,N_)],2),s("li",L_,[s("span",M_," 第 "+q(p.value)+" 页 / 共 "+q(m.value)+" 页 ",1)]),s("li",{class:Oe(["page-item",{disabled:p.value===m.value}])},[s("a",{class:"page-link",href:"#",onClick:N[3]||(N[3]=pe(F=>S(p.value+1),["prevent"])),"aria-disabled":p.value===m.value}," 下一页 ",8,F_)],2),s("li",{class:Oe(["page-item",{disabled:p.value===m.value}])},[s("a",{class:"page-link",href:"#",onClick:N[4]||(N[4]=pe(F=>S(m.value),["prevent"])),"aria-disabled":p.value===m.value}," 末页 ",8,j_)],2)])])):H("",!0)])):(y(),w("div",B_,"未找到匹配结果")),s("div",U_,[Z(O,{to:"/tools/blastp",class:"btn btn-secondary"},{default:_e(()=>[...N[17]||(N[17]=[se("返回搜索",-1)])]),_:1})])])}}}),V_=Pe(G_,[["__scopeId","data-v-a4bf9ad8"]]),K_={class:"container mt-4"},z_={class:"form-group"},H_={class:"row mt-3"},J_={class:"col-md-6"},W_={class:"form-group"},Q_={class:"col-md-6"},X_={class:"form-group"},Y_={class:"form-group mt-3"},Z_={key:0,class:"alert alert-danger mt-3"},ev=vt({__name:"GoEnrichmentView",setup(t){const e=Dn(),i=hu()?.appContext.config.globalProperties.$http,r=U(""),a=U(.05),c=U(.05),f=U(10),h=U(""),p=()=>{const k=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230`;r.value=k},v=async()=>{if(h.value="",!r.value.trim()){h.value="请输入基因列表";return}try{if(!i)throw new Error("未找到全局axios实例");const g=(await i.post("/tools/go_enrichment/api/start/",{gene_list:r.value,p_value:a.value,q_value:c.value,per_page:f.value})).data;g.status==="success"?e.push({path:"/tools/go-enrichment/results",query:{task_id:g.task_id}}):h.value=g.error||"提交失败"}catch(k){h.value="提交失败，请重试",console.error("提交失败:",k)}};return(k,g)=>(y(),w("div",K_,[g[10]||(g[10]=s("h2",{class:"mb-4"},"GO富集分析",-1)),s("form",{onSubmit:pe(v,["prevent"])},[s("div",z_,[g[4]||(g[4]=s("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),we(s("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":g[0]||(g[0]=_=>r.value=_),rows:"10"},null,512),[[Ye,r.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:p}," load example ")]),s("div",H_,[s("div",J_,[s("div",W_,[g[5]||(g[5]=s("label",{for:"p_value"},"P值阈值:",-1)),we(s("input",{type:"number",class:"form-control",id:"p_value","onUpdate:modelValue":g[1]||(g[1]=_=>a.value=_),min:"0.0001",max:"1",step:"0.0001",required:""},null,512),[[Ye,a.value,void 0,{number:!0}]])])]),s("div",Q_,[s("div",X_,[g[6]||(g[6]=s("label",{for:"q_value"},"Q值阈值:",-1)),we(s("input",{type:"number",class:"form-control",id:"q_value","onUpdate:modelValue":g[2]||(g[2]=_=>c.value=_),min:"0.0001",max:"1",step:"0.0001",required:""},null,512),[[Ye,c.value,void 0,{number:!0}]])])])]),s("div",Y_,[g[8]||(g[8]=s("label",{for:"per_page"},"每页显示结果数:",-1)),we(s("select",{class:"form-control",id:"per_page","onUpdate:modelValue":g[3]||(g[3]=_=>f.value=_)},[...g[7]||(g[7]=[s("option",{value:"5"},"5",-1),s("option",{value:"10",selected:""},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[_t,f.value,void 0,{number:!0}]])]),g[9]||(g[9]=s("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),h.value?(y(),w("div",Z_,q(h.value),1)):H("",!0)],32)]))}}),tv=Pe(ev,[["__scopeId","data-v-ba0b4675"]]),nv={class:"container mt-4"},sv={key:0,class:"text-center py-4"},ov={key:1,class:"alert alert-danger",role:"alert"},rv={key:2,class:"alert alert-warning",role:"alert"},iv={key:3},av={class:"row g-2 align-items-center"},lv={class:"col-auto"},cv=["id"],uv={class:"text-danger"},dv={key:0},fv={key:1},hv={key:2},pv={class:"text-muted"},mv={class:"table-responsive"},gv={class:"table table-bordered table-hover"},_v=["id"],vv=["title"],bv={key:0,class:"mt-4"},yv=["src","alt"],wv={"aria-label":"Page navigation"},kv=["id"],Ev=["onClick","data-category"],xv={key:1,class:"page-link"},Cv=["onClick","data-category"],Sv={key:1,class:"page-link"},Av={class:"page-item active"},Tv=["id"],$v=["onClick","data-category"],qv={key:1,class:"page-link"},Rv=["onClick","data-category"],Iv={key:1,class:"page-link"},Ov=vt({__name:"GoEnrichmentResultView",setup(t){const e=Pn(),o=U(10),i=U({BP:1,MF:1,CC:1}),r=U({BP:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},MF:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},CC:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1}}),a=U({}),c=U(!0),f=U(!1),h=U(""),p=U(0),v=$=>typeof $=="object"&&$!==null&&"name"in $?$.name:typeof $=="string"?$:"",k=$=>typeof $=="object"&&$!==null&&"definition"in $?$.definition:"",g=$=>{const b=$.target;b&&(b.style.display="none")},_=async()=>{i.value={BP:1,MF:1,CC:1},await E()},m=async($,b)=>{i.value[$]=b,await E()},E=async()=>{f.value=!0;try{const $=e.query.task_id;if(!$){h.value="缺少任务ID",c.value=!1;return}const b={task_id:$,per_page:o.value};for(const S in i.value)b[`${S}_page`]=i.value[S];console.log("请求参数:",b);const D=await St.get("/tools/go_enrichment/api/results/",{params:b});if(console.log("完整的后端返回数据:",JSON.stringify(D,null,2)),D.status==="success"||D.code===200||!D.error){let R=(D.results||D.data||{}).results||{},j=D.plot_images||D.images||D.charts||{};console.log("处理后的结果对象:",R),console.log("处理后的图像对象:",j),r.value={BP:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},MF:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},CC:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1}};for(const Y in R){const J=R[Y];console.log(`处理类别 ${Y} 的数据:`,J),J&&typeof J=="object"&&(Array.isArray(J.results)?r.value[Y]={results:J.results,total:J.total||J.results.length,num_pages:J.num_pages||1,current_page:J.current_page||i.value[Y]||1,has_next:J.has_next||!1,has_previous:J.has_previous||!1}:Array.isArray(J)&&(r.value[Y]={results:J,total:J.length,num_pages:1,current_page:i.value[Y]||1,has_next:!1,has_previous:!1}))}a.value=j,console.log("可视化图像数据:",j);let V=!1;for(const Y in r.value)if(r.value[Y].results.length>0){V=!0;break}c.value=V,console.log("最终结果数据:",r.value),p.value=D.execution_time||D.elapsed_time||D.time||0}else D.status==="processing"?setTimeout(()=>E(),1e3):(h.value=D.error||"获取结果失败",c.value=!1)}catch($){h.value="获取结果失败: "+($.message||$),console.error("Error fetching results:",$),c.value=!1}finally{f.value=!1}};return Wt(async()=>{await E()}),Wt(()=>{}),($,b)=>{const D=gt("router-link");return y(),w("div",nv,[b[9]||(b[9]=s("h2",{class:"mb-4"},"GO富集分析结果",-1)),Z(D,{to:"/tools/go-enrichment",class:"btn btn-secondary mb-4"},{default:_e(()=>[...b[2]||(b[2]=[se("返回",-1)])]),_:1}),f.value?(y(),w("div",sv,[...b[3]||(b[3]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):h.value?(y(),w("div",ov,q(h.value),1)):c.value?(y(),w("div",iv,[s("form",{onSubmit:pe(_,["prevent"]),class:"mb-3",id:"per-page-form"},[s("div",av,[b[5]||(b[5]=s("div",{class:"col-auto"},[s("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),s("div",lv,[we(s("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":b[0]||(b[0]=S=>o.value=S)},[...b[4]||(b[4]=[s("option",{value:"5"},"5",-1),s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[_t,o.value,void 0,{number:!0}]])]),b[6]||(b[6]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),(y(!0),w(ee,null,be(r.value,(S,R)=>(y(),w("div",{key:R,class:"mb-5",id:`category-${R}`},[s("h4",uv,[R==="MF"?(y(),w("span",dv,"Molecular Function")):R==="BP"?(y(),w("span",fv,"Biological Process")):R==="CC"?(y(),w("span",hv,"Cellular Component")):H("",!0),s("small",pv," (共 "+q(S.total)+" 条) ",1)]),s("div",mv,[s("table",gv,[b[7]||(b[7]=s("thead",{class:"bg-light"},[s("tr",null,[s("th",null,"GO ID"),s("th",null,"Description"),s("th",null,"GeneRatio"),s("th",null,"BgRatio"),s("th",null,"RichFactor"),s("th",null,"FoldEnrichment"),s("th",null,"zScore"),s("th",null,"pvalue"),s("th",null,"Genes")])],-1)),s("tbody",{id:`tbody-${R}`},[(y(!0),w(ee,null,be(S.results,j=>(y(),w("tr",{key:j.go_id},[s("td",null,q(j.go_id),1),s("td",null,[se(q(v(j.description))+" ",1),k(j.description)?(y(),w("i",{key:0,class:"fas fa-info-circle text-muted",title:k(j.description),"data-bs-toggle":"tooltip"},null,8,vv)):H("",!0)]),s("td",null,q(j.gene_ratio),1),s("td",null,q(j.bg_ratio),1),s("td",null,q(parseFloat(j.rich_factor).toFixed(4)),1),s("td",null,q(parseFloat(j.fold_enrichment).toFixed(4)),1),s("td",null,q(parseFloat(j.z_score).toFixed(4)),1),s("td",null,q(parseFloat(j.p_value).toFixed(6)),1),s("td",null,q(j.genes),1)]))),128))],8,_v)])]),a.value&&(a.value[R]||a.value[R.toLowerCase()]||a.value[R.toUpperCase()])?(y(),w("div",bv,[b[8]||(b[8]=s("h5",null,"可视化结果",-1)),s("img",{src:`data:image/png;base64,${a.value[R]||a.value[R.toLowerCase()]||a.value[R.toUpperCase()]}`,class:"img-fluid",alt:`${R} Plot`,onError:b[1]||(b[1]=j=>g(j))},null,40,yv)])):H("",!0),s("nav",wv,[s("ul",{id:`pagination-${R}`,class:"pagination justify-content-center"},[s("li",{class:Oe(["page-item",{disabled:!S.has_previous}])},[S.has_previous?(y(),w("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(j=>m(R,1),["prevent"]),"data-category":R}," 首页 ",8,Ev)):(y(),w("span",xv,"首页"))],2),s("li",{class:Oe(["page-item",{disabled:!S.has_previous}])},[S.has_previous?(y(),w("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(j=>m(R,S.previous_page_number),["prevent"]),"data-category":R}," 上一页 ",8,Cv)):(y(),w("span",Sv,"上一页"))],2),s("li",Av,[s("span",{id:`current-page-${R}`,class:"page-link"}," 第 "+q(S.current_page)+" 页 / 共 "+q(S.num_pages)+" 页 ",9,Tv)]),s("li",{class:Oe(["page-item",{disabled:!S.has_next}])},[S.has_next?(y(),w("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(j=>m(R,S.next_page_number),["prevent"]),"data-category":R}," 下一页 ",8,$v)):(y(),w("span",qv,"下一页"))],2),s("li",{class:Oe(["page-item",{disabled:!S.has_next}])},[S.has_next?(y(),w("a",{key:0,class:"page-link pagination-link",href:"#",onClick:pe(j=>m(R,S.num_pages),["prevent"]),"data-category":R}," 末页 ",8,Rv)):(y(),w("span",Iv,"末页"))],2)],8,kv)])],8,cv))),128))])):(y(),w("div",rv," 暂无富集结果 "))])}}}),Dv=Pe(Ov,[["__scopeId","data-v-2f118e97"]]),Pv={class:"container mt-4"},Nv={class:"form-group"},Lv={class:"form-group mt-3"},Mv={key:0,class:"alert alert-danger mt-3"},Fv=vt({__name:"GoAnnotationView",setup(t){const e=Dn(),o=U(""),i=U(10),r=U(""),a=()=>{const f=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100`;o.value=f},c=async()=>{if(r.value="",!o.value.trim()){r.value="请输入基因列表";return}const f={gene_list:o.value,per_page:i.value};try{e.push({path:"/tools/go-annotation/results",query:f})}catch(h){r.value="提交失败，请重试",console.error("提交失败:",h)}};return(f,h)=>(y(),w("div",Pv,[h[6]||(h[6]=s("h2",{class:"mb-4"},"GO注释",-1)),s("form",{onSubmit:pe(c,["prevent"])},[s("div",Nv,[h[2]||(h[2]=s("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),we(s("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":h[0]||(h[0]=p=>o.value=p),rows:"10"},null,512),[[Ye,o.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:a}," load example ")]),s("div",Lv,[h[4]||(h[4]=s("label",{for:"per_page"},"每页显示结果数:",-1)),we(s("select",{class:"form-control",id:"per_page","onUpdate:modelValue":h[1]||(h[1]=p=>i.value=p)},[...h[3]||(h[3]=[s("option",{value:"5"},"5",-1),s("option",{value:"10",selected:""},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[_t,i.value,void 0,{number:!0}]])]),h[5]||(h[5]=s("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),r.value?(y(),w("div",Mv,q(r.value),1)):H("",!0)],32)]))}}),jv=Pe(Fv,[["__scopeId","data-v-846c266a"]]),Bv={class:"container mt-4"},Uv={key:0,class:"card mb-4"},Gv={class:"card-body"},Vv=["src"],Kv={class:"row g-2 align-items-center"},zv={class:"col-auto"},Hv={key:1,class:"text-center py-4"},Jv={key:2},Wv={class:"table-responsive"},Qv={class:"table table-bordered table-hover"},Xv={key:0,"aria-label":"Page navigation"},Yv={class:"pagination justify-content-center"},Zv=["aria-disabled"],e0=["aria-disabled"],t0={class:"page-item active"},n0={class:"page-link"},s0=["aria-disabled"],o0=["aria-disabled"],r0={key:3,class:"alert alert-info"},i0={class:"mt-3"},a0=vt({__name:"GoAnnotationResultView",setup(t){const e=Pn(),o=U(10),i=U(""),r=U([]),a=U(!1),c=U(1),f=U(0),h=U(""),p=U(!0),v=Le(()=>Math.ceil(f.value/o.value)),k=()=>{c.value=1,_()},g=m=>{c.value=m,_()},_=async()=>{a.value=!0;const m=e.query.gene_list||"";i.value=m,console.log("=== GO注释结果页面调试信息 ==="),console.log("路由参数:",e.query),console.log("获取的gene_list参数:",m),console.log("gene_list参数长度:",m.length),console.log("当前页码:",c.value),console.log("每页显示条数:",o.value);try{if(!m){console.log("没有获取到gene_list参数"),r.value=[],f.value=0,h.value="",p.value=!1;return}console.log("准备调用API");const E=await St.get("/tools/go_annotation/",{params:{gene_id:m,per_page:o.value,page:c.value,api:"true"}});if(console.log("API调用成功"),console.log("API响应数据:",E),E&&E.success){console.log("API响应成功");const $=E.data;console.log("数据对象:",$),console.log("结果数组:",$.results),console.log("结果数量:",$.results?$.results.length:0),console.log("是否有图表:",$.chart?"是":"否"),r.value=$.results||[],f.value=$.results.length||0,h.value=$.chart||"",p.value=r.value.length>0,console.log("是否有结果:",p.value)}else console.log("API响应失败或success为false"),console.log("响应数据:",E),r.value=[],f.value=0,h.value="",p.value=!1}catch(E){console.error("加载结果失败:",E),r.value=[],f.value=0,h.value="",p.value=!1}finally{a.value=!1}};return Wt(()=>{_()}),(m,E)=>{const $=gt("router-link");return y(),w("div",Bv,[E[12]||(E[12]=s("h2",{class:"mb-4"},"GO注释结果",-1)),h.value?(y(),w("div",Uv,[s("div",Gv,[E[5]||(E[5]=s("h5",{class:"card-title"},"GO注释分布",-1)),s("img",{src:`data:image/png;base64,${h.value}`,alt:"GO Annotation Chart",class:"img-fluid"},null,8,Vv)])])):H("",!0),s("form",{onSubmit:pe(k,["prevent"]),class:"mb-3"},[s("div",Kv,[E[7]||(E[7]=s("div",{class:"col-auto"},[s("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),s("div",zv,[we(s("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":E[0]||(E[0]=b=>o.value=b)},[...E[6]||(E[6]=[s("option",{value:"5"},"5",-1),s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[_t,o.value,void 0,{number:!0}]])]),E[8]||(E[8]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),a.value?(y(),w("div",Hv,[...E[9]||(E[9]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):r.value.length>0?(y(),w("div",Jv,[s("div",Wv,[s("table",Qv,[E[10]||(E[10]=s("thead",{class:"bg-light"},[s("tr",null,[s("th",null,"Chr"),s("th",null,"Start"),s("th",null,"End"),s("th",null,"ID"),s("th",null,"GO ID"),s("th",null,"Description"),s("th",null,"Gene Ontology")])],-1)),s("tbody",null,[(y(!0),w(ee,null,be(r.value,b=>(y(),w("tr",{key:`${b.ID}-${b.GO_ID}`},[s("td",null,q(b.Chr),1),s("td",null,q(b.Start),1),s("td",null,q(b.End),1),s("td",null,q(b.ID),1),s("td",null,q(b.GO_ID),1),s("td",null,q(b.Description),1),s("td",null,q(b.Gene_Ontology),1)]))),128))])])]),f.value>o.value?(y(),w("nav",Xv,[s("ul",Yv,[s("li",{class:Oe(["page-item",{disabled:c.value===1}])},[s("a",{class:"page-link",href:"#",onClick:E[1]||(E[1]=pe(b=>g(1),["prevent"])),"aria-disabled":c.value===1}," 首页 ",8,Zv)],2),s("li",{class:Oe(["page-item",{disabled:c.value===1}])},[s("a",{class:"page-link",href:"#",onClick:E[2]||(E[2]=pe(b=>g(c.value-1),["prevent"])),"aria-disabled":c.value===1}," 上一页 ",8,e0)],2),s("li",t0,[s("span",n0," 第 "+q(c.value)+" 页 / 共 "+q(v.value)+" 页 ",1)]),s("li",{class:Oe(["page-item",{disabled:c.value===v.value}])},[s("a",{class:"page-link",href:"#",onClick:E[3]||(E[3]=pe(b=>g(c.value+1),["prevent"])),"aria-disabled":c.value===v.value}," 下一页 ",8,s0)],2),s("li",{class:Oe(["page-item",{disabled:c.value===v.value}])},[s("a",{class:"page-link",href:"#",onClick:E[4]||(E[4]=pe(b=>g(v.value),["prevent"])),"aria-disabled":c.value===v.value}," 末页 ",8,o0)],2)])])):H("",!0)])):(y(),w("div",r0,"暂无注释结果")),s("div",i0,[Z($,{to:"/tools/go-annotation",class:"btn btn-secondary"},{default:_e(()=>[...E[11]||(E[11]=[se("返回",-1)])]),_:1})])])}}}),l0=Pe(a0,[["__scopeId","data-v-03b3b785"]]),c0={class:"container mt-4"},u0={class:"form-group"},d0={class:"form-group mt-3"},f0={class:"form-group mt-3"},h0={key:0,class:"alert alert-danger mt-3"},p0=vt({__name:"GeneExpressionView",setup(t){const e=Dn(),o=U(""),i=U(""),r=U(10),a=U(""),c=()=>{const h=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100`;o.value=h},f=async()=>{if(a.value="",!o.value.trim()){a.value="请输入基因列表";return}const h={gene_list:o.value,tissue:i.value,per_page:r.value};try{e.push({path:"/tools/gene-expression/results",query:h})}catch(p){a.value="提交失败，请重试",console.error("提交失败:",p)}};return(h,p)=>(y(),w("div",c0,[p[9]||(p[9]=s("h2",{class:"mb-4"},"基因表达分析",-1)),s("form",{onSubmit:pe(f,["prevent"])},[s("div",u0,[p[3]||(p[3]=s("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),we(s("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":p[0]||(p[0]=v=>o.value=v),rows:"10"},null,512),[[Ye,o.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:c}," load example ")]),s("div",d0,[p[5]||(p[5]=s("label",{for:"tissue"},"选择组织:",-1)),we(s("select",{class:"form-control",id:"tissue","onUpdate:modelValue":p[1]||(p[1]=v=>i.value=v)},[...p[4]||(p[4]=[As('<option value="" data-v-2e37b489>-- 全部组织 --</option><option value="leaf" data-v-2e37b489>叶</option><option value="root" data-v-2e37b489>根</option><option value="flower" data-v-2e37b489>花</option><option value="stem" data-v-2e37b489>茎</option><option value="seed" data-v-2e37b489>种子</option><option value="fiber" data-v-2e37b489>纤维</option>',7)])],512),[[_t,i.value]])]),s("div",f0,[p[7]||(p[7]=s("label",{for:"per_page"},"每页显示结果数:",-1)),we(s("select",{class:"form-control",id:"per_page","onUpdate:modelValue":p[2]||(p[2]=v=>r.value=v)},[...p[6]||(p[6]=[s("option",{value:"5"},"5",-1),s("option",{value:"10",selected:""},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[_t,r.value,void 0,{number:!0}]])]),p[8]||(p[8]=s("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),a.value?(y(),w("div",h0,q(a.value),1)):H("",!0)],32)]))}}),m0=Pe(p0,[["__scopeId","data-v-2e37b489"]]);Iu();const g0={class:"container mt-4"},_0={class:"row g-2 align-items-center"},v0={class:"col-auto"},b0={key:0,class:"text-center py-4"},y0={key:1},w0={class:"table-responsive"},k0={class:"table table-bordered table-hover"},E0={class:"bg-light"},x0={key:0},C0={key:1},S0={class:"mt-4"},A0={key:0,class:"heatmap-container mt-3"},T0={class:"heatmap-wrapper"},$0={class:"gene-labels"},q0={class:"heatmap-content"},R0={class:"tissue-labels"},I0={key:1,class:"alert alert-info"},O0={key:0,"aria-label":"Page navigation"},D0={class:"pagination justify-content-center"},P0=["aria-disabled"],N0=["aria-disabled"],L0={class:"page-item active"},M0={class:"page-link"},F0=["aria-disabled"],j0=["aria-disabled"],B0={key:2,class:"alert alert-info"},U0={class:"mt-3"},G0=vt({__name:"GeneExpressionResultView",setup(t){const e=Pn(),o=U(10),i=U(""),r=U(""),a=U([]),c=U(!1),f=U(1),h=U(0),p=U(null);U(null);const v=U(null),k=[{value:"leaf",label:"叶"},{value:"root",label:"根"},{value:"flower",label:"花"},{value:"stem",label:"茎"},{value:"seed",label:"种子"},{value:"fiber",label:"纤维"}],g=Le(()=>Math.ceil(h.value/o.value)),_=Le(()=>a.value.map(T=>({gene_id:T.gene_id,expression:T.expression}))),m=Le(()=>r.value?k.filter(T=>T.value===r.value):k),E=()=>{f.value=1,J()},$=T=>{f.value=T,J()},b=T=>{const N=Math.min(T/10,1);if(N<.2){const O=N/.2,F=Math.floor(0),te=Math.floor(255*O),ke=Math.floor(255-255*O);return`rgb(${F}, ${te}, ${ke})`}else if(N<.4){const O=Math.floor(0),F=Math.floor(255),te=Math.floor(0);return`rgb(${O}, ${F}, ${te})`}else if(N<.6){const O=(N-.4)/.2,F=Math.floor(255*O),te=Math.floor(255),ke=Math.floor(0);return`rgb(${F}, ${te}, ${ke})`}else if(N<.8){const O=(N-.6)/.2,F=Math.floor(255),te=Math.floor(255-102*O),ke=Math.floor(0);return`rgb(${F}, ${te}, ${ke})`}else{const O=(N-.8)/.2,F=Math.floor(255),te=Math.floor(153-153*O),ke=Math.floor(0);return`rgb(${F}, ${te}, ${ke})`}},D=async()=>{if(await Jn(),console.log("开始绘制热图"),console.log("热图容器:",p.value),console.log("结果数据:",a.value),console.log("显示的组织:",m.value),!p.value){console.error("热图容器不存在");return}if(a.value.length===0){console.error("结果数据为空");return}if(m.value.length===0){console.error("显示的组织为空");return}p.value.innerHTML="",console.log("容器已清空");const T=document.createElement("div");T.style.width=`${m.value.length*45}px`,T.style.height=`${a.value.length*30}px`,T.style.position="relative",T.style.backgroundColor="#f0f0f0",T.style.border="1px solid #dee2e6",p.value.appendChild(T),console.log("创建热图元素，尺寸:",T.style.width,T.style.height);const N=Math.max(...a.value.flatMap(O=>m.value.map(F=>F.value&&O.expression[F.value]||0)));console.log("最大表达值:",N),a.value.forEach((O,F)=>{m.value.forEach((te,ke)=>{if(!te||!te.value||!te.label)return;const Me=O.expression[te.value]||0,ge=document.createElement("div");ge.style.position="absolute",ge.style.left=`${ke*45}px`,ge.style.top=`${F*30}px`,ge.style.width="45px",ge.style.height="30px",ge.style.border="1px solid #eee",ge.style.boxSizing="border-box",ge.style.cursor="pointer";const et=b(Me);ge.style.backgroundColor=et,ge.addEventListener("mouseenter",qe=>{v.value={gene:O.gene_id,tissue:te.label,value:Me},R(qe.clientX,qe.clientY)}),ge.addEventListener("mouseleave",()=>{S()}),T.appendChild(ge)})}),p.value.style.overflow="auto",p.value.style.border="1px solid #dee2e6",p.value.style.height="auto",p.value.style.minHeight="200px",p.value.style.padding="0",p.value.style.margin="0",console.log("热图绘制完成")},S=()=>{v.value=null,j()},R=(T,N)=>{let O=document.getElementById("heatmap-hover-info");O||(O=document.createElement("div"),O.id="heatmap-hover-info",O.style.position="absolute",O.style.backgroundColor="rgba(0, 0, 0, 0.8)",O.style.color="white",O.style.padding="8px",O.style.borderRadius="4px",O.style.zIndex="1000",O.style.fontSize="12px",document.body.appendChild(O)),v.value&&(O.innerHTML=`
      <div>基因: ${v.value.gene}</div>
      <div>组织: ${v.value.tissue}</div>
      <div>表达值: ${v.value.value.toFixed(4)}</div>
    `,O.style.left=`${T+window.scrollX+10}px`,O.style.top=`${N+window.scrollY+10}px`,O.style.display="block")},j=()=>{const T=document.getElementById("heatmap-hover-info");T&&(T.style.display="none")},V=()=>{p.value&&alert("热图下载功能需要html2canvas库，请先安装：npm install html2canvas")},Y=async()=>{console.log("开始测试热图绘制");const T=[{gene_id:"Test_Gene_1",gene_name:"测试基因1",expression:{leaf:2.5,root:3.8,flower:1.2,stem:4.5,seed:.8,fiber:5.2}},{gene_id:"Test_Gene_2",gene_name:"测试基因2",expression:{leaf:1.8,root:2.2,flower:3.5,stem:2.8,seed:4.2,fiber:1.5}},{gene_id:"Test_Gene_3",gene_name:"测试基因3",expression:{leaf:5,root:4.8,flower:3.2,stem:2.1,seed:.5,fiber:6}}];[...a.value];try{a.value=T,h.value=T.length,await Jn(),console.log("测试数据已设置，开始绘制热图"),await D(),console.log("热图绘制完成"),alert("热图测试完成，请查看控制台日志")}catch(N){console.error("热图测试失败:",N),alert("热图测试失败，请查看控制台日志")}};qn([a,m],()=>{D()},{deep:!0});const J=async()=>{c.value=!0;try{const T=e.query.gene_list||"",N=e.query.tissue||"";i.value=T,r.value=N;const O=T.trim().split(/[,\s]+/).filter(te=>te.trim());if(O.length===0){a.value=[],h.value=0,c.value=!1;return}console.log("用户输入的基因ID:",O);const F=O.map((te,ke)=>{const Me={};return k.forEach(ge=>{Me[ge.value]=Math.random()*10}),{gene_id:te,gene_name:te,expression:Me}});a.value=F,h.value=O.length,console.log("生成的结果数据:",a.value),await Jn(),console.log("DOM更新完成，绘制热图"),D()}catch(T){console.error("加载结果失败:",T)}finally{c.value=!1}};return Wt(()=>{J()}),(T,N)=>{const O=gt("router-link");return y(),w("div",g0,[N[15]||(N[15]=s("h2",{class:"mb-4"},"基因表达分析结果",-1)),s("form",{onSubmit:pe(E,["prevent"]),class:"mb-3"},[s("div",_0,[N[6]||(N[6]=s("div",{class:"col-auto"},[s("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),s("div",v0,[we(s("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":N[0]||(N[0]=F=>o.value=F)},[...N[5]||(N[5]=[s("option",{value:"5"},"5",-1),s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],512),[[_t,o.value,void 0,{number:!0}]])]),N[7]||(N[7]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),c.value?(y(),w("div",b0,[...N[8]||(N[8]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):a.value.length>0?(y(),w("div",y0,[s("div",w0,[s("table",k0,[s("thead",E0,[s("tr",null,[N[9]||(N[9]=s("th",null,"Gene ID",-1)),N[10]||(N[10]=s("th",null,"基因名称",-1)),(y(),w(ee,null,be(k,F=>s("th",{key:F.value},q(F.label),1)),64))])]),s("tbody",null,[(y(!0),w(ee,null,be(a.value,F=>(y(),w("tr",{key:F.gene_id},[s("td",null,q(F.gene_id),1),s("td",null,q(F.gene_name||"-"),1),(y(),w(ee,null,be(k,te=>s("td",{key:te.value},[F.expression[te.value]!==void 0?(y(),w("div",x0,q(F.expression[te.value].toFixed(4)),1)):(y(),w("div",C0,"-"))])),64))]))),128))])])]),s("div",S0,[N[13]||(N[13]=s("h4",null,"表达水平可视化",-1)),_.value.length>0?(y(),w("div",A0,[s("div",{class:"d-flex justify-content-between align-items-center mb-2"},[N[11]||(N[11]=s("h5",{class:"mb-0"},"Gene Expression Heatmap",-1)),s("div",null,[s("button",{class:"btn btn-sm btn-primary me-2",onClick:V},"下载图片"),s("button",{class:"btn btn-sm btn-warning",onClick:Y},"测试热图")])]),s("div",T0,[s("div",$0,[(y(!0),w(ee,null,be(a.value,F=>(y(),w("div",{key:F.gene_id,class:"gene-label"},q(F.gene_id),1))),128))]),s("div",q0,[s("div",R0,[(y(!0),w(ee,null,be(m.value,F=>(y(),w("div",{key:F.value,class:"tissue-label"},q(F.label),1))),128))]),s("div",{class:"heatmap",ref_key:"heatmapContainer",ref:p},null,512)])]),N[12]||(N[12]=s("div",{class:"color-scale mt-2"},[s("div",{class:"color-scale-label"},"Expression Level"),s("div",{class:"color-scale-gradient"}),s("div",{class:"color-scale-values"},[s("span",null,"0.0"),s("span",null,"2.0"),s("span",null,"4.0"),s("span",null,"6.0")])],-1))])):(y(),w("div",I0,"暂无可视化数据"))]),h.value>o.value?(y(),w("nav",O0,[s("ul",D0,[s("li",{class:Oe(["page-item",{disabled:f.value===1}])},[s("a",{class:"page-link",href:"#",onClick:N[1]||(N[1]=pe(F=>$(1),["prevent"])),"aria-disabled":f.value===1}," 首页 ",8,P0)],2),s("li",{class:Oe(["page-item",{disabled:f.value===1}])},[s("a",{class:"page-link",href:"#",onClick:N[2]||(N[2]=pe(F=>$(f.value-1),["prevent"])),"aria-disabled":f.value===1}," 上一页 ",8,N0)],2),s("li",L0,[s("span",M0," 第 "+q(f.value)+" 页 / 共 "+q(g.value)+" 页 ",1)]),s("li",{class:Oe(["page-item",{disabled:f.value===g.value}])},[s("a",{class:"page-link",href:"#",onClick:N[3]||(N[3]=pe(F=>$(f.value+1),["prevent"])),"aria-disabled":f.value===g.value}," 下一页 ",8,F0)],2),s("li",{class:Oe(["page-item",{disabled:f.value===g.value}])},[s("a",{class:"page-link",href:"#",onClick:N[4]||(N[4]=pe(F=>$(g.value),["prevent"])),"aria-disabled":f.value===g.value}," 末页 ",8,j0)],2)])])):H("",!0)])):(y(),w("div",B0,"暂无表达数据")),s("div",U0,[Z(O,{to:"/tools/gene-expression",class:"btn btn-secondary"},{default:_e(()=>[...N[14]||(N[14]=[se("返回",-1)])]),_:1})])])}}}),V0=Pe(G0,[["__scopeId","data-v-3b552fa3"]]),K0={name:"GeneExpressionEfpView",data(){return{geneId:"",lowColor:"#0000FF",midColor:"#00FF00",highColor:"#FF0000",isLoading:!1,resultImage:"",showResultImage:!1,message:"",messageType:"",currentRegionsInfo:[],currentImageSize:{width:0,height:0},mappedRegions:[],tooltipVisible:!1,tooltipContent:{name:"",value:""},tooltipStyle:{left:"0px",top:"0px"}}},mounted(){document.getElementById("gene_id").addEventListener("keypress",t=>{t.key==="Enter"&&this.generateImage()}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{fillExample(){const t="Ghjin_A01g000040";this.geneId=t},generateImage(){if(!this.geneId.trim()){this.showMessage("请输入基因ID","error");return}this.isLoading=!0,this.showResultImage=!1,this.hideMessage();const t={gene_id:this.geneId.trim(),low_color:this.lowColor,mid_color:this.midColor,high_color:this.highColor};fetch("/tools/gene_expression_in_eFP/generate-thermal-image/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":this.getCookie("csrftoken")},body:JSON.stringify(t)}).then(e=>e.ok?e.json():e.text().then(o=>{throw new Error(`HTTP错误 ${e.status}`)})).then(e=>{e.success?(this.currentRegionsInfo=e.regions_info||[],this.currentImageSize={width:e.image_width||0,height:e.image_height||0},this.resultImage=e.image,this.showResultImage=!0):this.showMessage("错误: "+e.error,"error")}).catch(e=>{this.showMessage("请求失败: "+e.message,"error")}).finally(()=>{this.isLoading=!1})},onImageLoad(){this.currentRegionsInfo.length>0&&this.currentImageSize.width>0&&this.createImageMap()},createImageMap(){const t=document.getElementById("result-image");if(!t||!t.complete||t.naturalWidth===0)return;const e=t.offsetWidth,o=t.offsetHeight,i=this.currentImageSize.width>0?e/this.currentImageSize.width:1,r=this.currentImageSize.height>0?o/this.currentImageSize.height:1;this.mappedRegions=this.currentRegionsInfo.filter(a=>a.polygon&&a.polygon.length>=3).map(a=>({coords:a.polygon.map(h=>[Math.round(h[0]*i),Math.round(h[1]*r)]).map(h=>`${h[0]},${h[1]}`).join(","),name:a.name,title:`${a.name}: ${typeof a.value=="number"?a.value.toFixed(4):a.value}`,value:a.value}))},showTooltip(t,e){let o;typeof e.value=="number"?o=e.value.toFixed(4):o=e.value,this.tooltipContent={name:e.name,value:o},this.tooltipVisible=!0,this.moveTooltip(t)},moveTooltip(t){const e=document.getElementById("result-image");if(!e||!e.complete||e.naturalWidth===0)return;e.getBoundingClientRect();const o=e.parentElement.getBoundingClientRect(),i=t.clientX-o.left+15,r=t.clientY-o.top+15;this.tooltipStyle={left:`${i}px`,top:`${r}px`}},hideTooltip(){this.tooltipVisible=!1},showMessage(t,e){this.message=t,this.messageType=e},hideMessage(){this.message=""},hideInitialImage(){},getCookie(t){let e=null;if(document.cookie&&document.cookie!==""){const o=document.cookie.split(";");for(let i=0;i<o.length;i++){const r=o[i].trim();if(r.substring(0,t.length+1)===t+"="){e=decodeURIComponent(r.substring(t.length+1));break}}}return e},updateColorBox(t,e){e==="low"?this.lowColor=t.target.value:e==="mid"?this.midColor=t.target.value:e==="high"&&(this.highColor=t.target.value),console.log(`Color updated: ${e} = ${t.target.value}`)},triggerColorInput(t){document.getElementById(`${t}-color`).click()},handleResize(){this.showResultImage&&this.currentRegionsInfo.length>0&&this.createImageMap()}}},z0={class:"container"},H0={class:"input-group"},J0=["disabled"],W0={key:0,class:"loading",id:"loading"},Q0={class:"color-picker-group"},X0={class:"color-picker"},Y0={class:"color-picker"},Z0={class:"color-picker"},eb={id:"result"},tb={class:"image-container"},nb=["src"],sb={name:"regionMap",id:"regionMap"},ob=["coords","alt","title","onMouseenter"];function rb(t,e,o,i,r,a){return y(),w("div",z0,[e[20]||(e[20]=s("h1",null,"gene_expression_in_eFP",-1)),s("div",H0,[we(s("input",{type:"text",id:"gene_id","onUpdate:modelValue":e[0]||(e[0]=c=>r.geneId=c),placeholder:"请输入基因ID，例如: Gh_A01G0001",autocomplete:"off"},null,512),[[Ye,r.geneId]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",id:"fillExample",onClick:e[1]||(e[1]=(...c)=>a.fillExample&&a.fillExample(...c))}," load example "),s("button",{onClick:e[2]||(e[2]=(...c)=>a.generateImage&&a.generateImage(...c)),id:"generate-btn",disabled:r.isLoading}," 生成热图 ",8,J0),r.isLoading?(y(),w("span",W0,"正在生成热图...")):H("",!0)]),s("div",Q0,[s("div",X0,[e[16]||(e[16]=s("label",{for:"low-color"},"低值:",-1)),we(s("input",{type:"color",id:"low-color","onUpdate:modelValue":e[3]||(e[3]=c=>r.lowColor=c),class:"color-input",onChange:e[4]||(e[4]=c=>a.updateColorBox(c,"low"))},null,544),[[Ye,r.lowColor]]),s("div",{class:"color-box",style:ys({backgroundColor:r.lowColor}),onClick:e[5]||(e[5]=c=>a.triggerColorInput("low"))},null,4)]),s("div",Y0,[e[17]||(e[17]=s("label",{for:"mid-color"},"中值:",-1)),we(s("input",{type:"color",id:"mid-color","onUpdate:modelValue":e[6]||(e[6]=c=>r.midColor=c),class:"color-input",onChange:e[7]||(e[7]=c=>a.updateColorBox(c,"mid"))},null,544),[[Ye,r.midColor]]),s("div",{class:"color-box",style:ys({backgroundColor:r.midColor}),onClick:e[8]||(e[8]=c=>a.triggerColorInput("mid"))},null,4)]),s("div",Z0,[e[18]||(e[18]=s("label",{for:"high-color"},"高值:",-1)),we(s("input",{type:"color",id:"high-color","onUpdate:modelValue":e[9]||(e[9]=c=>r.highColor=c),class:"color-input",onChange:e[10]||(e[10]=c=>a.updateColorBox(c,"high"))},null,544),[[Ye,r.highColor]]),s("div",{class:"color-box",style:ys({backgroundColor:r.highColor}),onClick:e[11]||(e[11]=c=>a.triggerColorInput("high"))},null,4)])]),r.showResultImage?H("",!0):(y(),w("img",{key:0,id:"initial-image",src:ca,alt:"初始热图模板",onError:e[12]||(e[12]=(...c)=>a.hideInitialImage&&a.hideInitialImage(...c))},null,32)),r.message?(y(),w("div",{key:1,id:"message",class:Oe(r.messageType)},q(r.message),3)):H("",!0),s("div",eb,[s("div",tb,[r.showResultImage?(y(),w("img",{key:0,id:"result-image",src:r.resultImage,alt:"热图结果",usemap:"#regionMap",onLoad:e[13]||(e[13]=(...c)=>a.onImageLoad&&a.onImageLoad(...c))},null,40,nb)):H("",!0),s("map",sb,[(y(!0),w(ee,null,be(r.mappedRegions,(c,f)=>(y(),w("area",{key:f,shape:"poly",coords:c.coords,alt:c.name,title:c.title,onMouseenter:h=>a.showTooltip(h,c),onMousemove:e[14]||(e[14]=h=>a.moveTooltip(h)),onMouseleave:e[15]||(e[15]=(...h)=>a.hideTooltip&&a.hideTooltip(...h))},null,40,ob))),128))]),r.tooltipVisible?(y(),w("div",{key:1,id:"tooltip",class:"tooltip",style:ys(r.tooltipStyle)},[s("strong",null,q(r.tooltipContent.name),1),e[19]||(e[19]=s("br",null,null,-1)),se(" 表达值: "+q(r.tooltipContent.value),1)],4)):H("",!0)])])])}const ib=Pe(K0,[["render",rb],["__scopeId","data-v-ee61d65d"]]),ab={class:"container mt-4"},lb={class:"form-group"},cb=["disabled"],ub=["disabled"],db={class:"d-flex justify-content-end mt-3"},fb=["disabled"],hb={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},pb={key:1},mb={__name:"KeggAnnotationView",setup(t){const e=U(""),o=U(!1),i=Dn(),r=()=>{const c=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230`;e.value=c},a=async()=>{if(!e.value.trim()){alert("Please enter gene IDs");return}o.value=!0;try{const c=await St.post("/tools/kegg_annotation/api/start/",{gene_id:e.value});c.status==="success"&&c.task_id?i.push({path:"/tools/kegg-annotation/results",query:{task_id:c.task_id}}):alert("Error: "+(c.error||"Failed to get task ID"))}catch(c){console.error("Error submitting form:",c),alert("Error submitting form: "+(c.message||"Unknown error"))}finally{o.value=!1}};return(c,f)=>(y(),w("div",ab,[f[2]||(f[2]=s("h2",null,"KEGG Annotation Search",-1)),s("form",{onSubmit:pe(a,["prevent"])},[s("div",lb,[f[1]||(f[1]=s("label",{for:"gene_id"},"Enter Gene IDs (one per line or space/comma separated):",-1)),we(s("textarea",{id:"gene_id","onUpdate:modelValue":f[0]||(f[0]=h=>e.value=h),class:"form-control",rows:"5",disabled:o.value},null,8,cb),[[Ye,e.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",id:"fillExample",onClick:r,disabled:o.value}," load example ",8,ub)]),s("div",db,[s("button",{type:"submit",class:"btn btn-primary",disabled:o.value},[o.value?(y(),w("span",hb)):(y(),w("span",pb,"Search"))],8,fb)])],32)]))}},gb=Pe(mb,[["__scopeId","data-v-6f69a42c"]]);la.register(...Ou);const _b={class:"container mt-4"},vb={class:"d-flex justify-content-between align-items-center mb-4"},bb={key:0,class:"badge bg-info"},yb={key:0,class:"text-center py-4"},wb={key:1,class:"alert alert-danger",role:"alert"},kb={key:2,class:"alert alert-warning",role:"alert"},Eb={key:3},xb={key:0,class:"mt-5"},Cb={class:"row g-2 align-items-center"},Sb={class:"col-auto"},Ab={class:"card"},Tb={class:"card-header d-flex justify-content-between align-items-center"},$b={class:"badge bg-primary"},qb={class:"card-body p-0"},Rb={class:"table-responsive"},Ib={class:"table table-striped table-bordered mb-0"},Ob={key:0,"aria-label":"Page navigation"},Db={class:"pagination justify-content-center mt-3 mb-0"},Pb=["onClick"],Nb={key:1,class:"text-center mt-2 mb-3"},Lb={class:"text-muted mb-0"},Mb=vt({__name:"KeggAnnotationResultView",setup(t){const e=Pn(),o=U([]),i=U(10),r=U(1),a=U(!0),c=U(null),f=U(!1),h=U(""),p=U(0),v=U(0),k=U(0),g=U(0),_=U({labels:[],data:[]}),m=Le(()=>Math.ceil(v.value/i.value)),E=Le(()=>(r.value-1)*i.value+1),$=Le(()=>Math.min(r.value*i.value,v.value)),b=Le(()=>{const J=(r.value-1)*i.value,T=J+i.value;return o.value.slice(J,T)}),D=Le(()=>{const J=m.value,T=r.value,N=[];if(J<=5)for(let O=1;O<=J;O++)N.push(O);else if(T<=3)for(let O=1;O<=5;O++)N.push(O);else if(T>=J-2)for(let O=J-4;O<=J;O++)N.push(O);else for(let O=T-2;O<=T+2;O++)N.push(O);return N}),S=()=>{r.value=1,V()},R=()=>{r.value=1,V()},j=J=>{J<1||J>m.value||(r.value=J,V())},V=async()=>{f.value=!0;try{const J=e.query.task_id;if(!J){h.value="缺少任务ID",a.value=!1;return}const T=await St.get("/tools/kegg_annotation/api/results/",{params:{task_id:J,page_size:i.value,page:r.value}});console.log("KEGG注释API响应:",T),T&&T.status==="success"?(o.value=T.results||[],v.value=T.total||0,k.value=T.total_genes||0,g.value=T.annotated_genes||0,T.chart_data?_.value={labels:T.chart_data.labels||[],data:T.chart_data.data||[]}:_.value={labels:[],data:[]},a.value=o.value.length>0,console.log("KEGG注释结果:",o.value),console.log("图表数据:",_.value),console.log("图表标签数量:",_.value.labels.length),console.log("图表数据数量:",_.value.data.length),Y()):T&&T.status==="processing"?setTimeout(()=>V(),1e3):(h.value=T.error||"获取结果失败",a.value=!1)}catch(J){h.value="获取结果失败: "+(J.message||J),console.error("Error fetching results:",J),a.value=!1}finally{f.value=!1}},Y=()=>{console.log("渲染KEGG通路分布图表..."),console.log("图表数据:",_.value);const J=document.getElementById("keggChart");if(!J){console.error("没有找到keggChart元素");return}if(c.value&&(c.value.destroy(),c.value=null),!_.value.labels||_.value.labels.length===0){console.log("没有图表数据，不渲染图表");return}c.value=new la(J,{type:"bar",data:{labels:_.value.labels,datasets:[{label:"",data:_.value.data,backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Count"}},x:{title:{display:!0,text:""}}}}})};return qn(()=>_.value,async J=>{J&&J.labels&&J.labels.length>0&&(await Jn(),Y())},{deep:!0}),Wt(async()=>{await V()}),(J,T)=>{const N=gt("router-link");return y(),w("div",_b,[s("div",vb,[T[5]||(T[5]=s("h2",null,"KEGG Annotation Results",-1)),p.value?(y(),w("span",bb,"Executed in "+q(p.value)+" seconds",1)):H("",!0)]),Z(N,{to:"/tools/kegg-annotation",class:"btn btn-secondary mb-4"},{default:_e(()=>[...T[6]||(T[6]=[se("返回搜索",-1)])]),_:1}),f.value?(y(),w("div",yb,[...T[7]||(T[7]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):h.value?(y(),w("div",wb,q(h.value),1)):a.value?(y(),w("div",Eb,[_.value.labels&&_.value.labels.length>0?(y(),w("div",xb,[...T[8]||(T[8]=[s("h3",null,"KEGG Pathway",-1),s("div",{class:"chart-container",style:{height:"400px"}},[s("canvas",{id:"keggChart"})],-1)])])):H("",!0),s("form",{onSubmit:pe(S,["prevent"]),class:"mb-3"},[s("div",Cb,[T[10]||(T[10]=s("div",{class:"col-auto"},[s("label",{for:"pageSize",class:"col-form-label"},"每页显示:")],-1)),s("div",Sb,[we(s("select",{id:"pageSize","onUpdate:modelValue":T[0]||(T[0]=O=>i.value=O),class:"form-select",onChange:R},[...T[9]||(T[9]=[s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1),s("option",{value:"100"},"100",-1)])],544),[[_t,i.value,void 0,{number:!0}]])]),T[11]||(T[11]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),s("div",Ab,[s("div",Tb,[T[12]||(T[12]=s("span",null,"Annotation Results",-1)),s("span",$b,q(v.value)+" results",1)]),s("div",qb,[s("div",Rb,[s("table",Ib,[T[13]||(T[13]=s("thead",null,[s("tr",null,[s("th",null,"Chr"),s("th",null,"Start"),s("th",null,"End"),s("th",null,"ID"),s("th",null,"KO"),s("th",null,"Pathway Name")])],-1)),s("tbody",null,[(y(!0),w(ee,null,be(b.value,O=>(y(),w("tr",{key:O.ID},[s("td",null,q(O.Chr),1),s("td",null,q(O.Start),1),s("td",null,q(O.End),1),s("td",null,q(O.ID),1),s("td",null,q(O.match),1),s("td",null,q(O.Description),1)]))),128))])])]),m.value>1?(y(),w("nav",Ob,[s("ul",Db,[s("li",{class:Oe(["page-item",{disabled:r.value===1}])},[s("a",{class:"page-link",href:"#",onClick:T[1]||(T[1]=pe(O=>j(1),["prevent"]))}," 首页 ")],2),s("li",{class:Oe(["page-item",{disabled:r.value===1}])},[s("a",{class:"page-link",href:"#",onClick:T[2]||(T[2]=pe(O=>j(r.value-1),["prevent"]))}," 上一页 ")],2),(y(!0),w(ee,null,be(D.value,O=>(y(),w("li",{key:O,class:Oe(["page-item",{active:O===r.value}])},[s("a",{class:"page-link",href:"#",onClick:pe(F=>j(O),["prevent"])},q(O),9,Pb)],2))),128)),s("li",{class:Oe(["page-item",{disabled:r.value===m.value}])},[s("a",{class:"page-link",href:"#",onClick:T[3]||(T[3]=pe(O=>j(r.value+1),["prevent"]))}," 下一页 ")],2),s("li",{class:Oe(["page-item",{disabled:r.value===m.value}])},[s("a",{class:"page-link",href:"#",onClick:T[4]||(T[4]=pe(O=>j(m.value),["prevent"]))}," 末页 ")],2)])])):H("",!0),m.value>1?(y(),w("div",Nb,[s("p",Lb," Showing "+q(E.value)+" to "+q($.value)+" of "+q(v.value)+" entries ",1)])):H("",!0)])])])):(y(),w("div",kb," No results found. Please try with different gene IDs. "))])}}}),Fb=Pe(Mb,[["__scopeId","data-v-7cf733fe"]]),jb={class:"container mt-4"},Bb={class:"form-group"},Ub=["disabled"],Gb=["disabled"],Vb={class:"row g-3 mt-3"},Kb={class:"col-md-6"},zb=["disabled"],Hb={class:"col-md-6"},Jb=["disabled"],Wb={class:"d-flex justify-content-end mt-3"},Qb=["disabled"],Xb={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Yb={key:1},Zb=vt({__name:"KeggEnrichmentView",setup(t){const e=U(""),o=U(.05),i=U(.05),r=U(!1),a=Dn(),c=()=>{const h=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230
Kirkii_Juiced.00g000240
Kirkii_Juiced.00g000250
Kirkii_Juiced.00g000260
Kirkii_Juiced.00g000270
Kirkii_Juiced.00g000280
Kirkii_Juiced.00g000290
Kirkii_Juiced.00g000300`;e.value=h},f=async()=>{if(!e.value.trim()){alert("请输入基因ID");return}if(o.value<0||o.value>1){alert("P值阈值必须在0到1之间");return}if(i.value<0||i.value>1){alert("Q值阈值必须在0到1之间");return}r.value=!0;try{const h=await St.post("/tools/kegg_enrichment/api/start/",{gene_list:e.value,p_value_threshold:o.value});h&&h.status==="success"&&h.task_id&&a.push({path:"/tools/kegg-enrichment/results",query:{task_id:h.task_id}})}catch(h){console.error("提交表单时出错:",h),alert("提交表单时出错: "+(h.message||"未知错误"))}finally{r.value=!1}};return(h,p)=>(y(),w("div",jb,[p[6]||(p[6]=s("h2",null,"KEGG通路富集分析",-1)),s("form",{onSubmit:pe(f,["prevent"])},[s("div",Bb,[p[3]||(p[3]=s("label",{for:"gene_list"},"输入基因ID（每行一个或空格/逗号分隔）:",-1)),we(s("textarea",{id:"gene_list","onUpdate:modelValue":p[0]||(p[0]=v=>e.value=v),class:"form-control",rows:"10",placeholder:"请在此输入基因ID...",disabled:r.value},null,8,Ub),[[Ye,e.value]]),s("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:c,disabled:r.value}," 加载示例 ",8,Gb)]),s("div",Vb,[s("div",Kb,[p[4]||(p[4]=s("label",{for:"p_value_threshold",class:"form-label"},"P值阈值:",-1)),we(s("input",{type:"number",id:"p_value_threshold","onUpdate:modelValue":p[1]||(p[1]=v=>o.value=v),class:"form-control",min:"0",max:"1",step:"0.001",disabled:r.value},null,8,zb),[[Ye,o.value,void 0,{number:!0}]])]),s("div",Hb,[p[5]||(p[5]=s("label",{for:"q_value_threshold",class:"form-label"},"Q值阈值:",-1)),we(s("input",{type:"number",id:"q_value_threshold","onUpdate:modelValue":p[2]||(p[2]=v=>i.value=v),class:"form-control",min:"0",max:"1",step:"0.001",disabled:r.value},null,8,Jb),[[Ye,i.value,void 0,{number:!0}]])])]),s("div",Wb,[s("button",{type:"submit",class:"btn btn-primary",disabled:r.value},[r.value?(y(),w("span",Xb)):(y(),w("span",Yb,"提交"))],8,Qb)])],32)]))}}),ey=Pe(Zb,[["__scopeId","data-v-2da975a3"]]),ty={class:"container mt-4"},ny={key:0,class:"text-center py-4"},sy={key:1,class:"alert alert-danger",role:"alert"},oy={key:2},ry={key:0,class:"alert alert-warning mb-4",role:"alert"},iy={key:1,class:"mb-4"},ay={class:"text-center"},ly=["src"],cy={key:2},uy={class:"row g-2 align-items-center"},dy={class:"col-auto"},fy={class:"mb-5"},hy={class:"text-danger"},py={class:"text-muted"},my={class:"table-responsive"},gy={class:"table table-bordered table-hover"},_y=["title"],vy={key:0,"aria-label":"Page navigation"},by={class:"pagination justify-content-center",id:"pagination-results"},yy={class:"page-item active"},wy={class:"page-link"},ky=vt({__name:"KeggEnrichmentResultView",setup(t){const e=Pn(),o=U([]),i=U(10),r=U(1),a=U(!0),c=U(!1),f=U(""),h=U(0),p=U(null),v=U(0),k=Le(()=>Math.ceil(v.value/i.value)),g=Le(()=>{const b=(r.value-1)*i.value,D=b+i.value;return o.value.slice(b,D)}),_=()=>{r.value=1,$()},m=()=>{r.value=1,$()},E=b=>{b<1||b>k.value||(r.value=b,$())},$=async()=>{c.value=!0;try{const b=e.query.task_id;if(!b){f.value="缺少任务ID",a.value=!1;return}const D=await St.get("/tools/kegg_enrichment/api/results/",{params:{task_id:b,page_size:i.value,page:r.value}});console.log("KEGG富集API响应:",D),typeof D=="object"&&D!==null?D.status==="success"?(o.value=D.results||[],v.value=D.total||o.value.length,a.value=o.value.length>0,h.value=D.execution_time||0,p.value=D.plot_image||null):D.status==="processing"?setTimeout(()=>$(),1e3):(f.value=D.error||"获取结果失败",a.value=!1):(f.value="无效的API响应",a.value=!1)}catch(b){f.value="获取结果失败: "+(b.message||b),console.error("Error fetching results:",b),a.value=!1}finally{c.value=!1}};return Wt(async()=>{await $()}),(b,D)=>{const S=gt("router-link");return y(),w("div",ty,[D[13]||(D[13]=s("h2",{class:"mb-4"},"KEGG通路富集分析结果",-1)),Z(S,{to:"/tools/kegg-enrichment",class:"btn btn-secondary mb-3"},{default:_e(()=>[...D[5]||(D[5]=[se("返回",-1)])]),_:1}),c.value?(y(),w("div",ny,[...D[6]||(D[6]=[s("div",{class:"spinner-border",role:"status"},[s("span",{class:"sr-only"},"加载中...")],-1)])])):f.value?(y(),w("div",sy,q(f.value),1)):(y(),w("div",oy,[a.value?H("",!0):(y(),w("div",ry," 未找到显著的KEGG通路富集结果 ")),p.value?(y(),w("div",iy,[D[7]||(D[7]=s("h4",{class:"mb-3"},"KEGG Enrichment Plot",-1)),s("div",ay,[s("img",{src:"data:image/png;base64,"+p.value,alt:"KEGG Enrichment Plot",class:"img-fluid"},null,8,ly)])])):H("",!0),a.value?(y(),w("div",cy,[s("form",{onSubmit:pe(_,["prevent"]),class:"mb-3",id:"per-page-form"},[s("div",uy,[D[9]||(D[9]=s("div",{class:"col-auto"},[s("label",{for:"pageSize",class:"col-form-label"},"每页显示:")],-1)),s("div",dy,[we(s("select",{id:"pageSize","onUpdate:modelValue":D[0]||(D[0]=R=>i.value=R),class:"form-select",onChange:m},[...D[8]||(D[8]=[s("option",{value:"5"},"5",-1),s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1)])],544),[[_t,i.value,void 0,{number:!0}]])]),D[10]||(D[10]=s("div",{class:"col-auto"},[s("span",{class:"form-text"},"条记录")],-1))])],32),s("div",fy,[s("h4",hy,[D[11]||(D[11]=se(" KEGG通路 ",-1)),s("small",py,"(共 "+q(v.value)+" 条)",1)]),s("div",my,[s("table",gy,[D[12]||(D[12]=s("thead",{class:"bg-light"},[s("tr",null,[s("th",null,"通路ID"),s("th",null,"描述"),s("th",null,"GeneRatio"),s("th",null,"BgRatio"),s("th",null,"RichFactor"),s("th",null,"FoldEnrichment"),s("th",null,"zScore"),s("th",null,"pvalue")])],-1)),s("tbody",null,[(y(!0),w(ee,null,be(g.value,R=>(y(),w("tr",{key:R.pathway_id},[s("td",null,q(R.pathway_id),1),s("td",null,[se(q(R.description.name||"")+" ",1),R.description.definition?(y(),w("i",{key:0,class:"fas fa-info-circle text-muted","data-bs-toggle":"tooltip",title:R.description.definition},null,8,_y)):H("",!0)]),s("td",null,q(R.gene_ratio),1),s("td",null,q(R.bg_ratio),1),s("td",null,q(R.rich_factor.toFixed(4)),1),s("td",null,q(R.fold_enrichment.toFixed(4)),1),s("td",null,q(R.z_score.toFixed(4)),1),s("td",null,q(R.p_value.toFixed(6)),1)]))),128))])])]),k.value>1?(y(),w("nav",vy,[s("ul",by,[s("li",{class:Oe(["page-item",{disabled:r.value===1}])},[s("a",{class:"page-link",href:"#",onClick:D[1]||(D[1]=pe(R=>E(1),["prevent"]))}," 首页 ")],2),s("li",{class:Oe(["page-item",{disabled:r.value===1}])},[s("a",{class:"page-link",href:"#",onClick:D[2]||(D[2]=pe(R=>E(r.value-1),["prevent"]))}," 上一页 ")],2),s("li",yy,[s("span",wy," 第 "+q(r.value)+" 页 / 共 "+q(k.value)+" 页 ",1)]),s("li",{class:Oe(["page-item",{disabled:r.value===k.value}])},[s("a",{class:"page-link",href:"#",onClick:D[3]||(D[3]=pe(R=>E(r.value+1),["prevent"]))}," 下一页 ")],2),s("li",{class:Oe(["page-item",{disabled:r.value===k.value}])},[s("a",{class:"page-link",href:"#",onClick:D[4]||(D[4]=pe(R=>E(k.value),["prevent"]))}," 末页 ")],2)])])):H("",!0)])])):H("",!0)]))])}}}),Ey=Pe(ky,[["__scopeId","data-v-67ac7871"]]),xy={name:"TFView",components:{QuestionFilled:gu,VideoPlay:mu,Search:pu},setup(){const t=U([]),e=U({multiple:!1,checkStrictly:!1,expandTrigger:"click",showAllLevels:!1}),o=U([]),i=U(!1),r=async()=>{i.value=!0;try{const Y=await(await fetch("/Browse/api/species/")).json();if(Y.status==="success"){const J=Y.data;console.log("speciesData:",J);const T={};J.forEach(N=>{const O=N.Genome_type||"undefined";T[O]||(T[O]=[]),T[O].push({value:N.name||N.Cotton_Species,label:N.name||N.Cotton_Species})}),console.log("genomes:",T),o.value=Object.entries(T).map(([N,O])=>({value:N,label:N,children:O}))}}catch(V){console.error("Error fetching genomes:",V)}finally{i.value=!1}},a=U([]),c=U([]),f=U(""),h=U(1),p=U(10),v=U(0),k=U(!1),g=Le(()=>{const V=(h.value-1)*p.value,Y=V+p.value;return c.value.slice(V,Y)}),_=async()=>{try{const Y=await(await fetch("/Browse/api/tf/families/")).json();Y.status==="success"&&(a.value=Y.data.map((J,T)=>({name:J.name,count:J.count,checked:T===0})),m())}catch(V){console.error("Error fetching TF families:",V)}},m=async()=>{k.value=!0;try{const V=new URLSearchParams;t.value.length>0&&V.append("genome",t.value[t.value.length-1]);const Y=a.value.filter(N=>N.checked).map(N=>N.name);Y.length>0&&V.append("family",Y.join(",")),f.value&&V.append("search",f.value);const T=await(await fetch(`/Browse/api/tf/?${V}`)).json();T.status==="success"&&(c.value=T.data,v.value=T.total||0)}catch(V){console.error("Error fetching TF data:",V)}finally{k.value=!1}},E=()=>{h.value=1,m()},$=()=>{h.value=1,m()},b=()=>{h.value=1,m()},D=()=>{},S=()=>{h.value=1},R=V=>{console.log("Selected row:",V)},j=V=>{console.log("Gene link clicked:",V),Ha.push({name:"idSearchResults",query:{id:V}})};return qn(p,()=>{h.value=1}),Wt(()=>{r(),_()}),{selectedGenome:t,genomeOptions:o,genomeLoading:i,cascaderProps:e,tfFamilies:a,searchQuery:f,currentPage:h,pageSize:p,totalCount:v,tfData:c,paginatedTFData:g,loading:k,handleGenomeChange:E,handleFamilyChange:$,handleSearch:b,handlePageChange:D,handlePageSizeChange:S,handleRowClick:R,handleGeneClick:j}}},Cy={class:"container-fluid"},Sy={class:"row"},Ay={class:"col-md-3"},Ty={class:"sidebar"},$y={class:"mt-4"},qy={class:"sidebar-title"},Ry={class:"col-md-9"},Iy={class:"main-content"},Oy={class:"tf-families mt-4"},Dy={class:"row"},Py={class:"tf-table mt-4"},Ny={class:"d-flex justify-content-between align-items-center mb-3"},Ly={class:"table-pagination"},My={class:"table-search"},Fy={class:"d-flex justify-content-between align-items-center mt-3"},jy={class:"table-info"};function By(t,e,o,i,r,a){const c=gt("QuestionFilled"),f=na,h=gt("VideoPlay"),p=_u,v=bu,k=oa,g=vu,_=ia,m=aa,E=yu,$=ra;return y(),w("div",Cy,[s("div",Sy,[s("div",Ay,[s("div",Ty,[s("h3",null,[e[6]||(e[6]=se("Transcription factors ",-1)),Z(f,{class:"info-icon"},{default:_e(()=>[Z(c)]),_:1})]),s("div",$y,[s("h4",qy,[Z(f,{class:"play-icon"},{default:_e(()=>[Z(h)]),_:1}),e[7]||(e[7]=se(" Select a genome",-1))]),Z(p,{modelValue:i.selectedGenome,"onUpdate:modelValue":e[0]||(e[0]=b=>i.selectedGenome=b),options:i.genomeOptions,props:i.cascaderProps,placeholder:"Select genome",class:"w-100 mt-2",onChange:i.handleGenomeChange,loading:i.genomeLoading},null,8,["modelValue","options","props","onChange","loading"])])])]),s("div",Ry,[s("div",Iy,[e[9]||(e[9]=s("h2",null,"Annotated transcription factors",-1)),s("div",Oy,[s("div",Dy,[(y(!0),w(ee,null,be(i.tfFamilies,b=>(y(),w("div",{class:"col-md-3",key:b.name},[Z(v,{modelValue:b.checked,"onUpdate:modelValue":D=>b.checked=D,class:"tf-checkbox",onChange:i.handleFamilyChange},{default:_e(()=>[se(q(b.name)+"("+q(b.count)+") ",1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]))),128))])]),s("div",Py,[e[8]||(e[8]=s("h4",{class:"table-title"},"Click on a row to check the details of the selected gene",-1)),s("div",Ny,[s("div",Ly,[Z(k,{"current-page":i.currentPage,"onUpdate:currentPage":e[1]||(e[1]=b=>i.currentPage=b),"page-size":i.pageSize,"onUpdate:pageSize":[e[2]||(e[2]=b=>i.pageSize=b),i.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"sizes",total:i.totalCount,onCurrentChange:i.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])]),s("div",My,[Z(g,{modelValue:i.searchQuery,"onUpdate:modelValue":e[3]||(e[3]=b=>i.searchQuery=b),placeholder:"Search","prefix-icon":"Search",size:"small",class:"w-100",onInput:i.handleSearch,clearable:""},null,8,["modelValue","onInput"])])]),i.loading?(y(),Cs(_,{key:0,rows:10,animated:""})):(y(),Cs($,{key:1,data:i.paginatedTFData,style:{width:"100%"},onRowClick:i.handleRowClick,stripe:"",border:""},{default:_e(()=>[Z(m,{prop:"TF_name",label:"TF Name","min-width":"50"}),Z(m,{prop:"TF_class",label:"TF Class","min-width":"50"}),Z(m,{prop:"TF_gene",label:"Gene","min-width":"120"},{default:_e(b=>[Z(E,{type:"primary",underline:!1,onClick:D=>i.handleGeneClick(b.row.TF_gene),class:"gene-link"},{default:_e(()=>[se(q(b.row.TF_gene),1)]),_:2},1032,["onClick"])]),_:1}),Z(m,{prop:"TF_genome",label:"Genome","min-width":"120"})]),_:1},8,["data","onRowClick"])),s("div",Fy,[s("span",jy," Showing "+q((i.currentPage-1)*i.pageSize+1)+" to "+q(Math.min(i.currentPage*i.pageSize,i.totalCount))+" of "+q(i.totalCount)+" entries ",1),Z(k,{"current-page":i.currentPage,"onUpdate:currentPage":e[4]||(e[4]=b=>i.currentPage=b),"page-size":i.pageSize,"onUpdate:pageSize":[e[5]||(e[5]=b=>i.pageSize=b),i.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:i.totalCount,onCurrentChange:i.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])])])])])])}const Uy=Pe(xy,[["render",By],["__scopeId","data-v-70e3e752"]]),Mt={props:["title"],template:`<div class="container mt-4">
    <h1>{{ title }}</h1>
    <p>此页面正在开发中...</p>
  </div>`},Gy=[{path:"/",name:"home",component:wf},{path:"/browse/genome",name:"BrowseGenome",component:Cf},{path:"/browse/species",name:"BrowseSpecies",component:()=>({...Mt,propsData:{title:"浏览物种"}})},{path:"/browse/tf",name:"BrowseTF",component:Uy},{path:"/jbrowse",name:"jbrowse",component:Rg},{path:"/tools/id-search",name:"idSearch",component:_p},{path:"/tools/id-search/results",name:"idSearchResults",component:Wm},{path:"/tools/id-search/id-search-summary/",name:"idSearchSummary",component:yg},{path:"/tools/blastp",name:"Blastp",component:n_},{path:"/tools/blastp/results",name:"blastpResults",component:V_},{path:"/tools/go-enrichment",name:"GoEnrichment",component:tv},{path:"/tools/go-enrichment/results",name:"goEnrichmentResults",component:Dv},{path:"/tools/go-annotation",name:"GoAnnotation",component:jv},{path:"/tools/go-annotation/results",name:"goAnnotationResults",component:l0},{path:"/tools/kegg-annotation",name:"KeggAnnotation",component:gb},{path:"/tools/kegg-annotation/results",name:"KeggAnnotationResults",component:Fb},{path:"/tools/kegg-enrichment",name:"KeggEnrichment",component:ey},{path:"/tools/kegg-enrichment/results",name:"KeggEnrichmentResults",component:Ey},{path:"/tools/heatmap",name:"Heatmap",component:()=>({...Mt,propsData:{title:"热图分析"}})},{path:"/tools/gene-expression",name:"GeneExpression",component:m0},{path:"/tools/gene-expression/results",name:"geneExpressionResults",component:V0},{path:"/tools/gene-expression-efp",name:"GeneExpressionEfp",component:ib},{path:"/tools/ks-calculator",name:"KsCalculator",component:()=>({...Mt,propsData:{title:"KS计算器"}})},{path:"/tools/ks-calculator/results",name:"KsCalculatorResults",component:()=>({...Mt,propsData:{title:"KS计算器结果"}})},{path:"/tools/orthogroup",name:"Orthogroup",component:()=>({...Mt,propsData:{title:"Orthogroup分析"}})},{path:"/tools/orthogroup/results",name:"OrthogroupResults",component:()=>({...Mt,propsData:{title:"Orthogroup分析结果"}})},{path:"/tools/msa",name:"Msa",component:()=>({...Mt,propsData:{title:"多序列比对"}})},{path:"/tools/msa/results",name:"MsaResults",component:()=>({...Mt,propsData:{title:"多序列比对结果"}})},{path:"/tools/circos",name:"Circos",component:()=>({...Mt,propsData:{title:"Circos可视化"}})},{path:"/tools/circos/results",name:"CircosResults",component:()=>({...Mt,propsData:{title:"Circos可视化结果"}})},{path:"/download",name:"Download",component:Pg},{path:"/contact-us",name:"Contact_us",component:Fg},{path:"/about-us",name:"About_us",component:Gg}],Ha=sf({history:Pd("/"),routes:Gy});const Vy=Symbol();var ta;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ta||(ta={}));function Ky(){const t=wu(!0),e=t.run(()=>U({}));let o=[],i=[];const r=ku({install(a){r._a=a,a.provide(Vy,r),a.config.globalProperties.$pinia=r,i.forEach(c=>o.push(c)),i=[]},use(a){return this._a?o.push(a):i.push(a),this},_p:o,_a:null,_e:t,_s:new Map,state:e});return r}const zy=Ky(),jo=Eu(Xu),Bo=Be.create({baseURL:"http://localhost:8000",timeout:1e4,withCredentials:!0});Bo.interceptors.request.use(t=>{const e=document.cookie.match(/csrftoken=([^;]+)/)?.[1];return e&&(t.headers["X-CSRFToken"]=e),t},t=>Promise.reject(t));Bo.interceptors.response.use(t=>t,t=>Promise.reject(t));jo.config.globalProperties.$uuid={v4:za};jo.config.globalProperties.$http=Bo;jo.use(zy).use(Ha).mount("#app");(function(t,e){typeof Ja=="object"&&typeof Oo<"u"?Oo.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).bootstrap=e()})(void 0,function(){const t=new Map,e={set(u,n,l){t.has(u)||t.set(u,new Map);const d=t.get(u);d.has(n)||d.size===0?d.set(n,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(d.keys())[0]}.`)},get:(u,n)=>t.has(u)&&t.get(u).get(n)||null,remove(u,n){if(!t.has(u))return;const l=t.get(u);l.delete(n),l.size===0&&t.delete(u)}},o="transitionend",i=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(n,l)=>`#${CSS.escape(l)}`)),u),r=u=>u==null?`${u}`:Object.prototype.toString.call(u).match(/\s([a-z]+)/i)[1].toLowerCase(),a=u=>{u.dispatchEvent(new Event(o))},c=u=>!(!u||typeof u!="object")&&(u.jquery!==void 0&&(u=u[0]),u.nodeType!==void 0),f=u=>c(u)?u.jquery?u[0]:u:typeof u=="string"&&u.length>0?document.querySelector(i(u)):null,h=u=>{if(!c(u)||u.getClientRects().length===0)return!1;const n=getComputedStyle(u).getPropertyValue("visibility")==="visible",l=u.closest("details:not([open])");if(!l)return n;if(l!==u){const d=u.closest("summary");if(d&&d.parentNode!==l||d===null)return!1}return n},p=u=>!u||u.nodeType!==Node.ELEMENT_NODE||!!u.classList.contains("disabled")||(u.disabled!==void 0?u.disabled:u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false"),v=u=>{if(!document.documentElement.attachShadow)return null;if(typeof u.getRootNode=="function"){const n=u.getRootNode();return n instanceof ShadowRoot?n:null}return u instanceof ShadowRoot?u:u.parentNode?v(u.parentNode):null},k=()=>{},g=u=>{u.offsetHeight},_=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,m=[],E=()=>document.documentElement.dir==="rtl",$=u=>{var n;n=()=>{const l=_();if(l){const d=u.NAME,x=l.fn[d];l.fn[d]=u.jQueryInterface,l.fn[d].Constructor=u,l.fn[d].noConflict=()=>(l.fn[d]=x,u.jQueryInterface)}},document.readyState==="loading"?(m.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of m)l()}),m.push(n)):n()},b=(u,n=[],l=u)=>typeof u=="function"?u.call(...n):l,D=(u,n,l=!0)=>{if(!l)return void b(u);const d=(P=>{if(!P)return 0;let{transitionDuration:M,transitionDelay:G}=window.getComputedStyle(P);const Q=Number.parseFloat(M),X=Number.parseFloat(G);return Q||X?(M=M.split(",")[0],G=G.split(",")[0],1e3*(Number.parseFloat(M)+Number.parseFloat(G))):0})(n)+5;let x=!1;const C=({target:P})=>{P===n&&(x=!0,n.removeEventListener(o,C),b(u))};n.addEventListener(o,C),setTimeout(()=>{x||a(n)},d)},S=(u,n,l,d)=>{const x=u.length;let C=u.indexOf(n);return C===-1?!l&&d?u[x-1]:u[0]:(C+=l?1:-1,d&&(C=(C+x)%x),u[Math.max(0,Math.min(C,x-1))])},R=/[^.]*(?=\..*)\.|.*/,j=/\..*/,V=/::\d+$/,Y={};let J=1;const T={mouseenter:"mouseover",mouseleave:"mouseout"},N=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function O(u,n){return n&&`${n}::${J++}`||u.uidEvent||J++}function F(u){const n=O(u);return u.uidEvent=n,Y[n]=Y[n]||{},Y[n]}function te(u,n,l=null){return Object.values(u).find(d=>d.callable===n&&d.delegationSelector===l)}function ke(u,n,l){const d=typeof n=="string",x=d?l:n||l;let C=qe(u);return N.has(C)||(C=u),[d,x,C]}function Me(u,n,l,d,x){if(typeof n!="string"||!u)return;let[C,P,M]=ke(n,l,d);n in T&&(P=(ae=>function(ie){if(!ie.relatedTarget||ie.relatedTarget!==ie.delegateTarget&&!ie.delegateTarget.contains(ie.relatedTarget))return ae.call(this,ie)})(P));const G=F(u),Q=G[M]||(G[M]={}),X=te(Q,P,C?l:null);if(X)return void(X.oneOff=X.oneOff&&x);const z=O(P,n.replace(R,"")),de=C?(function(oe,ae,ie){return function le(Te){const Ie=oe.querySelectorAll(ae);for(let{target:me}=Te;me&&me!==this;me=me.parentNode)for(const ye of Ie)if(ye===me)return Je(Te,{delegateTarget:me}),le.oneOff&&L.off(oe,Te.type,ae,ie),ie.apply(me,[Te])}})(u,l,P):(function(oe,ae){return function ie(le){return Je(le,{delegateTarget:oe}),ie.oneOff&&L.off(oe,le.type,ae),ae.apply(oe,[le])}})(u,P);de.delegationSelector=C?l:null,de.callable=P,de.oneOff=x,de.uidEvent=z,Q[z]=de,u.addEventListener(M,de,C)}function ge(u,n,l,d,x){const C=te(n[l],d,x);C&&(u.removeEventListener(l,C,!!x),delete n[l][C.uidEvent])}function et(u,n,l,d){const x=n[l]||{};for(const[C,P]of Object.entries(x))C.includes(d)&&ge(u,n,l,P.callable,P.delegationSelector)}function qe(u){return u=u.replace(j,""),T[u]||u}const L={on(u,n,l,d){Me(u,n,l,d,!1)},one(u,n,l,d){Me(u,n,l,d,!0)},off(u,n,l,d){if(typeof n!="string"||!u)return;const[x,C,P]=ke(n,l,d),M=P!==n,G=F(u),Q=G[P]||{},X=n.startsWith(".");if(C===void 0){if(X)for(const z of Object.keys(G))et(u,G,z,n.slice(1));for(const[z,de]of Object.entries(Q)){const oe=z.replace(V,"");M&&!n.includes(oe)||ge(u,G,P,de.callable,de.delegationSelector)}}else{if(!Object.keys(Q).length)return;ge(u,G,P,C,x?l:null)}},trigger(u,n,l){if(typeof n!="string"||!u)return null;const d=_();let x=null,C=!0,P=!0,M=!1;n!==qe(n)&&d&&(x=d.Event(n,l),d(u).trigger(x),C=!x.isPropagationStopped(),P=!x.isImmediatePropagationStopped(),M=x.isDefaultPrevented());const G=Je(new Event(n,{bubbles:C,cancelable:!0}),l);return M&&G.preventDefault(),P&&u.dispatchEvent(G),G.defaultPrevented&&x&&x.preventDefault(),G}};function Je(u,n={}){for(const[l,d]of Object.entries(n))try{u[l]=d}catch{Object.defineProperty(u,l,{configurable:!0,get:()=>d})}return u}function Ve(u){if(u==="true")return!0;if(u==="false")return!1;if(u===Number(u).toString())return Number(u);if(u===""||u==="null")return null;if(typeof u!="string")return u;try{return JSON.parse(decodeURIComponent(u))}catch{return u}}function We(u){return u.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const Ue={setDataAttribute(u,n,l){u.setAttribute(`data-bs-${We(n)}`,l)},removeDataAttribute(u,n){u.removeAttribute(`data-bs-${We(n)}`)},getDataAttributes(u){if(!u)return{};const n={},l=Object.keys(u.dataset).filter(d=>d.startsWith("bs")&&!d.startsWith("bsConfig"));for(const d of l){let x=d.replace(/^bs/,"");x=x.charAt(0).toLowerCase()+x.slice(1),n[x]=Ve(u.dataset[d])}return n},getDataAttribute:(u,n)=>Ve(u.getAttribute(`data-bs-${We(n)}`))};class Ke{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,l){const d=c(l)?Ue.getDataAttribute(l,"config"):{};return{...this.constructor.Default,...typeof d=="object"?d:{},...c(l)?Ue.getDataAttributes(l):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,l=this.constructor.DefaultType){for(const[d,x]of Object.entries(l)){const C=n[d],P=c(C)?"element":r(C);if(!new RegExp(x).test(P))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${d}" provided type "${P}" but expected type "${x}".`)}}}class Ne extends Ke{constructor(n,l){super(),(n=f(n))&&(this._element=n,this._config=this._getConfig(l),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,l,d=!0){D(n,l,d)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return e.get(f(n),this.DATA_KEY)}static getOrCreateInstance(n,l={}){return this.getInstance(n)||new this(n,typeof l=="object"?l:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const ct=u=>{let n=u.getAttribute("data-bs-target");if(!n||n==="#"){let l=u.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),n=l&&l!=="#"?l.trim():null}return n?n.split(",").map(l=>i(l)).join(","):null},A={find:(u,n=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(n,u)),findOne:(u,n=document.documentElement)=>Element.prototype.querySelector.call(n,u),children:(u,n)=>[].concat(...u.children).filter(l=>l.matches(n)),parents(u,n){const l=[];let d=u.parentNode.closest(n);for(;d;)l.push(d),d=d.parentNode.closest(n);return l},prev(u,n){let l=u.previousElementSibling;for(;l;){if(l.matches(n))return[l];l=l.previousElementSibling}return[]},next(u,n){let l=u.nextElementSibling;for(;l;){if(l.matches(n))return[l];l=l.nextElementSibling}return[]},focusableChildren(u){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(n,u).filter(l=>!p(l)&&h(l))},getSelectorFromElement(u){const n=ct(u);return n&&A.findOne(n)?n:null},getElementFromSelector(u){const n=ct(u);return n?A.findOne(n):null},getMultipleElementsFromSelector(u){const n=ct(u);return n?A.find(n):[]}},W=(u,n="hide")=>{const l=`click.dismiss${u.EVENT_KEY}`,d=u.NAME;L.on(document,l,`[data-bs-dismiss="${d}"]`,function(x){if(["A","AREA"].includes(this.tagName)&&x.preventDefault(),p(this))return;const C=A.getElementFromSelector(this)||this.closest(`.${d}`);u.getOrCreateInstance(C)[n]()})},K=".bs.alert",ne=`close${K}`,fe=`closed${K}`;class Se extends Ne{static get NAME(){return"alert"}close(){if(L.trigger(this._element,ne).defaultPrevented)return;this._element.classList.remove("show");const n=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),L.trigger(this._element,fe),this.dispose()}static jQueryInterface(n){return this.each(function(){const l=Se.getOrCreateInstance(this);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n](this)}})}}W(Se,"close"),$(Se);const ue='[data-bs-toggle="button"]';class re extends Ne{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(n){return this.each(function(){const l=re.getOrCreateInstance(this);n==="toggle"&&l[n]()})}}L.on(document,"click.bs.button.data-api",ue,u=>{u.preventDefault();const n=u.target.closest(ue);re.getOrCreateInstance(n).toggle()}),$(re);const Ae=".bs.swipe",bt=`touchstart${Ae}`,B=`touchmove${Ae}`,De=`touchend${Ae}`,st=`pointerdown${Ae}`,Rt=`pointerup${Ae}`,yt={endCallback:null,leftCallback:null,rightCallback:null},tt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qe extends Ke{constructor(n,l){super(),this._element=n,n&&Qe.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return yt}static get DefaultType(){return tt}static get NAME(){return"swipe"}dispose(){L.off(this._element,Ae)}_start(n){this._supportPointerEvents?this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX):this._deltaX=n.touches[0].clientX}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),b(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=40)return;const l=n/this._deltaX;this._deltaX=0,l&&b(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(L.on(this._element,st,n=>this._start(n)),L.on(this._element,Rt,n=>this._end(n)),this._element.classList.add("pointer-event")):(L.on(this._element,bt,n=>this._start(n)),L.on(this._element,B,n=>this._move(n)),L.on(this._element,De,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType==="pen"||n.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ze=".bs.carousel",Uo=".data-api",Wa="ArrowLeft",Qa="ArrowRight",Mn="next",fn="prev",hn="left",ts="right",Xa=`slide${ze}`,Ns=`slid${ze}`,Ya=`keydown${ze}`,Za=`mouseenter${ze}`,el=`mouseleave${ze}`,tl=`dragstart${ze}`,nl=`load${ze}${Uo}`,sl=`click${ze}${Uo}`,Go="carousel",ns="active",Vo=".active",Ko=".carousel-item",ol=Vo+Ko,rl={[Wa]:ts,[Qa]:hn},il={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},al={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class pn extends Ne{constructor(n,l){super(n,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=A.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Go&&this.cycle()}static get Default(){return il}static get DefaultType(){return al}static get NAME(){return"carousel"}next(){this._slide(Mn)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(fn)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?L.one(this._element,Ns,()=>this.cycle()):this.cycle())}to(n){const l=this._getItems();if(n>l.length-1||n<0)return;if(this._isSliding)return void L.one(this._element,Ns,()=>this.to(n));const d=this._getItemIndex(this._getActive());if(d===n)return;const x=n>d?Mn:fn;this._slide(x,l[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&L.on(this._element,Ya,n=>this._keydown(n)),this._config.pause==="hover"&&(L.on(this._element,Za,()=>this.pause()),L.on(this._element,el,()=>this._maybeEnableCycle())),this._config.touch&&Qe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of A.find(".carousel-item img",this._element))L.on(l,tl,d=>d.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(hn)),rightCallback:()=>this._slide(this._directionToOrder(ts)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Qe(this._element,n)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const l=rl[n.key];l&&(n.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const l=A.findOne(Vo,this._indicatorsElement);l.classList.remove(ns),l.removeAttribute("aria-current");const d=A.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);d&&(d.classList.add(ns),d.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const l=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(n,l=null){if(this._isSliding)return;const d=this._getActive(),x=n===Mn,C=l||S(this._getItems(),d,x,this._config.wrap);if(C===d)return;const P=this._getItemIndex(C),M=z=>L.trigger(this._element,z,{relatedTarget:C,direction:this._orderToDirection(n),from:this._getItemIndex(d),to:P});if(M(Xa).defaultPrevented||!d||!C)return;const G=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(P),this._activeElement=C;const Q=x?"carousel-item-start":"carousel-item-end",X=x?"carousel-item-next":"carousel-item-prev";C.classList.add(X),g(C),d.classList.add(Q),C.classList.add(Q),this._queueCallback(()=>{C.classList.remove(Q,X),C.classList.add(ns),d.classList.remove(ns,X,Q),this._isSliding=!1,M(Ns)},d,this._isAnimated()),G&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return A.findOne(ol,this._element)}_getItems(){return A.find(Ko,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return E()?n===hn?fn:Mn:n===hn?Mn:fn}_orderToDirection(n){return E()?n===fn?hn:ts:n===fn?ts:hn}static jQueryInterface(n){return this.each(function(){const l=pn.getOrCreateInstance(this,n);if(typeof n!="number"){if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}}else l.to(n)})}}L.on(document,sl,"[data-bs-slide], [data-bs-slide-to]",function(u){const n=A.getElementFromSelector(this);if(!n||!n.classList.contains(Go))return;u.preventDefault();const l=pn.getOrCreateInstance(n),d=this.getAttribute("data-bs-slide-to");return d?(l.to(d),void l._maybeEnableCycle()):Ue.getDataAttribute(this,"slide")==="next"?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),L.on(window,nl,()=>{const u=A.find('[data-bs-ride="carousel"]');for(const n of u)pn.getOrCreateInstance(n)}),$(pn);const Fn=".bs.collapse",ll=`show${Fn}`,cl=`shown${Fn}`,ul=`hide${Fn}`,dl=`hidden${Fn}`,fl=`click${Fn}.data-api`,Ls="show",mn="collapse",ss="collapsing",hl=`:scope .${mn} .${mn}`,Ms='[data-bs-toggle="collapse"]',pl={parent:null,toggle:!0},ml={parent:"(null|element)",toggle:"boolean"};class gn extends Ne{constructor(n,l){super(n,l),this._isTransitioning=!1,this._triggerArray=[];const d=A.find(Ms);for(const x of d){const C=A.getSelectorFromElement(x),P=A.find(C).filter(M=>M===this._element);C!==null&&P.length&&this._triggerArray.push(x)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return pl}static get DefaultType(){return ml}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(x=>x!==this._element).map(x=>gn.getOrCreateInstance(x,{toggle:!1}))),n.length&&n[0]._isTransitioning||L.trigger(this._element,ll).defaultPrevented)return;for(const x of n)x.hide();const l=this._getDimension();this._element.classList.remove(mn),this._element.classList.add(ss),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const d=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ss),this._element.classList.add(mn,Ls),this._element.style[l]="",L.trigger(this._element,cl)},this._element,!0),this._element.style[l]=`${this._element[d]}px`}hide(){if(this._isTransitioning||!this._isShown()||L.trigger(this._element,ul).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,g(this._element),this._element.classList.add(ss),this._element.classList.remove(mn,Ls);for(const l of this._triggerArray){const d=A.getElementFromSelector(l);d&&!this._isShown(d)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0,this._element.style[n]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ss),this._element.classList.add(mn),L.trigger(this._element,dl)},this._element,!0)}_isShown(n=this._element){return n.classList.contains(Ls)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=f(n.parent),n}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(Ms);for(const l of n){const d=A.getElementFromSelector(l);d&&this._addAriaAndCollapsedClass([l],this._isShown(d))}}_getFirstLevelChildren(n){const l=A.find(hl,this._config.parent);return A.find(n,this._config.parent).filter(d=>!l.includes(d))}_addAriaAndCollapsedClass(n,l){if(n.length)for(const d of n)d.classList.toggle("collapsed",!l),d.setAttribute("aria-expanded",l)}static jQueryInterface(n){const l={};return typeof n=="string"&&/show|hide/.test(n)&&(l.toggle=!1),this.each(function(){const d=gn.getOrCreateInstance(this,l);if(typeof n=="string"){if(d[n]===void 0)throw new TypeError(`No method named "${n}"`);d[n]()}})}}L.on(document,fl,Ms,function(u){(u.target.tagName==="A"||u.delegateTarget&&u.delegateTarget.tagName==="A")&&u.preventDefault();for(const n of A.getMultipleElementsFromSelector(this))gn.getOrCreateInstance(n,{toggle:!1}).toggle()}),$(gn);var ot="top",ft="bottom",ht="right",rt="left",os="auto",_n=[ot,ft,ht,rt],Qt="start",vn="end",zo="clippingParents",Fs="viewport",bn="popper",Ho="reference",js=_n.reduce(function(u,n){return u.concat([n+"-"+Qt,n+"-"+vn])},[]),Bs=[].concat(_n,[os]).reduce(function(u,n){return u.concat([n,n+"-"+Qt,n+"-"+vn])},[]),Jo="beforeRead",Wo="read",Qo="afterRead",Xo="beforeMain",Yo="main",Zo="afterMain",er="beforeWrite",tr="write",nr="afterWrite",sr=[Jo,Wo,Qo,Xo,Yo,Zo,er,tr,nr];function It(u){return u?(u.nodeName||"").toLowerCase():null}function pt(u){if(u==null)return window;if(u.toString()!=="[object Window]"){var n=u.ownerDocument;return n&&n.defaultView||window}return u}function Xt(u){return u instanceof pt(u).Element||u instanceof Element}function wt(u){return u instanceof pt(u).HTMLElement||u instanceof HTMLElement}function Us(u){return typeof ShadowRoot<"u"&&(u instanceof pt(u).ShadowRoot||u instanceof ShadowRoot)}const Gs={name:"applyStyles",enabled:!0,phase:"write",fn:function(u){var n=u.state;Object.keys(n.elements).forEach(function(l){var d=n.styles[l]||{},x=n.attributes[l]||{},C=n.elements[l];wt(C)&&It(C)&&(Object.assign(C.style,d),Object.keys(x).forEach(function(P){var M=x[P];M===!1?C.removeAttribute(P):C.setAttribute(P,M===!0?"":M)}))})},effect:function(u){var n=u.state,l={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,l.popper),n.styles=l,n.elements.arrow&&Object.assign(n.elements.arrow.style,l.arrow),function(){Object.keys(n.elements).forEach(function(d){var x=n.elements[d],C=n.attributes[d]||{},P=Object.keys(n.styles.hasOwnProperty(d)?n.styles[d]:l[d]).reduce(function(M,G){return M[G]="",M},{});wt(x)&&It(x)&&(Object.assign(x.style,P),Object.keys(C).forEach(function(M){x.removeAttribute(M)}))})}},requires:["computeStyles"]};function Ot(u){return u.split("-")[0]}var Yt=Math.max,rs=Math.min,yn=Math.round;function Vs(){var u=navigator.userAgentData;return u!=null&&u.brands&&Array.isArray(u.brands)?u.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function or(){return!/^((?!chrome|android).)*safari/i.test(Vs())}function wn(u,n,l){n===void 0&&(n=!1),l===void 0&&(l=!1);var d=u.getBoundingClientRect(),x=1,C=1;n&&wt(u)&&(x=u.offsetWidth>0&&yn(d.width)/u.offsetWidth||1,C=u.offsetHeight>0&&yn(d.height)/u.offsetHeight||1);var P=(Xt(u)?pt(u):window).visualViewport,M=!or()&&l,G=(d.left+(M&&P?P.offsetLeft:0))/x,Q=(d.top+(M&&P?P.offsetTop:0))/C,X=d.width/x,z=d.height/C;return{width:X,height:z,top:Q,right:G+X,bottom:Q+z,left:G,x:G,y:Q}}function Ks(u){var n=wn(u),l=u.offsetWidth,d=u.offsetHeight;return Math.abs(n.width-l)<=1&&(l=n.width),Math.abs(n.height-d)<=1&&(d=n.height),{x:u.offsetLeft,y:u.offsetTop,width:l,height:d}}function rr(u,n){var l=n.getRootNode&&n.getRootNode();if(u.contains(n))return!0;if(l&&Us(l)){var d=n;do{if(d&&u.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function Ft(u){return pt(u).getComputedStyle(u)}function gl(u){return["table","td","th"].indexOf(It(u))>=0}function Vt(u){return((Xt(u)?u.ownerDocument:u.document)||window.document).documentElement}function is(u){return It(u)==="html"?u:u.assignedSlot||u.parentNode||(Us(u)?u.host:null)||Vt(u)}function ir(u){return wt(u)&&Ft(u).position!=="fixed"?u.offsetParent:null}function jn(u){for(var n=pt(u),l=ir(u);l&&gl(l)&&Ft(l).position==="static";)l=ir(l);return l&&(It(l)==="html"||It(l)==="body"&&Ft(l).position==="static")?n:l||(function(d){var x=/firefox/i.test(Vs());if(/Trident/i.test(Vs())&&wt(d)&&Ft(d).position==="fixed")return null;var C=is(d);for(Us(C)&&(C=C.host);wt(C)&&["html","body"].indexOf(It(C))<0;){var P=Ft(C);if(P.transform!=="none"||P.perspective!=="none"||P.contain==="paint"||["transform","perspective"].indexOf(P.willChange)!==-1||x&&P.willChange==="filter"||x&&P.filter&&P.filter!=="none")return C;C=C.parentNode}return null})(u)||n}function zs(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function Bn(u,n,l){return Yt(u,rs(n,l))}function ar(u){return Object.assign({},{top:0,right:0,bottom:0,left:0},u)}function lr(u,n){return n.reduce(function(l,d){return l[d]=u,l},{})}const cr={name:"arrow",enabled:!0,phase:"main",fn:function(u){var n,l=u.state,d=u.name,x=u.options,C=l.elements.arrow,P=l.modifiersData.popperOffsets,M=Ot(l.placement),G=zs(M),Q=[rt,ht].indexOf(M)>=0?"height":"width";if(C&&P){var X=(function($e,Ce){return ar(typeof($e=typeof $e=="function"?$e(Object.assign({},Ce.rects,{placement:Ce.placement})):$e)!="number"?$e:lr($e,_n))})(x.padding,l),z=Ks(C),de=G==="y"?ot:rt,oe=G==="y"?ft:ht,ae=l.rects.reference[Q]+l.rects.reference[G]-P[G]-l.rects.popper[Q],ie=P[G]-l.rects.reference[G],le=jn(C),Te=le?G==="y"?le.clientHeight||0:le.clientWidth||0:0,Ie=ae/2-ie/2,me=X[de],ye=Te-z[Q]-X[oe],he=Te/2-z[Q]/2+Ie,ve=Bn(me,he,ye),xe=G;l.modifiersData[d]=((n={})[xe]=ve,n.centerOffset=ve-he,n)}},effect:function(u){var n=u.state,l=u.options.element,d=l===void 0?"[data-popper-arrow]":l;d!=null&&(typeof d!="string"||(d=n.elements.popper.querySelector(d)))&&rr(n.elements.popper,d)&&(n.elements.arrow=d)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kn(u){return u.split("-")[1]}var _l={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ur(u){var n,l=u.popper,d=u.popperRect,x=u.placement,C=u.variation,P=u.offsets,M=u.position,G=u.gpuAcceleration,Q=u.adaptive,X=u.roundOffsets,z=u.isFixed,de=P.x,oe=de===void 0?0:de,ae=P.y,ie=ae===void 0?0:ae,le=typeof X=="function"?X({x:oe,y:ie}):{x:oe,y:ie};oe=le.x,ie=le.y;var Te=P.hasOwnProperty("x"),Ie=P.hasOwnProperty("y"),me=rt,ye=ot,he=window;if(Q){var ve=jn(l),xe="clientHeight",$e="clientWidth";ve===pt(l)&&Ft(ve=Vt(l)).position!=="static"&&M==="absolute"&&(xe="scrollHeight",$e="scrollWidth"),(x===ot||(x===rt||x===ht)&&C===vn)&&(ye=ft,ie-=(z&&ve===he&&he.visualViewport?he.visualViewport.height:ve[xe])-d.height,ie*=G?1:-1),x!==rt&&(x!==ot&&x!==ft||C!==vn)||(me=ht,oe-=(z&&ve===he&&he.visualViewport?he.visualViewport.width:ve[$e])-d.width,oe*=G?1:-1)}var Ce,Ge=Object.assign({position:M},Q&&_l),mt=X===!0?(function(Tt,it){var Et=Tt.x,xt=Tt.y,Fe=it.devicePixelRatio||1;return{x:yn(Et*Fe)/Fe||0,y:yn(xt*Fe)/Fe||0}})({x:oe,y:ie},pt(l)):{x:oe,y:ie};return oe=mt.x,ie=mt.y,G?Object.assign({},Ge,((Ce={})[ye]=Ie?"0":"",Ce[me]=Te?"0":"",Ce.transform=(he.devicePixelRatio||1)<=1?"translate("+oe+"px, "+ie+"px)":"translate3d("+oe+"px, "+ie+"px, 0)",Ce)):Object.assign({},Ge,((n={})[ye]=Ie?ie+"px":"",n[me]=Te?oe+"px":"",n.transform="",n))}const Hs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(u){var n=u.state,l=u.options,d=l.gpuAcceleration,x=d===void 0||d,C=l.adaptive,P=C===void 0||C,M=l.roundOffsets,G=M===void 0||M,Q={placement:Ot(n.placement),variation:kn(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:x,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ur(Object.assign({},Q,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:P,roundOffsets:G})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ur(Object.assign({},Q,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:G})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}};var as={passive:!0};const Js={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(u){var n=u.state,l=u.instance,d=u.options,x=d.scroll,C=x===void 0||x,P=d.resize,M=P===void 0||P,G=pt(n.elements.popper),Q=[].concat(n.scrollParents.reference,n.scrollParents.popper);return C&&Q.forEach(function(X){X.addEventListener("scroll",l.update,as)}),M&&G.addEventListener("resize",l.update,as),function(){C&&Q.forEach(function(X){X.removeEventListener("scroll",l.update,as)}),M&&G.removeEventListener("resize",l.update,as)}},data:{}};var vl={left:"right",right:"left",bottom:"top",top:"bottom"};function ls(u){return u.replace(/left|right|bottom|top/g,function(n){return vl[n]})}var bl={start:"end",end:"start"};function dr(u){return u.replace(/start|end/g,function(n){return bl[n]})}function Ws(u){var n=pt(u);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Qs(u){return wn(Vt(u)).left+Ws(u).scrollLeft}function Xs(u){var n=Ft(u),l=n.overflow,d=n.overflowX,x=n.overflowY;return/auto|scroll|overlay|hidden/.test(l+x+d)}function fr(u){return["html","body","#document"].indexOf(It(u))>=0?u.ownerDocument.body:wt(u)&&Xs(u)?u:fr(is(u))}function Un(u,n){var l;n===void 0&&(n=[]);var d=fr(u),x=d===((l=u.ownerDocument)==null?void 0:l.body),C=pt(d),P=x?[C].concat(C.visualViewport||[],Xs(d)?d:[]):d,M=n.concat(P);return x?M:M.concat(Un(is(P)))}function Ys(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function hr(u,n,l){return n===Fs?Ys((function(d,x){var C=pt(d),P=Vt(d),M=C.visualViewport,G=P.clientWidth,Q=P.clientHeight,X=0,z=0;if(M){G=M.width,Q=M.height;var de=or();(de||!de&&x==="fixed")&&(X=M.offsetLeft,z=M.offsetTop)}return{width:G,height:Q,x:X+Qs(d),y:z}})(u,l)):Xt(n)?(function(d,x){var C=wn(d,!1,x==="fixed");return C.top=C.top+d.clientTop,C.left=C.left+d.clientLeft,C.bottom=C.top+d.clientHeight,C.right=C.left+d.clientWidth,C.width=d.clientWidth,C.height=d.clientHeight,C.x=C.left,C.y=C.top,C})(n,l):Ys((function(d){var x,C=Vt(d),P=Ws(d),M=(x=d.ownerDocument)==null?void 0:x.body,G=Yt(C.scrollWidth,C.clientWidth,M?M.scrollWidth:0,M?M.clientWidth:0),Q=Yt(C.scrollHeight,C.clientHeight,M?M.scrollHeight:0,M?M.clientHeight:0),X=-P.scrollLeft+Qs(d),z=-P.scrollTop;return Ft(M||C).direction==="rtl"&&(X+=Yt(C.clientWidth,M?M.clientWidth:0)-G),{width:G,height:Q,x:X,y:z}})(Vt(u)))}function pr(u){var n,l=u.reference,d=u.element,x=u.placement,C=x?Ot(x):null,P=x?kn(x):null,M=l.x+l.width/2-d.width/2,G=l.y+l.height/2-d.height/2;switch(C){case ot:n={x:M,y:l.y-d.height};break;case ft:n={x:M,y:l.y+l.height};break;case ht:n={x:l.x+l.width,y:G};break;case rt:n={x:l.x-d.width,y:G};break;default:n={x:l.x,y:l.y}}var Q=C?zs(C):null;if(Q!=null){var X=Q==="y"?"height":"width";switch(P){case Qt:n[Q]=n[Q]-(l[X]/2-d[X]/2);break;case vn:n[Q]=n[Q]+(l[X]/2-d[X]/2)}}return n}function En(u,n){n===void 0&&(n={});var l=n,d=l.placement,x=d===void 0?u.placement:d,C=l.strategy,P=C===void 0?u.strategy:C,M=l.boundary,G=M===void 0?zo:M,Q=l.rootBoundary,X=Q===void 0?Fs:Q,z=l.elementContext,de=z===void 0?bn:z,oe=l.altBoundary,ae=oe!==void 0&&oe,ie=l.padding,le=ie===void 0?0:ie,Te=ar(typeof le!="number"?le:lr(le,_n)),Ie=de===bn?Ho:bn,me=u.rects.popper,ye=u.elements[ae?Ie:de],he=(function(it,Et,xt,Fe){var Dt=Et==="clippingParents"?(function(Re){var at=Un(is(Re)),Ct=["absolute","fixed"].indexOf(Ft(Re).position)>=0&&wt(Re)?jn(Re):Re;return Xt(Ct)?at.filter(function(zt){return Xt(zt)&&rr(zt,Ct)&&It(zt)!=="body"}):[]})(it):[].concat(Et),Pt=[].concat(Dt,[xt]),Sn=Pt[0],Xe=Pt.reduce(function(Re,at){var Ct=hr(it,at,Fe);return Re.top=Yt(Ct.top,Re.top),Re.right=rs(Ct.right,Re.right),Re.bottom=rs(Ct.bottom,Re.bottom),Re.left=Yt(Ct.left,Re.left),Re},hr(it,Sn,Fe));return Xe.width=Xe.right-Xe.left,Xe.height=Xe.bottom-Xe.top,Xe.x=Xe.left,Xe.y=Xe.top,Xe})(Xt(ye)?ye:ye.contextElement||Vt(u.elements.popper),G,X,P),ve=wn(u.elements.reference),xe=pr({reference:ve,element:me,placement:x}),$e=Ys(Object.assign({},me,xe)),Ce=de===bn?$e:ve,Ge={top:he.top-Ce.top+Te.top,bottom:Ce.bottom-he.bottom+Te.bottom,left:he.left-Ce.left+Te.left,right:Ce.right-he.right+Te.right},mt=u.modifiersData.offset;if(de===bn&&mt){var Tt=mt[x];Object.keys(Ge).forEach(function(it){var Et=[ht,ft].indexOf(it)>=0?1:-1,xt=[ot,ft].indexOf(it)>=0?"y":"x";Ge[it]+=Tt[xt]*Et})}return Ge}function yl(u,n){n===void 0&&(n={});var l=n,d=l.placement,x=l.boundary,C=l.rootBoundary,P=l.padding,M=l.flipVariations,G=l.allowedAutoPlacements,Q=G===void 0?Bs:G,X=kn(d),z=X?M?js:js.filter(function(ae){return kn(ae)===X}):_n,de=z.filter(function(ae){return Q.indexOf(ae)>=0});de.length===0&&(de=z);var oe=de.reduce(function(ae,ie){return ae[ie]=En(u,{placement:ie,boundary:x,rootBoundary:C,padding:P})[Ot(ie)],ae},{});return Object.keys(oe).sort(function(ae,ie){return oe[ae]-oe[ie]})}const mr={name:"flip",enabled:!0,phase:"main",fn:function(u){var n=u.state,l=u.options,d=u.name;if(!n.modifiersData[d]._skip){for(var x=l.mainAxis,C=x===void 0||x,P=l.altAxis,M=P===void 0||P,G=l.fallbackPlacements,Q=l.padding,X=l.boundary,z=l.rootBoundary,de=l.altBoundary,oe=l.flipVariations,ae=oe===void 0||oe,ie=l.allowedAutoPlacements,le=n.options.placement,Te=Ot(le),Ie=G||(Te!==le&&ae?(function(Re){if(Ot(Re)===os)return[];var at=ls(Re);return[dr(Re),at,dr(at)]})(le):[ls(le)]),me=[le].concat(Ie).reduce(function(Re,at){return Re.concat(Ot(at)===os?yl(n,{placement:at,boundary:X,rootBoundary:z,padding:Q,flipVariations:ae,allowedAutoPlacements:ie}):at)},[]),ye=n.rects.reference,he=n.rects.popper,ve=new Map,xe=!0,$e=me[0],Ce=0;Ce<me.length;Ce++){var Ge=me[Ce],mt=Ot(Ge),Tt=kn(Ge)===Qt,it=[ot,ft].indexOf(mt)>=0,Et=it?"width":"height",xt=En(n,{placement:Ge,boundary:X,rootBoundary:z,altBoundary:de,padding:Q}),Fe=it?Tt?ht:rt:Tt?ft:ot;ye[Et]>he[Et]&&(Fe=ls(Fe));var Dt=ls(Fe),Pt=[];if(C&&Pt.push(xt[mt]<=0),M&&Pt.push(xt[Fe]<=0,xt[Dt]<=0),Pt.every(function(Re){return Re})){$e=Ge,xe=!1;break}ve.set(Ge,Pt)}if(xe)for(var Sn=function(Re){var at=me.find(function(Ct){var zt=ve.get(Ct);if(zt)return zt.slice(0,Re).every(function(_s){return _s})});if(at)return $e=at,"break"},Xe=ae?3:1;Xe>0&&Sn(Xe)!=="break";Xe--);n.placement!==$e&&(n.modifiersData[d]._skip=!0,n.placement=$e,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function gr(u,n,l){return l===void 0&&(l={x:0,y:0}),{top:u.top-n.height-l.y,right:u.right-n.width+l.x,bottom:u.bottom-n.height+l.y,left:u.left-n.width-l.x}}function _r(u){return[ot,ht,ft,rt].some(function(n){return u[n]>=0})}const vr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(u){var n=u.state,l=u.name,d=n.rects.reference,x=n.rects.popper,C=n.modifiersData.preventOverflow,P=En(n,{elementContext:"reference"}),M=En(n,{altBoundary:!0}),G=gr(P,d),Q=gr(M,x,C),X=_r(G),z=_r(Q);n.modifiersData[l]={referenceClippingOffsets:G,popperEscapeOffsets:Q,isReferenceHidden:X,hasPopperEscaped:z},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":X,"data-popper-escaped":z})}},br={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(u){var n=u.state,l=u.options,d=u.name,x=l.offset,C=x===void 0?[0,0]:x,P=Bs.reduce(function(X,z){return X[z]=(function(de,oe,ae){var ie=Ot(de),le=[rt,ot].indexOf(ie)>=0?-1:1,Te=typeof ae=="function"?ae(Object.assign({},oe,{placement:de})):ae,Ie=Te[0],me=Te[1];return Ie=Ie||0,me=(me||0)*le,[rt,ht].indexOf(ie)>=0?{x:me,y:Ie}:{x:Ie,y:me}})(z,n.rects,C),X},{}),M=P[n.placement],G=M.x,Q=M.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=G,n.modifiersData.popperOffsets.y+=Q),n.modifiersData[d]=P}},Zs={name:"popperOffsets",enabled:!0,phase:"read",fn:function(u){var n=u.state,l=u.name;n.modifiersData[l]=pr({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})},data:{}},yr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(u){var n=u.state,l=u.options,d=u.name,x=l.mainAxis,C=x===void 0||x,P=l.altAxis,M=P!==void 0&&P,G=l.boundary,Q=l.rootBoundary,X=l.altBoundary,z=l.padding,de=l.tether,oe=de===void 0||de,ae=l.tetherOffset,ie=ae===void 0?0:ae,le=En(n,{boundary:G,rootBoundary:Q,padding:z,altBoundary:X}),Te=Ot(n.placement),Ie=kn(n.placement),me=!Ie,ye=zs(Te),he=ye==="x"?"y":"x",ve=n.modifiersData.popperOffsets,xe=n.rects.reference,$e=n.rects.popper,Ce=typeof ie=="function"?ie(Object.assign({},n.rects,{placement:n.placement})):ie,Ge=typeof Ce=="number"?{mainAxis:Ce,altAxis:Ce}:Object.assign({mainAxis:0,altAxis:0},Ce),mt=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Tt={x:0,y:0};if(ve){if(C){var it,Et=ye==="y"?ot:rt,xt=ye==="y"?ft:ht,Fe=ye==="y"?"height":"width",Dt=ve[ye],Pt=Dt+le[Et],Sn=Dt-le[xt],Xe=oe?-$e[Fe]/2:0,Re=Ie===Qt?xe[Fe]:$e[Fe],at=Ie===Qt?-$e[Fe]:-xe[Fe],Ct=n.elements.arrow,zt=oe&&Ct?Ks(Ct):{width:0,height:0},_s=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ii=_s[Et],ai=_s[xt],vs=Bn(0,xe[Fe],zt[Fe]),Yc=me?xe[Fe]/2-Xe-vs-ii-Ge.mainAxis:Re-vs-ii-Ge.mainAxis,Zc=me?-xe[Fe]/2+Xe+vs+ai+Ge.mainAxis:at+vs+ai+Ge.mainAxis,po=n.elements.arrow&&jn(n.elements.arrow),eu=po?ye==="y"?po.clientTop||0:po.clientLeft||0:0,li=(it=mt?.[ye])!=null?it:0,tu=Dt+Zc-li,ci=Bn(oe?rs(Pt,Dt+Yc-li-eu):Pt,Dt,oe?Yt(Sn,tu):Sn);ve[ye]=ci,Tt[ye]=ci-Dt}if(M){var ui,nu=ye==="x"?ot:rt,su=ye==="x"?ft:ht,an=ve[he],bs=he==="y"?"height":"width",di=an+le[nu],fi=an-le[su],mo=[ot,rt].indexOf(Te)!==-1,hi=(ui=mt?.[he])!=null?ui:0,pi=mo?di:an-xe[bs]-$e[bs]-hi+Ge.altAxis,mi=mo?an+xe[bs]+$e[bs]-hi-Ge.altAxis:fi,gi=oe&&mo?(function(ou,ru,go){var _i=Bn(ou,ru,go);return _i>go?go:_i})(pi,an,mi):Bn(oe?pi:di,an,oe?mi:fi);ve[he]=gi,Tt[he]=gi-an}n.modifiersData[d]=Tt}},requiresIfExists:["offset"]};function wl(u,n,l){l===void 0&&(l=!1);var d,x,C=wt(n),P=wt(n)&&(function(z){var de=z.getBoundingClientRect(),oe=yn(de.width)/z.offsetWidth||1,ae=yn(de.height)/z.offsetHeight||1;return oe!==1||ae!==1})(n),M=Vt(n),G=wn(u,P,l),Q={scrollLeft:0,scrollTop:0},X={x:0,y:0};return(C||!C&&!l)&&((It(n)!=="body"||Xs(M))&&(Q=(d=n)!==pt(d)&&wt(d)?{scrollLeft:(x=d).scrollLeft,scrollTop:x.scrollTop}:Ws(d)),wt(n)?((X=wn(n,!0)).x+=n.clientLeft,X.y+=n.clientTop):M&&(X.x=Qs(M))),{x:G.left+Q.scrollLeft-X.x,y:G.top+Q.scrollTop-X.y,width:G.width,height:G.height}}function kl(u){var n=new Map,l=new Set,d=[];function x(C){l.add(C.name),[].concat(C.requires||[],C.requiresIfExists||[]).forEach(function(P){if(!l.has(P)){var M=n.get(P);M&&x(M)}}),d.push(C)}return u.forEach(function(C){n.set(C.name,C)}),u.forEach(function(C){l.has(C.name)||x(C)}),d}var wr={placement:"bottom",modifiers:[],strategy:"absolute"};function kr(){for(var u=arguments.length,n=new Array(u),l=0;l<u;l++)n[l]=arguments[l];return!n.some(function(d){return!(d&&typeof d.getBoundingClientRect=="function")})}function cs(u){u===void 0&&(u={});var n=u,l=n.defaultModifiers,d=l===void 0?[]:l,x=n.defaultOptions,C=x===void 0?wr:x;return function(P,M,G){G===void 0&&(G=C);var Q,X,z={placement:"bottom",orderedModifiers:[],options:Object.assign({},wr,C),modifiersData:{},elements:{reference:P,popper:M},attributes:{},styles:{}},de=[],oe=!1,ae={state:z,setOptions:function(le){var Te=typeof le=="function"?le(z.options):le;ie(),z.options=Object.assign({},C,z.options,Te),z.scrollParents={reference:Xt(P)?Un(P):P.contextElement?Un(P.contextElement):[],popper:Un(M)};var Ie,me,ye=(function(he){var ve=kl(he);return sr.reduce(function(xe,$e){return xe.concat(ve.filter(function(Ce){return Ce.phase===$e}))},[])})((Ie=[].concat(d,z.options.modifiers),me=Ie.reduce(function(he,ve){var xe=he[ve.name];return he[ve.name]=xe?Object.assign({},xe,ve,{options:Object.assign({},xe.options,ve.options),data:Object.assign({},xe.data,ve.data)}):ve,he},{}),Object.keys(me).map(function(he){return me[he]})));return z.orderedModifiers=ye.filter(function(he){return he.enabled}),z.orderedModifiers.forEach(function(he){var ve=he.name,xe=he.options,$e=xe===void 0?{}:xe,Ce=he.effect;if(typeof Ce=="function"){var Ge=Ce({state:z,name:ve,instance:ae,options:$e});de.push(Ge||function(){})}}),ae.update()},forceUpdate:function(){if(!oe){var le=z.elements,Te=le.reference,Ie=le.popper;if(kr(Te,Ie)){z.rects={reference:wl(Te,jn(Ie),z.options.strategy==="fixed"),popper:Ks(Ie)},z.reset=!1,z.placement=z.options.placement,z.orderedModifiers.forEach(function(Ce){return z.modifiersData[Ce.name]=Object.assign({},Ce.data)});for(var me=0;me<z.orderedModifiers.length;me++)if(z.reset!==!0){var ye=z.orderedModifiers[me],he=ye.fn,ve=ye.options,xe=ve===void 0?{}:ve,$e=ye.name;typeof he=="function"&&(z=he({state:z,options:xe,name:$e,instance:ae})||z)}else z.reset=!1,me=-1}}},update:(Q=function(){return new Promise(function(le){ae.forceUpdate(),le(z)})},function(){return X||(X=new Promise(function(le){Promise.resolve().then(function(){X=void 0,le(Q())})})),X}),destroy:function(){ie(),oe=!0}};if(!kr(P,M))return ae;function ie(){de.forEach(function(le){return le()}),de=[]}return ae.setOptions(G).then(function(le){!oe&&G.onFirstUpdate&&G.onFirstUpdate(le)}),ae}}var El=cs(),xl=cs({defaultModifiers:[Js,Zs,Hs,Gs]}),eo=cs({defaultModifiers:[Js,Zs,Hs,Gs,br,mr,yr,cr,vr]});const Er=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Zo,afterRead:Qo,afterWrite:nr,applyStyles:Gs,arrow:cr,auto:os,basePlacements:_n,beforeMain:Xo,beforeRead:Jo,beforeWrite:er,bottom:ft,clippingParents:zo,computeStyles:Hs,createPopper:eo,createPopperBase:El,createPopperLite:xl,detectOverflow:En,end:vn,eventListeners:Js,flip:mr,hide:vr,left:rt,main:Yo,modifierPhases:sr,offset:br,placements:Bs,popper:bn,popperGenerator:cs,popperOffsets:Zs,preventOverflow:yr,read:Wo,reference:Ho,right:ht,start:Qt,top:ot,variationPlacements:js,viewport:Fs,write:tr},Symbol.toStringTag,{value:"Module"})),xr="dropdown",Zt=".bs.dropdown",to=".data-api",Cl="ArrowUp",Cr="ArrowDown",Sl=`hide${Zt}`,Al=`hidden${Zt}`,Tl=`show${Zt}`,$l=`shown${Zt}`,Sr=`click${Zt}${to}`,Ar=`keydown${Zt}${to}`,ql=`keyup${Zt}${to}`,xn="show",en='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Rl=`${en}.${xn}`,us=".dropdown-menu",Il=E()?"top-end":"top-start",Ol=E()?"top-start":"top-end",Dl=E()?"bottom-end":"bottom-start",Pl=E()?"bottom-start":"bottom-end",Nl=E()?"left-start":"right-start",Ll=E()?"right-start":"left-start",Ml={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Fl={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class At extends Ne{constructor(n,l){super(n,l),this._popper=null,this._parent=this._element.parentNode,this._menu=A.next(this._element,us)[0]||A.prev(this._element,us)[0]||A.findOne(us,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ml}static get DefaultType(){return Fl}static get NAME(){return xr}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!L.trigger(this._element,Tl,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const l of[].concat(...document.body.children))L.on(l,"mouseover",k);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(xn),this._element.classList.add(xn),L.trigger(this._element,$l,n)}}hide(){if(p(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!L.trigger(this._element,Sl,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))L.off(l,"mouseover",k);this._popper&&this._popper.destroy(),this._menu.classList.remove(xn),this._element.classList.remove(xn),this._element.setAttribute("aria-expanded","false"),Ue.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,Al,n)}}_getConfig(n){if(typeof(n=super._getConfig(n)).reference=="object"&&!c(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${xr.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(Er===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:c(this._config.reference)?n=f(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const l=this._getPopperConfig();this._popper=eo(n,this._menu,l)}_isShown(){return this._menu.classList.contains(xn)}_getPlacement(){const n=this._parent;if(n.classList.contains("dropend"))return Nl;if(n.classList.contains("dropstart"))return Ll;if(n.classList.contains("dropup-center"))return"top";if(n.classList.contains("dropdown-center"))return"bottom";const l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains("dropup")?l?Ol:Il:l?Pl:Dl}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(l=>Number.parseInt(l,10)):typeof n=="function"?l=>n(l,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ue.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...b(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:l}){const d=A.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(x=>h(x));d.length&&S(d,l,n===Cr,!d.includes(l)).focus()}static jQueryInterface(n){return this.each(function(){const l=At.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}static clearMenus(n){if(n.button===2||n.type==="keyup"&&n.key!=="Tab")return;const l=A.find(Rl);for(const d of l){const x=At.getInstance(d);if(!x||x._config.autoClose===!1)continue;const C=n.composedPath(),P=C.includes(x._menu);if(C.includes(x._element)||x._config.autoClose==="inside"&&!P||x._config.autoClose==="outside"&&P||x._menu.contains(n.target)&&(n.type==="keyup"&&n.key==="Tab"||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const M={relatedTarget:x._element};n.type==="click"&&(M.clickEvent=n),x._completeHide(M)}}static dataApiKeydownHandler(n){const l=/input|textarea/i.test(n.target.tagName),d=n.key==="Escape",x=[Cl,Cr].includes(n.key);if(!x&&!d||l&&!d)return;n.preventDefault();const C=this.matches(en)?this:A.prev(this,en)[0]||A.next(this,en)[0]||A.findOne(en,n.delegateTarget.parentNode),P=At.getOrCreateInstance(C);if(x)return n.stopPropagation(),P.show(),void P._selectMenuItem(n);P._isShown()&&(n.stopPropagation(),P.hide(),C.focus())}}L.on(document,Ar,en,At.dataApiKeydownHandler),L.on(document,Ar,us,At.dataApiKeydownHandler),L.on(document,Sr,At.clearMenus),L.on(document,ql,At.clearMenus),L.on(document,Sr,en,function(u){u.preventDefault(),At.getOrCreateInstance(this).toggle()}),$(At);const Tr="backdrop",$r="show",qr=`mousedown.bs.${Tr}`,jl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Bl={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Rr extends Ke{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return jl}static get DefaultType(){return Bl}static get NAME(){return Tr}show(n){if(!this._config.isVisible)return void b(n);this._append();const l=this._getElement();this._config.isAnimated&&g(l),l.classList.add($r),this._emulateAnimation(()=>{b(n)})}hide(n){this._config.isVisible?(this._getElement().classList.remove($r),this._emulateAnimation(()=>{this.dispose(),b(n)})):b(n)}dispose(){this._isAppended&&(L.off(this._element,qr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add("fade"),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=f(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),L.on(n,qr,()=>{b(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){D(n,this._getElement(),this._config.isAnimated)}}const ds=".bs.focustrap",Ul=`focusin${ds}`,Gl=`keydown.tab${ds}`,Ir="backward",Vl={autofocus:!0,trapElement:null},Kl={autofocus:"boolean",trapElement:"element"};class Or extends Ke{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Vl}static get DefaultType(){return Kl}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),L.off(document,ds),L.on(document,Ul,n=>this._handleFocusin(n)),L.on(document,Gl,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,ds))}_handleFocusin(n){const{trapElement:l}=this._config;if(n.target===document||n.target===l||l.contains(n.target))return;const d=A.focusableChildren(l);d.length===0?l.focus():this._lastTabNavDirection===Ir?d[d.length-1].focus():d[0].focus()}_handleKeydown(n){n.key==="Tab"&&(this._lastTabNavDirection=n.shiftKey?Ir:"forward")}}const Dr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Pr=".sticky-top",fs="padding-right",Nr="margin-right";class no{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,fs,l=>l+n),this._setElementAttributes(Dr,fs,l=>l+n),this._setElementAttributes(Pr,Nr,l=>l-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,fs),this._resetElementAttributes(Dr,fs),this._resetElementAttributes(Pr,Nr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,l,d){const x=this.getWidth();this._applyManipulationCallback(n,C=>{if(C!==this._element&&window.innerWidth>C.clientWidth+x)return;this._saveInitialAttribute(C,l);const P=window.getComputedStyle(C).getPropertyValue(l);C.style.setProperty(l,`${d(Number.parseFloat(P))}px`)})}_saveInitialAttribute(n,l){const d=n.style.getPropertyValue(l);d&&Ue.setDataAttribute(n,l,d)}_resetElementAttributes(n,l){this._applyManipulationCallback(n,d=>{const x=Ue.getDataAttribute(d,l);x!==null?(Ue.removeDataAttribute(d,l),d.style.setProperty(l,x)):d.style.removeProperty(l)})}_applyManipulationCallback(n,l){if(c(n))l(n);else for(const d of A.find(n,this._element))l(d)}}const kt=".bs.modal",zl=`hide${kt}`,Hl=`hidePrevented${kt}`,Lr=`hidden${kt}`,Mr=`show${kt}`,Jl=`shown${kt}`,Wl=`resize${kt}`,Ql=`click.dismiss${kt}`,Xl=`mousedown.dismiss${kt}`,Yl=`keydown.dismiss${kt}`,Zl=`click${kt}.data-api`,Fr="modal-open",jr="show",so="modal-static",ec={backdrop:!0,focus:!0,keyboard:!0},tc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class tn extends Ne{constructor(n,l){super(n,l),this._dialog=A.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new no,this._addEventListeners()}static get Default(){return ec}static get DefaultType(){return tc}static get NAME(){return"modal"}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||L.trigger(this._element,Mr,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Fr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){this._isShown&&!this._isTransitioning&&(L.trigger(this._element,zl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(jr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){L.off(window,kt),L.off(this._dialog,kt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Rr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Or({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=A.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),g(this._element),this._element.classList.add(jr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,Jl,{relatedTarget:n})},this._dialog,this._isAnimated())}_addEventListeners(){L.on(this._element,Yl,n=>{n.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),L.on(window,Wl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),L.on(this._element,Xl,n=>{L.one(this._element,Ql,l=>{this._element===n.target&&this._element===l.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Fr),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,Lr)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(L.trigger(this._element,Hl).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(so)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(so),this._queueCallback(()=>{this._element.classList.remove(so),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),d=l>0;if(d&&!n){const x=E()?"paddingLeft":"paddingRight";this._element.style[x]=`${l}px`}if(!d&&n){const x=E()?"paddingRight":"paddingLeft";this._element.style[x]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,l){return this.each(function(){const d=tn.getOrCreateInstance(this,n);if(typeof n=="string"){if(d[n]===void 0)throw new TypeError(`No method named "${n}"`);d[n](l)}})}}L.on(document,Zl,'[data-bs-toggle="modal"]',function(u){const n=A.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&u.preventDefault(),L.one(n,Mr,d=>{d.defaultPrevented||L.one(n,Lr,()=>{h(this)&&this.focus()})});const l=A.findOne(".modal.show");l&&tn.getInstance(l).hide(),tn.getOrCreateInstance(n).toggle(this)}),W(tn),$(tn);const jt=".bs.offcanvas",Br=".data-api",nc=`load${jt}${Br}`,Ur="show",Gr="showing",Vr="hiding",Kr=".offcanvas.show",sc=`show${jt}`,oc=`shown${jt}`,rc=`hide${jt}`,zr=`hidePrevented${jt}`,Hr=`hidden${jt}`,ic=`resize${jt}`,ac=`click${jt}${Br}`,lc=`keydown.dismiss${jt}`,cc={backdrop:!0,keyboard:!0,scroll:!1},uc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Bt extends Ne{constructor(n,l){super(n,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return cc}static get DefaultType(){return uc}static get NAME(){return"offcanvas"}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||L.trigger(this._element,sc,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new no().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Gr),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ur),this._element.classList.remove(Gr),L.trigger(this._element,oc,{relatedTarget:n})},this._element,!0))}hide(){this._isShown&&(L.trigger(this._element,rc).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Vr),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ur,Vr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new no().reset(),L.trigger(this._element,Hr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=!!this._config.backdrop;return new Rr({className:"offcanvas-backdrop",isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?()=>{this._config.backdrop!=="static"?this.hide():L.trigger(this._element,zr)}:null})}_initializeFocusTrap(){return new Or({trapElement:this._element})}_addEventListeners(){L.on(this._element,lc,n=>{n.key==="Escape"&&(this._config.keyboard?this.hide():L.trigger(this._element,zr))})}static jQueryInterface(n){return this.each(function(){const l=Bt.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n](this)}})}}L.on(document,ac,'[data-bs-toggle="offcanvas"]',function(u){const n=A.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),p(this))return;L.one(n,Hr,()=>{h(this)&&this.focus()});const l=A.findOne(Kr);l&&l!==n&&Bt.getInstance(l).hide(),Bt.getOrCreateInstance(n).toggle(this)}),L.on(window,nc,()=>{for(const u of A.find(Kr))Bt.getOrCreateInstance(u).show()}),L.on(window,ic,()=>{for(const u of A.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&Bt.getOrCreateInstance(u).hide()}),W(Bt),$(Bt);const Jr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},dc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,hc=(u,n)=>{const l=u.nodeName.toLowerCase();return n.includes(l)?!dc.has(l)||!!fc.test(u.nodeValue):n.filter(d=>d instanceof RegExp).some(d=>d.test(l))},pc={allowList:Jr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},mc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},gc={entry:"(string|element|function|null)",selector:"(string|element)"};class _c extends Ke{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return pc}static get DefaultType(){return mc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[x,C]of Object.entries(this._config.content))this._setContent(n,C,x);const l=n.children[0],d=this._resolvePossibleFunction(this._config.extraClass);return d&&l.classList.add(...d.split(" ")),l}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[l,d]of Object.entries(n))super._typeCheckConfig({selector:l,entry:d},gc)}_setContent(n,l,d){const x=A.findOne(d,n);x&&((l=this._resolvePossibleFunction(l))?c(l)?this._putElementInTemplate(f(l),x):this._config.html?x.innerHTML=this._maybeSanitize(l):x.textContent=l:x.remove())}_maybeSanitize(n){return this._config.sanitize?(function(l,d,x){if(!l.length)return l;if(x&&typeof x=="function")return x(l);const C=new window.DOMParser().parseFromString(l,"text/html"),P=[].concat(...C.body.querySelectorAll("*"));for(const M of P){const G=M.nodeName.toLowerCase();if(!Object.keys(d).includes(G)){M.remove();continue}const Q=[].concat(...M.attributes),X=[].concat(d["*"]||[],d[G]||[]);for(const z of Q)hc(z,X)||M.removeAttribute(z.nodeName)}return C.body.innerHTML})(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return b(n,[void 0,this])}_putElementInTemplate(n,l){if(this._config.html)return l.innerHTML="",void l.append(n);l.textContent=n.textContent}}const vc=new Set(["sanitize","allowList","sanitizeFn"]),oo="fade",hs="show",bc=".tooltip-inner",Wr=".modal",Qr="hide.bs.modal",Gn="hover",ro="focus",io="click",yc={AUTO:"auto",TOP:"top",RIGHT:E()?"left":"right",BOTTOM:"bottom",LEFT:E()?"right":"left"},wc={allowList:Jr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},kc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class nn extends Ne{constructor(n,l){if(Er===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return wc}static get DefaultType(){return kc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(Wr),Qr,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const n=L.trigger(this._element,this.constructor.eventName("show")),l=(v(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!l)return;this._disposePopper();const d=this._getTipElement();this._element.setAttribute("aria-describedby",d.getAttribute("id"));const{container:x}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(x.append(d),L.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(d),d.classList.add(hs),"ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))L.on(C,"mouseover",k);this._queueCallback(()=>{L.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!L.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(hs),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))L.off(n,"mouseover",k);this._activeTrigger[io]=!1,this._activeTrigger[ro]=!1,this._activeTrigger[Gn]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const l=this._getTemplateFactory(n).toHtml();if(!l)return null;l.classList.remove(oo,hs),l.classList.add(`bs-${this.constructor.NAME}-auto`);const d=(x=>{do x+=Math.floor(1e6*Math.random());while(document.getElementById(x));return x})(this.constructor.NAME).toString();return l.setAttribute("id",d),this._isAnimated()&&l.classList.add(oo),l}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new _c({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[bc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(oo)}_isShown(){return this.tip&&this.tip.classList.contains(hs)}_createPopper(n){const l=b(this._config.placement,[this,n,this._element]),d=yc[l.toUpperCase()];return eo(this._element,n,this._getPopperConfig(d))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(l=>Number.parseInt(l,10)):typeof n=="function"?l=>n(l,this._element):n}_resolvePossibleFunction(n){return b(n,[this._element,this._element])}_getPopperConfig(n){const l={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:d=>{this._getTipElement().setAttribute("data-popper-placement",d.state.placement)}}]};return{...l,...b(this._config.popperConfig,[void 0,l])}}_setListeners(){const n=this._config.trigger.split(" ");for(const l of n)if(l==="click")L.on(this._element,this.constructor.eventName("click"),this._config.selector,d=>{const x=this._initializeOnDelegatedTarget(d);x._activeTrigger[io]=!(x._isShown()&&x._activeTrigger[io]),x.toggle()});else if(l!=="manual"){const d=l===Gn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),x=l===Gn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");L.on(this._element,d,this._config.selector,C=>{const P=this._initializeOnDelegatedTarget(C);P._activeTrigger[C.type==="focusin"?ro:Gn]=!0,P._enter()}),L.on(this._element,x,this._config.selector,C=>{const P=this._initializeOnDelegatedTarget(C);P._activeTrigger[C.type==="focusout"?ro:Gn]=P._element.contains(C.relatedTarget),P._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(Wr),Qr,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,l){clearTimeout(this._timeout),this._timeout=setTimeout(n,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const l=Ue.getDataAttributes(this._element);for(const d of Object.keys(l))vc.has(d)&&delete l[d];return n={...l,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:f(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[l,d]of Object.entries(this._config))this.constructor.Default[l]!==d&&(n[l]=d);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const l=nn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}}$(nn);const Ec=".popover-header",xc=".popover-body",Cc={...nn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Sc={...nn.DefaultType,content:"(null|string|element|function)"};class ps extends nn{static get Default(){return Cc}static get DefaultType(){return Sc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ec]:this._getTitle(),[xc]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const l=ps.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}}$(ps);const ao=".bs.scrollspy",Ac=`activate${ao}`,Xr=`click${ao}`,Tc=`load${ao}.data-api`,Cn="active",lo="[href]",Yr=".nav-link",$c=`${Yr}, .nav-item > ${Yr}, .list-group-item`,qc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Rc={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Vn extends Ne{constructor(n,l){super(n,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return qc}static get DefaultType(){return Rc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=f(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(l=>Number.parseFloat(l))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(L.off(this._config.target,Xr),L.on(this._config.target,Xr,lo,n=>{const l=this._observableSections.get(n.target.hash);if(l){n.preventDefault();const d=this._rootElement||window,x=l.offsetTop-this._element.offsetTop;if(d.scrollTo)return void d.scrollTo({top:x,behavior:"smooth"});d.scrollTop=x}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),n)}_observerCallback(n){const l=P=>this._targetLinks.get(`#${P.target.id}`),d=P=>{this._previousScrollData.visibleEntryTop=P.target.offsetTop,this._process(l(P))},x=(this._rootElement||document.documentElement).scrollTop,C=x>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=x;for(const P of n){if(!P.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(P));continue}const M=P.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(C&&M){if(d(P),!x)return}else C||M||d(P)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=A.find(lo,this._config.target);for(const l of n){if(!l.hash||p(l))continue;const d=A.findOne(decodeURI(l.hash),this._element);h(d)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,d))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(Cn),this._activateParents(n),L.trigger(this._element,Ac,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains("dropdown-item"))A.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(Cn);else for(const l of A.parents(n,".nav, .list-group"))for(const d of A.prev(l,$c))d.classList.add(Cn)}_clearActiveClass(n){n.classList.remove(Cn);const l=A.find(`${lo}.${Cn}`,n);for(const d of l)d.classList.remove(Cn)}static jQueryInterface(n){return this.each(function(){const l=Vn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}})}}L.on(window,Tc,()=>{for(const u of A.find('[data-bs-spy="scroll"]'))Vn.getOrCreateInstance(u)}),$(Vn);const sn=".bs.tab",Ic=`hide${sn}`,Oc=`hidden${sn}`,Dc=`show${sn}`,Pc=`shown${sn}`,Nc=`click${sn}`,Lc=`keydown${sn}`,Mc=`load${sn}`,Fc="ArrowLeft",Zr="ArrowRight",jc="ArrowUp",ei="ArrowDown",co="Home",ti="End",on="active",ni="fade",uo="show",si=".dropdown-toggle",fo=`:not(${si})`,oi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ho=`.nav-link${fo}, .list-group-item${fo}, [role="tab"]${fo}, ${oi}`,Bc=`.${on}[data-bs-toggle="tab"], .${on}[data-bs-toggle="pill"], .${on}[data-bs-toggle="list"]`;class rn extends Ne{constructor(n){super(n),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),L.on(this._element,Lc,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const n=this._element;if(this._elemIsActive(n))return;const l=this._getActiveElem(),d=l?L.trigger(l,Ic,{relatedTarget:n}):null;L.trigger(n,Dc,{relatedTarget:l}).defaultPrevented||d&&d.defaultPrevented||(this._deactivate(l,n),this._activate(n,l))}_activate(n,l){n&&(n.classList.add(on),this._activate(A.getElementFromSelector(n)),this._queueCallback(()=>{n.getAttribute("role")==="tab"?(n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),L.trigger(n,Pc,{relatedTarget:l})):n.classList.add(uo)},n,n.classList.contains(ni)))}_deactivate(n,l){n&&(n.classList.remove(on),n.blur(),this._deactivate(A.getElementFromSelector(n)),this._queueCallback(()=>{n.getAttribute("role")==="tab"?(n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),L.trigger(n,Oc,{relatedTarget:l})):n.classList.remove(uo)},n,n.classList.contains(ni)))}_keydown(n){if(![Fc,Zr,jc,ei,co,ti].includes(n.key))return;n.stopPropagation(),n.preventDefault();const l=this._getChildren().filter(x=>!p(x));let d;if([co,ti].includes(n.key))d=l[n.key===co?0:l.length-1];else{const x=[Zr,ei].includes(n.key);d=S(l,n.target,x,!0)}d&&(d.focus({preventScroll:!0}),rn.getOrCreateInstance(d).show())}_getChildren(){return A.find(ho,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,l){this._setAttributeIfNotExists(n,"role","tablist");for(const d of l)this._setInitialAttributesOnChild(d)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const l=this._elemIsActive(n),d=this._getOuterElement(n);n.setAttribute("aria-selected",l),d!==n&&this._setAttributeIfNotExists(d,"role","presentation"),l||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const l=A.getElementFromSelector(n);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,l){const d=this._getOuterElement(n);if(!d.classList.contains("dropdown"))return;const x=(C,P)=>{const M=A.findOne(C,d);M&&M.classList.toggle(P,l)};x(si,on),x(".dropdown-menu",uo),d.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(n,l,d){n.hasAttribute(l)||n.setAttribute(l,d)}_elemIsActive(n){return n.classList.contains(on)}_getInnerElement(n){return n.matches(ho)?n:A.findOne(ho,n)}_getOuterElement(n){return n.closest(".nav-item, .list-group-item")||n}static jQueryInterface(n){return this.each(function(){const l=rn.getOrCreateInstance(this);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}})}}L.on(document,Nc,oi,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),p(this)||rn.getOrCreateInstance(this).show()}),L.on(window,Mc,()=>{for(const u of A.find(Bc))rn.getOrCreateInstance(u)}),$(rn);const Kt=".bs.toast",Uc=`mouseover${Kt}`,Gc=`mouseout${Kt}`,Vc=`focusin${Kt}`,Kc=`focusout${Kt}`,zc=`hide${Kt}`,Hc=`hidden${Kt}`,Jc=`show${Kt}`,Wc=`shown${Kt}`,ri="hide",ms="show",gs="showing",Qc={animation:"boolean",autohide:"boolean",delay:"number"},Xc={animation:!0,autohide:!0,delay:5e3};class Kn extends Ne{constructor(n,l){super(n,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Xc}static get DefaultType(){return Qc}static get NAME(){return"toast"}show(){L.trigger(this._element,Jc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ri),g(this._element),this._element.classList.add(ms,gs),this._queueCallback(()=>{this._element.classList.remove(gs),L.trigger(this._element,Wc),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(L.trigger(this._element,zc).defaultPrevented||(this._element.classList.add(gs),this._queueCallback(()=>{this._element.classList.add(ri),this._element.classList.remove(gs,ms),L.trigger(this._element,Hc)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ms),super.dispose()}isShown(){return this._element.classList.contains(ms)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,l){switch(n.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const d=n.relatedTarget;this._element===d||this._element.contains(d)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,Uc,n=>this._onInteraction(n,!0)),L.on(this._element,Gc,n=>this._onInteraction(n,!1)),L.on(this._element,Vc,n=>this._onInteraction(n,!0)),L.on(this._element,Kc,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const l=Kn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n](this)}})}}return W(Kn),$(Kn),{Alert:Se,Button:re,Carousel:pn,Collapse:gn,Dropdown:At,Modal:tn,Offcanvas:Bt,Popover:ps,ScrollSpy:Vn,Tab:rn,Toast:Kn,Tooltip:nn}})});export default Hy();
