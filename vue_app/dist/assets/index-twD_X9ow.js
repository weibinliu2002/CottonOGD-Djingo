var mu=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import{r as L,c as C,a as Ss,b as o,d as ee,e as U,w as oe,f as tt,E as gu,o as w,g as te,h as As,u as Pn,i as _u,p as Rn,s as vu,j as vt,k as bu,l as qe,m as dn,n as fa,q as ha,t as Vt,v as yu,x as be,y as Ze,z as wu,A as he,B as I,F as ke,C as Pe,D as St,G as Dn,H as Lo,I as $o,J as No,K as Fo,L as Mo,M as jo,N as Go,O as Mt,P as Re,Q as ku,R as ys,S as pa,T as ma,U as ga,V as _a,W as Eu,X as Cu,Y as xu}from"./element-plus-DTSoWUgL.js";import{s as $t,c as Su,d as Au,a as Tu,o as Pu,b as Ru,T as Du,r as Iu,e as Ai,l as Ti,m as Ou,f as Pi,g as Ri}from"./d3-FZRuB6XP.js";import{r as qu}from"./tools-BemMMEYA.js";import{C as va,r as Lu}from"./chart-js-Bcjh2pZL.js";var o1=mu((sl,qo)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();const ba="/assets/egg-CeAhh0Oe.jpg",$u={class:"app"},Nu={class:"navbar navbar-expand-lg custom-navbar"},Fu={class:"container"},Mu={class:"collapse navbar-collapse",id:"navbarNav"},ju={class:"navbar-nav"},Gu={class:"nav-item"},Uu={class:"nav-item dropdown"},Bu={class:"dropdown-menu","aria-labelledby":"BrowseDropdown"},Vu={class:"nav-item"},zu={class:"nav-item dropdown"},Ku={class:"dropdown-menu","aria-labelledby":"toolsDropdown"},Hu={class:"nav-item"},Ju={class:"nav-item"},Wu={class:"nav-item"},Qu={class:"container"},Xu={key:0,class:"loading-overlay"},Yu={class:"backtop-content"},Zu={__name:"App",setup(t){const e=L(!1),s=()=>{e.value=!0},i=()=>{e.value=!1};return Rn("isLoading",e),Rn("showLoading",s),Rn("hideLoading",i),(r,a)=>{const c=tt("router-link"),d=tt("router-view"),f=As,m=gu;return w(),C("div",$u,[a[22]||(a[22]=Ss('<div id="head-container"><div class="head-content"><img src="'+ba+'" alt="Logo" style="height:90px;width:100px;"><div class="site-title"><span class="main-title"> CottonOGD </span><span class="sub-title"> —— a comprehensive cotton orthogroups database </span></div></div></div>',1)),o("nav",Nu,[o("div",Fu,[a[20]||(a[20]=o("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[o("span",{class:"navbar-toggler-icon"})],-1)),o("div",Mu,[o("ul",ju,[o("li",Gu,[U(c,{class:"nav-link",to:"/","exact-active-class":"active"},{default:oe(()=>[...a[0]||(a[0]=[te("Home",-1)])]),_:1})]),o("li",Uu,[a[5]||(a[5]=o("a",{class:"nav-link dropdown-toggle",href:"#",id:"BrowseDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Browse",-1)),o("ul",Bu,[o("li",null,[U(c,{class:"dropdown-item",to:"/browse/genome"},{default:oe(()=>[...a[1]||(a[1]=[te("Genome",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/browse/species"},{default:oe(()=>[...a[2]||(a[2]=[te("Species",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/browse/tf"},{default:oe(()=>[...a[3]||(a[3]=[te("TF",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/browse/tr"},{default:oe(()=>[...a[4]||(a[4]=[te("TR",-1)])]),_:1})])])]),o("li",Vu,[U(c,{class:"nav-link",to:"/jbrowse","exact-active-class":"active"},{default:oe(()=>[...a[6]||(a[6]=[te("Jbrowse",-1)])]),_:1})]),o("li",zu,[a[16]||(a[16]=o("a",{class:"nav-link dropdown-toggle",href:"#",id:"toolsDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},"Tools",-1)),o("ul",Ku,[o("li",null,[U(c,{class:"dropdown-item",to:"/tools/id-search"},{default:oe(()=>[...a[7]||(a[7]=[te("Search by GeneID",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/tools/blastp"},{default:oe(()=>[...a[8]||(a[8]=[te("blastp",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/tools/go-enrichment"},{default:oe(()=>[...a[9]||(a[9]=[te("go_enrichment",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/tools/go-annotation"},{default:oe(()=>[...a[10]||(a[10]=[te("go_annotation",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/tools/kegg-annotation"},{default:oe(()=>[...a[11]||(a[11]=[te("kegg_annotation",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/tools/kegg-enrichment"},{default:oe(()=>[...a[12]||(a[12]=[te("kegg_enrichment",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/tools/gene-expression"},{default:oe(()=>[...a[13]||(a[13]=[te("gene_expression",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/tools/gene-expression-efp"},{default:oe(()=>[...a[14]||(a[14]=[te("gene_expression_in_eFP",-1)])]),_:1})]),o("li",null,[U(c,{class:"dropdown-item",to:"/tools/primer-design"},{default:oe(()=>[...a[15]||(a[15]=[te("primer_design",-1)])]),_:1})])])]),o("li",Hu,[U(c,{class:"nav-link",to:"/download"},{default:oe(()=>[...a[17]||(a[17]=[te("Download",-1)])]),_:1})]),o("li",Ju,[U(c,{class:"nav-link",to:"/about-us"},{default:oe(()=>[...a[18]||(a[18]=[te("About",-1)])]),_:1})]),o("li",Wu,[U(c,{class:"nav-link",to:"/contact-us"},{default:oe(()=>[...a[19]||(a[19]=[te("Contact us",-1)])]),_:1})])])])])]),o("main",Qu,[U(d)]),e.value?(w(),C("div",Xu,[...a[21]||(a[21]=[o("div",{class:"loading-content"},[o("div",{class:"spinner-border text-primary",role:"status"},[o("span",{class:"visually-hidden"},"Loading...")]),o("div",{class:"mt-3"},"正在检索中...")],-1)])])):ee("",!0),a[23]||(a[23]=o("div",{class:"footer-section"},[o("footer",null,[o("div",{class:"container"},[o("p",{class:"mb-0"},"CottonOGD Website © 2025")])])],-1)),U(m,{"visibility-height":200,right:40,bottom:40,target:".app"},{default:oe(()=>[o("div",Yu,[U(f,{class:"backtop-icon"},{default:oe(()=>[U(Pn(_u))]),_:1})])]),_:1})])}}};const Tn=typeof document<"u";function ya(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ed(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ya(t.default)}const ve=Object.assign;function _o(t,e){const s={};for(const i in e){const r=e[i];s[i]=Pt(r)?r.map(t):t(r)}return s}const Wn=()=>{},Pt=Array.isArray;function Di(t,e){const s={};for(const i in t)s[i]=i in e?e[i]:t[i];return s}const wa=/#/g,td=/&/g,nd=/\//g,sd=/=/g,od=/\?/g,ka=/\+/g,rd=/%5B/g,id=/%5D/g,Ea=/%5E/g,ad=/%60/g,Ca=/%7B/g,ld=/%7C/g,xa=/%7D/g,cd=/%20/g;function Uo(t){return t==null?"":encodeURI(""+t).replace(ld,"|").replace(rd,"[").replace(id,"]")}function ud(t){return Uo(t).replace(Ca,"{").replace(xa,"}").replace(Ea,"^")}function So(t){return Uo(t).replace(ka,"%2B").replace(cd,"+").replace(wa,"%23").replace(td,"%26").replace(ad,"`").replace(Ca,"{").replace(xa,"}").replace(Ea,"^")}function dd(t){return So(t).replace(sd,"%3D")}function fd(t){return Uo(t).replace(wa,"%23").replace(od,"%3F")}function hd(t){return fd(t).replace(nd,"%2F")}function Qn(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const pd=/\/$/,md=t=>t.replace(pd,"");function vo(t,e,s="/"){let i,r={},a="",c="";const d=e.indexOf("#");let f=e.indexOf("?");return f=d>=0&&f>d?-1:f,f>=0&&(i=e.slice(0,f),a=e.slice(f,d>0?d:e.length),r=t(a.slice(1))),d>=0&&(i=i||e.slice(0,d),c=e.slice(d,e.length)),i=bd(i??e,s),{fullPath:i+a+c,path:i,query:r,hash:Qn(c)}}function gd(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Ii(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function _d(t,e,s){const i=e.matched.length-1,r=s.matched.length-1;return i>-1&&i===r&&In(e.matched[i],s.matched[r])&&Sa(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function In(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Sa(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var s in t)if(!vd(t[s],e[s]))return!1;return!0}function vd(t,e){return Pt(t)?Oi(t,e):Pt(e)?Oi(e,t):t?.valueOf()===e?.valueOf()}function Oi(t,e){return Pt(e)?t.length===e.length&&t.every((s,i)=>s===e[i]):t.length===1&&t[0]===e}function bd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let a=s.length-1,c,d;for(c=0;c<i.length;c++)if(d=i[c],d!==".")if(d==="..")a>1&&a--;else break;return s.slice(0,a).join("/")+"/"+i.slice(c).join("/")}const Jt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ao=(function(t){return t.pop="pop",t.push="push",t})({}),bo=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function yd(t){if(!t)if(Tn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),md(t)}const wd=/^[^#]+#/;function kd(t,e){return t.replace(wd,"#")+e}function Ed(t,e){const s=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-s.left-(e.left||0),top:i.top-s.top-(e.top||0)}}const Ts=()=>({left:window.scrollX,top:window.scrollY});function Cd(t){let e;if("el"in t){const s=t.el,i=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?i?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=Ed(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function qi(t,e){return(history.state?history.state.position-e:-1)+t}const To=new Map;function xd(t,e){To.set(t,e)}function Sd(t){const e=To.get(t);return To.delete(t),e}function Ad(t){return typeof t=="string"||t&&typeof t=="object"}function Aa(t){return typeof t=="string"||typeof t=="symbol"}let Fe=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Ta=Symbol("");Fe.MATCHER_NOT_FOUND+"",Fe.NAVIGATION_GUARD_REDIRECT+"",Fe.NAVIGATION_ABORTED+"",Fe.NAVIGATION_CANCELLED+"",Fe.NAVIGATION_DUPLICATED+"";function On(t,e){return ve(new Error,{type:t,[Ta]:!0},e)}function Bt(t,e){return t instanceof Error&&Ta in t&&(e==null||!!(t.type&e))}const Td=["params","query","hash"];function Pd(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of Td)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function Rd(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(ka," "),a=r.indexOf("="),c=Qn(a<0?r:r.slice(0,a)),d=a<0?null:Qn(r.slice(a+1));if(c in e){let f=e[c];Pt(f)||(f=e[c]=[f]),f.push(d)}else e[c]=d}return e}function Li(t){let e="";for(let s in t){const i=t[s];if(s=dd(s),i==null){i!==void 0&&(e+=(e.length?"&":"")+s);continue}(Pt(i)?i.map(r=>r&&So(r)):[i&&So(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+s,r!=null&&(e+="="+r))})}return e}function Dd(t){const e={};for(const s in t){const i=t[s];i!==void 0&&(e[s]=Pt(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const Id=Symbol(""),$i=Symbol(""),Ps=Symbol(""),Bo=Symbol(""),Po=Symbol("");function Hn(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Wt(t,e,s,i,r,a=c=>c()){const c=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((d,f)=>{const m=p=>{p===!1?f(On(Fe.NAVIGATION_ABORTED,{from:s,to:e})):p instanceof Error?f(p):Ad(p)?f(On(Fe.NAVIGATION_GUARD_REDIRECT,{from:e,to:p})):(c&&i.enterCallbacks[r]===c&&typeof p=="function"&&c.push(p),d())},g=a(()=>t.call(i&&i.instances[r],e,s,m));let _=Promise.resolve(g);t.length<3&&(_=_.then(m)),_.catch(p=>f(p))})}function yo(t,e,s,i,r=a=>a()){const a=[];for(const c of t)for(const d in c.components){let f=c.components[d];if(!(e!=="beforeRouteEnter"&&!c.instances[d]))if(ya(f)){const m=(f.__vccOpts||f)[e];m&&a.push(Wt(m,s,i,c,d,r))}else{let m=f();a.push(()=>m.then(g=>{if(!g)throw new Error(`Couldn't resolve component "${d}" at "${c.path}"`);const _=ed(g)?g.default:g;c.mods[d]=g,c.components[d]=_;const p=(_.__vccOpts||_)[e];return p&&Wt(p,s,i,c,d,r)()}))}}return a}function Od(t,e){const s=[],i=[],r=[],a=Math.max(e.matched.length,t.matched.length);for(let c=0;c<a;c++){const d=e.matched[c];d&&(t.matched.find(m=>In(m,d))?i.push(d):s.push(d));const f=t.matched[c];f&&(e.matched.find(m=>In(m,f))||r.push(f))}return[s,i,r]}let qd=()=>location.protocol+"//"+location.host;function Pa(t,e){const{pathname:s,search:i,hash:r}=e,a=t.indexOf("#");if(a>-1){let c=r.includes(t.slice(a))?t.slice(a).length:1,d=r.slice(c);return d[0]!=="/"&&(d="/"+d),Ii(d,"")}return Ii(s,t)+i+r}function Ld(t,e,s,i){let r=[],a=[],c=null;const d=({state:p})=>{const b=Pa(t,location),v=s.value,y=e.value;let E=0;if(p){if(s.value=b,e.value=p,c&&c===v){c=null;return}E=y?p.position-y.position:0}else i(b);r.forEach(x=>{x(s.value,v,{delta:E,type:Ao.pop,direction:E?E>0?bo.forward:bo.back:bo.unknown})})};function f(){c=s.value}function m(p){r.push(p);const b=()=>{const v=r.indexOf(p);v>-1&&r.splice(v,1)};return a.push(b),b}function g(){if(document.visibilityState==="hidden"){const{history:p}=window;if(!p.state)return;p.replaceState(ve({},p.state,{scroll:Ts()}),"")}}function _(){for(const p of a)p();a=[],window.removeEventListener("popstate",d),window.removeEventListener("pagehide",g),document.removeEventListener("visibilitychange",g)}return window.addEventListener("popstate",d),window.addEventListener("pagehide",g),document.addEventListener("visibilitychange",g),{pauseListeners:f,listen:m,destroy:_}}function Ni(t,e,s,i=!1,r=!1){return{back:t,current:e,forward:s,replaced:i,position:window.history.length,scroll:r?Ts():null}}function $d(t){const{history:e,location:s}=window,i={value:Pa(t,s)},r={value:e.state};r.value||a(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(f,m,g){const _=t.indexOf("#"),p=_>-1?(s.host&&document.querySelector("base")?t:t.slice(_))+f:qd()+t+f;try{e[g?"replaceState":"pushState"](m,"",p),r.value=m}catch(b){console.error(b),s[g?"replace":"assign"](p)}}function c(f,m){a(f,ve({},e.state,Ni(r.value.back,f,r.value.forward,!0),m,{position:r.value.position}),!0),i.value=f}function d(f,m){const g=ve({},r.value,e.state,{forward:f,scroll:Ts()});a(g.current,g,!0),a(f,ve({},Ni(i.value,f,null),{position:g.position+1},m),!1),i.value=f}return{location:i,state:r,push:d,replace:c}}function Nd(t){t=yd(t);const e=$d(t),s=Ld(t,e.state,e.location,e.replace);function i(a,c=!0){c||s.pauseListeners(),history.go(a)}const r=ve({location:"",base:t,go:i,createHref:kd.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let ln=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Ke=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Ke||{});const Fd={type:ln.Static,value:""},Md=/[a-zA-Z0-9_]/;function jd(t){if(!t)return[[]];if(t==="/")return[[Fd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${s})/"${m}": ${b}`)}let s=Ke.Static,i=s;const r=[];let a;function c(){a&&r.push(a),a=[]}let d=0,f,m="",g="";function _(){m&&(s===Ke.Static?a.push({type:ln.Static,value:m}):s===Ke.Param||s===Ke.ParamRegExp||s===Ke.ParamRegExpEnd?(a.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),a.push({type:ln.Param,value:m,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),m="")}function p(){m+=f}for(;d<t.length;){if(f=t[d++],f==="\\"&&s!==Ke.ParamRegExp){i=s,s=Ke.EscapeNext;continue}switch(s){case Ke.Static:f==="/"?(m&&_(),c()):f===":"?(_(),s=Ke.Param):p();break;case Ke.EscapeNext:p(),s=i;break;case Ke.Param:f==="("?s=Ke.ParamRegExp:Md.test(f)?p():(_(),s=Ke.Static,f!=="*"&&f!=="?"&&f!=="+"&&d--);break;case Ke.ParamRegExp:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:s=Ke.ParamRegExpEnd:g+=f;break;case Ke.ParamRegExpEnd:_(),s=Ke.Static,f!=="*"&&f!=="?"&&f!=="+"&&d--,g="";break;default:e("Unknown state");break}}return s===Ke.ParamRegExp&&e(`Unfinished custom RegExp for param "${m}"`),_(),c(),r}const Fi="[^/]+?",Gd={sensitive:!1,strict:!1,start:!0,end:!0};var ct=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(ct||{});const Ud=/[.+*?^${}()[\]/\\]/g;function Bd(t,e){const s=ve({},Gd,e),i=[];let r=s.start?"^":"";const a=[];for(const m of t){const g=m.length?[]:[ct.Root];s.strict&&!m.length&&(r+="/");for(let _=0;_<m.length;_++){const p=m[_];let b=ct.Segment+(s.sensitive?ct.BonusCaseSensitive:0);if(p.type===ln.Static)_||(r+="/"),r+=p.value.replace(Ud,"\\$&"),b+=ct.Static;else if(p.type===ln.Param){const{value:v,repeatable:y,optional:E,regexp:x}=p;a.push({name:v,repeatable:y,optional:E});const R=x||Fi;if(R!==Fi){b+=ct.BonusCustomRegExp;try{`${R}`}catch(j){throw new Error(`Invalid custom RegExp for param "${v}" (${R}): `+j.message)}}let q=y?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;_||(q=E&&m.length<2?`(?:/${q})`:"/"+q),E&&(q+="?"),r+=q,b+=ct.Dynamic,E&&(b+=ct.BonusOptional),y&&(b+=ct.BonusRepeatable),R===".*"&&(b+=ct.BonusWildcard)}g.push(b)}i.push(g)}if(s.strict&&s.end){const m=i.length-1;i[m][i[m].length-1]+=ct.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const c=new RegExp(r,s.sensitive?"":"i");function d(m){const g=m.match(c),_={};if(!g)return null;for(let p=1;p<g.length;p++){const b=g[p]||"",v=a[p-1];_[v.name]=b&&v.repeatable?b.split("/"):b}return _}function f(m){let g="",_=!1;for(const p of t){(!_||!g.endsWith("/"))&&(g+="/"),_=!1;for(const b of p)if(b.type===ln.Static)g+=b.value;else if(b.type===ln.Param){const{value:v,repeatable:y,optional:E}=b,x=v in m?m[v]:"";if(Pt(x)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const R=Pt(x)?x.join("/"):x;if(!R)if(E)p.length<2&&(g.endsWith("/")?g=g.slice(0,-1):_=!0);else throw new Error(`Missing required param "${v}"`);g+=R}}return g||"/"}return{re:c,score:i,keys:a,parse:d,stringify:f}}function Vd(t,e){let s=0;for(;s<t.length&&s<e.length;){const i=e[s]-t[s];if(i)return i;s++}return t.length<e.length?t.length===1&&t[0]===ct.Static+ct.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===ct.Static+ct.Segment?1:-1:0}function Ra(t,e){let s=0;const i=t.score,r=e.score;for(;s<i.length&&s<r.length;){const a=Vd(i[s],r[s]);if(a)return a;s++}if(Math.abs(r.length-i.length)===1){if(Mi(i))return 1;if(Mi(r))return-1}return r.length-i.length}function Mi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const zd={strict:!1,end:!0,sensitive:!1};function Kd(t,e,s){const i=Bd(jd(t.path),s),r=ve(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Hd(t,e){const s=[],i=new Map;e=Di(zd,e);function r(_){return i.get(_)}function a(_,p,b){const v=!b,y=Gi(_);y.aliasOf=b&&b.record;const E=Di(e,_),x=[y];if("alias"in _){const j=typeof _.alias=="string"?[_.alias]:_.alias;for(const V of j)x.push(Gi(ve({},y,{components:b?b.record.components:y.components,path:V,aliasOf:b?b.record:y})))}let R,q;for(const j of x){const{path:V}=j;if(p&&V[0]!=="/"){const B=p.record.path,W=B[B.length-1]==="/"?"":"/";j.path=p.record.path+(V&&W+V)}if(R=Kd(j,p,E),b?b.alias.push(R):(q=q||R,q!==R&&q.alias.push(R),v&&_.name&&!Ui(R)&&c(_.name)),Da(R)&&f(R),y.children){const B=y.children;for(let W=0;W<B.length;W++)a(B[W],R,b&&b.children[W])}b=b||R}return q?()=>{c(q)}:Wn}function c(_){if(Aa(_)){const p=i.get(_);p&&(i.delete(_),s.splice(s.indexOf(p),1),p.children.forEach(c),p.alias.forEach(c))}else{const p=s.indexOf(_);p>-1&&(s.splice(p,1),_.record.name&&i.delete(_.record.name),_.children.forEach(c),_.alias.forEach(c))}}function d(){return s}function f(_){const p=Qd(_,s);s.splice(p,0,_),_.record.name&&!Ui(_)&&i.set(_.record.name,_)}function m(_,p){let b,v={},y,E;if("name"in _&&_.name){if(b=i.get(_.name),!b)throw On(Fe.MATCHER_NOT_FOUND,{location:_});E=b.record.name,v=ve(ji(p.params,b.keys.filter(q=>!q.optional).concat(b.parent?b.parent.keys.filter(q=>q.optional):[]).map(q=>q.name)),_.params&&ji(_.params,b.keys.map(q=>q.name))),y=b.stringify(v)}else if(_.path!=null)y=_.path,b=s.find(q=>q.re.test(y)),b&&(v=b.parse(y),E=b.record.name);else{if(b=p.name?i.get(p.name):s.find(q=>q.re.test(p.path)),!b)throw On(Fe.MATCHER_NOT_FOUND,{location:_,currentLocation:p});E=b.record.name,v=ve({},p.params,_.params),y=b.stringify(v)}const x=[];let R=b;for(;R;)x.unshift(R.record),R=R.parent;return{name:E,path:y,params:v,matched:x,meta:Wd(x)}}t.forEach(_=>a(_));function g(){s.length=0,i.clear()}return{addRoute:a,resolve:m,removeRoute:c,clearRoutes:g,getRoutes:d,getRecordMatcher:r}}function ji(t,e){const s={};for(const i of e)i in t&&(s[i]=t[i]);return s}function Gi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Jd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Jd(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const i in t.components)e[i]=typeof s=="object"?s[i]:s;return e}function Ui(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Wd(t){return t.reduce((e,s)=>ve(e,s.meta),{})}function Qd(t,e){let s=0,i=e.length;for(;s!==i;){const a=s+i>>1;Ra(t,e[a])<0?i=a:s=a+1}const r=Xd(t);return r&&(i=e.lastIndexOf(r,i-1)),i}function Xd(t){let e=t;for(;e=e.parent;)if(Da(e)&&Ra(t,e)===0)return e}function Da({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Bi(t){const e=Vt(Ps),s=Vt(Bo),i=qe(()=>{const f=Pn(t.to);return e.resolve(f)}),r=qe(()=>{const{matched:f}=i.value,{length:m}=f,g=f[m-1],_=s.matched;if(!g||!_.length)return-1;const p=_.findIndex(In.bind(null,g));if(p>-1)return p;const b=Vi(f[m-2]);return m>1&&Vi(g)===b&&_[_.length-1].path!==b?_.findIndex(In.bind(null,f[m-2])):p}),a=qe(()=>r.value>-1&&nf(s.params,i.value.params)),c=qe(()=>r.value>-1&&r.value===s.matched.length-1&&Sa(s.params,i.value.params));function d(f={}){if(tf(f)){const m=e[Pn(t.replace)?"replace":"push"](Pn(t.to)).catch(Wn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:i,href:qe(()=>i.value.href),isActive:a,isExactActive:c,navigate:d}}function Yd(t){return t.length===1?t[0]:t}const Zd=vt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Bi,setup(t,{slots:e}){const s=yu(Bi(t)),{options:i}=Vt(Ps),r=qe(()=>({[zi(t.activeClass,i.linkActiveClass,"router-link-active")]:s.isActive,[zi(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const a=e.default&&Yd(e.default(s));return t.custom?a:fa("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},a)}}}),ef=Zd;function tf(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function nf(t,e){for(const s in e){const i=e[s],r=t[s];if(typeof i=="string"){if(i!==r)return!1}else if(!Pt(r)||r.length!==i.length||i.some((a,c)=>a.valueOf()!==r[c].valueOf()))return!1}return!0}function Vi(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const zi=(t,e,s)=>t??e??s,sf=vt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const i=Vt(Po),r=qe(()=>t.route||i.value),a=Vt($i,0),c=qe(()=>{let m=Pn(a);const{matched:g}=r.value;let _;for(;(_=g[m])&&!_.components;)m++;return m}),d=qe(()=>r.value.matched[c.value]);Rn($i,qe(()=>c.value+1)),Rn(Id,d),Rn(Po,r);const f=L();return dn(()=>[f.value,d.value,t.name],([m,g,_],[p,b,v])=>{g&&(g.instances[_]=m,b&&b!==g&&m&&m===p&&(g.leaveGuards.size||(g.leaveGuards=b.leaveGuards),g.updateGuards.size||(g.updateGuards=b.updateGuards))),m&&g&&(!b||!In(g,b)||!p)&&(g.enterCallbacks[_]||[]).forEach(y=>y(m))},{flush:"post"}),()=>{const m=r.value,g=t.name,_=d.value,p=_&&_.components[g];if(!p)return Ki(s.default,{Component:p,route:m});const b=_.props[g],v=b?b===!0?m.params:typeof b=="function"?b(m):b:null,E=fa(p,ve({},v,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(_.instances[g]=null)},ref:f}));return Ki(s.default,{Component:E,route:m})||E}}});function Ki(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const of=sf;function rf(t){const e=Hd(t.routes,t),s=t.parseQuery||Rd,i=t.stringifyQuery||Li,r=t.history,a=Hn(),c=Hn(),d=Hn(),f=vu(Jt);let m=Jt;Tn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=_o.bind(null,A=>""+A),_=_o.bind(null,hd),p=_o.bind(null,Qn);function b(A,Q){let z,Z;return Aa(A)?(z=e.getRecordMatcher(A),Z=Q):Z=A,e.addRoute(Z,z)}function v(A){const Q=e.getRecordMatcher(A);Q&&e.removeRoute(Q)}function y(){return e.getRoutes().map(A=>A.record)}function E(A){return!!e.getRecordMatcher(A)}function x(A,Q){if(Q=ve({},Q||f.value),typeof A=="string"){const se=vo(s,A,Q.path),Ce=e.resolve({path:se.path},Q),bt=r.createHref(se.fullPath);return ve(se,Ce,{params:p(Ce.params),hash:Qn(se.hash),redirectedFrom:void 0,href:bt})}let z;if(A.path!=null)z=ve({},A,{path:vo(s,A.path,Q.path).path});else{const se=ve({},A.params);for(const Ce in se)se[Ce]==null&&delete se[Ce];z=ve({},A,{params:_(se)}),Q.params=_(Q.params)}const Z=e.resolve(z,Q),de=A.hash||"";Z.params=g(p(Z.params));const Ee=gd(i,ve({},A,{hash:ud(de),path:Z.path})),ce=r.createHref(Ee);return ve({fullPath:Ee,hash:de,query:i===Li?Dd(A.query):A.query||{}},Z,{redirectedFrom:void 0,href:ce})}function R(A){return typeof A=="string"?vo(s,A,f.value.path):ve({},A)}function q(A,Q){if(m!==A)return On(Fe.NAVIGATION_CANCELLED,{from:Q,to:A})}function j(A){return W(A)}function V(A){return j(ve(R(A),{replace:!0}))}function B(A,Q){const z=A.matched[A.matched.length-1];if(z&&z.redirect){const{redirect:Z}=z;let de=typeof Z=="function"?Z(A,Q):Z;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=R(de):{path:de},de.params={}),ve({query:A.query,hash:A.hash,params:de.path!=null?{}:A.params},de)}}function W(A,Q){const z=m=x(A),Z=f.value,de=A.state,Ee=A.force,ce=A.replace===!0,se=B(z,Z);if(se)return W(ve(R(se),{state:typeof se=="object"?ve({},de,se.state):de,force:Ee,replace:ce}),Q||z);const Ce=z;Ce.redirectedFrom=Q;let bt;return!Ee&&_d(i,Z,z)&&(bt=On(Fe.NAVIGATION_DUPLICATED,{to:Ce,from:Z}),Be(Z,Z,!0,!1)),(bt?Promise.resolve(bt):F(Ce,Z)).catch(M=>Bt(M)?Bt(M,Fe.NAVIGATION_GUARD_REDIRECT)?M:Je(M):Ie(M,Ce,Z)).then(M=>{if(M){if(Bt(M,Fe.NAVIGATION_GUARD_REDIRECT))return W(ve({replace:ce},R(M.to),{state:typeof M.to=="object"?ve({},de,M.to.state):de,force:Ee}),Q||Ce)}else M=J(Ce,Z,!0,ce,de);return $(Ce,Z,M),M})}function H(A,Q){const z=q(A,Q);return z?Promise.reject(z):Promise.resolve()}function T(A){const Q=Ve.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(A):A()}function F(A,Q){let z;const[Z,de,Ee]=Od(A,Q);z=yo(Z.reverse(),"beforeRouteLeave",A,Q);for(const se of Z)se.leaveGuards.forEach(Ce=>{z.push(Wt(Ce,A,Q))});const ce=H.bind(null,A,Q);return z.push(ce),dt(z).then(()=>{z=[];for(const se of a.list())z.push(Wt(se,A,Q));return z.push(ce),dt(z)}).then(()=>{z=yo(de,"beforeRouteUpdate",A,Q);for(const se of de)se.updateGuards.forEach(Ce=>{z.push(Wt(Ce,A,Q))});return z.push(ce),dt(z)}).then(()=>{z=[];for(const se of Ee)if(se.beforeEnter)if(Pt(se.beforeEnter))for(const Ce of se.beforeEnter)z.push(Wt(Ce,A,Q));else z.push(Wt(se.beforeEnter,A,Q));return z.push(ce),dt(z)}).then(()=>(A.matched.forEach(se=>se.enterCallbacks={}),z=yo(Ee,"beforeRouteEnter",A,Q,T),z.push(ce),dt(z))).then(()=>{z=[];for(const se of c.list())z.push(Wt(se,A,Q));return z.push(ce),dt(z)}).catch(se=>Bt(se,Fe.NAVIGATION_CANCELLED)?se:Promise.reject(se))}function $(A,Q,z){d.list().forEach(Z=>T(()=>Z(A,Q,z)))}function J(A,Q,z,Z,de){const Ee=q(A,Q);if(Ee)return Ee;const ce=Q===Jt,se=Tn?history.state:{};z&&(Z||ce?r.replace(A.fullPath,ve({scroll:ce&&se&&se.scroll},de)):r.push(A.fullPath,de)),f.value=A,Be(A,Q,z,ce),Je()}let ge;function je(){ge||(ge=r.listen((A,Q,z)=>{if(!Le.listening)return;const Z=x(A),de=B(Z,Le.currentRoute.value);if(de){W(ve(de,{replace:!0,force:!0}),Z).catch(Wn);return}m=Z;const Ee=f.value;Tn&&xd(qi(Ee.fullPath,z.delta),Ts()),F(Z,Ee).catch(ce=>Bt(ce,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_CANCELLED)?ce:Bt(ce,Fe.NAVIGATION_GUARD_REDIRECT)?(W(ve(R(ce.to),{force:!0}),Z).then(se=>{Bt(se,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_DUPLICATED)&&!z.delta&&z.type===Ao.pop&&r.go(-1,!1)}).catch(Wn),Promise.reject()):(z.delta&&r.go(-z.delta,!1),Ie(ce,Z,Ee))).then(ce=>{ce=ce||J(Z,Ee,!1),ce&&(z.delta&&!Bt(ce,Fe.NAVIGATION_CANCELLED)?r.go(-z.delta,!1):z.type===Ao.pop&&Bt(ce,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),$(Z,Ee,ce)}).catch(Wn)}))}let He=Hn(),$e=Hn(),ut;function Ie(A,Q,z){Je(A);const Z=$e.list();return Z.length?Z.forEach(de=>de(A,Q,z)):console.error(A),Promise.reject(A)}function O(){return ut&&f.value!==Jt?Promise.resolve():new Promise((A,Q)=>{He.add([A,Q])})}function Je(A){return ut||(ut=!A,je(),He.list().forEach(([Q,z])=>A?z(A):Q()),He.reset()),A}function Be(A,Q,z,Z){const{scrollBehavior:de}=t;if(!Tn||!de)return Promise.resolve();const Ee=!z&&Sd(qi(A.fullPath,0))||(Z||!z)&&history.state&&history.state.scroll||null;return ha().then(()=>de(A,Q,Ee)).then(ce=>ce&&Cd(ce)).catch(ce=>Ie(ce,A,Q))}const We=A=>r.go(A);let Ge;const Ve=new Set,Le={currentRoute:f,listening:!0,addRoute:b,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:y,resolve:x,options:t,push:j,replace:V,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:a.add,beforeResolve:c.add,afterEach:d.add,onError:$e.add,isReady:O,install(A){A.component("RouterLink",ef),A.component("RouterView",of),A.config.globalProperties.$router=Le,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Pn(f)}),Tn&&!Ge&&f.value===Jt&&(Ge=!0,j(r.location).catch(Z=>{}));const Q={};for(const Z in Jt)Object.defineProperty(Q,Z,{get:()=>f.value[Z],enumerable:!0});A.provide(Ps,Le),A.provide(Bo,bu(Q)),A.provide(Po,f);const z=A.unmount;Ve.add(A),A.unmount=function(){Ve.delete(A),Ve.size<1&&(m=Jt,ge&&ge(),ge=null,f.value=Jt,Ge=!1,ut=!1),z()}}};function dt(A){return A.reduce((Q,z)=>Q.then(()=>T(z)),Promise.resolve())}return Le}function Ln(){return Vt(Ps)}function $n(t){return Vt(Bo)}const De=(t,e)=>{const s=t.__vccOpts||t;for(const[i,r]of e)s[i]=r;return s},af={name:"HomeView",data(){return{searchQuery:""}},methods:{performSearch(){this.searchQuery.trim()&&this.$router.push({path:"/tools/id-search/results",query:{q:this.searchQuery.trim()}})}}},lf={class:"home"},cf={class:"hero-section"},uf={class:"container"},df={class:"search-box-container"},ff={class:"input-group"},hf={class:"features-section py-8"},pf={class:"container"},mf={class:"row"},gf={class:"col-md-4 mb-4"},_f={class:"feature-card h-100"},vf={class:"col-md-4 mb-4"},bf={class:"feature-card h-100"},yf={class:"col-md-4 mb-4"},wf={class:"feature-card h-100"};function kf(t,e,s,i,r,a){const c=tt("router-link");return w(),C("div",lf,[o("div",cf,[o("div",uf,[e[4]||(e[4]=o("h1",{class:"text-center mb-4"},"Welcome to CottonOGD Website",-1)),e[5]||(e[5]=o("p",{class:"text-center mb-6"},"Comprehensive genomic database for cotton research",-1)),o("div",df,[o("div",ff,[be(o("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter gene ID, symbol or keyword...","onUpdate:modelValue":e[0]||(e[0]=d=>r.searchQuery=d),onKeyup:e[1]||(e[1]=wu((...d)=>a.performSearch&&a.performSearch(...d),["enter"]))},null,544),[[Ze,r.searchQuery]]),o("button",{class:"btn btn-primary btn-lg",onClick:e[2]||(e[2]=(...d)=>a.performSearch&&a.performSearch(...d))},[...e[3]||(e[3]=[o("i",{class:"fas fa-search"},null,-1),te(" Search ",-1)])])])])])]),o("div",hf,[o("div",pf,[o("div",mf,[o("div",gf,[o("div",_f,[e[7]||(e[7]=o("div",{class:"icon-container"},[o("i",{class:"fas fa-database fa-3x text-primary"})],-1)),e[8]||(e[8]=o("h3",{class:"mt-3 mb-2"},"Browse",-1)),e[9]||(e[9]=o("p",{class:"mb-4"},"Explore cotton genome data, species information and transcription factors",-1)),U(c,{to:"/browse/genome",class:"btn btn-outline-primary"},{default:oe(()=>[...e[6]||(e[6]=[te(" Get Started ",-1)])]),_:1})])]),o("div",vf,[o("div",bf,[e[11]||(e[11]=o("div",{class:"icon-container"},[o("i",{class:"fas fa-chart-line fa-3x text-primary"})],-1)),e[12]||(e[12]=o("h3",{class:"mt-3 mb-2"},"Visualization",-1)),e[13]||(e[13]=o("p",{class:"mb-4"},"View genomic data interactively with JBrowse and expression patterns",-1)),U(c,{to:"/jbrowse",class:"btn btn-outline-primary"},{default:oe(()=>[...e[10]||(e[10]=[te(" Launch JBrowse ",-1)])]),_:1})])]),o("div",yf,[o("div",wf,[e[15]||(e[15]=o("div",{class:"icon-container"},[o("i",{class:"fas fa-tools fa-3x text-primary"})],-1)),e[16]||(e[16]=o("h3",{class:"mt-3 mb-2"},"Tools",-1)),e[17]||(e[17]=o("p",{class:"mb-4"},"Use various analysis tools for gene function, expression and enrichment",-1)),U(c,{to:"/tools/id-search",class:"btn btn-outline-primary"},{default:oe(()=>[...e[14]||(e[14]=[te(" Explore Tools ",-1)])]),_:1})])])])])]),e[18]||(e[18]=Ss('<div class="research-section bg-light py-8" data-v-fafdabbe><div class="container" data-v-fafdabbe><h2 class="text-center mb-6" data-v-fafdabbe>Latest Research Highlights</h2><div class="row" data-v-fafdabbe><div class="col-md-6 mb-4" data-v-fafdabbe><div class="research-card bg-white rounded-lg shadow-sm p-4" data-v-fafdabbe><h4 data-v-fafdabbe>Genome-Wide Analysis of Cotton Transcription Factors</h4><p class="text-muted" data-v-fafdabbe>Identification and characterization of transcription factor families across cotton species</p></div></div><div class="col-md-6 mb-4" data-v-fafdabbe><div class="research-card bg-white rounded-lg shadow-sm p-4" data-v-fafdabbe><h4 data-v-fafdabbe>Comparative Genomics of Gossypium</h4><p class="text-muted" data-v-fafdabbe>Evolutionary insights from comparative analysis of multiple cotton genomes</p></div></div></div></div></div>',1))])}const Ef=De(af,[["render",kf],["__scopeId","data-v-fafdabbe"]]),Cf={name:"BrowseGenomeView"},xf={class:"container mt-4"};function Sf(t,e,s,i,r,a){return w(),C("div",xf,[...e[0]||(e[0]=[o("h1",null,"浏览基因组",-1),o("p",null,"此页面正在开发中...",-1)])])}const Af=De(Cf,[["render",Sf]]);function Ia(t,e){return function(){return t.apply(e,arguments)}}const{toString:Tf}=Object.prototype,{getPrototypeOf:Vo}=Object,{iterator:Rs,toStringTag:Oa}=Symbol,Ds=(t=>e=>{const s=Tf.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Rt=t=>(t=t.toLowerCase(),e=>Ds(e)===t),Is=t=>e=>typeof e===t,{isArray:Nn}=Array,qn=Is("undefined");function Xn(t){return t!==null&&!qn(t)&&t.constructor!==null&&!qn(t.constructor)&&ft(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qa=Rt("ArrayBuffer");function Pf(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qa(t.buffer),e}const Rf=Is("string"),ft=Is("function"),La=Is("number"),Yn=t=>t!==null&&typeof t=="object",Df=t=>t===!0||t===!1,ks=t=>{if(Ds(t)!=="object")return!1;const e=Vo(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Oa in t)&&!(Rs in t)},If=t=>{if(!Yn(t)||Xn(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Of=Rt("Date"),qf=Rt("File"),Lf=Rt("Blob"),$f=Rt("FileList"),Nf=t=>Yn(t)&&ft(t.pipe),Ff=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ft(t.append)&&((e=Ds(t))==="formdata"||e==="object"&&ft(t.toString)&&t.toString()==="[object FormData]"))},Mf=Rt("URLSearchParams"),[jf,Gf,Uf,Bf]=["ReadableStream","Request","Response","Headers"].map(Rt),Vf=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zn(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Nn(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(Xn(t))return;const a=s?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let d;for(i=0;i<c;i++)d=a[i],e.call(null,t[d],d,t)}}function $a(t,e){if(Xn(t))return null;e=e.toLowerCase();const s=Object.keys(t);let i=s.length,r;for(;i-- >0;)if(r=s[i],e===r.toLowerCase())return r;return null}const cn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Na=t=>!qn(t)&&t!==cn;function Ro(){const{caseless:t,skipUndefined:e}=Na(this)&&this||{},s={},i=(r,a)=>{const c=t&&$a(s,a)||a;ks(s[c])&&ks(r)?s[c]=Ro(s[c],r):ks(r)?s[c]=Ro({},r):Nn(r)?s[c]=r.slice():(!e||!qn(r))&&(s[c]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Zn(arguments[r],i);return s}const zf=(t,e,s,{allOwnKeys:i}={})=>(Zn(e,(r,a)=>{s&&ft(r)?t[a]=Ia(r,s):t[a]=r},{allOwnKeys:i}),t),Kf=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Hf=(t,e,s,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Jf=(t,e,s,i)=>{let r,a,c;const d={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),a=r.length;a-- >0;)c=r[a],(!i||i(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=s!==!1&&Vo(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Wf=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const i=t.indexOf(e,s);return i!==-1&&i===s},Qf=t=>{if(!t)return null;if(Nn(t))return t;let e=t.length;if(!La(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Xf=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Vo(Uint8Array)),Yf=(t,e)=>{const i=(t&&t[Rs]).call(t);let r;for(;(r=i.next())&&!r.done;){const a=r.value;e.call(t,a[0],a[1])}},Zf=(t,e)=>{let s;const i=[];for(;(s=t.exec(e))!==null;)i.push(s);return i},eh=Rt("HTMLFormElement"),th=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,r){return i.toUpperCase()+r}),Hi=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),nh=Rt("RegExp"),Fa=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),i={};Zn(s,(r,a)=>{let c;(c=e(r,a,t))!==!1&&(i[a]=c||r)}),Object.defineProperties(t,i)},sh=t=>{Fa(t,(e,s)=>{if(ft(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=t[s];if(ft(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},oh=(t,e)=>{const s={},i=r=>{r.forEach(a=>{s[a]=!0})};return Nn(t)?i(t):i(String(t).split(e)),s},rh=()=>{},ih=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ah(t){return!!(t&&ft(t.append)&&t[Oa]==="FormData"&&t[Rs])}const lh=t=>{const e=new Array(10),s=(i,r)=>{if(Yn(i)){if(e.indexOf(i)>=0)return;if(Xn(i))return i;if(!("toJSON"in i)){e[r]=i;const a=Nn(i)?[]:{};return Zn(i,(c,d)=>{const f=s(c,r+1);!qn(f)&&(a[d]=f)}),e[r]=void 0,a}}return i};return s(t,0)},ch=Rt("AsyncFunction"),uh=t=>t&&(Yn(t)||ft(t))&&ft(t.then)&&ft(t.catch),Ma=((t,e)=>t?setImmediate:e?((s,i)=>(cn.addEventListener("message",({source:r,data:a})=>{r===cn&&a===s&&i.length&&i.shift()()},!1),r=>{i.push(r),cn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ft(cn.postMessage)),dh=typeof queueMicrotask<"u"?queueMicrotask.bind(cn):typeof process<"u"&&process.nextTick||Ma,fh=t=>t!=null&&ft(t[Rs]),P={isArray:Nn,isArrayBuffer:qa,isBuffer:Xn,isFormData:Ff,isArrayBufferView:Pf,isString:Rf,isNumber:La,isBoolean:Df,isObject:Yn,isPlainObject:ks,isEmptyObject:If,isReadableStream:jf,isRequest:Gf,isResponse:Uf,isHeaders:Bf,isUndefined:qn,isDate:Of,isFile:qf,isBlob:Lf,isRegExp:nh,isFunction:ft,isStream:Nf,isURLSearchParams:Mf,isTypedArray:Xf,isFileList:$f,forEach:Zn,merge:Ro,extend:zf,trim:Vf,stripBOM:Kf,inherits:Hf,toFlatObject:Jf,kindOf:Ds,kindOfTest:Rt,endsWith:Wf,toArray:Qf,forEachEntry:Yf,matchAll:Zf,isHTMLForm:eh,hasOwnProperty:Hi,hasOwnProp:Hi,reduceDescriptors:Fa,freezeMethods:sh,toObjectSet:oh,toCamelCase:th,noop:rh,toFiniteNumber:ih,findKey:$a,global:cn,isContextDefined:Na,isSpecCompliantForm:ah,toJSONObject:lh,isAsyncFn:ch,isThenable:uh,setImmediate:Ma,asap:dh,isIterable:fh};function le(t,e,s,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}P.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const ja=le.prototype,Ga={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ga[t]={value:t}});Object.defineProperties(le,Ga);Object.defineProperty(ja,"isAxiosError",{value:!0});le.from=(t,e,s,i,r,a)=>{const c=Object.create(ja);P.toFlatObject(t,c,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const d=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return le.call(c,d,f,s,i,r),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",a&&Object.assign(c,a),c};const hh=null;function Do(t){return P.isPlainObject(t)||P.isArray(t)}function Ua(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function Ji(t,e,s){return t?t.concat(e).map(function(r,a){return r=Ua(r),!s&&a?"["+r+"]":r}).join(s?".":""):e}function ph(t){return P.isArray(t)&&!t.some(Do)}const mh=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function Os(t,e,s){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=P.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,E){return!P.isUndefined(E[y])});const i=s.metaTokens,r=s.visitor||g,a=s.dots,c=s.indexes,f=(s.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(r))throw new TypeError("visitor must be a function");function m(v){if(v===null)return"";if(P.isDate(v))return v.toISOString();if(P.isBoolean(v))return v.toString();if(!f&&P.isBlob(v))throw new le("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(v)||P.isTypedArray(v)?f&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function g(v,y,E){let x=v;if(v&&!E&&typeof v=="object"){if(P.endsWith(y,"{}"))y=i?y:y.slice(0,-2),v=JSON.stringify(v);else if(P.isArray(v)&&ph(v)||(P.isFileList(v)||P.endsWith(y,"[]"))&&(x=P.toArray(v)))return y=Ua(y),x.forEach(function(q,j){!(P.isUndefined(q)||q===null)&&e.append(c===!0?Ji([y],j,a):c===null?y:y+"[]",m(q))}),!1}return Do(v)?!0:(e.append(Ji(E,y,a),m(v)),!1)}const _=[],p=Object.assign(mh,{defaultVisitor:g,convertValue:m,isVisitable:Do});function b(v,y){if(!P.isUndefined(v)){if(_.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));_.push(v),P.forEach(v,function(x,R){(!(P.isUndefined(x)||x===null)&&r.call(e,x,P.isString(R)?R.trim():R,y,p))===!0&&b(x,y?y.concat(R):[R])}),_.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return b(t),e}function Wi(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function zo(t,e){this._pairs=[],t&&Os(t,this,e)}const Ba=zo.prototype;Ba.append=function(e,s){this._pairs.push([e,s])};Ba.toString=function(e){const s=e?function(i){return e.call(this,i,Wi)}:Wi;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function gh(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Va(t,e,s){if(!e)return t;const i=s&&s.encode||gh;P.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let a;if(r?a=r(e,s):a=P.isURLSearchParams(e)?e.toString():new zo(e,s).toString(i),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Qi{constructor(){this.handlers=[]}use(e,s,i){return this.handlers.push({fulfilled:e,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(i){i!==null&&e(i)})}}const za={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_h=typeof URLSearchParams<"u"?URLSearchParams:zo,vh=typeof FormData<"u"?FormData:null,bh=typeof Blob<"u"?Blob:null,yh={isBrowser:!0,classes:{URLSearchParams:_h,FormData:vh,Blob:bh},protocols:["http","https","file","blob","url","data"]},Ko=typeof window<"u"&&typeof document<"u",Io=typeof navigator=="object"&&navigator||void 0,wh=Ko&&(!Io||["ReactNative","NativeScript","NS"].indexOf(Io.product)<0),kh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Eh=Ko&&window.location.href||"http://localhost",Ch=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ko,hasStandardBrowserEnv:wh,hasStandardBrowserWebWorkerEnv:kh,navigator:Io,origin:Eh},Symbol.toStringTag,{value:"Module"})),st={...Ch,...yh};function xh(t,e){return Os(t,new st.classes.URLSearchParams,{visitor:function(s,i,r,a){return st.isNode&&P.isBuffer(s)?(this.append(i,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Sh(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ah(t){const e={},s=Object.keys(t);let i;const r=s.length;let a;for(i=0;i<r;i++)a=s[i],e[a]=t[a];return e}function Ka(t){function e(s,i,r,a){let c=s[a++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),f=a>=s.length;return c=!c&&P.isArray(r)?r.length:c,f?(P.hasOwnProp(r,c)?r[c]=[r[c],i]:r[c]=i,!d):((!r[c]||!P.isObject(r[c]))&&(r[c]=[]),e(s,i,r[c],a)&&P.isArray(r[c])&&(r[c]=Ah(r[c])),!d)}if(P.isFormData(t)&&P.isFunction(t.entries)){const s={};return P.forEachEntry(t,(i,r)=>{e(Sh(i),r,s,0)}),s}return null}function Th(t,e,s){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(t)}const es={transitional:za,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const i=s.getContentType()||"",r=i.indexOf("application/json")>-1,a=P.isObject(e);if(a&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return r?JSON.stringify(Ka(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return xh(e,this.formSerializer).toString();if((d=P.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Os(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||r?(s.setContentType("application/json",!1),Th(e)):e}],transformResponse:[function(e){const s=this.transitional||es.transitional,i=s&&s.forcedJSONParsing,r=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(i&&!this.responseType||r)){const c=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?le.from(d,le.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:st.classes.FormData,Blob:st.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],t=>{es.headers[t]={}});const Ph=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rh=t=>{const e={};let s,i,r;return t&&t.split(`
`).forEach(function(c){r=c.indexOf(":"),s=c.substring(0,r).trim().toLowerCase(),i=c.substring(r+1).trim(),!(!s||e[s]&&Ph[s])&&(s==="set-cookie"?e[s]?e[s].push(i):e[s]=[i]:e[s]=e[s]?e[s]+", "+i:i)}),e},Xi=Symbol("internals");function Jn(t){return t&&String(t).trim().toLowerCase()}function Es(t){return t===!1||t==null?t:P.isArray(t)?t.map(Es):String(t)}function Dh(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(t);)e[i[1]]=i[2];return e}const Ih=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wo(t,e,s,i,r){if(P.isFunction(i))return i.call(this,e,s);if(r&&(e=s),!!P.isString(e)){if(P.isString(i))return e.indexOf(i)!==-1;if(P.isRegExp(i))return i.test(e)}}function Oh(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,i)=>s.toUpperCase()+i)}function qh(t,e){const s=P.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+s,{value:function(r,a,c){return this[i].call(this,e,r,a,c)},configurable:!0})})}let ht=class{constructor(e){e&&this.set(e)}set(e,s,i){const r=this;function a(d,f,m){const g=Jn(f);if(!g)throw new Error("header name must be a non-empty string");const _=P.findKey(r,g);(!_||r[_]===void 0||m===!0||m===void 0&&r[_]!==!1)&&(r[_||f]=Es(d))}const c=(d,f)=>P.forEach(d,(m,g)=>a(m,g,f));if(P.isPlainObject(e)||e instanceof this.constructor)c(e,s);else if(P.isString(e)&&(e=e.trim())&&!Ih(e))c(Rh(e),s);else if(P.isObject(e)&&P.isIterable(e)){let d={},f,m;for(const g of e){if(!P.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[m=g[0]]=(f=d[m])?P.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}c(d,s)}else e!=null&&a(s,e,i);return this}get(e,s){if(e=Jn(e),e){const i=P.findKey(this,e);if(i){const r=this[i];if(!s)return r;if(s===!0)return Dh(r);if(P.isFunction(s))return s.call(this,r,i);if(P.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Jn(e),e){const i=P.findKey(this,e);return!!(i&&this[i]!==void 0&&(!s||wo(this,this[i],i,s)))}return!1}delete(e,s){const i=this;let r=!1;function a(c){if(c=Jn(c),c){const d=P.findKey(i,c);d&&(!s||wo(i,i[d],d,s))&&(delete i[d],r=!0)}}return P.isArray(e)?e.forEach(a):a(e),r}clear(e){const s=Object.keys(this);let i=s.length,r=!1;for(;i--;){const a=s[i];(!e||wo(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const s=this,i={};return P.forEach(this,(r,a)=>{const c=P.findKey(i,a);if(c){s[c]=Es(r),delete s[a];return}const d=e?Oh(a):String(a).trim();d!==a&&delete s[a],s[d]=Es(r),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return P.forEach(this,(i,r)=>{i!=null&&i!==!1&&(s[r]=e&&P.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const i=new this(e);return s.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Xi]=this[Xi]={accessors:{}}).accessors,r=this.prototype;function a(c){const d=Jn(c);i[d]||(qh(r,c),i[d]=!0)}return P.isArray(e)?e.forEach(a):a(e),this}};ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(ht.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[s]=i}}});P.freezeMethods(ht);function ko(t,e){const s=this||es,i=e||s,r=ht.from(i.headers);let a=i.data;return P.forEach(t,function(d){a=d.call(s,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function Ha(t){return!!(t&&t.__CANCEL__)}function Fn(t,e,s){le.call(this,t??"canceled",le.ERR_CANCELED,e,s),this.name="CanceledError"}P.inherits(Fn,le,{__CANCEL__:!0});function Ja(t,e,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?t(s):e(new le("Request failed with status code "+s.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Lh(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function $h(t,e){t=t||10;const s=new Array(t),i=new Array(t);let r=0,a=0,c;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),g=i[a];c||(c=m),s[r]=f,i[r]=m;let _=a,p=0;for(;_!==r;)p+=s[_++],_=_%t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),m-c<e)return;const b=g&&m-g;return b?Math.round(p*1e3/b):void 0}}function Nh(t,e){let s=0,i=1e3/e,r,a;const c=(m,g=Date.now())=>{s=g,r=null,a&&(clearTimeout(a),a=null),t(...m)};return[(...m)=>{const g=Date.now(),_=g-s;_>=i?c(m,g):(r=m,a||(a=setTimeout(()=>{a=null,c(r)},i-_)))},()=>r&&c(r)]}const xs=(t,e,s=3)=>{let i=0;const r=$h(50,250);return Nh(a=>{const c=a.loaded,d=a.lengthComputable?a.total:void 0,f=c-i,m=r(f),g=c<=d;i=c;const _={loaded:c,total:d,progress:d?c/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&g?(d-c)/m:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(_)},s)},Yi=(t,e)=>{const s=t!=null;return[i=>e[0]({lengthComputable:s,total:t,loaded:i}),e[1]]},Zi=t=>(...e)=>P.asap(()=>t(...e)),Fh=st.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,st.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(st.origin),st.navigator&&/(msie|trident)/i.test(st.navigator.userAgent)):()=>!0,Mh=st.hasStandardBrowserEnv?{write(t,e,s,i,r,a,c){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(e)}`];P.isNumber(s)&&d.push(`expires=${new Date(s).toUTCString()}`),P.isString(i)&&d.push(`path=${i}`),P.isString(r)&&d.push(`domain=${r}`),a===!0&&d.push("secure"),P.isString(c)&&d.push(`SameSite=${c}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function jh(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Gh(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Wa(t,e,s){let i=!jh(e);return t&&(i||s==!1)?Gh(t,e):e}const ea=t=>t instanceof ht?{...t}:t;function fn(t,e){e=e||{};const s={};function i(m,g,_,p){return P.isPlainObject(m)&&P.isPlainObject(g)?P.merge.call({caseless:p},m,g):P.isPlainObject(g)?P.merge({},g):P.isArray(g)?g.slice():g}function r(m,g,_,p){if(P.isUndefined(g)){if(!P.isUndefined(m))return i(void 0,m,_,p)}else return i(m,g,_,p)}function a(m,g){if(!P.isUndefined(g))return i(void 0,g)}function c(m,g){if(P.isUndefined(g)){if(!P.isUndefined(m))return i(void 0,m)}else return i(void 0,g)}function d(m,g,_){if(_ in e)return i(m,g);if(_ in t)return i(void 0,m)}const f={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(m,g,_)=>r(ea(m),ea(g),_,!0)};return P.forEach(Object.keys({...t,...e}),function(g){const _=f[g]||r,p=_(t[g],e[g],g);P.isUndefined(p)&&_!==d||(s[g]=p)}),s}const Qa=t=>{const e=fn({},t);let{data:s,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:c,auth:d}=e;if(e.headers=c=ht.from(c),e.url=Va(Wa(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),P.isFormData(s)){if(st.hasStandardBrowserEnv||st.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(P.isFunction(s.getHeaders)){const f=s.getHeaders(),m=["content-type","content-length"];Object.entries(f).forEach(([g,_])=>{m.includes(g.toLowerCase())&&c.set(g,_)})}}if(st.hasStandardBrowserEnv&&(i&&P.isFunction(i)&&(i=i(e)),i||i!==!1&&Fh(e.url))){const f=r&&a&&Mh.read(a);f&&c.set(r,f)}return e},Uh=typeof XMLHttpRequest<"u",Bh=Uh&&function(t){return new Promise(function(s,i){const r=Qa(t);let a=r.data;const c=ht.from(r.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=r,g,_,p,b,v;function y(){b&&b(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(g),r.signal&&r.signal.removeEventListener("abort",g)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function x(){if(!E)return;const q=ht.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),V={data:!d||d==="text"||d==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:q,config:t,request:E};Ja(function(W){s(W),y()},function(W){i(W),y()},V),E=null}"onloadend"in E?E.onloadend=x:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(x)},E.onabort=function(){E&&(i(new le("Request aborted",le.ECONNABORTED,t,E)),E=null)},E.onerror=function(j){const V=j&&j.message?j.message:"Network Error",B=new le(V,le.ERR_NETWORK,t,E);B.event=j||null,i(B),E=null},E.ontimeout=function(){let j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const V=r.transitional||za;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),i(new le(j,V.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,E)),E=null},a===void 0&&c.setContentType(null),"setRequestHeader"in E&&P.forEach(c.toJSON(),function(j,V){E.setRequestHeader(V,j)}),P.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),d&&d!=="json"&&(E.responseType=r.responseType),m&&([p,v]=xs(m,!0),E.addEventListener("progress",p)),f&&E.upload&&([_,b]=xs(f),E.upload.addEventListener("progress",_),E.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(g=q=>{E&&(i(!q||q.type?new Fn(null,t,E):q),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(g),r.signal&&(r.signal.aborted?g():r.signal.addEventListener("abort",g)));const R=Lh(r.url);if(R&&st.protocols.indexOf(R)===-1){i(new le("Unsupported protocol "+R+":",le.ERR_BAD_REQUEST,t));return}E.send(a||null)})},Vh=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let i=new AbortController,r;const a=function(m){if(!r){r=!0,d();const g=m instanceof Error?m:this.reason;i.abort(g instanceof le?g:new Fn(g instanceof Error?g.message:g))}};let c=e&&setTimeout(()=>{c=null,a(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:f}=i;return f.unsubscribe=()=>P.asap(d),f}},zh=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let i=0,r;for(;i<s;)r=i+e,yield t.slice(i,r),i=r},Kh=async function*(t,e){for await(const s of Hh(t))yield*zh(s,e)},Hh=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:i}=await e.read();if(s)break;yield i}}finally{await e.cancel()}},ta=(t,e,s,i)=>{const r=Kh(t,e);let a=0,c,d=f=>{c||(c=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:m,value:g}=await r.next();if(m){d(),f.close();return}let _=g.byteLength;if(s){let p=a+=_;s(p)}f.enqueue(new Uint8Array(g))}catch(m){throw d(m),m}},cancel(f){return d(f),r.return()}},{highWaterMark:2})},na=64*1024,{isFunction:ws}=P,Jh=(({Request:t,Response:e})=>({Request:t,Response:e}))(P.global),{ReadableStream:sa,TextEncoder:oa}=P.global,ra=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Wh=t=>{t=P.merge.call({skipUndefined:!0},Jh,t);const{fetch:e,Request:s,Response:i}=t,r=e?ws(e):typeof fetch=="function",a=ws(s),c=ws(i);if(!r)return!1;const d=r&&ws(sa),f=r&&(typeof oa=="function"?(v=>y=>v.encode(y))(new oa):async v=>new Uint8Array(await new s(v).arrayBuffer())),m=a&&d&&ra(()=>{let v=!1;const y=new s(st.origin,{body:new sa,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!y}),g=c&&d&&ra(()=>P.isReadableStream(new i("").body)),_={stream:g&&(v=>v.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!_[v]&&(_[v]=(y,E)=>{let x=y&&y[v];if(x)return x.call(y);throw new le(`Response type '${v}' is not supported`,le.ERR_NOT_SUPPORT,E)})});const p=async v=>{if(v==null)return 0;if(P.isBlob(v))return v.size;if(P.isSpecCompliantForm(v))return(await new s(st.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(P.isArrayBufferView(v)||P.isArrayBuffer(v))return v.byteLength;if(P.isURLSearchParams(v)&&(v=v+""),P.isString(v))return(await f(v)).byteLength},b=async(v,y)=>{const E=P.toFiniteNumber(v.getContentLength());return E??p(y)};return async v=>{let{url:y,method:E,data:x,signal:R,cancelToken:q,timeout:j,onDownloadProgress:V,onUploadProgress:B,responseType:W,headers:H,withCredentials:T="same-origin",fetchOptions:F}=Qa(v),$=e||fetch;W=W?(W+"").toLowerCase():"text";let J=Vh([R,q&&q.toAbortSignal()],j),ge=null;const je=J&&J.unsubscribe&&(()=>{J.unsubscribe()});let He;try{if(B&&m&&E!=="get"&&E!=="head"&&(He=await b(H,x))!==0){let Be=new s(y,{method:"POST",body:x,duplex:"half"}),We;if(P.isFormData(x)&&(We=Be.headers.get("content-type"))&&H.setContentType(We),Be.body){const[Ge,Ve]=Yi(He,xs(Zi(B)));x=ta(Be.body,na,Ge,Ve)}}P.isString(T)||(T=T?"include":"omit");const $e=a&&"credentials"in s.prototype,ut={...F,signal:J,method:E.toUpperCase(),headers:H.normalize().toJSON(),body:x,duplex:"half",credentials:$e?T:void 0};ge=a&&new s(y,ut);let Ie=await(a?$(ge,F):$(y,ut));const O=g&&(W==="stream"||W==="response");if(g&&(V||O&&je)){const Be={};["status","statusText","headers"].forEach(Le=>{Be[Le]=Ie[Le]});const We=P.toFiniteNumber(Ie.headers.get("content-length")),[Ge,Ve]=V&&Yi(We,xs(Zi(V),!0))||[];Ie=new i(ta(Ie.body,na,Ge,()=>{Ve&&Ve(),je&&je()}),Be)}W=W||"text";let Je=await _[P.findKey(_,W)||"text"](Ie,v);return!O&&je&&je(),await new Promise((Be,We)=>{Ja(Be,We,{data:Je,headers:ht.from(Ie.headers),status:Ie.status,statusText:Ie.statusText,config:v,request:ge})})}catch($e){throw je&&je(),$e&&$e.name==="TypeError"&&/Load failed|fetch/i.test($e.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,v,ge),{cause:$e.cause||$e}):le.from($e,$e&&$e.code,v,ge)}}},Qh=new Map,Xa=t=>{let e=t&&t.env||{};const{fetch:s,Request:i,Response:r}=e,a=[i,r,s];let c=a.length,d=c,f,m,g=Qh;for(;d--;)f=a[d],m=g.get(f),m===void 0&&g.set(f,m=d?new Map:Wh(e)),g=m;return m};Xa();const Ho={http:hh,xhr:Bh,fetch:{get:Xa}};P.forEach(Ho,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ia=t=>`- ${t}`,Xh=t=>P.isFunction(t)||t===null||t===!1;function Yh(t,e){t=P.isArray(t)?t:[t];const{length:s}=t;let i,r;const a={};for(let c=0;c<s;c++){i=t[c];let d;if(r=i,!Xh(i)&&(r=Ho[(d=String(i)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${d}'`);if(r&&(P.isFunction(r)||(r=r.get(e))))break;a[d||"#"+c]=r}if(!r){const c=Object.entries(a).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=s?c.length>1?`since :
`+c.map(ia).join(`
`):" "+ia(c[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r}const Ya={getAdapter:Yh,adapters:Ho};function Eo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fn(null,t)}function aa(t){return Eo(t),t.headers=ht.from(t.headers),t.data=ko.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ya.getAdapter(t.adapter||es.adapter,t)(t).then(function(i){return Eo(t),i.data=ko.call(t,t.transformResponse,i),i.headers=ht.from(i.headers),i},function(i){return Ha(i)||(Eo(t),i&&i.response&&(i.response.data=ko.call(t,t.transformResponse,i.response),i.response.headers=ht.from(i.response.headers))),Promise.reject(i)})}const Za="1.13.2",qs={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qs[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const la={};qs.transitional=function(e,s,i){function r(a,c){return"[Axios v"+Za+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,d)=>{if(e===!1)throw new le(r(c," has been removed"+(s?" in "+s:"")),le.ERR_DEPRECATED);return s&&!la[c]&&(la[c]=!0,console.warn(r(c," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(a,c,d):!0}};qs.spelling=function(e){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Zh(t,e,s){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const a=i[r],c=e[a];if(c){const d=t[a],f=d===void 0||c(d,a,t);if(f!==!0)throw new le("option "+a+" must be "+f,le.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new le("Unknown option "+a,le.ERR_BAD_OPTION)}}const Cs={assertOptions:Zh,validators:qs},Nt=Cs.validators;let un=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Qi,response:new Qi}}async request(e,s){try{return await this._request(e,s)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=fn(this.defaults,s);const{transitional:i,paramsSerializer:r,headers:a}=s;i!==void 0&&Cs.assertOptions(i,{silentJSONParsing:Nt.transitional(Nt.boolean),forcedJSONParsing:Nt.transitional(Nt.boolean),clarifyTimeoutError:Nt.transitional(Nt.boolean)},!1),r!=null&&(P.isFunction(r)?s.paramsSerializer={serialize:r}:Cs.assertOptions(r,{encode:Nt.function,serialize:Nt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Cs.assertOptions(s,{baseUrl:Nt.spelling("baseURL"),withXsrfToken:Nt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=a&&P.merge(a.common,a[s.method]);a&&P.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),s.headers=ht.concat(c,a);const d=[];let f=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(f=f&&y.synchronous,d.unshift(y.fulfilled,y.rejected))});const m=[];this.interceptors.response.forEach(function(y){m.push(y.fulfilled,y.rejected)});let g,_=0,p;if(!f){const v=[aa.bind(this),void 0];for(v.unshift(...d),v.push(...m),p=v.length,g=Promise.resolve(s);_<p;)g=g.then(v[_++],v[_++]);return g}p=d.length;let b=s;for(;_<p;){const v=d[_++],y=d[_++];try{b=v(b)}catch(E){y.call(this,E);break}}try{g=aa.call(this,b)}catch(v){return Promise.reject(v)}for(_=0,p=m.length;_<p;)g=g.then(m[_++],m[_++]);return g}getUri(e){e=fn(this.defaults,e);const s=Wa(e.baseURL,e.url,e.allowAbsoluteUrls);return Va(s,e.params,e.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(e){un.prototype[e]=function(s,i){return this.request(fn(i||{},{method:e,url:s,data:(i||{}).data}))}});P.forEach(["post","put","patch"],function(e){function s(i){return function(a,c,d){return this.request(fn(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}un.prototype[e]=s(),un.prototype[e+"Form"]=s(!0)});let ep=class el{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const c=new Promise(d=>{i.subscribe(d),a=d}).then(r);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,d){i.reason||(i.reason=new Fn(a,c,d),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=i=>{e.abort(i)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new el(function(r){e=r}),cancel:e}}};function tp(t){return function(s){return t.apply(null,s)}}function np(t){return P.isObject(t)&&t.isAxiosError===!0}const Oo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Oo).forEach(([t,e])=>{Oo[e]=t});function tl(t){const e=new un(t),s=Ia(un.prototype.request,e);return P.extend(s,un.prototype,e,{allOwnKeys:!0}),P.extend(s,e,null,{allOwnKeys:!0}),s.create=function(r){return tl(fn(t,r))},s}const Me=tl(es);Me.Axios=un;Me.CanceledError=Fn;Me.CancelToken=ep;Me.isCancel=Ha;Me.VERSION=Za;Me.toFormData=Os;Me.AxiosError=le;Me.Cancel=Me.CanceledError;Me.all=function(e){return Promise.all(e)};Me.spread=tp;Me.isAxiosError=np;Me.mergeConfig=fn;Me.AxiosHeaders=ht;Me.formToJSON=t=>Ka(P.isHTMLForm(t)?new FormData(t):t);Me.getAdapter=Ya.getAdapter;Me.HttpStatusCode=Oo;Me.default=Me;const{Axios:f1,AxiosError:h1,CanceledError:p1,isCancel:m1,CancelToken:g1,VERSION:_1,all:v1,Cancel:b1,isAxiosError:y1,spread:w1,toFormData:k1,AxiosHeaders:E1,HttpStatusCode:C1,formToJSON:x1,getAdapter:S1,mergeConfig:A1}=Me,Ye=Me.create({timeout:1e12,withCredentials:!0});Ye.interceptors.response.use(t=>t.data,t=>Promise.reject(t));Ye.interceptors.request.use(t=>{const e=document.cookie.match(/csrftoken=([^;]+)/)?.[1];return e&&(t.headers["X-CSRFToken"]=e),t},t=>Promise.reject(t));const et=[];for(let t=0;t<256;++t)et.push((t+256).toString(16).slice(1));function sp(t,e=0){return(et[t[e+0]]+et[t[e+1]]+et[t[e+2]]+et[t[e+3]]+"-"+et[t[e+4]]+et[t[e+5]]+"-"+et[t[e+6]]+et[t[e+7]]+"-"+et[t[e+8]]+et[t[e+9]]+"-"+et[t[e+10]]+et[t[e+11]]+et[t[e+12]]+et[t[e+13]]+et[t[e+14]]+et[t[e+15]]).toLowerCase()}let Co;const op=new Uint8Array(16);function rp(){if(!Co){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Co=crypto.getRandomValues.bind(crypto)}return Co(op)}const ip=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ca={randomUUID:ip};function ap(t,e,s){t=t||{};const i=t.random??t.rng?.()??rp();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){if(s=s||0,s<0||s+16>e.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let r=0;r<16;++r)e[s+r]=i[r];return e}return sp(i)}function nl(t,e,s){return ca.randomUUID&&!e&&!t?ca.randomUUID():ap(t,e,s)}const lp={name:"IdSearchView",inject:["showLoading","hideLoading"],data(){return{geneIds:"",fileName:"",errorMessage:""}},methods:{loadExample(){this.geneIds=`Ghir_A01G000040.1
Ghir_A01G000060
Ghir_A01G000290.1
Ghir_A01G000120.2`,this.errorMessage=""},reset(){this.geneIds="",this.fileName="",this.errorMessage="";const t=document.getElementById("fileInput");t&&(t.value="")},handleFileSelect(t){const e=t.target.files[0];if(e){const s=new FileReader;s.onload=i=>{try{const r=i.target.result;this.geneIds=r.trim(),this.fileName=e.name,console.log("已从文件中读取基因ID:",this.geneIds)}catch(r){this.errorMessage="文件读取失败: "+r.message,console.error("文件读取错误:",r)}},s.onerror=()=>{this.errorMessage="文件读取错误",console.error("文件读取器错误")},s.readAsText(e)}else this.geneIds="",this.fileName="";t.target.value=""},async handleSubmit(){this.errorMessage="",this.showLoading();try{if(!this.geneIds||!this.geneIds.trim())throw new Error("请输入或上传基因ID");const t=nl();console.log("Request ID:",t);const e=`gene_ids=${encodeURIComponent(this.geneIds)}&request_id=${encodeURIComponent(t)}`;console.log("formDataString:",e);const s=await Ye.post("/tools/id-search/api/id-search-form/",e,{headers:{"Content-Type":"application/x-www-form-urlencoded","X-Request-ID":t}});if(!s)throw new Error("无效的响应数据");const i=s;if(i.status!=="success")throw new Error(i.error||"搜索失败");if(!i.query_ids||!Array.isArray(i.query_ids))throw new Error("无效的查询ID数据");if(console.log("查询ID:",i.query_ids[0]),console.log("查询ID数量:",i.query_ids.length),i.query_ids.length===1)this.$router.push({path:"/tools/id-search/results/",query:{id:i.query_ids[0],request_id:t}});else if(i.query_ids.length>1)this.$router.push({path:"/tools/id-search/id-search-summary/",query:{id:i.query_ids.join(","),request_id:t}});else throw new Error("没有找到匹配的基因ID")}catch(t){console.error("搜索错误详情:",t),console.error("错误类型:",typeof t),console.error("错误堆栈:",t.stack),console.error("错误响应:",t.response),this.errorMessage=t.response?.data?.error||t.message||"未知搜索错误",console.error("搜索错误:",this.errorMessage)}finally{this.hideLoading()}}}},cp={class:"container mt-4"},up={class:"text-left"},dp={class:"card-body"},fp={class:"form-group"},hp={class:"mb-4"},pp={class:"mb-4"},mp={class:"input-group"},gp={class:"input-group-text"},_p={key:0,class:"alert alert-danger mt-3"};function vp(t,e,s,i,r,a){return w(),C("div",cp,[e[10]||(e[10]=o("h1",null,"Search by ID",-1)),o("div",up,[o("div",dp,[o("form",{onSubmit:e[4]||(e[4]=he((...c)=>a.handleSubmit&&a.handleSubmit(...c),["prevent"]))},[o("div",fp,[o("div",hp,[e[5]||(e[5]=o("label",{for:"geneIdInput",class:"form-label"},"Input Gene IDs",-1)),be(o("textarea",{class:"form-control",id:"geneIdInput",rows:"6",placeholder:"","onUpdate:modelValue":e[0]||(e[0]=c=>r.geneIds=c),ref:"gene_ids"},null,512),[[Ze,r.geneIds]]),o("button",{type:"button",class:"btn btn-info mt-2 mr-3",onClick:e[1]||(e[1]=(...c)=>a.loadExample&&a.loadExample(...c))},"load example"),o("button",{type:"button",class:"btn btn-secondary mt-2",onClick:e[2]||(e[2]=(...c)=>a.reset&&a.reset(...c))},"Reset"),e[6]||(e[6]=o("p",{class:"text-muted mt-1"},"one gene ID per line",-1))]),o("div",pp,[e[7]||(e[7]=o("label",{class:"form-label"},"select file",-1)),o("div",mp,[o("input",{type:"file",class:"form-control",id:"fileInput",accept:".txt,.csv,.xls,.xlsx",onChange:e[3]||(e[3]=(...c)=>a.handleFileSelect&&a.handleFileSelect(...c))},null,32),o("span",gp,I(r.fileName||"未选择文件"),1)]),e[8]||(e[8]=o("p",{class:"text-muted mt-1"},"support .txt or .csv file",-1))]),e[9]||(e[9]=o("div",{class:"d-flex gap-2"},[o("button",{type:"submit",class:"btn btn-primary"}," Search ")],-1))])],32),r.errorMessage?(w(),C("div",_p,I(r.errorMessage),1)):ee("",!0)])])])}const bp=De(lp,[["render",vp]]),yp={class:"sequence-display-component"},wp={class:"d-flex flex-wrap gap-3 mb-4"},kp={class:"h6 mb-2"},Ep=["onClick"],Cp={class:"mb-4 d-flex justify-content-start"},xp={class:"d-flex gap-3 align-items-end w-25"},Sp={class:"flex-shrink-0 flex-grow-1"},Ap=["value"],Tp={class:"flex-shrink-0 flex-grow-1"},Pp=["value"],Rp={__name:"SequenceDisplay",props:{displayMode:{type:String,default:"buttons",validator:t=>["buttons","full"].includes(t)},gene_seq:String,mrna_seq:String,upstream_seq:String,downstream_seq:String,cdna_seq:String,cds_seq:String,protein_seq:String,gene_id:String,currentTranscript:{type:Object,default:null},results:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},upstreamLength:{type:Number,default:1e4},downstreamLength:{type:Number,default:1e4}},emits:["show-sequence","download-all","copy-all","length-change"],setup(t,{emit:e}){const s=t,i=e,r=[{key:"genomic",title:"基因组序列"},{key:"mrna",title:"mRNA序列"},{key:"upstream",title:"上游序列"},{key:"downstream",title:"下游序列"},{key:"cdna",title:"cDNA序列"},{key:"cds",title:"CDS序列"},{key:"protein",title:"蛋白序列"}],a=[500,1e3,2e3,3e3,4e3,5e3,1e4],c=L(1e4),d=L(1e4);i("length-change",{upstreamLength:c.value,downstreamLength:d.value});const f=()=>s.results&&s.results.length>0?s.results[0].IDs||s.results[0].gene_id||"":s.currentTranscript?s.currentTranscript.id||s.currentTranscript.gene_id||"":s.gene_id||"",m=b=>{const v=y=>y&&y!==""&&y!=="N/A"&&y!=="unavailable"&&y!=="未找到CDS序列"&&y!=="未找到蛋白序列";return b==="genomic"?v(s.gene_seq)||s.results&&s.results.some(y=>v(y.gene_seq)):b==="mrna"?v(s.mrna_seq)||s.currentTranscript&&v(s.currentTranscript.mrna_seq)||s.results&&s.results.some(y=>v(y.mrna_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(E=>v(E.mrna_seq))):b==="upstream"?v(s.upstream_seq)||s.currentTranscript&&v(s.currentTranscript.upstream_seq)||s.results&&s.results.some(y=>v(y.upstream_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(E=>v(E.upstream_seq))):b==="downstream"?v(s.downstream_seq)||s.currentTranscript&&v(s.currentTranscript.downstream_seq)||s.results&&s.results.some(y=>v(y.downstream_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(E=>v(E.downstream_seq))):b==="cdna"?v(s.cdna_seq)||s.currentTranscript&&v(s.currentTranscript.cdna_seq)||s.results&&s.results.some(y=>v(y.cdna_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(E=>v(E.cdna_seq))):b==="cds"?v(s.cds_seq)||s.currentTranscript&&v(s.currentTranscript.cds_seq)||s.results&&s.results.some(y=>v(y.cds_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(E=>v(E.cds_seq))):b==="protein"?v(s.protein_seq)||s.currentTranscript&&v(s.currentTranscript.protein_seq)||s.results&&s.results.some(y=>v(y.protein_seq)||y.mrna_transcripts&&y.mrna_transcripts.some(E=>v(E.protein_seq))):!1},g=b=>{const v=s.currentTranscript;if(b==="genomic"&&s.gene_seq)return s.gene_seq;if(v&&b==="genomic"&&v.gene_seq)return v.gene_seq;if(b==="genomic"&&s.results&&s.results.length>0){for(const y of s.results)if(y.gene_seq)return y.gene_seq}return""},_=()=>{i("length-change",{upstreamLength:c.value,downstreamLength:d.value})},p=(b,v,y,E)=>{i("show-sequence",{type:b,title:v,content:y,id:E})};return(b,v)=>(w(),C("div",yp,[o("div",wp,[(w(),C(ke,null,Pe(r,y=>o("div",{key:y.key,class:"text-center flex-shrink-0"},[o("h4",kp,I(y.title),1),o("button",{class:"btn btn-sm btn-info",onClick:E=>p(y.key,y.title,g(y.key),f())},I((m(y.key),"Show Sequence")),9,Ep)])),64))]),o("div",Cp,[o("div",xp,[o("div",Sp,[v[2]||(v[2]=o("label",{for:"upstreamLengthSelect",class:"form-label form-label-sm text-center"},"Upstream",-1)),be(o("select",{class:"form-select form-select-sm",id:"upstreamLengthSelect","onUpdate:modelValue":v[0]||(v[0]=y=>c.value=y),onChange:_},[(w(),C(ke,null,Pe(a,y=>o("option",{key:y,value:y},I(y),9,Ap)),64))],544),[[St,c.value,void 0,{number:!0}]])]),o("div",Tp,[v[3]||(v[3]=o("label",{for:"downstreamLengthSelect",class:"form-label form-label-sm text-center"},"Downstream",-1)),be(o("select",{class:"form-select form-select-sm",id:"downstreamLengthSelect","onUpdate:modelValue":v[1]||(v[1]=y=>d.value=y),onChange:_},[(w(),C(ke,null,Pe(a,y=>o("option",{key:y,value:y},I(y),9,Pp)),64))],544),[[St,d.value,void 0,{number:!0}]])])])])]))}},Ls=De(Rp,[["__scopeId","data-v-c35d0a55"]]),Dp={name:"IdSearchResultsView",components:{SequenceDisplay:Ls},data(){return{result:null,hasFetched:!1,annotations:{},jbrowse_url:"",isLoading:!1,errorMessage:"",has_sequences:!1,sequenceCache:{},sequenceLoading:{},selectedTranscriptIndex:0,gffData:[],hasGffData:!1,currentPage:1,pageSize:10,showModal:!1,modalTitle:"",modalContent:"",currentSeqType:"",currentGeneId:"",svgWidth:800,upstreamLength:500,downstreamLength:500}},computed:{parsedGoAnnotations(){const t=this.annotations.GO_annotation||[],e=[];return t.forEach(s=>{s.replace(/;;+\s*$/,"").split(";; ").forEach(a=>{const c=a.match(/^(\w+\s+\w+):\s*([^\(]+)\s*\((GO:\d+)\)$/);c&&e.push({type:c[1],term:c[2].trim(),id:c[3]})})}),e},currentTranscript(){return!this.result||!this.result.mrna_transcripts||this.result.mrna_transcripts.length===0?null:this.result.mrna_transcripts[this.selectedTranscriptIndex]},hasMultipleTranscripts(){return this.result&&this.result.mrna_transcripts&&this.result.mrna_transcripts.length>1},currentPageGffData(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.gffData.slice(t,e)},currentTranscriptGffData(){if(!this.gffData||this.gffData.length===0)return[];console.log("currentTranscriptId:",this.currentTranscript);const t=this.currentTranscript?this.currentTranscript.id:this.result.IDs;return t?this.gffData.filter(e=>e.attributes?e.attributes.includes(t):!1).sort((e,s)=>(e.start||0)-(s.start||0)):[]},geneStart(){return!this.currentTranscriptGffData||this.currentTranscriptGffData.length===0?0:Math.min(...this.currentTranscriptGffData.map(t=>t.start||0))},geneEnd(){return!this.currentTranscriptGffData||this.currentTranscriptGffData.length===0?0:Math.max(...this.currentTranscriptGffData.map(t=>t.end||0))},geneLength(){return this.geneEnd-this.geneStart+1},scale(){return(this.svgWidth-40)/Math.max(this.geneLength,1)}},mounted(){const t=this.$route.query.id;t&&!this.hasFetched?(this.hasFetched=!0,this.fetchGeneData(t)):t||(this.errorMessage="未提供基因ID")},methods:{handlePageChange(){},handlePageSizeChange(){this.currentPage=1},async fetchGeneData(t){const e=setTimeout(()=>{this.isLoading=!0},300);this.errorMessage="",this.selectedTranscriptIndex=0;try{const s=new FormData;s.append("gene_ids",t);const i=await Ye.post("/tools/id-search/api/id-search-form/",s);if(clearTimeout(e),i.status==="error"||i.status==="not_found")throw new Error(i.error||"基因信息不存在");if(i.results&&i.results.length>0)this.result=i.results[0],this.annotations=this.result.annotations||{},this.jbrowse_url=this.result.jbrowse_url||"",this.gffData=this.result.gff_data||[],this.gene_seq=this.result.gene_seq||"",console.log("后端返回的result数据:",this.result),this.has_sequences=!!(this.result.gene_seq||this.result.mrna_seq||this.result.cds_seq&&this.result.cds_seq!=="未找到CDS序列"||this.result.protein_seq&&this.result.protein_seq!=="未找到蛋白序列"||this.result.mrna_transcripts&&this.result.mrna_transcripts.length>0);else throw new Error("未找到基因信息");console.log("has_sequences:",this.has_sequences),this.hasGffData=this.gffData.length>0,this.currentPage=1}catch(s){clearTimeout(e),this.errorMessage=s.message,console.error("获取基因数据错误:",s)}finally{this.isLoading=!1}},switchTranscript(t){this.selectedTranscriptIndex=t},handleLengthChange(t){const{upstreamLength:e,downstreamLength:s}=t;this.upstreamLength=e,this.downstreamLength=s,console.log("Sequence length changed:",e,s),Object.keys(this.sequenceCache).forEach(i=>{(i.includes("upstream")||i.includes("downstream"))&&delete this.sequenceCache[i]}),Object.keys(this.sequenceLoading).forEach(i=>{(i.includes("upstream")||i.includes("downstream"))&&(this.sequenceLoading[i]=!1)})},downloadCurrentTranscriptSequences(){if(!this.result||!this.currentTranscript){this.showTemporaryMessage("无法获取基因序列数据");return}let t="";const e=this.currentGeneId||this.result.IDs,s=this.currentTranscript.id;if(this.result.gene_seq&&this.result.gene_seq!=="N/A"&&(t+=`>${e} genomic
${this.result.gene_seq}

`),this.currentTranscript.mrna_seq&&this.currentTranscript.mrna_seq!=="N/A"&&(t+=`>${s} mRNA
${this.currentTranscript.mrna_seq}

`),this.currentTranscript.upstream_seq&&this.currentTranscript.upstream_seq!=="N/A"&&(t+=`>${s} upstream
${this.currentTranscript.upstream_seq}

`),this.currentTranscript.downstream_seq&&this.currentTranscript.downstream_seq!=="N/A"&&(t+=`>${s} downstream
${this.currentTranscript.downstream_seq}

`),this.currentTranscript.cdna_seq&&this.currentTranscript.cdna_seq!=="N/A"&&this.currentTranscript.cdna_seq!=="unavailable"&&(t+=`>${s} cDNA
${this.currentTranscript.cdna_seq}

`),[{key:"cds_seq",type:"cds",label:"CDS Sequence"},{key:"protein_seq",type:"protein",label:"Protein Sequence"}].forEach(f=>{const m=this.currentTranscript[f.key];m&&m!=="N/A"&&m!=="unavailable"&&m!=="未找到CDS序列"&&m!=="未找到蛋白序列"&&(t+=`>${s} ${f.type}
${m}

`)}),!t){this.showTemporaryMessage("没有找到可用的序列数据");return}const r=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(r),c=document.createElement("a");c.href=a,c.download=`${s}_all_sequences.fasta`;const d=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.body.appendChild(c),c.dispatchEvent(d),document.body.removeChild(c),URL.revokeObjectURL(a),this.showTemporaryMessage("当前转录本的所有序列已下载")},showSequenceModal(t,e,s,i){this.modalTitle=t,this.modalContent=e,this.currentSeqType=s,this.currentGeneId=i,this.showModal=!0},async handleShowSequence(t){const{type:e,title:s,content:i,id:r}=t,a=this.result.IDs,c=this.currentTranscript?.id||r,d=e==="upstream"||e==="downstream"?`|${e==="upstream"?this.upstreamLength:this.downstreamLength}`:"",f=`${a}|${e}|${c}${d}`;if(this.sequenceCache[f]){this.showSequenceModal(s,this.sequenceCache[f],e,a);return}if(!this.sequenceLoading[f]){this.sequenceLoading[f]=!0;try{let m="",g=i,_=!0;if(!g){_=!1;const p=await Ye.post("/tools/id-search/api/sequence/",{gene_id:a,transcript_id:c,type:e});console.log("序列懒传输成功:",p),g=p.sequence||"未找到序列"}if(g&&g!=="未找到序列"&&g!=="N/A"){const p=e==="genomic"?a:c;let b=g;e==="upstream"?b=g.slice(0,this.upstreamLength):e==="downstream"&&(b=g.slice(0,this.downstreamLength));const v=e==="upstream"||e==="downstream"?` (${b.length}bp)`:"";m=`>${p} ${e}${v}
${b}
`}else m=g;this.sequenceCache[f]=m,this.sequenceLoading[f]=!1,this.showSequenceModal(s,m,e,a)}catch{this.showSequenceModal(s,"序列加载失败",e,a),this.sequenceLoading[f]=!1}finally{this.sequenceLoading[f]=!1}}},closeModal(){this.showModal=!1},copySequence(t){const s=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${t}`;navigator.clipboard.writeText(s).then(()=>{this.showTemporaryMessage("序列已复制到剪贴板")}).catch(i=>{console.error("复制失败:",i),this.showTemporaryMessage("复制失败，请手动复制")})},formatSequence(t){return t?t.replace(/(.{1,80})/g,`$1
`):""},showTemporaryMessage(t){const e=document.createElement("div");e.textContent=t,e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="4px",e.style.zIndex="9999",e.style.fontSize="16px",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",e.style.transition="opacity 2s ease-out",setTimeout(()=>{document.body.removeChild(e)},1500)},1500)},downloadFasta(){const e=`${`>${this.currentGeneId} ${this.currentSeqType}`}
${this.modalContent}`,s=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(s),r=document.createElement("a");r.href=i,r.download=`${this.currentGeneId}_${this.currentSeqType}.fasta`;const a=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.body.appendChild(r),r.dispatchEvent(a),document.body.removeChild(r),URL.revokeObjectURL(i)},async downloadAllSequences(){if(!this.result){this.showTemporaryMessage("无法获取基因序列数据");return}this.isLoading=!0;let t="";const e=this.currentGeneId||this.result.IDs,s=["genomic","mrna","upstream","downstream","cdna","cds","protein"],i=this.result.mrna_transcripts||[];try{if(this.result.gene_seq&&this.result.gene_seq!=="N/A"){const f=this.formatSequence(this.result.gene_seq);t+=`>${e} genomic
${f}

`}for(const f of i){const m=f.id;for(const g of s){if(g==="genomic")continue;let _="",p=!1;switch(g){case"mrna":f.mrna_seq&&f.mrna_seq!=="N/A"&&(_=f.mrna_seq,p=!0);break;case"upstream":f.upstream_seq&&f.upstream_seq!=="N/A"&&(_=f.upstream_seq,p=!0);break;case"downstream":f.downstream_seq&&f.downstream_seq!=="N/A"&&(_=f.downstream_seq,p=!0);break;case"cdna":f.cdna_seq&&f.cdna_seq!=="N/A"&&f.cdna_seq!=="unavailable"&&(_=f.cdna_seq,p=!0);break;case"cds":f.cds_seq&&f.cds_seq!=="N/A"&&f.cds_seq!=="unavailable"&&f.cds_seq!=="未找到CDS序列"&&(_=f.cds_seq,p=!0);break;case"protein":f.protein_seq&&f.protein_seq!=="N/A"&&f.protein_seq!=="unavailable"&&f.protein_seq!=="未找到蛋白序列"&&(_=f.protein_seq,p=!0);break}if(!p){const b={gene_id:e,transcript_id:m,type:g};g==="upstream"?b.upstream_length=this.upstreamLength:g==="downstream"&&(b.downstream_length=this.downstreamLength);const v=await Ye.post("/tools/id-search/api/sequence/",b);v.sequence&&v.sequence!=="未找到序列"&&v.sequence!=="N/A"&&(_=v.sequence)}if(_){const b=this.formatSequence(_);t+=`>${g==="genomic"?e:m} ${g}
${b}

`}}}if(!t){this.showTemporaryMessage("没有找到可用的序列数据");return}const r=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(r),c=document.createElement("a");c.href=a,c.download=`${e}_all_sequences.fasta`;const d=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.body.appendChild(c),c.dispatchEvent(d),document.body.removeChild(c),URL.revokeObjectURL(a),this.showTemporaryMessage("所有序列已下载完成")}catch(r){console.error("下载序列失败:",r),this.showTemporaryMessage("下载序列失败，请重试")}finally{this.isLoading=!1}},downloadGff(t){const e=this.currentGeneId||this.result.IDs;if(t==="txt"){let s="";this.gffData.forEach(c=>{const d=[c.seqid||"",c.source||"",c.type||"",c.start||"",c.end||"",c.score||"",c.strand||"",c.phase||"",c.attributes||""];s+=d.join("	")+`
`});const i=new Blob([s],{type:"text/plain"}),r=URL.createObjectURL(i),a=document.createElement("a");a.href=r,a.download=`${e}_gff.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),this.showTemporaryMessage("GFF数据已下载为TXT格式")}else if(t==="gff"){let s="";this.gffData.forEach(c=>{const d=[c.seqid||"",c.source||".",c.type||".",c.start||".",c.end||".",c.score||".",c.strand||".",c.phase||".",c.attributes||"."];s+=d.join("	")+`
`});const i=new Blob([s],{type:"text/plain"}),r=URL.createObjectURL(i),a=document.createElement("a");a.href=r,a.download=`${e}_gff.gff`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),this.showTemporaryMessage("GFF数据已下载为GFF格式")}},escapeCsvField(t){return typeof t!="string"&&(t=String(t)),t.includes(",")||t.includes('"')||t.includes(`
`)||t.includes("\r")?(t=t.replace(/"/g,'""'),`"${t}"`):t}}},Ip={class:"container mt-4"},Op={key:0,class:"text-center py-5"},qp={key:1,class:"alert alert-danger mt-3"},Lp={key:2,class:"mt-4"},$p={class:"card mb-4"},Np={class:"card-body"},Fp={class:"table table-bordered"},Mp={class:"mb-4"},jp={key:0,class:"mt-2"},Gp=["src"],Up={key:1},Bp={key:0,class:"card mb-4"},Vp={class:"card-body"},zp={key:0,class:"mb-4"},Kp=["value"],Hp={key:1,class:"mb-4"},Jp={class:"gene-structure-container"},Wp=["width"],Qp={x:"20",y:"20","font-size":"12","font-weight":"bold",fill:"#333"},Xp={key:0},Yp=["x","width"],Zp=["x","width"],em=["x","width"],tm=["x1","x2"],nm=["x","width"],sm={key:0},om=["points"],rm=["x"],im={x:"20",y:"110","font-size":"10",fill:"#666"},am=["x"],lm={class:"mb-3"},cm={key:1,class:"card mb-4"},um={class:"card-body"},dm={key:0,class:"mb-3"},fm={class:"table table-bordered"},hm={key:1,class:"mb-3"},pm={class:"list-group"},mm={key:2,class:"mb-3"},gm={class:"list-group"},_m={key:3,class:"mb-3"},vm={class:"list-group"},bm={key:4,class:"mb-3"},ym={class:"list-group"},wm={key:5,class:"mb-3"},km={class:"list-group"},Em={key:2,class:"card mb-4"},Cm={class:"card-header d-flex justify-content-between align-items-center"},xm={class:"card-body"},Sm={class:"d-flex justify-content-between align-items-center mb-3"},Am={class:"table-pagination"},Tm={class:"d-flex justify-content-between align-items-center mt-3"},Pm={class:"table-info"},Rm={class:"mt-4"},Dm={class:"modal-dialog",style:{"max-width":"50vw","max-height":"50vh",margin:"0",width:"auto"}},Im={class:"modal-content",style:{height:"100%",display:"flex","flex-direction":"column"}},Om={class:"modal-header"},qm={class:"modal-title"},Lm={class:"modal-body",style:{flex:"1","overflow-y":"auto"}},$m={class:"bg-light p-3 rounded",style:{"max-height":"calc(40vh - 100px)","overflow-y":"auto","white-space":"pre-wrap","word-break":"break-all"}},Nm={class:"modal-footer"};function Fm(t,e,s,i,r,a){const c=tt("router-link"),d=Ls,f=Lo,m=No,g=Fo,_=$o;return w(),C("div",Ip,[e[38]||(e[38]=o("h1",null,"Search Results",-1)),r.isLoading?(w(),C("div",Op,[...e[15]||(e[15]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"visually-hidden"},"loading...")],-1),o("p",{class:"mt-3"},"loading results...",-1)])])):r.errorMessage?(w(),C("div",qp,[te(I(r.errorMessage)+" ",1),U(c,{to:"/tools/id-search",class:"btn btn-primary btn-sm ml-2"},{default:oe(()=>[...e[16]||(e[16]=[te("new search",-1)])]),_:1})])):r.result?(w(),C("div",Lp,[o("div",$p,[e[22]||(e[22]=o("div",{class:"card-header"},[o("h2",null,"Gene Basic Information")],-1)),o("div",Np,[o("table",Fp,[o("tbody",null,[o("tr",null,[e[17]||(e[17]=o("td",null,[o("strong",null,"Gene ID:")],-1)),o("td",null,I(r.result.IDs),1)]),o("tr",null,[e[18]||(e[18]=o("td",null,[o("strong",null,"Chromosome:")],-1)),o("td",null,I(r.result.seqid),1)]),o("tr",null,[e[19]||(e[19]=o("td",null,[o("strong",null,"Start Position:")],-1)),o("td",null,I(r.result.start),1)]),o("tr",null,[e[20]||(e[20]=o("td",null,[o("strong",null,"End Position:")],-1)),o("td",null,I(r.result.end),1)]),o("tr",null,[e[21]||(e[21]=o("td",null,[o("strong",null,"Strand:")],-1)),o("td",null,I(r.result.strand),1)])])])])]),o("div",Mp,[e[23]||(e[23]=o("strong",null,"JBrowse View:",-1)),r.jbrowse_url?(w(),C("div",jp,[o("iframe",{src:r.jbrowse_url,style:{width:"100%",height:"400px",border:"1px solid #ddd","border-radius":"4px"}},null,8,Gp)])):(w(),C("div",Up," JBrowse URL not available "))]),r.has_sequences?(w(),C("div",Bp,[e[27]||(e[27]=o("div",{class:"card-header"},[o("h2",null,"Sequence")],-1)),o("div",Vp,[a.hasMultipleTranscripts?(w(),C("div",zp,[e[24]||(e[24]=o("h4",{class:"h6 mb-2"},"Transcript Selector",-1)),be(o("select",{class:"form-select w-auto","onUpdate:modelValue":e[0]||(e[0]=p=>r.selectedTranscriptIndex=p),onChange:e[1]||(e[1]=p=>a.switchTranscript(r.selectedTranscriptIndex))},[(w(!0),C(ke,null,Pe(r.result.mrna_transcripts,(p,b)=>(w(),C("option",{key:b,value:b},I(p.id)+" (Protein Length: "+I(p.protein_seq&&p.protein_seq!=="N/A"&&p.protein_seq!=="unavailable"&&p.protein_seq!=="未找到蛋白序列"?p.protein_seq.length:"N/A")+" aa) ",9,Kp))),128))],544),[[St,r.selectedTranscriptIndex]])])):ee("",!0),r.gffData.length>0?(w(),C("div",Hp,[e[26]||(e[26]=o("h4",{class:"h6 mb-2"},"Transcript Structure",-1)),o("div",Jp,[(w(),C("svg",{width:r.svgWidth,height:"150",class:"gene-structure-svg"},[o("text",Qp,I(a.currentTranscript?a.currentTranscript.id:this.result.IDS),1),a.currentTranscriptGffData.length>0?(w(),C("g",Xp,[(w(!0),C(ke,null,Pe(a.currentTranscriptGffData,(p,b)=>(w(),C("g",{key:"structure-"+b},[a.geneLength>0?(w(),C(ke,{key:0},[p.type==="CDS"?(w(),C("rect",{key:0,x:20+(p.start-a.geneStart)*a.scale,y:"35",width:(p.end-p.start+1)*a.scale,height:"50",fill:"#34A853",stroke:"#227A3D","stroke-width":"1"},null,8,Yp)):p.type==="five_prime_UTR"?(w(),C("rect",{key:1,x:20+(p.start-a.geneStart)*a.scale,y:"45",width:(p.end-p.start+1)*a.scale,height:"30",fill:"#FBBC05",stroke:"#F29900","stroke-width":"1"},null,8,Zp)):p.type==="three_prime_UTR"?(w(),C("rect",{key:2,x:20+(p.start-a.geneStart)*a.scale,y:"45",width:(p.end-p.start+1)*a.scale,height:"30",fill:"#EA4335",stroke:"#C5221F","stroke-width":"1"},null,8,em)):ee("",!0),b<a.currentTranscriptGffData.length-1?(w(),C("line",{key:3,x1:20+(p.end-a.geneStart)*a.scale,y1:"60",x2:20+(a.currentTranscriptGffData[b+1].start-a.geneStart)*a.scale,y2:"60",stroke:"#333","stroke-width":"2"},null,8,tm)):ee("",!0),b<a.currentTranscriptGffData.length-1?(w(),C("rect",{key:4,x:20+(p.end-a.geneStart)*a.scale,y:"55",width:(a.currentTranscriptGffData[b+1].start-p.end-1)*a.scale,height:"10",fill:"#E0E0E0",stroke:"#BDBDBD","stroke-width":"1"},null,8,nm)):ee("",!0)],64)):ee("",!0)]))),128)),a.currentTranscriptGffData.length>0?(w(),C("g",sm,[a.geneLength>0?(w(),C(ke,{key:0},[o("polygon",{points:[20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+10,50,20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+20,60,20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+10,70].join(","),fill:"#333"},null,8,om),o("text",{x:20+(a.currentTranscriptGffData[a.currentTranscriptGffData.length-1].end-a.geneStart)*a.scale+25,y:"65","font-size":"12",fill:"#333"}," Transcription Direction ",8,rm)],64)):ee("",!0)])):ee("",!0)])):ee("",!0),o("text",im,I(a.geneStart),1),o("text",{x:r.svgWidth-20,y:"110","font-size":"10",fill:"#666","text-anchor":"end"},I(a.geneEnd),9,am),e[25]||(e[25]=Ss('<g transform="translate(20, 130)" data-v-c6af5480><text font-size="11" font-weight="bold" fill="#333" data-v-c6af5480>Legend:</text><g transform="translate(50, 0)" data-v-c6af5480><rect x="0" y="-8" width="15" height="15" fill="#34A853" stroke="#227A3D" stroke-width="1" data-v-c6af5480></rect><text x="20" y="5" font-size="10" fill="#333" data-v-c6af5480>CDS</text></g><g transform="translate(120, 0)" data-v-c6af5480><rect x="0" y="-8" width="15" height="15" fill="#FBBC05" stroke="#F29900" stroke-width="1" data-v-c6af5480></rect><text x="20" y="5" font-size="10" fill="#333" data-v-c6af5480>5&#39; UTR</text></g><g transform="translate(190, 0)" data-v-c6af5480><rect x="0" y="-8" width="15" height="15" fill="#EA4335" stroke="#C5221F" stroke-width="1" data-v-c6af5480></rect><text x="20" y="5" font-size="10" fill="#333" data-v-c6af5480>3&#39; UTR</text></g><g transform="translate(260, 0)" data-v-c6af5480><rect x="0" y="-3" width="30" height="5" fill="#E0E0E0" stroke="#BDBDBD" stroke-width="1" data-v-c6af5480></rect><text x="35" y="5" font-size="10" fill="#333" data-v-c6af5480>Intron</text></g></g>',1))],8,Wp))])])):ee("",!0),U(d,{"display-mode":"buttons",gene_seq:r.result.gene_seq,mrna_seq:r.result.mrna_seq,upstream_seq:r.result.upstream_seq,downstream_seq:r.result.downstream_seq,cdna_seq:r.result.cdna_seq,cds_seq:r.result.cds_seq,protein_seq:r.result.protein_seq,gene_id:r.result.IDs,"current-transcript":a.currentTranscript,loading:r.isLoading,onShowSequence:a.handleShowSequence,onLengthChange:a.handleLengthChange},null,8,["gene_seq","mrna_seq","upstream_seq","downstream_seq","cdna_seq","cds_seq","protein_seq","gene_id","current-transcript","loading","onShowSequence","onLengthChange"]),o("div",lm,[o("button",{class:"btn btn-success mr-2",onClick:e[2]||(e[2]=(...p)=>a.downloadAllSequences&&a.downloadAllSequences(...p))},"Download All Sequences"),a.hasMultipleTranscripts?(w(),C("button",{key:0,class:"btn btn-primary",onClick:e[3]||(e[3]=(...p)=>a.downloadCurrentTranscriptSequences&&a.downloadCurrentTranscriptSequences(...p))},"Download Current Transcript Sequences")):ee("",!0)])])])):ee("",!0),r.annotations&&Object.keys(r.annotations).length>0?(w(),C("div",cm,[e[35]||(e[35]=o("div",{class:"card-header"},[o("h2",null,"Annotations")],-1)),o("div",um,[r.annotations.GO_annotation&&r.annotations.GO_annotation.length>0?(w(),C("div",dm,[e[29]||(e[29]=o("h4",null,"GO Annotations",-1)),o("table",fm,[e[28]||(e[28]=o("thead",{class:"thead-light"},[o("tr",null,[o("th",null,"GO Type"),o("th",null,"Term"),o("th",null,"GO ID")])],-1)),o("tbody",null,[(w(!0),C(ke,null,Pe(a.parsedGoAnnotations,(p,b)=>(w(),C("tr",{key:b},[o("td",null,I(p.type),1),o("td",null,I(p.term),1),o("td",null,I(p.id),1)]))),128))])])])):ee("",!0),r.annotations.KEGG_annotation&&r.annotations.KEGG_annotation.length>0?(w(),C("div",hm,[e[30]||(e[30]=o("h4",null,"KEGG Annotations",-1)),o("ul",pm,[(w(!0),C(ke,null,Pe(r.annotations.KEGG_annotation,(p,b)=>(w(),C("li",{key:b,class:"list-group-item"},I(p),1))),128))])])):ee("",!0),r.annotations.Pfam_annotation&&r.annotations.Pfam_annotation.length>0?(w(),C("div",mm,[e[31]||(e[31]=o("h4",null,"PFAM Annotations",-1)),o("ul",gm,[(w(!0),C(ke,null,Pe(r.annotations.Pfam_annotation,(p,b)=>(w(),C("li",{key:b,class:"list-group-item"},I(p),1))),128))])])):ee("",!0),r.annotations.TrEMBL_annotation&&r.annotations.TrEMBL_annotation.length>0?(w(),C("div",_m,[e[32]||(e[32]=o("h4",null,"TrEMBL Annotations",-1)),o("ul",vm,[(w(!0),C(ke,null,Pe(r.annotations.TrEMBL_annotation,(p,b)=>(w(),C("li",{key:b,class:"list-group-item"},I(p),1))),128))])])):ee("",!0),r.annotations.nr_annotation&&r.annotations.nr_annotation.length>0?(w(),C("div",bm,[e[33]||(e[33]=o("h4",null,"nr Annotations",-1)),o("ul",ym,[(w(!0),C(ke,null,Pe(r.annotations.nr_annotation,(p,b)=>(w(),C("li",{key:b,class:"list-group-item"},I(p),1))),128))])])):ee("",!0),r.annotations.Swissprot_annotation&&r.annotations.Swissprot_annotation.length>0?(w(),C("div",wm,[e[34]||(e[34]=o("h4",null,"Swissprot Annotations",-1)),o("ul",km,[(w(!0),C(ke,null,Pe(r.annotations.Swissprot_annotation,(p,b)=>(w(),C("li",{key:b,class:"list-group-item"},I(p),1))),128))])])):ee("",!0)])])):ee("",!0),r.hasGffData?(w(),C("div",Em,[o("div",Cm,[e[36]||(e[36]=o("h2",null,"GFF Data",-1)),o("div",null,[o("button",{class:"btn btn-sm btn-success mr-2",onClick:e[4]||(e[4]=p=>a.downloadGff("txt"))},"Download as TXT"),o("button",{class:"btn btn-sm btn-success",onClick:e[5]||(e[5]=p=>a.downloadGff("gff"))},"Download as GFF")])]),o("div",xm,[o("div",Sm,[o("div",Am,[U(f,{"current-page":r.currentPage,"onUpdate:currentPage":e[6]||(e[6]=p=>r.currentPage=p),"page-size":r.pageSize,"onUpdate:pageSize":[e[7]||(e[7]=p=>r.pageSize=p),a.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"sizes",total:r.gffData.length,onCurrentChange:a.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])]),r.isLoading?(w(),Dn(m,{key:0,rows:10,animated:""})):(w(),Dn(_,{key:1,data:a.currentPageGffData,style:{width:"100%"},stripe:"",border:""},{default:oe(()=>[U(g,{prop:"seqid",label:"Seqid","min-width":"100"}),U(g,{prop:"source",label:"Source","min-width":"100"}),U(g,{prop:"type",label:"Type","min-width":"100"}),U(g,{prop:"start",label:"Start","min-width":"100"}),U(g,{prop:"end",label:"End","min-width":"100"}),U(g,{prop:"score",label:"Score","min-width":"50"}),U(g,{prop:"strand",label:"Strand","min-width":"50"}),U(g,{prop:"phase",label:"Phase","min-width":"50"}),U(g,{prop:"attributes",label:"Attributes","min-width":"200"})]),_:1},8,["data"])),o("div",Tm,[o("span",Pm," Showing "+I((r.currentPage-1)*r.pageSize+1)+" to "+I(Math.min(r.currentPage*r.pageSize,r.gffData.length))+" of "+I(r.gffData.length)+" entries ",1),U(f,{"current-page":r.currentPage,"onUpdate:currentPage":e[8]||(e[8]=p=>r.currentPage=p),"page-size":r.pageSize,"onUpdate:pageSize":[e[9]||(e[9]=p=>r.pageSize=p),a.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:r.gffData.length,onCurrentChange:a.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])])])):ee("",!0),o("div",Rm,[U(c,{to:"/id-search",class:"btn btn-primary"},{default:oe(()=>[...e[37]||(e[37]=[te("Return to Search",-1)])]),_:1})])])):ee("",!0),r.showModal?(w(),C("div",{key:3,class:"modal",style:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"1050"},onClick:e[14]||(e[14]=he((...p)=>a.closeModal&&a.closeModal(...p),["self"]))},[o("div",Dm,[o("div",Im,[o("div",Om,[o("h5",qm,I(r.modalTitle),1),o("button",{type:"button",class:"close",onClick:e[10]||(e[10]=(...p)=>a.closeModal&&a.closeModal(...p)),style:{background:"none",border:"none","font-size":"1.5rem",cursor:"pointer"}},"×")]),o("div",Lm,[o("div",$m,I(r.modalContent),1)]),o("div",Nm,[o("button",{class:"btn btn-primary mr-2",onClick:e[11]||(e[11]=p=>a.copySequence(r.modalContent))},"Copy Sequence"),o("button",{class:"btn btn-secondary mr-2",onClick:e[12]||(e[12]=(...p)=>a.downloadFasta&&a.downloadFasta(...p))},"Download FASTA"),o("button",{class:"btn btn-secondary",onClick:e[13]||(e[13]=(...p)=>a.closeModal&&a.closeModal(...p))},"Close")])])])])):ee("",!0)])}const Mm=De(Dp,[["render",Fm],["__scopeId","data-v-c6af5480"]]),jm={name:"IdSearchSummaryView",components:{SequenceDisplay:Ls},data(){return{results:[],has_sequences:!1,loading:!1,error:null,selectedUpstreamLength:1e4,selectedDownstreamLength:1e4,sequenceCache:{},sequenceLoading:{},showModal:!1,modalTitle:"",modalContent:"",currentSeqType:"",currentGeneId:""}},mounted(){console.log("页面已挂载，开始获取数据..."),console.log("当前URL参数:",new URLSearchParams(window.location.search).toString()),this.fetchSearchResults()},methods:{handleLengthChange(t){this.selectedUpstreamLength=t.upstreamLength||1e4,this.selectedDownstreamLength=t.downstreamLength||1e4},async fetchSearchResults(){this.loading=!0,this.error=null,this.results=[],this.has_sequences=!1;try{const t=new URLSearchParams(window.location.search);let e=t.get("id")||t.get("ids")||t.get("query_ids");if(!e){this.error="URL中未找到基因ID参数",this.loading=!1;return}const s=e.split(",").join(`
`),i=`gene_ids=${encodeURIComponent(s)}`,r=await Ye.post("/tools/id-search/api/id-search-form/",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});r&&r.status==="success"?(this.results=r.results||[],this.has_sequences=r.has_sequences||!1):this.error=r.error||"请求处理失败"}catch(t){console.error("获取数据失败:",t),this.error="获取数据失败: "+(t.message||"未知错误")}finally{this.loading=!1}},downloadAllFasta(t){let e="";if(this.results.forEach(s=>{const i=s.IDs;if(t==="genomic"&&s.gene_seq&&s.gene_seq!=="N/A"&&s.gene_seq!==""&&(e+=`>${i} genomic
${s.gene_seq}

`),s.mrna_transcripts&&s.mrna_transcripts.length>0)s.mrna_transcripts.forEach(r=>{let a="";switch(t){case"mrna":a=r.mrna_seq||"";break;case"cdna":a=r.cdna_seq||"";break;case"cds":a=r.cds_seq||"";break;case"protein":a=r.protein_seq||"";break;case"upstream":a=r.upstream_seq||"";break;case"downstream":a=r.downstream_seq||"";break}a&&a!=="N/A"&&a!=="未找到CDS序列"&&a!=="未找到蛋白序列"&&(e+=`>${r.id} ${t}
${a}

`)});else{let r="";switch(t){case"mrna":r=s.mrna_seq||"";break;case"cds":r=s.cds_seq||"";break;case"protein":r=s.protein_seq||"";break}r&&r!=="N/A"&&r!=="未找到CDS序列"&&r!=="未找到蛋白序列"&&(e+=`>${i} ${t}
${r}

`)}}),e){const s=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(s),r=document.createElement("a");r.href=i,r.download=`all_${t}_sequences.fasta`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}},copyAllFasta(t){let e="";this.results.forEach(s=>{const i=s.IDs;if(t==="genomic"&&s.gene_seq&&s.gene_seq!=="N/A"&&s.gene_seq!==""&&(e+=`>${i} genomic
${s.gene_seq}

`),s.mrna_transcripts&&s.mrna_transcripts.length>0)s.mrna_transcripts.forEach(r=>{let a="";switch(t){case"mrna":a=r.mrna_seq||"";break;case"cdna":a=r.cdna_seq||"";break;case"cds":a=r.cds_seq||"";break;case"protein":a=r.protein_seq||"";break;case"upstream":a=r.upstream_seq||"";break;case"downstream":a=r.downstream_seq||"";break}a&&a!=="N/A"&&a!=="未找到CDS序列"&&a!=="未找到蛋白序列"&&(e+=`>${r.id} ${t}
${a}

`)});else{let r="";switch(t){case"mrna":r=s.mrna_seq||"";break;case"cds":r=s.cds_seq||"";break;case"protein":r=s.protein_seq||"";break}r&&r!=="N/A"&&r!=="未找到CDS序列"&&r!=="未找到蛋白序列"&&(e+=`>${i} ${t}
${r}

`)}}),e&&navigator.clipboard.writeText(e).then(()=>{alert("序列已复制到剪贴板")}).catch(s=>{console.error("复制失败:",s)})},formatSequence(t){return t?t.replace(/(.{1,80})/g,`$1
`):""},async handleShowSequence(t){const{type:e,title:s,content:i,id:r}=t;this.modalTitle=s,this.currentSeqType=e,this.currentGeneId=r;const a=this.selectedUpstreamLength||500,c=this.selectedDownstreamLength||500;let d="";for(const f of this.results){const m=f.IDs;if(e==="genomic"&&f.gene_seq&&f.gene_seq!=="N/A"&&f.gene_seq!==""){d+=`>${m} genomic
`,d+=this.formatSequence(f.gene_seq),d+=`

`;continue}if(f.mrna_transcripts&&f.mrna_transcripts.length>0)for(const g of f.mrna_transcripts){const _=g.id||g.transcript_id||m,p=`${m}|${e}|${_}|${a}|${c}`;if(this.sequenceCache[p]){d+=this.sequenceCache[p],d+=`

`;continue}if(!this.sequenceLoading[p]){this.sequenceLoading[p]=!0;try{let b="";if(g[e+"_seq"]&&g[e+"_seq"]!=="N/A"&&g[e+"_seq"]!=="未找到CDS序列"&&g[e+"_seq"]!=="未找到蛋白序列")b=g[e+"_seq"];else{const y=await Ye.post("/tools/id-search/api/sequence/",{gene_id:m,transcript_id:_,type:e,upstream_length:a,downstream_length:c});console.log("序列检索成功:",y);const E=y.sequence||"未找到序列";b=E}if((e==="upstream"||e==="downstream")&&b&&b!=="未找到序列"&&b!=="N/A"){const y=e==="upstream"?a:c;b=b.slice(0,y)}let v="";if(b&&b!=="未找到序列"&&b!=="N/A"){const y=e==="upstream"||e==="downstream"?` (${e==="upstream"?a:c}bp)`:"";v=`>${_} ${e}${y}
`,v+=this.formatSequence(b)}else v=b;this.sequenceCache[p]=v,d+=v,d+=`

`}catch(b){console.error("序列检索失败:",b),d+=`>${_} ${e}
检索序列失败

`}finally{this.sequenceLoading[p]=!1}}}else{const g=`${m}|${e}|${m}|${a}|${c}`;if(this.sequenceCache[g]){d+=this.sequenceCache[g],d+=`

`;continue}if(this.sequenceLoading[g])continue;this.sequenceLoading[g]=!0;try{let _="";if(f[e+"_seq"]&&f[e+"_seq"]!=="N/A"&&f[e+"_seq"]!=="未找到CDS序列"&&f[e+"_seq"]!=="未找到蛋白序列")_=f[e+"_seq"];else{const b=await Ye.post("/tools/id-search/api/sequence/",{gene_id:m,transcript_id:m,type:e,upstream_length:a,downstream_length:c});console.log("序列检索成功:",b);const v=b.sequence||"未找到序列";_=v}if((e==="upstream"||e==="downstream")&&_&&_!=="未找到序列"&&_!=="N/A"){const b=e==="upstream"?a:c;_=_.slice(0,b)}let p="";if(_&&_!=="未找到序列"&&_!=="N/A"){const b=e==="upstream"||e==="downstream"?` (${e==="upstream"?a:c}bp)`:"";p=`>${m} ${e}${b}
`,p+=this.formatSequence(_)}else p=_;this.sequenceCache[g]=p,d+=p,d+=`

`}catch(_){console.error("序列检索失败:",_),d+=`>${m} ${e}
检索序列失败

`}finally{this.sequenceLoading[g]=!1}}}d=d.trim(),d||(d="未找到该类型的序列"),this.modalContent=d,this.showModal=!0},closeModal(){this.showModal=!1},async downloadAllSequences(){const t=["genomic","mrna","upstream","downstream","cdna","cds","protein"],e=this.selectedUpstreamLength||500,s=this.selectedDownstreamLength||500;let i="",r=!1;for(const a of this.results){const c=a.IDs;for(const d of t){if(d==="genomic"&&a.gene_seq&&a.gene_seq!=="N/A"&&a.gene_seq!==""){i+=`>${c} genomic
`,i+=this.formatSequence(a.gene_seq),i+=`

`,r=!0;continue}if(a.mrna_transcripts&&a.mrna_transcripts.length>0)for(const f of a.mrna_transcripts){const m=f.id||f.transcript_id||c,g=`${c}|${d}|${m}|${e}|${s}`;let _="",p=!1;if(this.sequenceCache[g]?(_=this.sequenceCache[g],p=!0):f[d+"_seq"]&&f[d+"_seq"]!=="N/A"&&f[d+"_seq"]!=="未找到CDS序列"&&f[d+"_seq"]!=="未找到蛋白序列"?(_=f[d+"_seq"],p=!0):a[d+"_seq"]&&a[d+"_seq"]!=="N/A"&&a[d+"_seq"]!=="未找到CDS序列"&&a[d+"_seq"]!=="未找到蛋白序列"&&(_=a[d+"_seq"],p=!0),(d==="upstream"||d==="downstream")&&_&&_!=="未找到序列"&&_!=="N/A"){const b=d==="upstream"?e:s;_=_.slice(0,b)}if(p&&_&&_!=="未找到序列"&&_!=="N/A"){const b=d==="upstream"||d==="downstream"?` (${d==="upstream"?e:s}bp)`:"";i+=`>${m} ${d}${b}
`,i+=this.formatSequence(_),i+=`

`,r=!0}else try{const v=(await Ye.post("/tools/id-search/api/sequence/",{gene_id:c,transcript_id:m,type:d,upstream_length:e,downstream_length:s})).sequence||"未找到序列";if(v&&v!=="未找到序列"&&v!=="N/A"){let y=v;if(d==="upstream"||d==="downstream"){const x=d==="upstream"?e:s;y=v.slice(0,x)}const E=d==="upstream"||d==="downstream"?` (${d==="upstream"?e:s}bp)`:"";i+=`>${m} ${d}${E}
`,i+=this.formatSequence(y),i+=`

`,r=!0,this.sequenceCache[g]=y}}catch(b){console.error("序列检索失败:",b)}}else{const f=`${c}|${d}|${c}|${e}|${s}`;let m="",g=!1;if(this.sequenceCache[f]?(m=this.sequenceCache[f],g=!0):a[d+"_seq"]&&a[d+"_seq"]!=="N/A"&&a[d+"_seq"]!=="未找到CDS序列"&&a[d+"_seq"]!=="未找到蛋白序列"&&(m=a[d+"_seq"],g=!0),(d==="upstream"||d==="downstream")&&m&&m!=="未找到序列"&&m!=="N/A"){const _=d==="upstream"?e:s;m=m.slice(0,_)}if(g&&m&&m!=="未找到序列"&&m!=="N/A"){const _=d==="upstream"||d==="downstream"?` (${d==="upstream"?e:s}bp)`:"";i+=`>${c} ${d}${_}
`,i+=this.formatSequence(m),i+=`

`,r=!0}else try{const p=(await Ye.post("/tools/id-search/api/sequence/",{gene_id:c,transcript_id:c,type:d,upstream_length:e,downstream_length:s})).sequence||"未找到序列";if(p&&p!=="未找到序列"&&p!=="N/A"){let b=p;if(d==="upstream"||d==="downstream"){const y=d==="upstream"?e:s;b=p.slice(0,y)}const v=d==="upstream"||d==="downstream"?` (${d==="upstream"?e:s}bp)`:"";i+=`>${c} ${d}${v}
`,i+=this.formatSequence(b),i+=`

`,r=!0,this.sequenceCache[f]=b}}catch(_){console.error("序列检索失败:",_)}}}}if(i=i.trim(),i&&r){const a=new Blob([i],{type:"text/plain"}),c=URL.createObjectURL(a),d=document.createElement("a");d.href=c,d.download="all_sequences.fasta";const f=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.body.appendChild(d),d.dispatchEvent(f),document.body.removeChild(d),URL.revokeObjectURL(c)}else this.showTemporaryMessage("没有找到可用的序列数据")},copySequence(t){navigator.clipboard.writeText(t).then(()=>{this.showTemporaryMessage("序列已复制到剪贴板")}).catch(e=>{console.error("复制失败:",e),this.showTemporaryMessage("复制失败，请手动复制")})},downloadFasta(){const t=this.modalContent,e=new Blob([t],{type:"text/plain"}),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=`${this.currentGeneId}_${this.currentSeqType}_all_transcripts.fasta`;const r=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.body.appendChild(i),i.dispatchEvent(r),document.body.removeChild(i),URL.revokeObjectURL(s)},showTemporaryMessage(t){const e=document.createElement("div");e.textContent=t,e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.style.color="white",e.style.borderRadius="4px",e.style.zIndex="9999",e.style.fontSize="16px",document.body.appendChild(e),setTimeout(()=>{e.style.opacity="0",e.style.transition="opacity 0.5s ease-out",setTimeout(()=>{document.body.removeChild(e)},500)},1500)}}},Gm={class:"container mt-4"},Um={class:"status-info bg-light p-3 rounded mb-4"},Bm={key:0,class:"text-success"},Vm={key:1,class:"text-muted"},zm={key:0,class:"text-center py-5"},Km={key:1,class:"alert alert-danger mt-4"},Hm={class:"table-responsive"},Jm={class:"table table-bordered"},Wm={class:"text-center align-middle",style:{width:"10%"}},Qm={class:"text-center align-middle",style:{width:"10%"}},Xm={class:"text-center align-middle",style:{width:"10%"}},Ym={key:0,class:"mt-6"},Zm={class:"mt-4 d-flex gap-2"},eg={key:1,class:"text-muted"},tg={key:3,class:"text-center py-5"},ng={class:"modal-dialog",style:{"max-width":"50vw","max-height":"50vh",margin:"0",width:"auto"}},sg={class:"modal-content",style:{height:"100%",display:"flex","flex-direction":"column"}},og={class:"modal-header"},rg={class:"modal-title"},ig={class:"modal-body",style:{flex:"1","overflow-y":"auto"}},ag={class:"bg-light p-3 rounded",style:{"max-height":"calc(40vh - 100px)","overflow-y":"auto","white-space":"pre-wrap","font-family":"monospace"}},lg={class:"modal-footer"};function cg(t,e,s,i,r,a){const c=tt("router-link"),d=Ls;return w(),C("div",Gm,[o("div",Um,[r.results.length>0?(w(),C("p",Bm,"找到 "+I(r.results.length)+" 个基因序列",1)):!r.loading&&!r.error?(w(),C("p",Vm,"暂无数据，请检查输入的基因ID")):ee("",!0)]),e[11]||(e[11]=o("h1",null,"ID搜索结果汇总",-1)),r.loading?(w(),C("div",zm,[...e[6]||(e[6]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"visually-hidden"},"loading...")],-1),o("p",{class:"mt-3"},"正在加载数据，请稍候...",-1)])])):r.error?(w(),C("div",Km,[o("p",null,"错误: "+I(r.error),1),e[7]||(e[7]=o("p",null,"请检查URL参数格式或稍后重试",-1))])):r.results?(w(),C(ke,{key:2},[o("div",Hm,[o("table",Jm,[e[8]||(e[8]=o("thead",null,[o("tr",{class:"text-center"},[o("th",{style:{width:"10%"}},"Input ID"),o("th",{style:{width:"10%"}},"Query ID"),o("th",{style:{width:"10%"}},"Species")])],-1)),o("tbody",null,[(w(!0),C(ke,null,Pe(r.results,(f,m)=>(w(),C("tr",{key:`result-${m}`},[o("td",Wm,I(f.original_id||"-"),1),o("td",Qm,[U(c,{to:{path:"/tools/id-search/results/",query:{id:f.IDs}}},{default:oe(()=>[te(I(f.IDs||"-"),1)]),_:2},1032,["to"])]),o("td",Xm,I(f.species||"-"),1)]))),128))])])]),r.results.length>0?(w(),C("div",Ym,[e[9]||(e[9]=o("h4",null,"Gene Sequences",-1)),U(d,{results:r.results,loading:!1,onShowSequence:a.handleShowSequence,onLengthChange:a.handleLengthChange},null,8,["results","onShowSequence","onLengthChange"]),o("div",Zm,[o("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...f)=>a.downloadAllSequences&&a.downloadAllSequences(...f))},"Download All Sequences")])])):(w(),C("p",eg,"No gene sequences available."))],64)):(w(),C("div",tg,[...e[10]||(e[10]=[o("p",{class:"text-muted"},"准备加载数据...",-1)])])),r.showModal?(w(),C("div",{key:4,class:"modal",style:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0, 0, 0, 0.5)","z-index":"1050"},onClick:e[5]||(e[5]=he((...f)=>a.closeModal&&a.closeModal(...f),["self"]))},[o("div",ng,[o("div",sg,[o("div",og,[o("h5",rg,I(r.modalTitle),1),o("button",{type:"button",class:"close",onClick:e[1]||(e[1]=(...f)=>a.closeModal&&a.closeModal(...f)),style:{background:"none",border:"none","font-size":"1.5rem",cursor:"pointer"}},"×")]),o("div",ig,[o("div",ag,I(r.modalContent),1)]),o("div",lg,[o("button",{class:"btn btn-primary mr-2",onClick:e[2]||(e[2]=f=>a.copySequence(r.modalContent))},"Copy Sequence"),o("button",{class:"btn btn-secondary mr-2",onClick:e[3]||(e[3]=(...f)=>a.downloadFasta&&a.downloadFasta(...f))},"Download FASTA"),o("button",{class:"btn btn-secondary",onClick:e[4]||(e[4]=(...f)=>a.closeModal&&a.closeModal(...f))},"Close")])])])])):ee("",!0)])}const ug=De(jm,[["render",cg],["__scopeId","data-v-1e88245e"]]),xo=async t=>{try{const e=`/assets/jbrowse/data/${t}/${t}.genome.fa.gz.fai`;console.log("尝试获取.fai文件:",e);const s=await fetch(e);if(!s.ok)return console.warn(`无法获取 .fai 文件: ${e}, 状态码: ${s.status}`),"Ghir_A01";console.log("成功获取.fai文件响应");const i=await s.text();console.log("fai文件内容长度:",i.length);const r=i.trim().split(`
`);if(console.log("fai文件行数:",r.length),r.length===0)return console.warn(".fai 文件为空"),"Ghir_A01";const a=r[0].split("	")[0];return console.log(`获取到的第一个染色体: ${a}`),a}catch(e){return console.error("获取第一个染色体时出错:",e),"Ghir_A01"}},dg={name:"JbrowseView",components:{QuestionFilled:jo,VideoPlay:Mo},setup(){const t=L([]),e=L({multiple:!1,checkStrictly:!1,expandTrigger:"click",showAllLevels:!1}),s=L([]),i=L(!1),r=L("/assets/jbrowse/index.html?assembly=Ghirsutum_genome_HAU_v1.0&tracks=Ghirsutum_genome_HAU_v1.0.gff&loc=Ghir_A01:1-1000000"),a=L(0),c=L(null),d=L([]),f=()=>{if(d.value.length===0){s.value=[];return}console.log("构建基因组选项，原始genomes数据:",d.value),s.value=d.value.map(p=>({value:p.name,label:p.name,genomeData:p})),console.log("构建的基因组级联选项:",s.value),console.log("基因组数量:",s.value.length)},m=async p=>{if(console.log("选择的基因组值:",p),p&&p.length>0){const b=p[0];if(s.value.length===0){console.error("genomeOptions.value为空，无法查找基因组数据");return}const v=s.value.find(y=>y.value===b)?.genomeData;if(v){c.value=v,console.log("选择的基因组:",c.value.name);const y=await xo(v.name);console.log("第一个染色体:",y);const E=`/assets/jbrowse/index.html?config=data/${v.name}/config.json&assembly=${v.name}&tracks=GFF&loc=${y}:1-1000000`;console.log("构建的URL:",E),r.value=E,g()}else console.error("未找到基因组数据，selectedValue:",b)}},g=()=>{a.value++},_=async()=>{i.value=!0;try{const b=await(await fetch("/Browse/api/species/")).json();if(b.status==="success"){const v=b.data;if(console.log("从后端获取的原始species数据:",v),console.log("从后端获取的species数量:",v.length),d.value=v.map((y,E)=>({id:E+1,name:y.name||`${y.Cotton_Species} 基因组`,description:y.description||`${y.Cotton_Species} 基因组序列`,assembly:y.Genome_type||y.Cotton_Species,track:"TM-1.gff"})),console.log("处理后的genomes数据:",d.value),console.log("处理后的genomes数量:",d.value.length),f(),d.value.length>0){const y=d.value[0];t.value=[y.name],console.log("选择基因组:",t.value),c.value=y,console.log("选择的基因组信息:",c.value);const E=await xo(y.name),x=`/assets/jbrowse/index.html?config=data/${y.name}/config.json&assembly=${y.name}&tracks=GFF&loc=${E}:1-1000000`;r.value=x,console.log("默认选中的基因组:",y.name,"URL:",x)}}}catch(p){if(console.error("Error fetching genomes:",p),d.value=[{id:1,name:"陆地棉基因组 (Ghirsutum)",description:"陆地棉（Gossypium hirsutum）基因组序列，版本为HAU v1.0",assembly:"Ghirsutum_genome_HAU_v1.0",track:"TM-1.gff"}],f(),d.value.length>0){const b=d.value[0];t.value=[b.name],c.value=b;const v=await xo(b.name),y=`/assets/jbrowse/index.html?config=data/${b.name}/config.json&assembly=${b.name}&tracks=GFF&loc=${v}:1-1000000`;r.value=y,console.log("默认选中的基因组:",b.name,"URL:",y)}}finally{i.value=!1}};return Mt(()=>{_()}),{selectedGenome:t,genomeOptions:s,genomeLoading:i,cascaderProps:e,currentIframeUrl:r,iframeKey:a,selectedGenomeInfo:c,handleGenomeChange:m,refreshIframe:g}}},fg={class:"container-fluid"},hg={class:"row"},pg={class:"col-md-3"},mg={class:"sidebar"},gg={class:"mt-4"},_g={class:"sidebar-title"},vg={class:"mt-4"},bg={class:"d-grid gap-2"},yg={class:"col-md-9"},wg={class:"main-content"},kg={key:0,class:"genome-info"},Eg={class:"embed-container"},Cg=["src"];function xg(t,e,s,i,r,a){const c=tt("QuestionFilled"),d=As,f=tt("VideoPlay"),m=Go;return w(),C("div",fg,[o("div",hg,[o("div",pg,[o("div",mg,[o("h3",null,[e[2]||(e[2]=te("JBrowse Views ",-1)),U(d,{class:"info-icon"},{default:oe(()=>[U(c)]),_:1})]),o("div",gg,[o("h4",_g,[U(d,{class:"play-icon"},{default:oe(()=>[U(f)]),_:1}),e[3]||(e[3]=te(" Genome",-1))]),U(m,{modelValue:i.selectedGenome,"onUpdate:modelValue":e[0]||(e[0]=g=>i.selectedGenome=g),options:i.genomeOptions,props:i.cascaderProps,placeholder:"选择基因组",class:"w-100 mt-2",onChange:i.handleGenomeChange,loading:i.genomeLoading},null,8,["modelValue","options","props","onChange","loading"])]),e[4]||(e[4]=o("div",{class:"text-muted"},"Please select a genomic",-1)),o("div",vg,[o("div",bg,[o("button",{onClick:e[1]||(e[1]=(...g)=>i.refreshIframe&&i.refreshIframe(...g)),class:"btn btn-secondary"}," Refresh View ")])])])]),o("div",yg,[o("div",wg,[e[7]||(e[7]=o("h2",null,"JBrowse 可视化",-1)),i.selectedGenomeInfo?(w(),C("div",kg,[o("p",null,[e[5]||(e[5]=o("strong",null,"Genome:",-1)),te(" "+I(i.selectedGenomeInfo.name),1)]),o("p",null,[e[6]||(e[6]=o("strong",null,"Version:",-1)),te(" "+I(i.selectedGenomeInfo.assembly),1)])])):ee("",!0),o("div",Eg,[(w(),C("iframe",{key:i.iframeKey,src:i.currentIframeUrl,width:"100%",height:"800px",frameborder:"0"},null,8,Cg))])])])])])}const Sg=De(dg,[["render",xg],["__scopeId","data-v-d6b80011"]]),Ag={name:"DownloadView"},Tg={class:"container mt-4"};function Pg(t,e,s,i,r,a){return w(),C("div",Tg,[...e[0]||(e[0]=[o("h1",null,"下载数据",-1),o("p",null,"此页面正在开发中...",-1)])])}const Rg=De(Ag,[["render",Pg]]),Dg={name:"Contact_usView"},Ig={class:"container mt-4"};function Og(t,e,s,i,r,a){return w(),C("div",Ig,[...e[0]||(e[0]=[o("h1",null,"联系我们",-1),o("p",null,"此页面正在开发中...",-1)])])}const qg=De(Dg,[["render",Og]]),Lg={name:"AboutView"},$g={class:"container mt-4"};function Ng(t,e,s,i,r,a){return w(),C("div",$g,[...e[0]||(e[0]=[o("h1",null,"关于我们",-1),o("p",null,"这是关于我们的页面。",-1)])])}const Fg=De(Lg,[["render",Ng]]),Mg={class:"container mt-4"},jg={key:0,class:"alert alert-danger"},Gg={class:"card"},Ug={class:"card-body"},Bg={class:"form-group mb-3"},Vg={class:"row mb-3"},zg={class:"col-md-6"},Kg={class:"form-group"},Hg={class:"col-md-6"},Jg={class:"form-group"},ua="MGEAIKKQEGVSTVKEDNKLIDSKKKKANNSNLAKKTSWRRIDLMATKNQRNDDSSTRKRKSSEGEFDMCGIEVAYEDELKRLKQEGKEDRDECKVKNPDKSLISAYIHDIQQLLVKYRKCRFEYIPPMENNLAHILATETLKNKKEFYLVGSVPKSAEKKEERDRVREPD",Wg=vt({__name:"BlastpView",setup(t){const e=Vt("showLoading"),s=Vt("hideLoading"),i=Ln(),r=L(""),a=L(.01),c=L(30),d=L(""),f=()=>{r.value=ua};console.log("exampleSequence:",ua);const m=async()=>{if(!r.value.trim()){d.value="Please enter a protein sequence";return}d.value="",console.log("sequence.value:",r.value),e();try{console.log("Submitting BLASTP search:",{sequence:r.value,evalue:a.value,maxTargetSeqs:c.value});const _=new FormData;_.append("sequence",r.value),_.append("evalue",a.value.toString()),_.append("max_target_seqs",c.value.toString());const p="/tools/blastp/api/blastp/";console.log("API URL:",p),console.log("FormData entries:");for(const[y,E]of _.entries())console.log(`${y}: ${E}`);const b=await fetch(p,{method:"POST",body:_,headers:{Accept:"application/json"}});if(console.log("Response status:",b.status),console.log("Response statusText:",b.statusText),console.log("Response headers:",Object.fromEntries(b.headers.entries())),!b.ok){const y=await b.text();throw console.error("Response error text:",y),new Error(`HTTP error! status: ${b.status}, text: ${y}`)}const v=await b.json();i.push({name:"blastpResults",query:{results:encodeURIComponent(JSON.stringify(v))}})}catch(_){d.value="BLASTP search failed. Please try again. "+_.message,console.error("BLASTP error:",_),console.error("Error details:",JSON.stringify(_,Object.getOwnPropertyNames(_)))}finally{s()}},g=()=>{r.value="",a.value=.01,c.value=30,d.value=""};return(_,p)=>(w(),C("div",Mg,[p[8]||(p[8]=o("h2",{class:"mb-4"},"BLASTP",-1)),d.value?(w(),C("div",jg,I(d.value),1)):ee("",!0),o("div",Gg,[o("div",Ug,[o("form",{onSubmit:he(m,["prevent"])},[o("div",Bg,[p[3]||(p[3]=o("label",{for:"sequence",class:"form-label"},"Protein Sequence:",-1)),be(o("textarea",{class:"form-control",id:"sequence","onUpdate:modelValue":p[0]||(p[0]=b=>r.value=b),rows:"10",required:""},null,512),[[Ze,r.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:f}," Load Example ")]),o("div",Vg,[o("div",zg,[o("div",Kg,[p[4]||(p[4]=o("label",{for:"evalue",class:"form-label"},"E-value threshold:",-1)),be(o("input",{type:"number",class:"form-control",id:"evalue","onUpdate:modelValue":p[1]||(p[1]=b=>a.value=b),step:"0.01",min:"0"},null,512),[[Ze,a.value,void 0,{number:!0}]])])]),o("div",Hg,[o("div",Jg,[p[5]||(p[5]=o("label",{for:"max_target_seqs",class:"form-label"},"Maximum target sequences:",-1)),be(o("input",{type:"number",class:"form-control",id:"max_target_seqs","onUpdate:modelValue":p[2]||(p[2]=b=>c.value=b),min:"1",max:"50"},null,512),[[Ze,c.value,void 0,{number:!0}]])])])]),p[7]||(p[7]=o("button",{type:"submit",class:"btn btn-primary me-2"},[o("i",{class:"fas fa-search"}),te(" Search ")],-1)),o("button",{type:"button",class:"btn btn-outline-secondary",onClick:g},[...p[6]||(p[6]=[o("i",{class:"fas fa-undo"},null,-1),te(" Reset ",-1)])])],32)])])]))}}),Qg=De(Wg,[["__scopeId","data-v-d7cd2ac0"]]),Xg={class:"container mt-4"},Yg={class:"d-flex justify-content-between align-items-center mb-4"},Zg={key:0,class:"badge bg-info"},e_={class:"card mb-4"},t_={class:"card-body"},n_={class:"sequence-box"},s_={class:"mb-0"},o_={key:0,class:"text-muted"},r_={class:"card mb-4"},i_={class:"card-body"},a_={key:0,id:"chord-chart"},l_={key:1,class:"text-center py-4"},c_={class:"row g-2 align-items-center"},u_={class:"col-auto"},d_={key:0,class:"text-center py-4"},f_={key:1},h_={class:"card mb-4"},p_={class:"card-header d-flex justify-content-between align-items-center"},m_={class:"mb-0"},g_={class:"badge bg-primary"},__={class:"card-body p-0"},v_={class:"table-responsive"},b_={class:"table table-hover mb-0"},y_={class:"text-right"},w_={class:"text-right"},k_={class:"text-right"},E_={key:0,class:"card mb-4"},C_={class:"card-body p-0"},x_={class:"table-responsive"},S_={class:"table table-hover mb-0"},A_={key:1,"aria-label":"Page navigation"},T_={class:"pagination justify-content-center"},P_=["aria-disabled"],R_=["aria-disabled"],D_={class:"page-item active"},I_={class:"page-link"},O_=["aria-disabled"],q_=["aria-disabled"],L_={key:2,class:"alert alert-info"},$_={class:"mt-3"},N_=vt({__name:"BlastpResultView",setup(t){const e=$n(),s=L(10),i=L("");L("");const r=L(.01),a=L([]),c=L([]),d=L([]),f=L(!1),m=L(1),g=L(0),_=L(0),p=L(null),b=L([]),v=qe(()=>Math.ceil(g.value/s.value)),y=T=>T<.001?T.toExponential(2):T.toFixed(4),E=(T,F)=>T?typeof T!="string"?String(T):T.length>F?T.substring(0,F)+"...":T:"",x=(T,F)=>T?typeof T!="string"?String(T):T.length>F?T.substring(0,F)+"...":T:"",R=()=>{m.value=1,j()},q=T=>{m.value=T,j()},j=()=>{const T=(m.value-1)*s.value,F=T+s.value;a.value=c.value.slice(T,F)},V=async()=>{f.value=!0;try{if(e.query.results){const T=JSON.parse(decodeURIComponent(e.query.results));if(console.log("Received BLASTP results:",T),T.hits){const F=T.hits.map((J,ge)=>({query:"Query_Protein",subject:J.protein_id,identity:J.identity,alignment_length:J.length,mismatches:0,gaps:0,query_start:J.qStart,query_end:J.qEnd,subject_start:0,subject_end:J.length,evalue:J.evalue,bit_score:J.score})),$=[...new Map(F.map(J=>[J.subject,J])).values()];$.sort((J,ge)=>ge.bit_score-J.bit_score),c.value=$,g.value=$.length,i.value=T.query_sequence||"",_.value=T.execution_time||0,r.value=T.evalue||.01,d.value=T.local_matches||[],b.value=$.map(J=>({identity:J.identity,evalue:J.evalue,bitScore:J.bit_score,subject:J.subject})),j(),B(T)}}else console.error("No results found in route query"),a.value=[],g.value=0}catch(T){console.error("加载结果失败:",T),a.value=[],g.value=0}finally{f.value=!1}},B=T=>{if(!T.hits||T.hits.length===0){p.value=null;return}const F={query:"Query_Protein",queryLength:T.query_length||0,proteins:[{id:"Query_Protein",length:T.query_length||0},...T.hits.map($=>({id:$.protein_id,length:$.length}))],hits:T.hits.map($=>({query:$.protein_id,target:"Query_Protein",score:$.score,evalue:$.evalue,identity:$.identity,qStart:$.qStart,qEnd:$.qEnd}))};p.value=F},W=()=>{if(!p.value)return;const T=p.value;function F(M){const Oe=[M.query,...M.proteins.map(nt=>nt.id)],ot=[M.queryLength,...M.proteins.map(nt=>nt.length)],Dt=ot.reduce((nt,Qe)=>nt+Qe,0),yt=Array(Oe.length).fill(0).map(()=>Array(Oe.length).fill(0));return M.hits.forEach(nt=>{const Qe=Oe.indexOf(nt.query),ze=Oe.indexOf(nt.target);Qe!==-1&&ze!==-1&&Qe<yt.length&&ze<yt.length&&yt[Qe]&&yt[ze]&&(yt[Qe][ze]=nt.score,yt[ze][Qe]=nt.score)}),{matrix:yt,proteins:Oe,lengths:ot,totalLength:Dt,hits:M.hits}}const $=F(T),J={};$.proteins.forEach(M=>{J[M]=0}),$.hits.forEach(M=>{M.query!==T.query&&(J[M.query]+=M.identity),M.target!==T.query&&(J[M.target]+=M.identity)});const ge={};$.hits.forEach(M=>{M.query!==T.query&&(ge[M.query]=(ge[M.query]||0)+1),M.target!==T.query&&(ge[M.target]=(ge[M.target]||0)+1)}),Object.keys(J).forEach(M=>{if(M!==T.query){const Oe=ge[M]||1;J[M]!==void 0&&(J[M]=J[M]/Oe)}});const je=T.query,$e=[...$.proteins.filter(M=>M!==je)].sort((M,Oe)=>{const ot=J[M]||0;return(J[Oe]||0)-ot}),Ie=[je,...$e].map(M=>$.proteins.indexOf(M)),O=Ie.map(M=>Ie.map(Oe=>$.matrix&&M>=0&&M<$.matrix.length&&$.matrix[M]&&Oe>=0&&Oe<$.matrix[M].length?$.matrix[M][Oe]:0)),Je=Ie.map(M=>$.lengths[M]),Be=Ie.map(M=>$.proteins[M]);$.matrix=O,$.lengths=Je,$.proteins=Be;const We=document.getElementById("chord-chart");if(!We)return;We.innerHTML="";const Ge=We.clientWidth,Ve=800,Le=Math.min(Ge,Ve)*.5-40,dt=Le-30,A=$t("#chord-chart").append("svg").attr("width",Ge).attr("height",Ve).append("g").attr("transform",`translate(${Ge/2},${Ve/2})`),z=Su().padAngle(.1).sortSubgroups(Au)($.matrix),Z=[0];let de=0;de+=$.lengths[0],Z.push(de/$.totalLength*2*Math.PI);for(let M=1;M<$.lengths.length;M++)de+=$.lengths[M],Z.push(de/$.totalLength*2*Math.PI);const Ee=Tu().innerRadius(dt).outerRadius(Le).startAngle(M=>(Z[M.index]||0)+.02).endAngle(M=>(Z[M.index+1]||0)-.02),ce=Pu().domain($.proteins).range(Ru.concat(Du)),se=A.append("g").selectAll("g").data(z.groups).enter().append("g");se.append("path").attr("class","chord-group").style("fill",M=>ce($.proteins[M.index])).style("stroke","#000").style("stroke-width","0.5px").attr("d",M=>Ee(M)).append("title").text(M=>{const Oe=$.proteins[M.index],ot=$.lengths[M.index],Dt=J[Oe]||0;return`${Oe} (Length: ${ot}, Avg Identity: ${Dt.toFixed(2)}%)`}),se.append("text").each(M=>{const Oe=Z[M.index]||0,ot=Z[M.index+1]||0;M.angle=(Oe+ot)/2}).attr("class","protein-label").attr("dy",".35em").attr("transform",M=>`
            rotate(${M.angle*180/Math.PI-90})
            translate(${dt-5})
            ${M.angle>Math.PI?"rotate(180)":""}
          `).style("text-anchor",M=>M.angle>Math.PI?"end":null).text(M=>{const ot=$.proteins[M.index];return ot.length>4?ot.substring(0,4)+"...":ot});const Ce=Iu().radius(dt),bt=$t("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none");A.append("g").selectAll("path").data(z).enter().append("path").attr("class","chord-ribbon").style("fill",M=>ce($.proteins[M.source.index])).style("stroke",M=>ce($.proteins[M.source.index])).attr("d",Ce).style("opacity",.8).on("mouseover",M=>{Ai(".chord-ribbon").style("opacity",.1);const Oe=M.currentTarget;Oe&&$t(Oe).style("opacity",1).style("stroke","#000").style("stroke-width","1px");const Dt=M.currentTarget?.__data__;if(Dt){const yt=$.proteins[Dt.source.index],nt=$.proteins[Dt.target.index],Qe=$.hits.find(ze=>ze.query===yt&&ze.target===nt||ze.query===nt&&ze.target===yt);bt.transition().duration(200).style("opacity",.9),bt.html(`
          <strong>Query Protein → ${nt}</strong><br>
          ${Qe?`E-value: ${Qe.evalue}<br>Identity: ${Qe.identity}%<br>Alignment region: ${Qe.qStart}-${Qe.qEnd}`:""}
        `).style("left",M.pageX+15+"px").style("top",M.pageY-28+"px")}}).on("mouseout",()=>{Ai(".chord-ribbon").style("opacity",.8).style("stroke","none"),bt.style("opacity",0)}).on("mousemove",M=>{bt.style("left",M.pageX+15+"px").style("top",M.pageY-28+"px")})},H=()=>{if(b.value.length===0)return;const T=document.getElementById("line-chart");if(!T)return;const F=T.clientWidth,$=400,J={top:20,right:30,bottom:40,left:60};T.innerHTML="";const ge=$t("#line-chart").append("svg").attr("width",F).attr("height",$).append("g").attr("transform",`translate(${J.left},${J.top})`),je=F-J.left-J.right,He=$-J.top-J.bottom,$e=b.value.map(O=>({...O,logEvalue:-Math.log10(O.evalue+1e-100)})),ut=Ti().domain([0,100]).range([0,je]),Ie=Ti().domain([0,Ou($e,O=>O.logEvalue)||0]).range([He,0]);ge.append("g").attr("transform",`translate(0,${He})`).call(Pi(ut)).append("text").attr("x",je/2).attr("y",30).style("text-anchor","middle").style("font-size","12px").text("Identity (%)"),ge.append("g").call(Ri(Ie)).append("text").attr("transform","rotate(-90)").attr("x",-He/2).attr("y",-40).style("text-anchor","middle").style("font-size","12px").text("-log10(E-value)"),ge.selectAll(".dot").data($e).enter().append("circle").attr("class","dot").attr("cx",O=>ut(O.identity)).attr("cy",O=>Ie(O.logEvalue)).attr("r",4).style("fill","#49B7CF").style("opacity",.7).style("stroke","#000").style("stroke-width","1px").on("mouseover",function(O,Je){$t(this).style("opacity",1).style("stroke","#000").style("stroke-width","2px");const Be=$t("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","1000");Be.transition().duration(200).style("opacity",.9),Be.html(`
        <strong>${Je.subject}</strong><br>
        Identity: ${Je.identity.toFixed(2)}%<br>
        E-value: ${Je.evalue<.001?Je.evalue.toExponential(2):Je.evalue.toFixed(4)}<br>
        Bit Score: ${Je.bitScore.toFixed(0)}
      `).style("left",O.pageX+15+"px").style("top",O.pageY-28+"px"),$t(this).datum({tooltip:Be})}).on("mouseout",function(){$t(this).style("opacity",.7).style("stroke","#000").style("stroke-width","1px");const O=$t(this).datum();O.tooltip&&typeof O.tooltip.remove=="function"&&O.tooltip.remove(),$t(this).datum(null)}),ge.append("g").attr("class","grid").attr("transform",`translate(0,${He})`).call(Pi(ut).ticks(10).tickSize(-He).tickFormat(()=>"")),ge.append("g").attr("class","grid").call(Ri(Ie).ticks(10).tickSize(-je).tickFormat(()=>""))};return Mt(()=>{V()}),dn(p,T=>{T&&setTimeout(()=>{W()},100)}),dn(b,()=>{H()},{deep:!0}),(T,F)=>{const $=tt("router-link");return w(),C("div",Xg,[o("div",Yg,[F[5]||(F[5]=o("h2",null,"BLASTP Results",-1)),_.value?(w(),C("span",Zg,"Executed in "+I(_.value)+" seconds",1)):ee("",!0)]),o("div",e_,[F[6]||(F[6]=o("div",{class:"card-header"},[o("h5",{class:"mb-0"},"Query Sequence")],-1)),o("div",t_,[o("div",n_,[o("pre",s_,I(x(i.value,200)),1),i.value.length>200?(w(),C("small",o_,"(truncated - full sequence used for search)")):ee("",!0)])])]),o("div",r_,[F[8]||(F[8]=o("div",{class:"card-header"},[o("h5",{class:"mb-0"},"Chord Diagram")],-1)),o("div",i_,[p.value?(w(),C("div",a_)):(w(),C("div",l_,[...F[7]||(F[7]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])]))])]),o("form",{onSubmit:he(R,["prevent"]),class:"mb-3"},[o("div",c_,[F[10]||(F[10]=o("div",{class:"col-auto"},[o("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),o("div",u_,[be(o("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":F[0]||(F[0]=J=>s.value=J)},[...F[9]||(F[9]=[o("option",{value:"5"},"5",-1),o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,s.value,void 0,{number:!0}]])]),F[11]||(F[11]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"条记录")],-1))])],32),f.value?(w(),C("div",d_,[...F[12]||(F[12]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])])):a.value.length>0?(w(),C("div",f_,[o("div",h_,[o("div",p_,[o("h5",m_,"BLASTP Hits (E-value ≤ "+I(r.value)+")",1),o("span",g_,I(g.value)+" results",1)]),o("div",__,[o("div",v_,[o("table",b_,[F[13]||(F[13]=o("thead",{class:"thead-light"},[o("tr",null,[o("th",null,"Protein ID"),o("th",{class:"text-right"},"E-value"),o("th",{class:"text-right"},"Bit Score"),o("th",{class:"text-right"},"Identity (%)")])],-1)),o("tbody",null,[(w(!0),C(ke,null,Pe(a.value,(J,ge)=>(w(),C("tr",{key:J.subject,class:"protein-row"},[o("td",null,[o("code",null,I(E(J.subject,15)),1)]),o("td",y_,I(y(J.evalue)),1),o("td",w_,I(J.bit_score.toFixed(0)),1),o("td",k_,I(J.identity.toFixed(2))+"%",1)]))),128))])])])])]),d.value.length>0?(w(),C("div",E_,[F[16]||(F[16]=o("div",{class:"card-header"},[o("h5",{class:"mb-0"},"Local Database Matches")],-1)),o("div",C_,[o("div",x_,[o("table",S_,[F[15]||(F[15]=o("thead",{class:"thead-light"},[o("tr",null,[o("th",null,"Protein ID"),o("th",null,"Gene ID"),o("th",null,"Description"),o("th",null,"Source"),o("th",null,"Actions")])],-1)),o("tbody",null,[(w(!0),C(ke,null,Pe(d.value,(J,ge)=>(w(),C("tr",{key:J.protein_id},[o("td",null,[o("code",null,I(J.protein_id),1)]),o("td",null,I(J.gene_id),1),o("td",null,I(E(J.description,50)),1),o("td",null,I(E(J.file_source,20)),1),F[14]||(F[14]=o("td",null,[o("div",{class:"btn-group btn-group-sm"},[o("a",{href:"#",class:"btn btn-outline-info",title:"View details"},[o("i",{class:"fas fa-eye"})]),o("a",{href:"#",class:"btn btn-outline-secondary",title:"Download sequence"},[o("i",{class:"fas fa-download"})])])],-1))]))),128))])])])])])):ee("",!0),g.value>s.value?(w(),C("nav",A_,[o("ul",T_,[o("li",{class:Re(["page-item",{disabled:m.value===1}])},[o("a",{class:"page-link",href:"#",onClick:F[1]||(F[1]=he(J=>q(1),["prevent"])),"aria-disabled":m.value===1}," 首页 ",8,P_)],2),o("li",{class:Re(["page-item",{disabled:m.value===1}])},[o("a",{class:"page-link",href:"#",onClick:F[2]||(F[2]=he(J=>q(m.value-1),["prevent"])),"aria-disabled":m.value===1}," 上一页 ",8,R_)],2),o("li",D_,[o("span",I_," 第 "+I(m.value)+" 页 / 共 "+I(v.value)+" 页 ",1)]),o("li",{class:Re(["page-item",{disabled:m.value===v.value}])},[o("a",{class:"page-link",href:"#",onClick:F[3]||(F[3]=he(J=>q(m.value+1),["prevent"])),"aria-disabled":m.value===v.value}," 下一页 ",8,O_)],2),o("li",{class:Re(["page-item",{disabled:m.value===v.value}])},[o("a",{class:"page-link",href:"#",onClick:F[4]||(F[4]=he(J=>q(v.value),["prevent"])),"aria-disabled":m.value===v.value}," 末页 ",8,q_)],2)])])):ee("",!0)])):(w(),C("div",L_,"未找到匹配结果")),o("div",$_,[U($,{to:"/tools/blastp",class:"btn btn-secondary"},{default:oe(()=>[...F[17]||(F[17]=[te("返回搜索",-1)])]),_:1})])])}}}),F_=De(N_,[["__scopeId","data-v-a4bf9ad8"]]),M_={class:"container mt-4"},j_={class:"form-group"},G_={class:"row mt-3"},U_={class:"col-md-6"},B_={class:"form-group"},V_={class:"col-md-6"},z_={class:"form-group"},K_={class:"form-group mt-3"},H_={key:0,class:"alert alert-danger mt-3"},J_=vt({__name:"GoEnrichmentView",setup(t){const e=Ln(),i=ku()?.appContext.config.globalProperties.$http,r=L(""),a=L(.05),c=L(.05),d=L(10),f=L(""),m=()=>{const _=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230`;r.value=_},g=async()=>{if(f.value="",!r.value.trim()){f.value="请输入基因列表";return}try{if(!i)throw new Error("未找到全局axios实例");const p=(await i.post("/tools/go_enrichment/api/start/",{gene_list:r.value,p_value:a.value,q_value:c.value,per_page:d.value})).data;p.status==="success"?e.push({path:"/tools/go-enrichment/results",query:{task_id:p.task_id}}):f.value=p.error||"提交失败"}catch(_){f.value="提交失败，请重试",console.error("提交失败:",_)}};return(_,p)=>(w(),C("div",M_,[p[10]||(p[10]=o("h2",{class:"mb-4"},"GO富集分析",-1)),o("form",{onSubmit:he(g,["prevent"])},[o("div",j_,[p[4]||(p[4]=o("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),be(o("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":p[0]||(p[0]=b=>r.value=b),rows:"10"},null,512),[[Ze,r.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:m}," load example ")]),o("div",G_,[o("div",U_,[o("div",B_,[p[5]||(p[5]=o("label",{for:"p_value"},"P值阈值:",-1)),be(o("input",{type:"number",class:"form-control",id:"p_value","onUpdate:modelValue":p[1]||(p[1]=b=>a.value=b),min:"0.0001",max:"1",step:"0.0001",required:""},null,512),[[Ze,a.value,void 0,{number:!0}]])])]),o("div",V_,[o("div",z_,[p[6]||(p[6]=o("label",{for:"q_value"},"Q值阈值:",-1)),be(o("input",{type:"number",class:"form-control",id:"q_value","onUpdate:modelValue":p[2]||(p[2]=b=>c.value=b),min:"0.0001",max:"1",step:"0.0001",required:""},null,512),[[Ze,c.value,void 0,{number:!0}]])])])]),o("div",K_,[p[8]||(p[8]=o("label",{for:"per_page"},"每页显示结果数:",-1)),be(o("select",{class:"form-control",id:"per_page","onUpdate:modelValue":p[3]||(p[3]=b=>d.value=b)},[...p[7]||(p[7]=[o("option",{value:"5"},"5",-1),o("option",{value:"10",selected:""},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,d.value,void 0,{number:!0}]])]),p[9]||(p[9]=o("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),f.value?(w(),C("div",H_,I(f.value),1)):ee("",!0)],32)]))}}),W_=De(J_,[["__scopeId","data-v-ba0b4675"]]),Q_={class:"container mt-4"},X_={key:0,class:"text-center py-4"},Y_={key:1,class:"alert alert-danger",role:"alert"},Z_={key:2,class:"alert alert-warning",role:"alert"},ev={key:3},tv={class:"row g-2 align-items-center"},nv={class:"col-auto"},sv=["id"],ov={class:"text-danger"},rv={key:0},iv={key:1},av={key:2},lv={class:"text-muted"},cv={class:"table-responsive"},uv={class:"table table-bordered table-hover"},dv=["id"],fv=["title"],hv={key:0,class:"mt-4"},pv=["src","alt"],mv={"aria-label":"Page navigation"},gv=["id"],_v=["onClick","data-category"],vv={key:1,class:"page-link"},bv=["onClick","data-category"],yv={key:1,class:"page-link"},wv={class:"page-item active"},kv=["id"],Ev=["onClick","data-category"],Cv={key:1,class:"page-link"},xv=["onClick","data-category"],Sv={key:1,class:"page-link"},Av=vt({__name:"GoEnrichmentResultView",setup(t){const e=$n(),s=L(10),i=L({BP:1,MF:1,CC:1}),r=L({BP:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},MF:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},CC:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1}}),a=L({}),c=L(!0),d=L(!1),f=L(""),m=L(0),g=E=>typeof E=="object"&&E!==null&&"name"in E?E.name:typeof E=="string"?E:"",_=E=>typeof E=="object"&&E!==null&&"definition"in E?E.definition:"",p=E=>{const x=E.target;x&&(x.style.display="none")},b=async()=>{i.value={BP:1,MF:1,CC:1},await y()},v=async(E,x)=>{i.value[E]=x,await y()},y=async()=>{d.value=!0;try{const E=e.query.task_id;if(!E){f.value="缺少任务ID",c.value=!1;return}const x={task_id:E,per_page:s.value};for(const q in i.value)x[`${q}_page`]=i.value[q];console.log("请求参数:",x);const R=await Ye.get("/tools/go_enrichment/api/results/",{params:x});if(console.log("完整的后端返回数据:",JSON.stringify(R,null,2)),R.status==="success"||R.code===200||!R.error){let j=(R.results||R.data||{}).results||{},V=R.plot_images||R.images||R.charts||{};console.log("处理后的结果对象:",j),console.log("处理后的图像对象:",V),r.value={BP:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},MF:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1},CC:{results:[],total:0,num_pages:1,current_page:1,has_next:!1,has_previous:!1}};for(const W in j){const H=j[W];console.log(`处理类别 ${W} 的数据:`,H),H&&typeof H=="object"&&(Array.isArray(H.results)?r.value[W]={results:H.results,total:H.total||H.results.length,num_pages:H.num_pages||1,current_page:H.current_page||i.value[W]||1,has_next:H.has_next||!1,has_previous:H.has_previous||!1}:Array.isArray(H)&&(r.value[W]={results:H,total:H.length,num_pages:1,current_page:i.value[W]||1,has_next:!1,has_previous:!1}))}a.value=V,console.log("可视化图像数据:",V);let B=!1;for(const W in r.value)if(r.value[W].results.length>0){B=!0;break}c.value=B,console.log("最终结果数据:",r.value),m.value=R.execution_time||R.elapsed_time||R.time||0}else R.status==="processing"?setTimeout(()=>y(),1e3):(f.value=R.error||"获取结果失败",c.value=!1)}catch(E){f.value="获取结果失败: "+(E.message||E),console.error("Error fetching results:",E),c.value=!1}finally{d.value=!1}};return Mt(async()=>{await y()}),Mt(()=>{}),(E,x)=>{const R=tt("router-link");return w(),C("div",Q_,[x[9]||(x[9]=o("h2",{class:"mb-4"},"GO富集分析结果",-1)),U(R,{to:"/tools/go-enrichment",class:"btn btn-secondary mb-4"},{default:oe(()=>[...x[2]||(x[2]=[te("返回",-1)])]),_:1}),d.value?(w(),C("div",X_,[...x[3]||(x[3]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])])):f.value?(w(),C("div",Y_,I(f.value),1)):c.value?(w(),C("div",ev,[o("form",{onSubmit:he(b,["prevent"]),class:"mb-3",id:"per-page-form"},[o("div",tv,[x[5]||(x[5]=o("div",{class:"col-auto"},[o("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),o("div",nv,[be(o("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":x[0]||(x[0]=q=>s.value=q)},[...x[4]||(x[4]=[o("option",{value:"5"},"5",-1),o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,s.value,void 0,{number:!0}]])]),x[6]||(x[6]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"条记录")],-1))])],32),(w(!0),C(ke,null,Pe(r.value,(q,j)=>(w(),C("div",{key:j,class:"mb-5",id:`category-${j}`},[o("h4",ov,[j==="MF"?(w(),C("span",rv,"Molecular Function")):j==="BP"?(w(),C("span",iv,"Biological Process")):j==="CC"?(w(),C("span",av,"Cellular Component")):ee("",!0),o("small",lv," (共 "+I(q.total)+" 条) ",1)]),o("div",cv,[o("table",uv,[x[7]||(x[7]=o("thead",{class:"bg-light"},[o("tr",null,[o("th",null,"GO ID"),o("th",null,"Description"),o("th",null,"GeneRatio"),o("th",null,"BgRatio"),o("th",null,"RichFactor"),o("th",null,"FoldEnrichment"),o("th",null,"zScore"),o("th",null,"pvalue"),o("th",null,"Genes")])],-1)),o("tbody",{id:`tbody-${j}`},[(w(!0),C(ke,null,Pe(q.results,V=>(w(),C("tr",{key:V.go_id},[o("td",null,I(V.go_id),1),o("td",null,[te(I(g(V.description))+" ",1),_(V.description)?(w(),C("i",{key:0,class:"fas fa-info-circle text-muted",title:_(V.description),"data-bs-toggle":"tooltip"},null,8,fv)):ee("",!0)]),o("td",null,I(V.gene_ratio),1),o("td",null,I(V.bg_ratio),1),o("td",null,I(parseFloat(V.rich_factor).toFixed(4)),1),o("td",null,I(parseFloat(V.fold_enrichment).toFixed(4)),1),o("td",null,I(parseFloat(V.z_score).toFixed(4)),1),o("td",null,I(parseFloat(V.p_value).toFixed(6)),1),o("td",null,I(V.genes),1)]))),128))],8,dv)])]),a.value&&(a.value[j]||a.value[j.toLowerCase()]||a.value[j.toUpperCase()])?(w(),C("div",hv,[x[8]||(x[8]=o("h5",null,"可视化结果",-1)),o("img",{src:`data:image/png;base64,${a.value[j]||a.value[j.toLowerCase()]||a.value[j.toUpperCase()]}`,class:"img-fluid",alt:`${j} Plot`,onError:x[1]||(x[1]=V=>p(V))},null,40,pv)])):ee("",!0),o("nav",mv,[o("ul",{id:`pagination-${j}`,class:"pagination justify-content-center"},[o("li",{class:Re(["page-item",{disabled:!q.has_previous}])},[q.has_previous?(w(),C("a",{key:0,class:"page-link pagination-link",href:"#",onClick:he(V=>v(j,1),["prevent"]),"data-category":j}," 首页 ",8,_v)):(w(),C("span",vv,"首页"))],2),o("li",{class:Re(["page-item",{disabled:!q.has_previous}])},[q.has_previous?(w(),C("a",{key:0,class:"page-link pagination-link",href:"#",onClick:he(V=>v(j,q.previous_page_number),["prevent"]),"data-category":j}," 上一页 ",8,bv)):(w(),C("span",yv,"上一页"))],2),o("li",wv,[o("span",{id:`current-page-${j}`,class:"page-link"}," 第 "+I(q.current_page)+" 页 / 共 "+I(q.num_pages)+" 页 ",9,kv)]),o("li",{class:Re(["page-item",{disabled:!q.has_next}])},[q.has_next?(w(),C("a",{key:0,class:"page-link pagination-link",href:"#",onClick:he(V=>v(j,q.next_page_number),["prevent"]),"data-category":j}," 下一页 ",8,Ev)):(w(),C("span",Cv,"下一页"))],2),o("li",{class:Re(["page-item",{disabled:!q.has_next}])},[q.has_next?(w(),C("a",{key:0,class:"page-link pagination-link",href:"#",onClick:he(V=>v(j,q.num_pages),["prevent"]),"data-category":j}," 末页 ",8,xv)):(w(),C("span",Sv,"末页"))],2)],8,gv)])],8,sv))),128))])):(w(),C("div",Z_," 暂无富集结果 "))])}}}),Tv=De(Av,[["__scopeId","data-v-2f118e97"]]),Pv={class:"container mt-4"},Rv={class:"form-group"},Dv={class:"form-group mt-3"},Iv={key:0,class:"alert alert-danger mt-3"},Ov=vt({__name:"GoAnnotationView",setup(t){const e=Ln(),s=L(""),i=L(10),r=L(""),a=()=>{const d=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100`;s.value=d},c=async()=>{if(r.value="",!s.value.trim()){r.value="请输入基因列表";return}const d={gene_list:s.value,per_page:i.value};try{e.push({path:"/tools/go-annotation/results",query:d})}catch(f){r.value="提交失败，请重试",console.error("提交失败:",f)}};return(d,f)=>(w(),C("div",Pv,[f[6]||(f[6]=o("h2",{class:"mb-4"},"GO注释",-1)),o("form",{onSubmit:he(c,["prevent"])},[o("div",Rv,[f[2]||(f[2]=o("label",{for:"gene_list"},"输入基因列表 (每行一个基因或空格分隔):",-1)),be(o("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":f[0]||(f[0]=m=>s.value=m),rows:"10"},null,512),[[Ze,s.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:a}," load example ")]),o("div",Dv,[f[4]||(f[4]=o("label",{for:"per_page"},"每页显示结果数:",-1)),be(o("select",{class:"form-control",id:"per_page","onUpdate:modelValue":f[1]||(f[1]=m=>i.value=m)},[...f[3]||(f[3]=[o("option",{value:"5"},"5",-1),o("option",{value:"10",selected:""},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,i.value,void 0,{number:!0}]])]),f[5]||(f[5]=o("button",{type:"submit",class:"btn btn-primary mt-4"},"提交分析",-1)),r.value?(w(),C("div",Iv,I(r.value),1)):ee("",!0)],32)]))}}),qv=De(Ov,[["__scopeId","data-v-846c266a"]]),Lv={class:"container mt-4"},$v={key:0,class:"card mb-4"},Nv={class:"card-body"},Fv=["src"],Mv={class:"row g-2 align-items-center"},jv={class:"col-auto"},Gv={key:1,class:"text-center py-4"},Uv={key:2},Bv={class:"table-responsive"},Vv={class:"table table-bordered table-hover"},zv={key:0,"aria-label":"Page navigation"},Kv={class:"pagination justify-content-center"},Hv=["aria-disabled"],Jv=["aria-disabled"],Wv={class:"page-item active"},Qv={class:"page-link"},Xv=["aria-disabled"],Yv=["aria-disabled"],Zv={key:3,class:"alert alert-info"},e0={class:"mt-3"},t0=vt({__name:"GoAnnotationResultView",setup(t){const e=$n(),s=L(10),i=L(""),r=L([]),a=L(!1),c=L(1),d=L(0),f=L(""),m=L(!0),g=qe(()=>Math.ceil(d.value/s.value)),_=()=>{c.value=1,b()},p=v=>{c.value=v,b()},b=async()=>{a.value=!0;const v=e.query.gene_list||"";i.value=v,console.log("=== GO注释结果页面调试信息 ==="),console.log("路由参数:",e.query),console.log("获取的gene_list参数:",v),console.log("gene_list参数长度:",v.length),console.log("当前页码:",c.value),console.log("每页显示条数:",s.value);try{if(!v){console.log("没有获取到gene_list参数"),r.value=[],d.value=0,f.value="",m.value=!1;return}console.log("准备调用API");const y=await Ye.get("/tools/go_annotation/",{params:{gene_id:v,per_page:s.value,page:c.value,api:"true"}});if(console.log("API调用成功"),console.log("API响应数据:",y),y&&y.success){console.log("API响应成功");const E=y.data;console.log("数据对象:",E),console.log("结果数组:",E.results),console.log("结果数量:",E.results?E.results.length:0),console.log("是否有图表:",E.chart?"是":"否"),r.value=E.results||[],d.value=E.results.length||0,f.value=E.chart||"",m.value=r.value.length>0,console.log("是否有结果:",m.value)}else console.log("API响应失败或success为false"),console.log("响应数据:",y),r.value=[],d.value=0,f.value="",m.value=!1}catch(y){console.error("加载结果失败:",y),r.value=[],d.value=0,f.value="",m.value=!1}finally{a.value=!1}};return Mt(()=>{b()}),(v,y)=>{const E=tt("router-link");return w(),C("div",Lv,[y[12]||(y[12]=o("h2",{class:"mb-4"},"GO注释结果",-1)),f.value?(w(),C("div",$v,[o("div",Nv,[y[5]||(y[5]=o("h5",{class:"card-title"},"GO注释分布",-1)),o("img",{src:`data:image/png;base64,${f.value}`,alt:"GO Annotation Chart",class:"img-fluid"},null,8,Fv)])])):ee("",!0),o("form",{onSubmit:he(_,["prevent"]),class:"mb-3"},[o("div",Mv,[y[7]||(y[7]=o("div",{class:"col-auto"},[o("label",{for:"per_page",class:"col-form-label"},"每页显示:")],-1)),o("div",jv,[be(o("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":y[0]||(y[0]=x=>s.value=x)},[...y[6]||(y[6]=[o("option",{value:"5"},"5",-1),o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,s.value,void 0,{number:!0}]])]),y[8]||(y[8]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"条记录")],-1))])],32),a.value?(w(),C("div",Gv,[...y[9]||(y[9]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])])):r.value.length>0?(w(),C("div",Uv,[o("div",Bv,[o("table",Vv,[y[10]||(y[10]=o("thead",{class:"bg-light"},[o("tr",null,[o("th",null,"Chr"),o("th",null,"Start"),o("th",null,"End"),o("th",null,"ID"),o("th",null,"GO ID"),o("th",null,"Description"),o("th",null,"Gene Ontology")])],-1)),o("tbody",null,[(w(!0),C(ke,null,Pe(r.value,x=>(w(),C("tr",{key:`${x.ID}-${x.GO_ID}`},[o("td",null,I(x.Chr),1),o("td",null,I(x.Start),1),o("td",null,I(x.End),1),o("td",null,I(x.ID),1),o("td",null,I(x.GO_ID),1),o("td",null,I(x.Description),1),o("td",null,I(x.Gene_Ontology),1)]))),128))])])]),d.value>s.value?(w(),C("nav",zv,[o("ul",Kv,[o("li",{class:Re(["page-item",{disabled:c.value===1}])},[o("a",{class:"page-link",href:"#",onClick:y[1]||(y[1]=he(x=>p(1),["prevent"])),"aria-disabled":c.value===1}," 首页 ",8,Hv)],2),o("li",{class:Re(["page-item",{disabled:c.value===1}])},[o("a",{class:"page-link",href:"#",onClick:y[2]||(y[2]=he(x=>p(c.value-1),["prevent"])),"aria-disabled":c.value===1}," 上一页 ",8,Jv)],2),o("li",Wv,[o("span",Qv," 第 "+I(c.value)+" 页 / 共 "+I(g.value)+" 页 ",1)]),o("li",{class:Re(["page-item",{disabled:c.value===g.value}])},[o("a",{class:"page-link",href:"#",onClick:y[3]||(y[3]=he(x=>p(c.value+1),["prevent"])),"aria-disabled":c.value===g.value}," 下一页 ",8,Xv)],2),o("li",{class:Re(["page-item",{disabled:c.value===g.value}])},[o("a",{class:"page-link",href:"#",onClick:y[4]||(y[4]=he(x=>p(g.value),["prevent"])),"aria-disabled":c.value===g.value}," 末页 ",8,Yv)],2)])])):ee("",!0)])):(w(),C("div",Zv,"暂无注释结果")),o("div",e0,[U(E,{to:"/tools/go-annotation",class:"btn btn-secondary"},{default:oe(()=>[...y[11]||(y[11]=[te("返回",-1)])]),_:1})])])}}}),n0=De(t0,[["__scopeId","data-v-03b3b785"]]),s0={class:"container mt-4"},o0={class:"form-group"},r0={class:"form-group mt-3"},i0={key:0,class:"alert alert-danger mt-3"},a0=vt({__name:"GeneExpressionView",setup(t){const e=Ln(),s=L(""),i=L(""),r=L(""),a=()=>{const d=`Ghjin_A01g000110
Ghjin_A01g000120
Ghjin_A01g000130
Ghjin_A01g000140
Ghjin_A01g000150
Ghjin_A01g000160
Ghjin_A01g000170
Ghjin_A01g000180
Ghjin_A01g000190
`;s.value=d},c=async()=>{if(r.value="",!s.value.trim()){r.value="Please enter gene list";return}try{const d={gene_list:s.value,tissue:i.value};e.push({path:"/tools/gene-expression/results",query:d})}catch(d){r.value="Submission failed, please try again",console.error("Submission failed:",d)}};return(d,f)=>(w(),C("div",s0,[f[6]||(f[6]=o("h2",{class:"mb-4"},"Gene Expression Analysis",-1)),o("form",{onSubmit:he(c,["prevent"])},[o("div",o0,[f[2]||(f[2]=o("label",{for:"gene_list"},"Enter gene list (one gene per line or separated by spaces):",-1)),be(o("textarea",{class:"form-control",id:"gene_list","onUpdate:modelValue":f[0]||(f[0]=m=>s.value=m),rows:"10"},null,512),[[Ze,s.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:a}," Load Example ")]),o("div",r0,[f[4]||(f[4]=o("label",{for:"tissue"},"Select Tissue:",-1)),be(o("select",{class:"form-control",id:"tissue","onUpdate:modelValue":f[1]||(f[1]=m=>i.value=m)},[...f[3]||(f[3]=[Ss('<option value="" data-v-9f7ece36>-- All Tissues --</option><option value="Root" data-v-9f7ece36>Root</option><option value="Stem" data-v-9f7ece36>Stem</option><option value="Cotyledon" data-v-9f7ece36>Cotyledon</option><option value="Leaf" data-v-9f7ece36>Leaf</option><option value="Pholem" data-v-9f7ece36>Pholem</option><option value="Sepal" data-v-9f7ece36>Sepal</option><option value="Bract" data-v-9f7ece36>Bract</option><option value="Petal" data-v-9f7ece36>Petal</option><option value="Anther" data-v-9f7ece36>Anther</option><option value="Stigma" data-v-9f7ece36>Stigma</option><option value="0_DPA_ovules" data-v-9f7ece36>0_DPA_ovules</option><option value="3_DPA_fibers" data-v-9f7ece36>3_DPA_fibers</option><option value="6_DPA_fibers" data-v-9f7ece36>6_DPA_fibers</option><option value="9_DPA_fibers" data-v-9f7ece36>9_DPA_fibers</option><option value="12_DPA_fibers" data-v-9f7ece36>12_DPA_fibers</option><option value="15_DPA_fibers" data-v-9f7ece36>15_DPA_fibers</option><option value="18_DPA_fibers" data-v-9f7ece36>18_DPA_fibers</option><option value="21_DPA_fibers" data-v-9f7ece36>21_DPA_fibers</option><option value="24_DPA_fibers" data-v-9f7ece36>24_DPA_fibers</option><option value="DPA0" data-v-9f7ece36>DPA0</option><option value="5_DPA_ovules" data-v-9f7ece36>5_DPA_ovules</option><option value="10_DPA_ovules" data-v-9f7ece36>10_DPA_ovules</option><option value="20_DPA_ovules" data-v-9f7ece36>20_DPA_ovules</option><option value="Seed" data-v-9f7ece36>Seed</option>',25)])],512),[[St,i.value]])]),f[5]||(f[5]=o("button",{type:"submit",class:"btn btn-primary mt-4"},"Submit Analysis",-1)),r.value?(w(),C("div",i0,I(r.value),1)):ee("",!0)],32)]))}}),l0=De(a0,[["__scopeId","data-v-9f7ece36"]]);qu();const c0={class:"container mt-4"},u0={class:"row g-2 align-items-center"},d0={class:"col-auto"},f0={key:0,class:"text-center py-4"},h0={key:1},p0={class:"table-responsive"},m0={class:"table table-bordered table-hover"},g0={class:"bg-light"},_0={key:0},v0={key:1},b0={class:"mt-4"},y0={key:0,class:"heatmap-container mt-3 text-center"},w0={class:"mt-2"},k0=["src"],E0={key:1,class:"alert alert-info text-center mt-3"},C0={key:0,"aria-label":"Page navigation"},x0={class:"pagination justify-content-center"},S0=["aria-disabled"],A0=["aria-disabled"],T0={class:"page-item active"},P0={class:"page-link"},R0=["aria-disabled"],D0=["aria-disabled"],I0={key:2,class:"alert alert-info"},O0={class:"mt-3"},q0=vt({__name:"GeneExpressionResultView",setup(t){const e=$n(),s=L(10),i=L(""),r=L(""),a=L([]),c=L(!1),d=L(1),f=L(0),m=L("");L(null),L(null);const g=[{value:"Root",label:"Root"},{value:"Stem",label:"Stem"},{value:"Cotyledon",label:"Cotyledon"},{value:"Leaf",label:"Leaf"},{value:"Pholem",label:"Pholem"},{value:"Sepal",label:"Sepal"},{value:"Bract",label:"Bract"},{value:"Petal",label:"Petal"},{value:"Anther",label:"Anther"},{value:"Stigma",label:"Stigma"},{value:"0_DPA_ovules",label:"0_DPA_ovules"},{value:"3_DPA_fibers",label:"3_DPA_fibers"},{value:"6_DPA_fibers",label:"6_DPA_fibers"},{value:"9_DPA_fibers",label:"9_DPA_fibers"},{value:"12_DPA_fibers",label:"12_DPA_fibers"},{value:"15_DPA_fibers",label:"15_DPA_fibers"},{value:"18_DPA_fibers",label:"18_DPA_fibers"},{value:"21_DPA_fibers",label:"21_DPA_fibers"},{value:"24_DPA_fibers",label:"24_DPA_fibers"},{value:"DPA0",label:"DPA0"},{value:"5_DPA_ovules",label:"5_DPA_ovules"},{value:"10_DPA_ovules",label:"10_DPA_ovules"},{value:"20_DPA_ovules",label:"20_DPA_ovules"},{value:"Seed",label:"Seed"}],_=qe(()=>{const R=e.query.tissue||"";if(R){const q=g.find(j=>j.value===R);return q?[q]:g}else return g}),p=qe(()=>Math.ceil(f.value/s.value)),b=qe(()=>a.value.map(R=>({gene_id:R.gene_id,expression:R.expression}))),v=()=>{d.value=1,x()},y=R=>{d.value=R,x()},E=()=>{if(!m.value){alert("No heatmap available for download");return}const R=document.createElement("a");R.href=`data:image/png;base64,${m.value}`,R.download="gene_expression_heatmap.png",document.body.appendChild(R),R.click(),document.body.removeChild(R)};dn([a,_,b],()=>{console.log("数据变化，热图将通过API重新获取")},{deep:!0});const x=async()=>{c.value=!0;try{const R=e.query.gene_list||"",q=e.query.tissue||"";i.value=R,r.value=q;const j=R.trim().split(/[,\s]+/).filter(T=>T.trim());if(j.length===0){a.value=[],f.value=0,m.value="",c.value=!1;return}console.log("用户输入的基因ID:",j);let V=[`gene_ids=${encodeURIComponent(j.join(`
`))}`];r.value?V.push(`top_columns=${encodeURIComponent(r.value)}`):["Root","Stem","Cotyledon","Leaf","Pholem","Sepal","Bract","Petal","Anther","Stigma","0_DPA_ovules","3_DPA_fibers","6_DPA_fibers","9_DPA_fibers","12_DPA_fibers","15_DPA_fibers","18_DPA_fibers","21_DPA_fibers","24_DPA_fibers","DPA0","5_DPA_ovules","10_DPA_ovules","20_DPA_ovules","Seed"].forEach(F=>{V.push(`top_columns=${encodeURIComponent(F)}`)});const B=V.join("&"),W=await Ye.post("/tools/gene_expression/gene_expression/",B,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});console.log("API响应:",W);const H=W;if(H.success){const T=H.data,F=j.map($=>{const J=T.gene_ids?.indexOf($)??-1;if(J>=0){const ge={};return T.columns?.forEach((je,He)=>{ge[je]=T.heatmap_data?.[J]?.[He]||0}),{gene_id:$,gene_name:$,expression:ge}}else return{gene_id:$,gene_name:$,expression:{}}});a.value=F,f.value=F.length,m.value=T.heatmap_image,console.log("处理后的结果数据:",a.value),console.log("后端生成的热图:",m.value?"已获取":"未获取")}else console.error("API请求失败:",H.error),a.value=[],f.value=0,m.value=""}catch(R){console.error("加载结果失败:",R),a.value=[],f.value=0,m.value=""}finally{c.value=!1}};return Mt(()=>{x()}),(R,q)=>{const j=tt("router-link");return w(),C("div",c0,[q[13]||(q[13]=o("h2",{class:"mb-4"},"Gene Expression Analysis Results",-1)),o("form",{onSubmit:he(v,["prevent"]),class:"mb-3"},[o("div",u0,[q[6]||(q[6]=o("div",{class:"col-auto"},[o("label",{for:"per_page",class:"col-form-label"},"Results per page:")],-1)),o("div",d0,[be(o("select",{name:"per_page",id:"per_page",class:"form-select","onUpdate:modelValue":q[0]||(q[0]=V=>s.value=V)},[...q[5]||(q[5]=[o("option",{value:"5"},"5",-1),o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],512),[[St,s.value,void 0,{number:!0}]])]),q[7]||(q[7]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"records")],-1))])],32),c.value?(w(),C("div",f0,[...q[8]||(q[8]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"Loading...")],-1)])])):a.value.length>0?(w(),C("div",h0,[o("div",p0,[o("table",m0,[o("thead",g0,[o("tr",null,[q[9]||(q[9]=o("th",null,"Gene ID",-1)),(w(!0),C(ke,null,Pe(_.value,V=>(w(),C("th",{key:V.value},I(V.label),1))),128))])]),o("tbody",null,[(w(!0),C(ke,null,Pe(a.value,V=>(w(),C("tr",{key:V.gene_id},[o("td",null,I(V.gene_id),1),(w(!0),C(ke,null,Pe(_.value,B=>(w(),C("td",{key:B.value},[V.expression[B.value]!==void 0?(w(),C("div",_0,I(V.expression[B.value].toFixed(4)),1)):(w(),C("div",v0,"-"))]))),128))]))),128))])])]),o("div",b0,[q[11]||(q[11]=o("h4",null,"Expression Level Visualization",-1)),m.value?(w(),C("div",y0,[o("div",{class:"d-flex justify-content-between align-items-center mb-2"},[q[10]||(q[10]=o("h5",{class:"mb-0"},"Gene Expression Heatmap",-1)),o("div",null,[o("button",{class:"btn btn-sm btn-primary me-2",onClick:E},"Download Image")])]),o("div",w0,[o("img",{src:`data:image/png;base64,${m.value}`,alt:"Gene Expression Heatmap",class:"img-fluid",style:{"max-width":"100%",height:"auto"}},null,8,k0)])])):b.value.length>0?(w(),C("div",E0," No heatmap image available ")):ee("",!0)]),f.value>s.value?(w(),C("nav",C0,[o("ul",x0,[o("li",{class:Re(["page-item",{disabled:d.value===1}])},[o("a",{class:"page-link",href:"#",onClick:q[1]||(q[1]=he(V=>y(1),["prevent"])),"aria-disabled":d.value===1}," First ",8,S0)],2),o("li",{class:Re(["page-item",{disabled:d.value===1}])},[o("a",{class:"page-link",href:"#",onClick:q[2]||(q[2]=he(V=>y(d.value-1),["prevent"])),"aria-disabled":d.value===1}," Previous ",8,A0)],2),o("li",T0,[o("span",P0," Page "+I(d.value)+" / "+I(p.value),1)]),o("li",{class:Re(["page-item",{disabled:d.value===p.value}])},[o("a",{class:"page-link",href:"#",onClick:q[3]||(q[3]=he(V=>y(d.value+1),["prevent"])),"aria-disabled":d.value===p.value}," Next ",8,R0)],2),o("li",{class:Re(["page-item",{disabled:d.value===p.value}])},[o("a",{class:"page-link",href:"#",onClick:q[4]||(q[4]=he(V=>y(p.value),["prevent"])),"aria-disabled":d.value===p.value}," Last ",8,D0)],2)])])):ee("",!0)])):(w(),C("div",I0,"No expression data available")),o("div",O0,[U(j,{to:"/tools/gene-expression",class:"btn btn-secondary"},{default:oe(()=>[...q[12]||(q[12]=[te("Back",-1)])]),_:1})])])}}}),L0=De(q0,[["__scopeId","data-v-b47390e7"]]),$0={name:"GeneExpressionEfpView",data(){return{geneId:"",lowColor:"#0000FF",midColor:"#00FF00",highColor:"#FF0000",isLoading:!1,resultImage:"",showResultImage:!1,message:"",messageType:"",currentRegionsInfo:[],currentImageSize:{width:0,height:0},mappedRegions:[],tooltipVisible:!1,tooltipContent:{name:"",value:""},tooltipStyle:{left:"0px",top:"0px"}}},mounted(){document.getElementById("gene_id").addEventListener("keypress",t=>{t.key==="Enter"&&this.generateImage()}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{fillExample(){const t="Ghjin_A01g000040";this.geneId=t},generateImage(){if(!this.geneId.trim()){this.showMessage("请输入基因ID","error");return}this.isLoading=!0,this.showResultImage=!1,this.hideMessage();const t={gene_id:this.geneId.trim(),low_color:this.lowColor,mid_color:this.midColor,high_color:this.highColor};fetch("/tools/gene_expression_in_eFP/generate-thermal-image/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":this.getCookie("csrftoken")},body:JSON.stringify(t)}).then(e=>e.ok?e.json():e.text().then(s=>{throw new Error(`HTTP错误 ${e.status}`)})).then(e=>{e.success?(this.currentRegionsInfo=e.regions_info||[],this.currentImageSize={width:e.image_width||0,height:e.image_height||0},this.resultImage=e.image,this.showResultImage=!0):this.showMessage("错误: "+e.error,"error")}).catch(e=>{this.showMessage("请求失败: "+e.message,"error")}).finally(()=>{this.isLoading=!1})},onImageLoad(){this.currentRegionsInfo.length>0&&this.currentImageSize.width>0&&this.createImageMap()},createImageMap(){const t=document.getElementById("result-image");if(!t||!t.complete||t.naturalWidth===0)return;const e=t.offsetWidth,s=t.offsetHeight,i=this.currentImageSize.width>0?e/this.currentImageSize.width:1,r=this.currentImageSize.height>0?s/this.currentImageSize.height:1;this.mappedRegions=this.currentRegionsInfo.filter(a=>a.polygon&&a.polygon.length>=3).map(a=>({coords:a.polygon.map(f=>[Math.round(f[0]*i),Math.round(f[1]*r)]).map(f=>`${f[0]},${f[1]}`).join(","),name:a.name,title:`${a.name}: ${typeof a.value=="number"?a.value.toFixed(4):a.value}`,value:a.value}))},showTooltip(t,e){let s;typeof e.value=="number"?s=e.value.toFixed(4):s=e.value,this.tooltipContent={name:e.name,value:s},this.tooltipVisible=!0,this.moveTooltip(t)},moveTooltip(t){const e=document.getElementById("result-image");if(!e||!e.complete||e.naturalWidth===0)return;e.getBoundingClientRect();const s=e.parentElement.getBoundingClientRect(),i=t.clientX-s.left+15,r=t.clientY-s.top+15;this.tooltipStyle={left:`${i}px`,top:`${r}px`}},hideTooltip(){this.tooltipVisible=!1},showMessage(t,e){this.message=t,this.messageType=e},hideMessage(){this.message=""},hideInitialImage(){},getCookie(t){let e=null;if(document.cookie&&document.cookie!==""){const s=document.cookie.split(";");for(let i=0;i<s.length;i++){const r=s[i].trim();if(r.substring(0,t.length+1)===t+"="){e=decodeURIComponent(r.substring(t.length+1));break}}}return e},updateColorBox(t,e){e==="low"?this.lowColor=t.target.value:e==="mid"?this.midColor=t.target.value:e==="high"&&(this.highColor=t.target.value),console.log(`Color updated: ${e} = ${t.target.value}`)},triggerColorInput(t){document.getElementById(`${t}-color`).click()},handleResize(){this.showResultImage&&this.currentRegionsInfo.length>0&&this.createImageMap()}}},N0={class:"container"},F0={class:"input-group"},M0=["disabled"],j0={key:0,class:"loading",id:"loading"},G0={class:"color-picker-group"},U0={class:"color-picker"},B0={class:"color-picker"},V0={class:"color-picker"},z0={id:"result"},K0={class:"image-container"},H0=["src"],J0={name:"regionMap",id:"regionMap"},W0=["coords","alt","title","onMouseenter"];function Q0(t,e,s,i,r,a){return w(),C("div",N0,[e[20]||(e[20]=o("h1",null,"gene_expression_in_eFP",-1)),o("div",F0,[be(o("input",{type:"text",id:"gene_id","onUpdate:modelValue":e[0]||(e[0]=c=>r.geneId=c),placeholder:"请输入基因ID，例如: Gh_A01G0001",autocomplete:"off"},null,512),[[Ze,r.geneId]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",id:"fillExample",onClick:e[1]||(e[1]=(...c)=>a.fillExample&&a.fillExample(...c))}," load example "),o("button",{onClick:e[2]||(e[2]=(...c)=>a.generateImage&&a.generateImage(...c)),id:"generate-btn",disabled:r.isLoading}," 生成热图 ",8,M0),r.isLoading?(w(),C("span",j0,"正在生成热图...")):ee("",!0)]),o("div",G0,[o("div",U0,[e[16]||(e[16]=o("label",{for:"low-color"},"低值:",-1)),be(o("input",{type:"color",id:"low-color","onUpdate:modelValue":e[3]||(e[3]=c=>r.lowColor=c),class:"color-input",onChange:e[4]||(e[4]=c=>a.updateColorBox(c,"low"))},null,544),[[Ze,r.lowColor]]),o("div",{class:"color-box",style:ys({backgroundColor:r.lowColor}),onClick:e[5]||(e[5]=c=>a.triggerColorInput("low"))},null,4)]),o("div",B0,[e[17]||(e[17]=o("label",{for:"mid-color"},"中值:",-1)),be(o("input",{type:"color",id:"mid-color","onUpdate:modelValue":e[6]||(e[6]=c=>r.midColor=c),class:"color-input",onChange:e[7]||(e[7]=c=>a.updateColorBox(c,"mid"))},null,544),[[Ze,r.midColor]]),o("div",{class:"color-box",style:ys({backgroundColor:r.midColor}),onClick:e[8]||(e[8]=c=>a.triggerColorInput("mid"))},null,4)]),o("div",V0,[e[18]||(e[18]=o("label",{for:"high-color"},"高值:",-1)),be(o("input",{type:"color",id:"high-color","onUpdate:modelValue":e[9]||(e[9]=c=>r.highColor=c),class:"color-input",onChange:e[10]||(e[10]=c=>a.updateColorBox(c,"high"))},null,544),[[Ze,r.highColor]]),o("div",{class:"color-box",style:ys({backgroundColor:r.highColor}),onClick:e[11]||(e[11]=c=>a.triggerColorInput("high"))},null,4)])]),r.showResultImage?ee("",!0):(w(),C("img",{key:0,id:"initial-image",src:ba,alt:"初始热图模板",onError:e[12]||(e[12]=(...c)=>a.hideInitialImage&&a.hideInitialImage(...c))},null,32)),r.message?(w(),C("div",{key:1,id:"message",class:Re(r.messageType)},I(r.message),3)):ee("",!0),o("div",z0,[o("div",K0,[r.showResultImage?(w(),C("img",{key:0,id:"result-image",src:r.resultImage,alt:"热图结果",usemap:"#regionMap",onLoad:e[13]||(e[13]=(...c)=>a.onImageLoad&&a.onImageLoad(...c))},null,40,H0)):ee("",!0),o("map",J0,[(w(!0),C(ke,null,Pe(r.mappedRegions,(c,d)=>(w(),C("area",{key:d,shape:"poly",coords:c.coords,alt:c.name,title:c.title,onMouseenter:f=>a.showTooltip(f,c),onMousemove:e[14]||(e[14]=f=>a.moveTooltip(f)),onMouseleave:e[15]||(e[15]=(...f)=>a.hideTooltip&&a.hideTooltip(...f))},null,40,W0))),128))]),r.tooltipVisible?(w(),C("div",{key:1,id:"tooltip",class:"tooltip",style:ys(r.tooltipStyle)},[o("strong",null,I(r.tooltipContent.name),1),e[19]||(e[19]=o("br",null,null,-1)),te(" 表达值: "+I(r.tooltipContent.value),1)],4)):ee("",!0)])])])}const X0=De($0,[["render",Q0],["__scopeId","data-v-ee61d65d"]]),Y0={class:"container mt-4"},Z0={class:"form-group"},eb=["disabled"],tb=["disabled"],nb={class:"d-flex justify-content-end mt-3"},sb=["disabled"],ob={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},rb={key:1},ib={__name:"KeggAnnotationView",setup(t){const e=L(""),s=L(!1),i=Ln(),r=()=>{const c=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230`;e.value=c},a=async()=>{if(!e.value.trim()){alert("Please enter gene IDs");return}s.value=!0;try{const c=await Ye.post("/tools/kegg_annotation/api/start/",{gene_id:e.value});c.status==="success"&&c.task_id?i.push({path:"/tools/kegg-annotation/results",query:{task_id:c.task_id}}):alert("Error: "+(c.error||"Failed to get task ID"))}catch(c){console.error("Error submitting form:",c),alert("Error submitting form: "+(c.message||"Unknown error"))}finally{s.value=!1}};return(c,d)=>(w(),C("div",Y0,[d[2]||(d[2]=o("h2",null,"KEGG Annotation Search",-1)),o("form",{onSubmit:he(a,["prevent"])},[o("div",Z0,[d[1]||(d[1]=o("label",{for:"gene_id"},"Enter Gene IDs (one per line or space/comma separated):",-1)),be(o("textarea",{id:"gene_id","onUpdate:modelValue":d[0]||(d[0]=f=>e.value=f),class:"form-control",rows:"5",disabled:s.value},null,8,eb),[[Ze,e.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",id:"fillExample",onClick:r,disabled:s.value}," load example ",8,tb)]),o("div",nb,[o("button",{type:"submit",class:"btn btn-primary",disabled:s.value},[s.value?(w(),C("span",ob)):(w(),C("span",rb,"Search"))],8,sb)])],32)]))}},ab=De(ib,[["__scopeId","data-v-6f69a42c"]]);va.register(...Lu);const lb={class:"container mt-4"},cb={class:"d-flex justify-content-between align-items-center mb-4"},ub={key:0,class:"badge bg-info"},db={key:0,class:"text-center py-4"},fb={key:1,class:"alert alert-danger",role:"alert"},hb={key:2,class:"alert alert-warning",role:"alert"},pb={key:3},mb={key:0,class:"mt-5"},gb={class:"row g-2 align-items-center"},_b={class:"col-auto"},vb={class:"card"},bb={class:"card-header d-flex justify-content-between align-items-center"},yb={class:"badge bg-primary"},wb={class:"card-body p-0"},kb={class:"table-responsive"},Eb={class:"table table-striped table-bordered mb-0"},Cb={key:0,"aria-label":"Page navigation"},xb={class:"pagination justify-content-center mt-3 mb-0"},Sb=["onClick"],Ab={key:1,class:"text-center mt-2 mb-3"},Tb={class:"text-muted mb-0"},Pb=vt({__name:"KeggAnnotationResultView",setup(t){const e=$n(),s=L([]),i=L(10),r=L(1),a=L(!0),c=L(null),d=L(!1),f=L(""),m=L(0),g=L(0),_=L(0),p=L(0),b=L({labels:[],data:[]}),v=qe(()=>Math.ceil(g.value/i.value)),y=qe(()=>(r.value-1)*i.value+1),E=qe(()=>Math.min(r.value*i.value,g.value)),x=qe(()=>{const H=(r.value-1)*i.value,T=H+i.value;return s.value.slice(H,T)}),R=qe(()=>{const H=v.value,T=r.value,F=[];if(H<=5)for(let $=1;$<=H;$++)F.push($);else if(T<=3)for(let $=1;$<=5;$++)F.push($);else if(T>=H-2)for(let $=H-4;$<=H;$++)F.push($);else for(let $=T-2;$<=T+2;$++)F.push($);return F}),q=()=>{r.value=1,B()},j=()=>{r.value=1,B()},V=H=>{H<1||H>v.value||(r.value=H,B())},B=async()=>{d.value=!0;try{const H=e.query.task_id;if(!H){f.value="缺少任务ID",a.value=!1;return}const T=await Ye.get("/tools/kegg_annotation/api/results/",{params:{task_id:H,page_size:i.value,page:r.value}});console.log("KEGG注释API响应:",T),T&&T.status==="success"?(s.value=T.results||[],g.value=T.total||0,_.value=T.total_genes||0,p.value=T.annotated_genes||0,T.chart_data?b.value={labels:T.chart_data.labels||[],data:T.chart_data.data||[]}:b.value={labels:[],data:[]},a.value=s.value.length>0,console.log("KEGG注释结果:",s.value),console.log("图表数据:",b.value),console.log("图表标签数量:",b.value.labels.length),console.log("图表数据数量:",b.value.data.length),W()):T&&T.status==="processing"?setTimeout(()=>B(),1e3):(f.value=T.error||"获取结果失败",a.value=!1)}catch(H){f.value="获取结果失败: "+(H.message||H),console.error("Error fetching results:",H),a.value=!1}finally{d.value=!1}},W=()=>{console.log("渲染KEGG通路分布图表..."),console.log("图表数据:",b.value);const H=document.getElementById("keggChart");if(!H){console.error("没有找到keggChart元素");return}if(c.value&&(c.value.destroy(),c.value=null),!b.value.labels||b.value.labels.length===0){console.log("没有图表数据，不渲染图表");return}c.value=new va(H,{type:"bar",data:{labels:b.value.labels,datasets:[{label:"",data:b.value.data,backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Count"}},x:{title:{display:!0,text:""}}}}})};return dn(()=>b.value,async H=>{H&&H.labels&&H.labels.length>0&&(await ha(),W())},{deep:!0}),Mt(async()=>{await B()}),(H,T)=>{const F=tt("router-link");return w(),C("div",lb,[o("div",cb,[T[5]||(T[5]=o("h2",null,"KEGG Annotation Results",-1)),m.value?(w(),C("span",ub,"Executed in "+I(m.value)+" seconds",1)):ee("",!0)]),U(F,{to:"/tools/kegg-annotation",class:"btn btn-secondary mb-4"},{default:oe(()=>[...T[6]||(T[6]=[te("返回搜索",-1)])]),_:1}),d.value?(w(),C("div",db,[...T[7]||(T[7]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])])):f.value?(w(),C("div",fb,I(f.value),1)):a.value?(w(),C("div",pb,[b.value.labels&&b.value.labels.length>0?(w(),C("div",mb,[...T[8]||(T[8]=[o("h3",null,"KEGG Pathway",-1),o("div",{class:"chart-container",style:{height:"400px"}},[o("canvas",{id:"keggChart"})],-1)])])):ee("",!0),o("form",{onSubmit:he(q,["prevent"]),class:"mb-3"},[o("div",gb,[T[10]||(T[10]=o("div",{class:"col-auto"},[o("label",{for:"pageSize",class:"col-form-label"},"每页显示:")],-1)),o("div",_b,[be(o("select",{id:"pageSize","onUpdate:modelValue":T[0]||(T[0]=$=>i.value=$),class:"form-select",onChange:j},[...T[9]||(T[9]=[o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1),o("option",{value:"100"},"100",-1)])],544),[[St,i.value,void 0,{number:!0}]])]),T[11]||(T[11]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"条记录")],-1))])],32),o("div",vb,[o("div",bb,[T[12]||(T[12]=o("span",null,"Annotation Results",-1)),o("span",yb,I(g.value)+" results",1)]),o("div",wb,[o("div",kb,[o("table",Eb,[T[13]||(T[13]=o("thead",null,[o("tr",null,[o("th",null,"Chr"),o("th",null,"Start"),o("th",null,"End"),o("th",null,"ID"),o("th",null,"KO"),o("th",null,"Pathway Name")])],-1)),o("tbody",null,[(w(!0),C(ke,null,Pe(x.value,$=>(w(),C("tr",{key:$.ID},[o("td",null,I($.Chr),1),o("td",null,I($.Start),1),o("td",null,I($.End),1),o("td",null,I($.ID),1),o("td",null,I($.match),1),o("td",null,I($.Description),1)]))),128))])])]),v.value>1?(w(),C("nav",Cb,[o("ul",xb,[o("li",{class:Re(["page-item",{disabled:r.value===1}])},[o("a",{class:"page-link",href:"#",onClick:T[1]||(T[1]=he($=>V(1),["prevent"]))}," 首页 ")],2),o("li",{class:Re(["page-item",{disabled:r.value===1}])},[o("a",{class:"page-link",href:"#",onClick:T[2]||(T[2]=he($=>V(r.value-1),["prevent"]))}," 上一页 ")],2),(w(!0),C(ke,null,Pe(R.value,$=>(w(),C("li",{key:$,class:Re(["page-item",{active:$===r.value}])},[o("a",{class:"page-link",href:"#",onClick:he(J=>V($),["prevent"])},I($),9,Sb)],2))),128)),o("li",{class:Re(["page-item",{disabled:r.value===v.value}])},[o("a",{class:"page-link",href:"#",onClick:T[3]||(T[3]=he($=>V(r.value+1),["prevent"]))}," 下一页 ")],2),o("li",{class:Re(["page-item",{disabled:r.value===v.value}])},[o("a",{class:"page-link",href:"#",onClick:T[4]||(T[4]=he($=>V(v.value),["prevent"]))}," 末页 ")],2)])])):ee("",!0),v.value>1?(w(),C("div",Ab,[o("p",Tb," Showing "+I(y.value)+" to "+I(E.value)+" of "+I(g.value)+" entries ",1)])):ee("",!0)])])])):(w(),C("div",hb," No results found. Please try with different gene IDs. "))])}}}),Rb=De(Pb,[["__scopeId","data-v-7cf733fe"]]),Db={class:"container mt-4"},Ib={class:"form-group"},Ob=["disabled"],qb=["disabled"],Lb={class:"row g-3 mt-3"},$b={class:"col-md-6"},Nb=["disabled"],Fb={class:"col-md-6"},Mb=["disabled"],jb={class:"d-flex justify-content-end mt-3"},Gb=["disabled"],Ub={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Bb={key:1},Vb=vt({__name:"KeggEnrichmentView",setup(t){const e=L(""),s=L(.05),i=L(.05),r=L(!1),a=Ln(),c=()=>{const f=`Kirkii_Juiced.00g000010
Kirkii_Juiced.00g000020
Kirkii_Juiced.00g000030
Kirkii_Juiced.00g000040
Kirkii_Juiced.00g000050
Kirkii_Juiced.00g000060
Kirkii_Juiced.00g000070
Kirkii_Juiced.00g000080
Kirkii_Juiced.00g000090
Kirkii_Juiced.00g000100
Kirkii_Juiced.00g000110
Kirkii_Juiced.00g000120
Kirkii_Juiced.00g000130
Kirkii_Juiced.00g000140
Kirkii_Juiced.00g000150
Kirkii_Juiced.00g000160
Kirkii_Juiced.00g000170
Kirkii_Juiced.00g000180
Kirkii_Juiced.00g000190
Kirkii_Juiced.00g000200
Kirkii_Juiced.00g000210
Kirkii_Juiced.00g000220
Kirkii_Juiced.00g000230
Kirkii_Juiced.00g000240
Kirkii_Juiced.00g000250
Kirkii_Juiced.00g000260
Kirkii_Juiced.00g000270
Kirkii_Juiced.00g000280
Kirkii_Juiced.00g000290
Kirkii_Juiced.00g000300`;e.value=f},d=async()=>{if(!e.value.trim()){alert("请输入基因ID");return}if(s.value<0||s.value>1){alert("P值阈值必须在0到1之间");return}if(i.value<0||i.value>1){alert("Q值阈值必须在0到1之间");return}r.value=!0;try{const f=await Ye.post("/tools/kegg_enrichment/api/start/",{gene_list:e.value,p_value_threshold:s.value});f&&f.status==="success"&&f.task_id&&a.push({path:"/tools/kegg-enrichment/results",query:{task_id:f.task_id}})}catch(f){console.error("提交表单时出错:",f),alert("提交表单时出错: "+(f.message||"未知错误"))}finally{r.value=!1}};return(f,m)=>(w(),C("div",Db,[m[6]||(m[6]=o("h2",null,"KEGG通路富集分析",-1)),o("form",{onSubmit:he(d,["prevent"])},[o("div",Ib,[m[3]||(m[3]=o("label",{for:"gene_list"},"输入基因ID（每行一个或空格/逗号分隔）:",-1)),be(o("textarea",{id:"gene_list","onUpdate:modelValue":m[0]||(m[0]=g=>e.value=g),class:"form-control",rows:"10",placeholder:"请在此输入基因ID...",disabled:r.value},null,8,Ob),[[Ze,e.value]]),o("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:c,disabled:r.value}," 加载示例 ",8,qb)]),o("div",Lb,[o("div",$b,[m[4]||(m[4]=o("label",{for:"p_value_threshold",class:"form-label"},"P值阈值:",-1)),be(o("input",{type:"number",id:"p_value_threshold","onUpdate:modelValue":m[1]||(m[1]=g=>s.value=g),class:"form-control",min:"0",max:"1",step:"0.001",disabled:r.value},null,8,Nb),[[Ze,s.value,void 0,{number:!0}]])]),o("div",Fb,[m[5]||(m[5]=o("label",{for:"q_value_threshold",class:"form-label"},"Q值阈值:",-1)),be(o("input",{type:"number",id:"q_value_threshold","onUpdate:modelValue":m[2]||(m[2]=g=>i.value=g),class:"form-control",min:"0",max:"1",step:"0.001",disabled:r.value},null,8,Mb),[[Ze,i.value,void 0,{number:!0}]])])]),o("div",jb,[o("button",{type:"submit",class:"btn btn-primary",disabled:r.value},[r.value?(w(),C("span",Ub)):(w(),C("span",Bb,"提交"))],8,Gb)])],32)]))}}),zb=De(Vb,[["__scopeId","data-v-2da975a3"]]),Kb={class:"container mt-4"},Hb={key:0,class:"text-center py-4"},Jb={key:1,class:"alert alert-danger",role:"alert"},Wb={key:2},Qb={key:0,class:"alert alert-warning mb-4",role:"alert"},Xb={key:1,class:"mb-4"},Yb={class:"text-center"},Zb=["src"],ey={key:2},ty={class:"row g-2 align-items-center"},ny={class:"col-auto"},sy={class:"mb-5"},oy={class:"text-danger"},ry={class:"text-muted"},iy={class:"table-responsive"},ay={class:"table table-bordered table-hover"},ly=["title"],cy={key:0,"aria-label":"Page navigation"},uy={class:"pagination justify-content-center",id:"pagination-results"},dy={class:"page-item active"},fy={class:"page-link"},hy=vt({__name:"KeggEnrichmentResultView",setup(t){const e=$n(),s=L([]),i=L(10),r=L(1),a=L(!0),c=L(!1),d=L(""),f=L(0),m=L(null),g=L(0),_=qe(()=>Math.ceil(g.value/i.value)),p=qe(()=>{const x=(r.value-1)*i.value,R=x+i.value;return s.value.slice(x,R)}),b=()=>{r.value=1,E()},v=()=>{r.value=1,E()},y=x=>{x<1||x>_.value||(r.value=x,E())},E=async()=>{c.value=!0;try{const x=e.query.task_id;if(!x){d.value="缺少任务ID",a.value=!1;return}const R=await Ye.get("/tools/kegg_enrichment/api/results/",{params:{task_id:x,page_size:i.value,page:r.value}});console.log("KEGG富集API响应:",R),typeof R=="object"&&R!==null?R.status==="success"?(s.value=R.results||[],g.value=R.total||s.value.length,a.value=s.value.length>0,f.value=R.execution_time||0,m.value=R.plot_image||null):R.status==="processing"?setTimeout(()=>E(),1e3):(d.value=R.error||"获取结果失败",a.value=!1):(d.value="无效的API响应",a.value=!1)}catch(x){d.value="获取结果失败: "+(x.message||x),console.error("Error fetching results:",x),a.value=!1}finally{c.value=!1}};return Mt(async()=>{await E()}),(x,R)=>{const q=tt("router-link");return w(),C("div",Kb,[R[13]||(R[13]=o("h2",{class:"mb-4"},"KEGG通路富集分析结果",-1)),U(q,{to:"/tools/kegg-enrichment",class:"btn btn-secondary mb-3"},{default:oe(()=>[...R[5]||(R[5]=[te("返回",-1)])]),_:1}),c.value?(w(),C("div",Hb,[...R[6]||(R[6]=[o("div",{class:"spinner-border",role:"status"},[o("span",{class:"sr-only"},"加载中...")],-1)])])):d.value?(w(),C("div",Jb,I(d.value),1)):(w(),C("div",Wb,[a.value?ee("",!0):(w(),C("div",Qb," 未找到显著的KEGG通路富集结果 ")),m.value?(w(),C("div",Xb,[R[7]||(R[7]=o("h4",{class:"mb-3"},"KEGG Enrichment Plot",-1)),o("div",Yb,[o("img",{src:"data:image/png;base64,"+m.value,alt:"KEGG Enrichment Plot",class:"img-fluid"},null,8,Zb)])])):ee("",!0),a.value?(w(),C("div",ey,[o("form",{onSubmit:he(b,["prevent"]),class:"mb-3",id:"per-page-form"},[o("div",ty,[R[9]||(R[9]=o("div",{class:"col-auto"},[o("label",{for:"pageSize",class:"col-form-label"},"每页显示:")],-1)),o("div",ny,[be(o("select",{id:"pageSize","onUpdate:modelValue":R[0]||(R[0]=j=>i.value=j),class:"form-select",onChange:v},[...R[8]||(R[8]=[o("option",{value:"5"},"5",-1),o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1)])],544),[[St,i.value,void 0,{number:!0}]])]),R[10]||(R[10]=o("div",{class:"col-auto"},[o("span",{class:"form-text"},"条记录")],-1))])],32),o("div",sy,[o("h4",oy,[R[11]||(R[11]=te(" KEGG通路 ",-1)),o("small",ry,"(共 "+I(g.value)+" 条)",1)]),o("div",iy,[o("table",ay,[R[12]||(R[12]=o("thead",{class:"bg-light"},[o("tr",null,[o("th",null,"通路ID"),o("th",null,"描述"),o("th",null,"GeneRatio"),o("th",null,"BgRatio"),o("th",null,"RichFactor"),o("th",null,"FoldEnrichment"),o("th",null,"zScore"),o("th",null,"pvalue")])],-1)),o("tbody",null,[(w(!0),C(ke,null,Pe(p.value,j=>(w(),C("tr",{key:j.pathway_id},[o("td",null,I(j.pathway_id),1),o("td",null,[te(I(j.description.name||"")+" ",1),j.description.definition?(w(),C("i",{key:0,class:"fas fa-info-circle text-muted","data-bs-toggle":"tooltip",title:j.description.definition},null,8,ly)):ee("",!0)]),o("td",null,I(j.gene_ratio),1),o("td",null,I(j.bg_ratio),1),o("td",null,I(j.rich_factor.toFixed(4)),1),o("td",null,I(j.fold_enrichment.toFixed(4)),1),o("td",null,I(j.z_score.toFixed(4)),1),o("td",null,I(j.p_value.toFixed(6)),1)]))),128))])])]),_.value>1?(w(),C("nav",cy,[o("ul",uy,[o("li",{class:Re(["page-item",{disabled:r.value===1}])},[o("a",{class:"page-link",href:"#",onClick:R[1]||(R[1]=he(j=>y(1),["prevent"]))}," 首页 ")],2),o("li",{class:Re(["page-item",{disabled:r.value===1}])},[o("a",{class:"page-link",href:"#",onClick:R[2]||(R[2]=he(j=>y(r.value-1),["prevent"]))}," 上一页 ")],2),o("li",dy,[o("span",fy," 第 "+I(r.value)+" 页 / 共 "+I(_.value)+" 页 ",1)]),o("li",{class:Re(["page-item",{disabled:r.value===_.value}])},[o("a",{class:"page-link",href:"#",onClick:R[3]||(R[3]=he(j=>y(r.value+1),["prevent"]))}," 下一页 ")],2),o("li",{class:Re(["page-item",{disabled:r.value===_.value}])},[o("a",{class:"page-link",href:"#",onClick:R[4]||(R[4]=he(j=>y(_.value),["prevent"]))}," 末页 ")],2)])])):ee("",!0)])])):ee("",!0)]))])}}}),py=De(hy,[["__scopeId","data-v-67ac7871"]]),my={name:"TFView",components:{QuestionFilled:jo,VideoPlay:Mo,Search:pa},setup(){const t=L([]),e=L({multiple:!1,checkStrictly:!1,expandTrigger:"click",showAllLevels:!1}),s=L([]),i=L(!1),r=async()=>{i.value=!0;try{const W=await(await fetch("/Browse/api/species/")).json();if(W.status==="success"){const H=W.data;console.log("speciesData:",H);const T={};H.forEach(F=>{const $=F.Genome_type||"undefined";T[$]||(T[$]=[]),T[$].push({value:F.name||F.Cotton_Species,label:F.name||F.Cotton_Species})}),console.log("genomes:",T),s.value=Object.entries(T).map(([F,$])=>({value:F,label:F,children:$}))}}catch(B){console.error("Error fetching genomes:",B)}finally{i.value=!1}},a=L([]),c=L([]),d=L(""),f=L(1),m=L(10),g=L(0),_=L(!1),p=qe(()=>{const B=(f.value-1)*m.value,W=B+m.value;return c.value.slice(B,W)}),b=async()=>{try{const W=await(await fetch("/Browse/api/tf/families/")).json();W.status==="success"&&(a.value=W.data.map((H,T)=>({name:H.name,count:H.count,checked:T===0})),v())}catch(B){console.error("Error fetching TF families:",B)}},v=async()=>{_.value=!0;try{const B=new URLSearchParams;t.value.length>0&&B.append("genome",t.value[t.value.length-1]);const W=a.value.filter(F=>F.checked).map(F=>F.name);W.length>0&&B.append("family",W.join(",")),d.value&&B.append("search",d.value);const T=await(await fetch(`/Browse/api/tf/?${B}`)).json();T.status==="success"&&(c.value=T.data,g.value=T.total||0)}catch(B){console.error("Error fetching TF data:",B)}finally{_.value=!1}},y=()=>{f.value=1,v()},E=()=>{f.value=1,v()},x=()=>{f.value=1,v()},R=()=>{},q=()=>{f.value=1},j=B=>{console.log("Selected row:",B)},V=B=>{console.log("Gene link clicked:",B),Jo.push({name:"idSearchResults",query:{id:B}})};return dn(m,()=>{f.value=1}),Mt(()=>{r(),b()}),{selectedGenome:t,genomeOptions:s,genomeLoading:i,cascaderProps:e,tfFamilies:a,searchQuery:d,currentPage:f,pageSize:m,totalCount:g,tfData:c,paginatedTFData:p,loading:_,handleGenomeChange:y,handleFamilyChange:E,handleSearch:x,handlePageChange:R,handlePageSizeChange:q,handleRowClick:j,handleGeneClick:V}}},gy={class:"container-fluid"},_y={class:"row"},vy={class:"col-md-3"},by={class:"sidebar"},yy={class:"mt-4"},wy={class:"sidebar-title"},ky={class:"col-md-9"},Ey={class:"main-content"},Cy={class:"tf-families mt-4"},xy={class:"row"},Sy={class:"tf-table mt-4"},Ay={class:"d-flex justify-content-between align-items-center mb-3"},Ty={class:"table-pagination"},Py={class:"table-search"},Ry={class:"d-flex justify-content-between align-items-center mt-3"},Dy={class:"table-info"};function Iy(t,e,s,i,r,a){const c=tt("QuestionFilled"),d=As,f=tt("VideoPlay"),m=Go,g=ga,_=Lo,p=ma,b=No,v=Fo,y=_a,E=$o;return w(),C("div",gy,[o("div",_y,[o("div",vy,[o("div",by,[o("h3",null,[e[6]||(e[6]=te("Transcription factors ",-1)),U(d,{class:"info-icon"},{default:oe(()=>[U(c)]),_:1})]),o("div",yy,[o("h4",wy,[U(d,{class:"play-icon"},{default:oe(()=>[U(f)]),_:1}),e[7]||(e[7]=te(" Select a genome",-1))]),U(m,{modelValue:i.selectedGenome,"onUpdate:modelValue":e[0]||(e[0]=x=>i.selectedGenome=x),options:i.genomeOptions,props:i.cascaderProps,placeholder:"Select genome",class:"w-100 mt-2",onChange:i.handleGenomeChange,loading:i.genomeLoading},null,8,["modelValue","options","props","onChange","loading"])])])]),o("div",ky,[o("div",Ey,[e[9]||(e[9]=o("h2",null,"Annotated transcription factors",-1)),o("div",Cy,[o("div",xy,[(w(!0),C(ke,null,Pe(i.tfFamilies,x=>(w(),C("div",{class:"col-md-3",key:x.name},[U(g,{modelValue:x.checked,"onUpdate:modelValue":R=>x.checked=R,class:"tf-checkbox",onChange:i.handleFamilyChange},{default:oe(()=>[te(I(x.name)+"("+I(x.count)+") ",1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]))),128))])]),o("div",Sy,[e[8]||(e[8]=o("h4",{class:"table-title"},"Click on a row to check the details of the selected gene",-1)),o("div",Ay,[o("div",Ty,[U(_,{"current-page":i.currentPage,"onUpdate:currentPage":e[1]||(e[1]=x=>i.currentPage=x),"page-size":i.pageSize,"onUpdate:pageSize":[e[2]||(e[2]=x=>i.pageSize=x),i.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"sizes",total:i.totalCount,onCurrentChange:i.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])]),o("div",Py,[U(p,{modelValue:i.searchQuery,"onUpdate:modelValue":e[3]||(e[3]=x=>i.searchQuery=x),placeholder:"Search","prefix-icon":"Search",size:"small",class:"w-100",onInput:i.handleSearch,clearable:""},null,8,["modelValue","onInput"])])]),i.loading?(w(),Dn(b,{key:0,rows:10,animated:""})):(w(),Dn(E,{key:1,data:i.paginatedTFData,style:{width:"100%"},onRowClick:i.handleRowClick,stripe:"",border:""},{default:oe(()=>[U(v,{prop:"TF_name",label:"TF Name","min-width":"50"}),U(v,{prop:"TF_class",label:"TF Class","min-width":"50"}),U(v,{prop:"TF_gene",label:"Gene","min-width":"120"},{default:oe(x=>[U(y,{type:"primary",underline:!1,onClick:R=>i.handleGeneClick(x.row.TF_gene),class:"gene-link"},{default:oe(()=>[te(I(x.row.TF_gene),1)]),_:2},1032,["onClick"])]),_:1}),U(v,{prop:"TF_genome",label:"Genome","min-width":"120"})]),_:1},8,["data","onRowClick"])),o("div",Ry,[o("span",Dy," Showing "+I((i.currentPage-1)*i.pageSize+1)+" to "+I(Math.min(i.currentPage*i.pageSize,i.totalCount))+" of "+I(i.totalCount)+" entries ",1),U(_,{"current-page":i.currentPage,"onUpdate:currentPage":e[4]||(e[4]=x=>i.currentPage=x),"page-size":i.pageSize,"onUpdate:pageSize":[e[5]||(e[5]=x=>i.pageSize=x),i.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:i.totalCount,onCurrentChange:i.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])])])])])])}const Oy=De(my,[["render",Iy],["__scopeId","data-v-70e3e752"]]),qy={name:"TFView",components:{QuestionFilled:jo,VideoPlay:Mo,Search:pa},setup(){const t=L([]),e=L({multiple:!1,checkStrictly:!1,expandTrigger:"click",showAllLevels:!1}),s=L([]),i=L(!1),r=async()=>{i.value=!0;try{const W=await(await fetch("/Browse/api/species/")).json();if(W.status==="success"){const H=W.data;console.log("speciesData:",H);const T={};H.forEach(F=>{const $=F.Genome_type||"undefined";T[$]||(T[$]=[]),T[$].push({value:F.name||F.Cotton_Species,label:F.name||F.Cotton_Species})}),console.log("genomes:",T),s.value=Object.entries(T).map(([F,$])=>({value:F,label:F,children:$}))}}catch(B){console.error("Error fetching genomes:",B)}finally{i.value=!1}},a=L([]),c=L([]),d=L(""),f=L(1),m=L(10),g=L(0),_=L(!1),p=qe(()=>{const B=(f.value-1)*m.value,W=B+m.value;return c.value.slice(B,W)}),b=async()=>{try{const W=await(await fetch("/Browse/api/tf/families/")).json();W.status==="success"&&(a.value=W.data.map((H,T)=>({name:H.name,count:H.count,checked:T===0})),v())}catch(B){console.error("Error fetching TF families:",B)}},v=async()=>{_.value=!0;try{const B=new URLSearchParams;t.value.length>0&&B.append("genome",t.value[t.value.length-1]);const W=a.value.filter(F=>F.checked).map(F=>F.name);W.length>0&&B.append("family",W.join(",")),d.value&&B.append("search",d.value);const T=await(await fetch(`/Browse/api/tf/?${B}`)).json();T.status==="success"&&(c.value=T.data,g.value=T.total||0)}catch(B){console.error("Error fetching TF data:",B)}finally{_.value=!1}},y=()=>{f.value=1,v()},E=()=>{f.value=1,v()},x=()=>{f.value=1,v()},R=()=>{},q=()=>{f.value=1},j=B=>{console.log("Selected row:",B)},V=B=>{console.log("Gene link clicked:",B),Jo.push({name:"idSearchResults",query:{id:B}})};return dn(m,()=>{f.value=1}),Mt(()=>{r(),b()}),{selectedGenome:t,genomeOptions:s,genomeLoading:i,cascaderProps:e,tfFamilies:a,searchQuery:d,currentPage:f,pageSize:m,totalCount:g,tfData:c,paginatedTFData:p,loading:_,handleGenomeChange:y,handleFamilyChange:E,handleSearch:x,handlePageChange:R,handlePageSizeChange:q,handleRowClick:j,handleGeneClick:V}}},Ly={class:"container-fluid"},$y={class:"row"},Ny={class:"col-md-3"},Fy={class:"sidebar"},My={class:"mt-4"},jy={class:"sidebar-title"},Gy={class:"col-md-9"},Uy={class:"main-content"},By={class:"tf-families mt-4"},Vy={class:"row"},zy={class:"tf-table mt-4"},Ky={class:"d-flex justify-content-between align-items-center mb-3"},Hy={class:"table-pagination"},Jy={class:"table-search"},Wy={class:"d-flex justify-content-between align-items-center mt-3"},Qy={class:"table-info"};function Xy(t,e,s,i,r,a){const c=tt("QuestionFilled"),d=As,f=tt("VideoPlay"),m=Go,g=ga,_=Lo,p=ma,b=No,v=Fo,y=_a,E=$o;return w(),C("div",Ly,[o("div",$y,[o("div",Ny,[o("div",Fy,[o("h3",null,[e[6]||(e[6]=te("Transcription factors ",-1)),U(d,{class:"info-icon"},{default:oe(()=>[U(c)]),_:1})]),o("div",My,[o("h4",jy,[U(d,{class:"play-icon"},{default:oe(()=>[U(f)]),_:1}),e[7]||(e[7]=te(" Select a genome",-1))]),U(m,{modelValue:i.selectedGenome,"onUpdate:modelValue":e[0]||(e[0]=x=>i.selectedGenome=x),options:i.genomeOptions,props:i.cascaderProps,placeholder:"Select genome",class:"w-100 mt-2",onChange:i.handleGenomeChange,loading:i.genomeLoading},null,8,["modelValue","options","props","onChange","loading"])])])]),o("div",Gy,[o("div",Uy,[e[9]||(e[9]=o("h2",null,"Annotated transcription factors",-1)),o("div",By,[o("div",Vy,[(w(!0),C(ke,null,Pe(i.tfFamilies,x=>(w(),C("div",{class:"col-md-3",key:x.name},[U(g,{modelValue:x.checked,"onUpdate:modelValue":R=>x.checked=R,class:"tf-checkbox",onChange:i.handleFamilyChange},{default:oe(()=>[te(I(x.name)+"("+I(x.count)+") ",1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]))),128))])]),o("div",zy,[e[8]||(e[8]=o("h4",{class:"table-title"},"Click on a row to check the details of the selected gene",-1)),o("div",Ky,[o("div",Hy,[U(_,{"current-page":i.currentPage,"onUpdate:currentPage":e[1]||(e[1]=x=>i.currentPage=x),"page-size":i.pageSize,"onUpdate:pageSize":[e[2]||(e[2]=x=>i.pageSize=x),i.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"sizes",total:i.totalCount,onCurrentChange:i.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])]),o("div",Jy,[U(p,{modelValue:i.searchQuery,"onUpdate:modelValue":e[3]||(e[3]=x=>i.searchQuery=x),placeholder:"Search","prefix-icon":"Search",size:"small",class:"w-100",onInput:i.handleSearch,clearable:""},null,8,["modelValue","onInput"])])]),i.loading?(w(),Dn(b,{key:0,rows:10,animated:""})):(w(),Dn(E,{key:1,data:i.paginatedTFData,style:{width:"100%"},onRowClick:i.handleRowClick,stripe:"",border:""},{default:oe(()=>[U(v,{prop:"TF_name",label:"TF Name","min-width":"50"}),U(v,{prop:"TF_class",label:"TF Class","min-width":"50"}),U(v,{prop:"TF_gene",label:"Gene","min-width":"120"},{default:oe(x=>[U(y,{type:"primary",underline:!1,onClick:R=>i.handleGeneClick(x.row.TF_gene),class:"gene-link"},{default:oe(()=>[te(I(x.row.TF_gene),1)]),_:2},1032,["onClick"])]),_:1}),U(v,{prop:"TF_genome",label:"Genome","min-width":"120"})]),_:1},8,["data","onRowClick"])),o("div",Wy,[o("span",Qy," Showing "+I((i.currentPage-1)*i.pageSize+1)+" to "+I(Math.min(i.currentPage*i.pageSize,i.totalCount))+" of "+I(i.totalCount)+" entries ",1),U(_,{"current-page":i.currentPage,"onUpdate:currentPage":e[4]||(e[4]=x=>i.currentPage=x),"page-size":i.pageSize,"onUpdate:pageSize":[e[5]||(e[5]=x=>i.pageSize=x),i.handlePageSizeChange],"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:i.totalCount,onCurrentChange:i.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange","onUpdate:pageSize"])])])])])])])}const Yy=De(qy,[["render",Xy],["__scopeId","data-v-18f3e206"]]),Zy={__name:"PrimerView",setup(t){return(e,s)=>(w(),C("div",null,[...s[0]||(s[0]=[o("h1",null,"Primer View",-1)])]))}},Ft={props:["title"],template:`<div class="container mt-4">
    <h1>{{ title }}</h1>
    <p>此页面正在开发中...</p>
  </div>`},e1=[{path:"/",name:"home",component:Ef},{path:"/browse/genome",name:"BrowseGenome",component:Af},{path:"/browse/species",name:"BrowseSpecies",component:()=>({...Ft,propsData:{title:"浏览物种"}})},{path:"/browse/tf",name:"BrowseTF",component:Oy},{path:"/browse/tr",name:"BrowseTR",component:Yy},{path:"/jbrowse",name:"jbrowse",component:Sg},{path:"/tools/id-search",name:"idSearch",component:bp},{path:"/tools/id-search/results",name:"idSearchResults",component:Mm},{path:"/tools/id-search/id-search-summary/",name:"idSearchSummary",component:ug},{path:"/tools/blastp",name:"Blastp",component:Qg},{path:"/tools/blastp/results",name:"blastpResults",component:F_},{path:"/tools/go-enrichment",name:"GoEnrichment",component:W_},{path:"/tools/go-enrichment/results",name:"goEnrichmentResults",component:Tv},{path:"/tools/go-annotation",name:"GoAnnotation",component:qv},{path:"/tools/go-annotation/results",name:"goAnnotationResults",component:n0},{path:"/tools/kegg-annotation",name:"KeggAnnotation",component:ab},{path:"/tools/kegg-annotation/results",name:"KeggAnnotationResults",component:Rb},{path:"/tools/kegg-enrichment",name:"KeggEnrichment",component:zb},{path:"/tools/kegg-enrichment/results",name:"KeggEnrichmentResults",component:py},{path:"/tools/heatmap",name:"Heatmap",component:()=>({...Ft,propsData:{title:"热图分析"}})},{path:"/tools/gene-expression",name:"GeneExpression",component:l0},{path:"/tools/gene-expression/results",name:"geneExpressionResults",component:L0},{path:"/tools/gene-expression-efp",name:"GeneExpressionEfp",component:X0},{path:"/tools/primer-design",name:"PrimerDesign",component:Zy},{path:"/tools/ks-calculator",name:"KsCalculator",component:()=>({...Ft,propsData:{title:"KS计算器"}})},{path:"/tools/ks-calculator/results",name:"KsCalculatorResults",component:()=>({...Ft,propsData:{title:"KS计算器结果"}})},{path:"/tools/orthogroup",name:"Orthogroup",component:()=>({...Ft,propsData:{title:"Orthogroup分析"}})},{path:"/tools/orthogroup/results",name:"OrthogroupResults",component:()=>({...Ft,propsData:{title:"Orthogroup分析结果"}})},{path:"/tools/msa",name:"Msa",component:()=>({...Ft,propsData:{title:"多序列比对"}})},{path:"/tools/msa/results",name:"MsaResults",component:()=>({...Ft,propsData:{title:"多序列比对结果"}})},{path:"/tools/circos",name:"Circos",component:()=>({...Ft,propsData:{title:"Circos可视化"}})},{path:"/tools/circos/results",name:"CircosResults",component:()=>({...Ft,propsData:{title:"Circos可视化结果"}})},{path:"/download",name:"Download",component:Rg},{path:"/contact-us",name:"Contact_us",component:qg},{path:"/about-us",name:"About_us",component:Fg}],Jo=rf({history:Nd("/"),routes:e1});const t1=Symbol();var da;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(da||(da={}));function n1(){const t=Eu(!0),e=t.run(()=>L({}));let s=[],i=[];const r=Cu({install(a){r._a=a,a.provide(t1,r),a.config.globalProperties.$pinia=r,i.forEach(c=>s.push(c)),i=[]},use(a){return this._a?s.push(a):i.push(a),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}const s1=n1(),Wo=xu(Zu),Qo=Me.create({baseURL:"http://localhost:8000",timeout:1e4,withCredentials:!0});Qo.interceptors.request.use(t=>{const e=document.cookie.match(/csrftoken=([^;]+)/)?.[1];return e&&(t.headers["X-CSRFToken"]=e),t},t=>Promise.reject(t));Qo.interceptors.response.use(t=>t,t=>Promise.reject(t));Wo.config.globalProperties.$uuid={v4:nl};Wo.config.globalProperties.$http=Qo;Wo.use(s1).use(Jo).mount("#app");(function(t,e){typeof sl=="object"&&typeof qo<"u"?qo.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).bootstrap=e()})(void 0,function(){const t=new Map,e={set(u,n,l){t.has(u)||t.set(u,new Map);const h=t.get(u);h.has(n)||h.size===0?h.set(n,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(h.keys())[0]}.`)},get:(u,n)=>t.has(u)&&t.get(u).get(n)||null,remove(u,n){if(!t.has(u))return;const l=t.get(u);l.delete(n),l.size===0&&t.delete(u)}},s="transitionend",i=u=>(u&&window.CSS&&window.CSS.escape&&(u=u.replace(/#([^\s"#']+)/g,(n,l)=>`#${CSS.escape(l)}`)),u),r=u=>u==null?`${u}`:Object.prototype.toString.call(u).match(/\s([a-z]+)/i)[1].toLowerCase(),a=u=>{u.dispatchEvent(new Event(s))},c=u=>!(!u||typeof u!="object")&&(u.jquery!==void 0&&(u=u[0]),u.nodeType!==void 0),d=u=>c(u)?u.jquery?u[0]:u:typeof u=="string"&&u.length>0?document.querySelector(i(u)):null,f=u=>{if(!c(u)||u.getClientRects().length===0)return!1;const n=getComputedStyle(u).getPropertyValue("visibility")==="visible",l=u.closest("details:not([open])");if(!l)return n;if(l!==u){const h=u.closest("summary");if(h&&h.parentNode!==l||h===null)return!1}return n},m=u=>!u||u.nodeType!==Node.ELEMENT_NODE||!!u.classList.contains("disabled")||(u.disabled!==void 0?u.disabled:u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false"),g=u=>{if(!document.documentElement.attachShadow)return null;if(typeof u.getRootNode=="function"){const n=u.getRootNode();return n instanceof ShadowRoot?n:null}return u instanceof ShadowRoot?u:u.parentNode?g(u.parentNode):null},_=()=>{},p=u=>{u.offsetHeight},b=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,v=[],y=()=>document.documentElement.dir==="rtl",E=u=>{var n;n=()=>{const l=b();if(l){const h=u.NAME,k=l.fn[h];l.fn[h]=u.jQueryInterface,l.fn[h].Constructor=u,l.fn[h].noConflict=()=>(l.fn[h]=k,u.jQueryInterface)}},document.readyState==="loading"?(v.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of v)l()}),v.push(n)):n()},x=(u,n=[],l=u)=>typeof u=="function"?u.call(...n):l,R=(u,n,l=!0)=>{if(!l)return void x(u);const h=(D=>{if(!D)return 0;let{transitionDuration:N,transitionDelay:G}=window.getComputedStyle(D);const X=Number.parseFloat(N),Y=Number.parseFloat(G);return X||Y?(N=N.split(",")[0],G=G.split(",")[0],1e3*(Number.parseFloat(N)+Number.parseFloat(G))):0})(n)+5;let k=!1;const S=({target:D})=>{D===n&&(k=!0,n.removeEventListener(s,S),x(u))};n.addEventListener(s,S),setTimeout(()=>{k||a(n)},h)},q=(u,n,l,h)=>{const k=u.length;let S=u.indexOf(n);return S===-1?!l&&h?u[k-1]:u[0]:(S+=l?1:-1,h&&(S=(S+k)%k),u[Math.max(0,Math.min(S,k-1))])},j=/[^.]*(?=\..*)\.|.*/,V=/\..*/,B=/::\d+$/,W={};let H=1;const T={mouseenter:"mouseover",mouseleave:"mouseout"},F=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function $(u,n){return n&&`${n}::${H++}`||u.uidEvent||H++}function J(u){const n=$(u);return u.uidEvent=n,W[n]=W[n]||{},W[n]}function ge(u,n,l=null){return Object.values(u).find(h=>h.callable===n&&h.delegationSelector===l)}function je(u,n,l){const h=typeof n=="string",k=h?l:n||l;let S=Ie(u);return F.has(S)||(S=u),[h,k,S]}function He(u,n,l,h,k){if(typeof n!="string"||!u)return;let[S,D,N]=je(n,l,h);n in T&&(D=(ie=>function(re){if(!re.relatedTarget||re.relatedTarget!==re.delegateTarget&&!re.delegateTarget.contains(re.relatedTarget))return ie.call(this,re)})(D));const G=J(u),X=G[N]||(G[N]={}),Y=ge(X,D,S?l:null);if(Y)return void(Y.oneOff=Y.oneOff&&k);const K=$(D,n.replace(j,"")),ue=S?(function(ne,ie,re){return function ae(xe){const Te=ne.querySelectorAll(ie);for(let{target:pe}=xe;pe&&pe!==this;pe=pe.parentNode)for(const _e of Te)if(_e===pe)return Je(xe,{delegateTarget:pe}),ae.oneOff&&O.off(ne,xe.type,ie,re),re.apply(pe,[xe])}})(u,l,D):(function(ne,ie){return function re(ae){return Je(ae,{delegateTarget:ne}),re.oneOff&&O.off(ne,ae.type,ie),ie.apply(ne,[ae])}})(u,D);ue.delegationSelector=S?l:null,ue.callable=D,ue.oneOff=k,ue.uidEvent=K,X[K]=ue,u.addEventListener(N,ue,S)}function $e(u,n,l,h,k){const S=ge(n[l],h,k);S&&(u.removeEventListener(l,S,!!k),delete n[l][S.uidEvent])}function ut(u,n,l,h){const k=n[l]||{};for(const[S,D]of Object.entries(k))S.includes(h)&&$e(u,n,l,D.callable,D.delegationSelector)}function Ie(u){return u=u.replace(V,""),T[u]||u}const O={on(u,n,l,h){He(u,n,l,h,!1)},one(u,n,l,h){He(u,n,l,h,!0)},off(u,n,l,h){if(typeof n!="string"||!u)return;const[k,S,D]=je(n,l,h),N=D!==n,G=J(u),X=G[D]||{},Y=n.startsWith(".");if(S===void 0){if(Y)for(const K of Object.keys(G))ut(u,G,K,n.slice(1));for(const[K,ue]of Object.entries(X)){const ne=K.replace(B,"");N&&!n.includes(ne)||$e(u,G,D,ue.callable,ue.delegationSelector)}}else{if(!Object.keys(X).length)return;$e(u,G,D,S,k?l:null)}},trigger(u,n,l){if(typeof n!="string"||!u)return null;const h=b();let k=null,S=!0,D=!0,N=!1;n!==Ie(n)&&h&&(k=h.Event(n,l),h(u).trigger(k),S=!k.isPropagationStopped(),D=!k.isImmediatePropagationStopped(),N=k.isDefaultPrevented());const G=Je(new Event(n,{bubbles:S,cancelable:!0}),l);return N&&G.preventDefault(),D&&u.dispatchEvent(G),G.defaultPrevented&&k&&k.preventDefault(),G}};function Je(u,n={}){for(const[l,h]of Object.entries(n))try{u[l]=h}catch{Object.defineProperty(u,l,{configurable:!0,get:()=>h})}return u}function Be(u){if(u==="true")return!0;if(u==="false")return!1;if(u===Number(u).toString())return Number(u);if(u===""||u==="null")return null;if(typeof u!="string")return u;try{return JSON.parse(decodeURIComponent(u))}catch{return u}}function We(u){return u.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}const Ge={setDataAttribute(u,n,l){u.setAttribute(`data-bs-${We(n)}`,l)},removeDataAttribute(u,n){u.removeAttribute(`data-bs-${We(n)}`)},getDataAttributes(u){if(!u)return{};const n={},l=Object.keys(u.dataset).filter(h=>h.startsWith("bs")&&!h.startsWith("bsConfig"));for(const h of l){let k=h.replace(/^bs/,"");k=k.charAt(0).toLowerCase()+k.slice(1),n[k]=Be(u.dataset[h])}return n},getDataAttribute:(u,n)=>Be(u.getAttribute(`data-bs-${We(n)}`))};class Ve{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,l){const h=c(l)?Ge.getDataAttribute(l,"config"):{};return{...this.constructor.Default,...typeof h=="object"?h:{},...c(l)?Ge.getDataAttributes(l):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,l=this.constructor.DefaultType){for(const[h,k]of Object.entries(l)){const S=n[h],D=c(S)?"element":r(S);if(!new RegExp(k).test(D))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${h}" provided type "${D}" but expected type "${k}".`)}}}class Le extends Ve{constructor(n,l){super(),(n=d(n))&&(this._element=n,this._config=this._getConfig(l),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,l,h=!0){R(n,l,h)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return e.get(d(n),this.DATA_KEY)}static getOrCreateInstance(n,l={}){return this.getInstance(n)||new this(n,typeof l=="object"?l:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const dt=u=>{let n=u.getAttribute("data-bs-target");if(!n||n==="#"){let l=u.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),n=l&&l!=="#"?l.trim():null}return n?n.split(",").map(l=>i(l)).join(","):null},A={find:(u,n=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(n,u)),findOne:(u,n=document.documentElement)=>Element.prototype.querySelector.call(n,u),children:(u,n)=>[].concat(...u.children).filter(l=>l.matches(n)),parents(u,n){const l=[];let h=u.parentNode.closest(n);for(;h;)l.push(h),h=h.parentNode.closest(n);return l},prev(u,n){let l=u.previousElementSibling;for(;l;){if(l.matches(n))return[l];l=l.previousElementSibling}return[]},next(u,n){let l=u.nextElementSibling;for(;l;){if(l.matches(n))return[l];l=l.nextElementSibling}return[]},focusableChildren(u){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(n,u).filter(l=>!m(l)&&f(l))},getSelectorFromElement(u){const n=dt(u);return n&&A.findOne(n)?n:null},getElementFromSelector(u){const n=dt(u);return n?A.findOne(n):null},getMultipleElementsFromSelector(u){const n=dt(u);return n?A.find(n):[]}},Q=(u,n="hide")=>{const l=`click.dismiss${u.EVENT_KEY}`,h=u.NAME;O.on(document,l,`[data-bs-dismiss="${h}"]`,function(k){if(["A","AREA"].includes(this.tagName)&&k.preventDefault(),m(this))return;const S=A.getElementFromSelector(this)||this.closest(`.${h}`);u.getOrCreateInstance(S)[n]()})},z=".bs.alert",Z=`close${z}`,de=`closed${z}`;class Ee extends Le{static get NAME(){return"alert"}close(){if(O.trigger(this._element,Z).defaultPrevented)return;this._element.classList.remove("show");const n=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),O.trigger(this._element,de),this.dispose()}static jQueryInterface(n){return this.each(function(){const l=Ee.getOrCreateInstance(this);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n](this)}})}}Q(Ee,"close"),E(Ee);const ce='[data-bs-toggle="button"]';class se extends Le{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(n){return this.each(function(){const l=se.getOrCreateInstance(this);n==="toggle"&&l[n]()})}}O.on(document,"click.bs.button.data-api",ce,u=>{u.preventDefault();const n=u.target.closest(ce);se.getOrCreateInstance(n).toggle()}),E(se);const Ce=".bs.swipe",bt=`touchstart${Ce}`,M=`touchmove${Ce}`,Oe=`touchend${Ce}`,ot=`pointerdown${Ce}`,Dt=`pointerup${Ce}`,yt={endCallback:null,leftCallback:null,rightCallback:null},nt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qe extends Ve{constructor(n,l){super(),this._element=n,n&&Qe.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return yt}static get DefaultType(){return nt}static get NAME(){return"swipe"}dispose(){O.off(this._element,Ce)}_start(n){this._supportPointerEvents?this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX):this._deltaX=n.touches[0].clientX}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),x(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=40)return;const l=n/this._deltaX;this._deltaX=0,l&&x(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,ot,n=>this._start(n)),O.on(this._element,Dt,n=>this._end(n)),this._element.classList.add("pointer-event")):(O.on(this._element,bt,n=>this._start(n)),O.on(this._element,M,n=>this._move(n)),O.on(this._element,Oe,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType==="pen"||n.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ze=".bs.carousel",Xo=".data-api",ol="ArrowLeft",rl="ArrowRight",Mn="next",hn="prev",pn="left",ts="right",il=`slide${ze}`,$s=`slid${ze}`,al=`keydown${ze}`,ll=`mouseenter${ze}`,cl=`mouseleave${ze}`,ul=`dragstart${ze}`,dl=`load${ze}${Xo}`,fl=`click${ze}${Xo}`,Yo="carousel",ns="active",Zo=".active",er=".carousel-item",hl=Zo+er,pl={[ol]:ts,[rl]:pn},ml={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},gl={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class mn extends Le{constructor(n,l){super(n,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=A.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Yo&&this.cycle()}static get Default(){return ml}static get DefaultType(){return gl}static get NAME(){return"carousel"}next(){this._slide(Mn)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(hn)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?O.one(this._element,$s,()=>this.cycle()):this.cycle())}to(n){const l=this._getItems();if(n>l.length-1||n<0)return;if(this._isSliding)return void O.one(this._element,$s,()=>this.to(n));const h=this._getItemIndex(this._getActive());if(h===n)return;const k=n>h?Mn:hn;this._slide(k,l[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&O.on(this._element,al,n=>this._keydown(n)),this._config.pause==="hover"&&(O.on(this._element,ll,()=>this.pause()),O.on(this._element,cl,()=>this._maybeEnableCycle())),this._config.touch&&Qe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of A.find(".carousel-item img",this._element))O.on(l,ul,h=>h.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(pn)),rightCallback:()=>this._slide(this._directionToOrder(ts)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Qe(this._element,n)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const l=pl[n.key];l&&(n.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const l=A.findOne(Zo,this._indicatorsElement);l.classList.remove(ns),l.removeAttribute("aria-current");const h=A.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);h&&(h.classList.add(ns),h.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const l=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(n,l=null){if(this._isSliding)return;const h=this._getActive(),k=n===Mn,S=l||q(this._getItems(),h,k,this._config.wrap);if(S===h)return;const D=this._getItemIndex(S),N=K=>O.trigger(this._element,K,{relatedTarget:S,direction:this._orderToDirection(n),from:this._getItemIndex(h),to:D});if(N(il).defaultPrevented||!h||!S)return;const G=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(D),this._activeElement=S;const X=k?"carousel-item-start":"carousel-item-end",Y=k?"carousel-item-next":"carousel-item-prev";S.classList.add(Y),p(S),h.classList.add(X),S.classList.add(X),this._queueCallback(()=>{S.classList.remove(X,Y),S.classList.add(ns),h.classList.remove(ns,Y,X),this._isSliding=!1,N($s)},h,this._isAnimated()),G&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return A.findOne(hl,this._element)}_getItems(){return A.find(er,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return y()?n===pn?hn:Mn:n===pn?Mn:hn}_orderToDirection(n){return y()?n===hn?pn:ts:n===hn?ts:pn}static jQueryInterface(n){return this.each(function(){const l=mn.getOrCreateInstance(this,n);if(typeof n!="number"){if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}}else l.to(n)})}}O.on(document,fl,"[data-bs-slide], [data-bs-slide-to]",function(u){const n=A.getElementFromSelector(this);if(!n||!n.classList.contains(Yo))return;u.preventDefault();const l=mn.getOrCreateInstance(n),h=this.getAttribute("data-bs-slide-to");return h?(l.to(h),void l._maybeEnableCycle()):Ge.getDataAttribute(this,"slide")==="next"?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),O.on(window,dl,()=>{const u=A.find('[data-bs-ride="carousel"]');for(const n of u)mn.getOrCreateInstance(n)}),E(mn);const jn=".bs.collapse",_l=`show${jn}`,vl=`shown${jn}`,bl=`hide${jn}`,yl=`hidden${jn}`,wl=`click${jn}.data-api`,Ns="show",gn="collapse",ss="collapsing",kl=`:scope .${gn} .${gn}`,Fs='[data-bs-toggle="collapse"]',El={parent:null,toggle:!0},Cl={parent:"(null|element)",toggle:"boolean"};class _n extends Le{constructor(n,l){super(n,l),this._isTransitioning=!1,this._triggerArray=[];const h=A.find(Fs);for(const k of h){const S=A.getSelectorFromElement(k),D=A.find(S).filter(N=>N===this._element);S!==null&&D.length&&this._triggerArray.push(k)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return El}static get DefaultType(){return Cl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(k=>k!==this._element).map(k=>_n.getOrCreateInstance(k,{toggle:!1}))),n.length&&n[0]._isTransitioning||O.trigger(this._element,_l).defaultPrevented)return;for(const k of n)k.hide();const l=this._getDimension();this._element.classList.remove(gn),this._element.classList.add(ss),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const h=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ss),this._element.classList.add(gn,Ns),this._element.style[l]="",O.trigger(this._element,vl)},this._element,!0),this._element.style[l]=`${this._element[h]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,bl).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,p(this._element),this._element.classList.add(ss),this._element.classList.remove(gn,Ns);for(const l of this._triggerArray){const h=A.getElementFromSelector(l);h&&!this._isShown(h)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0,this._element.style[n]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ss),this._element.classList.add(gn),O.trigger(this._element,yl)},this._element,!0)}_isShown(n=this._element){return n.classList.contains(Ns)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=d(n.parent),n}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(Fs);for(const l of n){const h=A.getElementFromSelector(l);h&&this._addAriaAndCollapsedClass([l],this._isShown(h))}}_getFirstLevelChildren(n){const l=A.find(kl,this._config.parent);return A.find(n,this._config.parent).filter(h=>!l.includes(h))}_addAriaAndCollapsedClass(n,l){if(n.length)for(const h of n)h.classList.toggle("collapsed",!l),h.setAttribute("aria-expanded",l)}static jQueryInterface(n){const l={};return typeof n=="string"&&/show|hide/.test(n)&&(l.toggle=!1),this.each(function(){const h=_n.getOrCreateInstance(this,l);if(typeof n=="string"){if(h[n]===void 0)throw new TypeError(`No method named "${n}"`);h[n]()}})}}O.on(document,wl,Fs,function(u){(u.target.tagName==="A"||u.delegateTarget&&u.delegateTarget.tagName==="A")&&u.preventDefault();for(const n of A.getMultipleElementsFromSelector(this))_n.getOrCreateInstance(n,{toggle:!1}).toggle()}),E(_n);var rt="top",pt="bottom",mt="right",it="left",os="auto",vn=[rt,pt,mt,it],Qt="start",bn="end",tr="clippingParents",Ms="viewport",yn="popper",nr="reference",js=vn.reduce(function(u,n){return u.concat([n+"-"+Qt,n+"-"+bn])},[]),Gs=[].concat(vn,[os]).reduce(function(u,n){return u.concat([n,n+"-"+Qt,n+"-"+bn])},[]),sr="beforeRead",or="read",rr="afterRead",ir="beforeMain",ar="main",lr="afterMain",cr="beforeWrite",ur="write",dr="afterWrite",fr=[sr,or,rr,ir,ar,lr,cr,ur,dr];function It(u){return u?(u.nodeName||"").toLowerCase():null}function gt(u){if(u==null)return window;if(u.toString()!=="[object Window]"){var n=u.ownerDocument;return n&&n.defaultView||window}return u}function Xt(u){return u instanceof gt(u).Element||u instanceof Element}function wt(u){return u instanceof gt(u).HTMLElement||u instanceof HTMLElement}function Us(u){return typeof ShadowRoot<"u"&&(u instanceof gt(u).ShadowRoot||u instanceof ShadowRoot)}const Bs={name:"applyStyles",enabled:!0,phase:"write",fn:function(u){var n=u.state;Object.keys(n.elements).forEach(function(l){var h=n.styles[l]||{},k=n.attributes[l]||{},S=n.elements[l];wt(S)&&It(S)&&(Object.assign(S.style,h),Object.keys(k).forEach(function(D){var N=k[D];N===!1?S.removeAttribute(D):S.setAttribute(D,N===!0?"":N)}))})},effect:function(u){var n=u.state,l={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,l.popper),n.styles=l,n.elements.arrow&&Object.assign(n.elements.arrow.style,l.arrow),function(){Object.keys(n.elements).forEach(function(h){var k=n.elements[h],S=n.attributes[h]||{},D=Object.keys(n.styles.hasOwnProperty(h)?n.styles[h]:l[h]).reduce(function(N,G){return N[G]="",N},{});wt(k)&&It(k)&&(Object.assign(k.style,D),Object.keys(S).forEach(function(N){k.removeAttribute(N)}))})}},requires:["computeStyles"]};function Ot(u){return u.split("-")[0]}var Yt=Math.max,rs=Math.min,wn=Math.round;function Vs(){var u=navigator.userAgentData;return u!=null&&u.brands&&Array.isArray(u.brands)?u.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function hr(){return!/^((?!chrome|android).)*safari/i.test(Vs())}function kn(u,n,l){n===void 0&&(n=!1),l===void 0&&(l=!1);var h=u.getBoundingClientRect(),k=1,S=1;n&&wt(u)&&(k=u.offsetWidth>0&&wn(h.width)/u.offsetWidth||1,S=u.offsetHeight>0&&wn(h.height)/u.offsetHeight||1);var D=(Xt(u)?gt(u):window).visualViewport,N=!hr()&&l,G=(h.left+(N&&D?D.offsetLeft:0))/k,X=(h.top+(N&&D?D.offsetTop:0))/S,Y=h.width/k,K=h.height/S;return{width:Y,height:K,top:X,right:G+Y,bottom:X+K,left:G,x:G,y:X}}function zs(u){var n=kn(u),l=u.offsetWidth,h=u.offsetHeight;return Math.abs(n.width-l)<=1&&(l=n.width),Math.abs(n.height-h)<=1&&(h=n.height),{x:u.offsetLeft,y:u.offsetTop,width:l,height:h}}function pr(u,n){var l=n.getRootNode&&n.getRootNode();if(u.contains(n))return!0;if(l&&Us(l)){var h=n;do{if(h&&u.isSameNode(h))return!0;h=h.parentNode||h.host}while(h)}return!1}function jt(u){return gt(u).getComputedStyle(u)}function xl(u){return["table","td","th"].indexOf(It(u))>=0}function zt(u){return((Xt(u)?u.ownerDocument:u.document)||window.document).documentElement}function is(u){return It(u)==="html"?u:u.assignedSlot||u.parentNode||(Us(u)?u.host:null)||zt(u)}function mr(u){return wt(u)&&jt(u).position!=="fixed"?u.offsetParent:null}function Gn(u){for(var n=gt(u),l=mr(u);l&&xl(l)&&jt(l).position==="static";)l=mr(l);return l&&(It(l)==="html"||It(l)==="body"&&jt(l).position==="static")?n:l||(function(h){var k=/firefox/i.test(Vs());if(/Trident/i.test(Vs())&&wt(h)&&jt(h).position==="fixed")return null;var S=is(h);for(Us(S)&&(S=S.host);wt(S)&&["html","body"].indexOf(It(S))<0;){var D=jt(S);if(D.transform!=="none"||D.perspective!=="none"||D.contain==="paint"||["transform","perspective"].indexOf(D.willChange)!==-1||k&&D.willChange==="filter"||k&&D.filter&&D.filter!=="none")return S;S=S.parentNode}return null})(u)||n}function Ks(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function Un(u,n,l){return Yt(u,rs(n,l))}function gr(u){return Object.assign({},{top:0,right:0,bottom:0,left:0},u)}function _r(u,n){return n.reduce(function(l,h){return l[h]=u,l},{})}const vr={name:"arrow",enabled:!0,phase:"main",fn:function(u){var n,l=u.state,h=u.name,k=u.options,S=l.elements.arrow,D=l.modifiersData.popperOffsets,N=Ot(l.placement),G=Ks(N),X=[it,mt].indexOf(N)>=0?"height":"width";if(S&&D){var Y=(function(Se,we){return gr(typeof(Se=typeof Se=="function"?Se(Object.assign({},we.rects,{placement:we.placement})):Se)!="number"?Se:_r(Se,vn))})(k.padding,l),K=zs(S),ue=G==="y"?rt:it,ne=G==="y"?pt:mt,ie=l.rects.reference[X]+l.rects.reference[G]-D[G]-l.rects.popper[X],re=D[G]-l.rects.reference[G],ae=Gn(S),xe=ae?G==="y"?ae.clientHeight||0:ae.clientWidth||0:0,Te=ie/2-re/2,pe=Y[ue],_e=xe-K[X]-Y[ne],fe=xe/2-K[X]/2+Te,me=Un(pe,fe,_e),ye=G;l.modifiersData[h]=((n={})[ye]=me,n.centerOffset=me-fe,n)}},effect:function(u){var n=u.state,l=u.options.element,h=l===void 0?"[data-popper-arrow]":l;h!=null&&(typeof h!="string"||(h=n.elements.popper.querySelector(h)))&&pr(n.elements.popper,h)&&(n.elements.arrow=h)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function En(u){return u.split("-")[1]}var Sl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function br(u){var n,l=u.popper,h=u.popperRect,k=u.placement,S=u.variation,D=u.offsets,N=u.position,G=u.gpuAcceleration,X=u.adaptive,Y=u.roundOffsets,K=u.isFixed,ue=D.x,ne=ue===void 0?0:ue,ie=D.y,re=ie===void 0?0:ie,ae=typeof Y=="function"?Y({x:ne,y:re}):{x:ne,y:re};ne=ae.x,re=ae.y;var xe=D.hasOwnProperty("x"),Te=D.hasOwnProperty("y"),pe=it,_e=rt,fe=window;if(X){var me=Gn(l),ye="clientHeight",Se="clientWidth";me===gt(l)&&jt(me=zt(l)).position!=="static"&&N==="absolute"&&(ye="scrollHeight",Se="scrollWidth"),(k===rt||(k===it||k===mt)&&S===bn)&&(_e=pt,re-=(K&&me===fe&&fe.visualViewport?fe.visualViewport.height:me[ye])-h.height,re*=G?1:-1),k!==it&&(k!==rt&&k!==pt||S!==bn)||(pe=mt,ne-=(K&&me===fe&&fe.visualViewport?fe.visualViewport.width:me[Se])-h.width,ne*=G?1:-1)}var we,Ue=Object.assign({position:N},X&&Sl),_t=Y===!0?(function(Tt,at){var Et=Tt.x,Ct=Tt.y,Ne=at.devicePixelRatio||1;return{x:wn(Et*Ne)/Ne||0,y:wn(Ct*Ne)/Ne||0}})({x:ne,y:re},gt(l)):{x:ne,y:re};return ne=_t.x,re=_t.y,G?Object.assign({},Ue,((we={})[_e]=Te?"0":"",we[pe]=xe?"0":"",we.transform=(fe.devicePixelRatio||1)<=1?"translate("+ne+"px, "+re+"px)":"translate3d("+ne+"px, "+re+"px, 0)",we)):Object.assign({},Ue,((n={})[_e]=Te?re+"px":"",n[pe]=xe?ne+"px":"",n.transform="",n))}const Hs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(u){var n=u.state,l=u.options,h=l.gpuAcceleration,k=h===void 0||h,S=l.adaptive,D=S===void 0||S,N=l.roundOffsets,G=N===void 0||N,X={placement:Ot(n.placement),variation:En(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:k,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,br(Object.assign({},X,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:D,roundOffsets:G})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,br(Object.assign({},X,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:G})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}};var as={passive:!0};const Js={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(u){var n=u.state,l=u.instance,h=u.options,k=h.scroll,S=k===void 0||k,D=h.resize,N=D===void 0||D,G=gt(n.elements.popper),X=[].concat(n.scrollParents.reference,n.scrollParents.popper);return S&&X.forEach(function(Y){Y.addEventListener("scroll",l.update,as)}),N&&G.addEventListener("resize",l.update,as),function(){S&&X.forEach(function(Y){Y.removeEventListener("scroll",l.update,as)}),N&&G.removeEventListener("resize",l.update,as)}},data:{}};var Al={left:"right",right:"left",bottom:"top",top:"bottom"};function ls(u){return u.replace(/left|right|bottom|top/g,function(n){return Al[n]})}var Tl={start:"end",end:"start"};function yr(u){return u.replace(/start|end/g,function(n){return Tl[n]})}function Ws(u){var n=gt(u);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Qs(u){return kn(zt(u)).left+Ws(u).scrollLeft}function Xs(u){var n=jt(u),l=n.overflow,h=n.overflowX,k=n.overflowY;return/auto|scroll|overlay|hidden/.test(l+k+h)}function wr(u){return["html","body","#document"].indexOf(It(u))>=0?u.ownerDocument.body:wt(u)&&Xs(u)?u:wr(is(u))}function Bn(u,n){var l;n===void 0&&(n=[]);var h=wr(u),k=h===((l=u.ownerDocument)==null?void 0:l.body),S=gt(h),D=k?[S].concat(S.visualViewport||[],Xs(h)?h:[]):h,N=n.concat(D);return k?N:N.concat(Bn(is(D)))}function Ys(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function kr(u,n,l){return n===Ms?Ys((function(h,k){var S=gt(h),D=zt(h),N=S.visualViewport,G=D.clientWidth,X=D.clientHeight,Y=0,K=0;if(N){G=N.width,X=N.height;var ue=hr();(ue||!ue&&k==="fixed")&&(Y=N.offsetLeft,K=N.offsetTop)}return{width:G,height:X,x:Y+Qs(h),y:K}})(u,l)):Xt(n)?(function(h,k){var S=kn(h,!1,k==="fixed");return S.top=S.top+h.clientTop,S.left=S.left+h.clientLeft,S.bottom=S.top+h.clientHeight,S.right=S.left+h.clientWidth,S.width=h.clientWidth,S.height=h.clientHeight,S.x=S.left,S.y=S.top,S})(n,l):Ys((function(h){var k,S=zt(h),D=Ws(h),N=(k=h.ownerDocument)==null?void 0:k.body,G=Yt(S.scrollWidth,S.clientWidth,N?N.scrollWidth:0,N?N.clientWidth:0),X=Yt(S.scrollHeight,S.clientHeight,N?N.scrollHeight:0,N?N.clientHeight:0),Y=-D.scrollLeft+Qs(h),K=-D.scrollTop;return jt(N||S).direction==="rtl"&&(Y+=Yt(S.clientWidth,N?N.clientWidth:0)-G),{width:G,height:X,x:Y,y:K}})(zt(u)))}function Er(u){var n,l=u.reference,h=u.element,k=u.placement,S=k?Ot(k):null,D=k?En(k):null,N=l.x+l.width/2-h.width/2,G=l.y+l.height/2-h.height/2;switch(S){case rt:n={x:N,y:l.y-h.height};break;case pt:n={x:N,y:l.y+l.height};break;case mt:n={x:l.x+l.width,y:G};break;case it:n={x:l.x-h.width,y:G};break;default:n={x:l.x,y:l.y}}var X=S?Ks(S):null;if(X!=null){var Y=X==="y"?"height":"width";switch(D){case Qt:n[X]=n[X]-(l[Y]/2-h[Y]/2);break;case bn:n[X]=n[X]+(l[Y]/2-h[Y]/2)}}return n}function Cn(u,n){n===void 0&&(n={});var l=n,h=l.placement,k=h===void 0?u.placement:h,S=l.strategy,D=S===void 0?u.strategy:S,N=l.boundary,G=N===void 0?tr:N,X=l.rootBoundary,Y=X===void 0?Ms:X,K=l.elementContext,ue=K===void 0?yn:K,ne=l.altBoundary,ie=ne!==void 0&&ne,re=l.padding,ae=re===void 0?0:re,xe=gr(typeof ae!="number"?ae:_r(ae,vn)),Te=ue===yn?nr:yn,pe=u.rects.popper,_e=u.elements[ie?Te:ue],fe=(function(at,Et,Ct,Ne){var qt=Et==="clippingParents"?(function(Ae){var lt=Bn(is(Ae)),xt=["absolute","fixed"].indexOf(jt(Ae).position)>=0&&wt(Ae)?Gn(Ae):Ae;return Xt(xt)?lt.filter(function(Ht){return Xt(Ht)&&pr(Ht,xt)&&It(Ht)!=="body"}):[]})(at):[].concat(Et),Lt=[].concat(qt,[Ct]),An=Lt[0],Xe=Lt.reduce(function(Ae,lt){var xt=kr(at,lt,Ne);return Ae.top=Yt(xt.top,Ae.top),Ae.right=rs(xt.right,Ae.right),Ae.bottom=rs(xt.bottom,Ae.bottom),Ae.left=Yt(xt.left,Ae.left),Ae},kr(at,An,Ne));return Xe.width=Xe.right-Xe.left,Xe.height=Xe.bottom-Xe.top,Xe.x=Xe.left,Xe.y=Xe.top,Xe})(Xt(_e)?_e:_e.contextElement||zt(u.elements.popper),G,Y,D),me=kn(u.elements.reference),ye=Er({reference:me,element:pe,placement:k}),Se=Ys(Object.assign({},pe,ye)),we=ue===yn?Se:me,Ue={top:fe.top-we.top+xe.top,bottom:we.bottom-fe.bottom+xe.bottom,left:fe.left-we.left+xe.left,right:we.right-fe.right+xe.right},_t=u.modifiersData.offset;if(ue===yn&&_t){var Tt=_t[k];Object.keys(Ue).forEach(function(at){var Et=[mt,pt].indexOf(at)>=0?1:-1,Ct=[rt,pt].indexOf(at)>=0?"y":"x";Ue[at]+=Tt[Ct]*Et})}return Ue}function Pl(u,n){n===void 0&&(n={});var l=n,h=l.placement,k=l.boundary,S=l.rootBoundary,D=l.padding,N=l.flipVariations,G=l.allowedAutoPlacements,X=G===void 0?Gs:G,Y=En(h),K=Y?N?js:js.filter(function(ie){return En(ie)===Y}):vn,ue=K.filter(function(ie){return X.indexOf(ie)>=0});ue.length===0&&(ue=K);var ne=ue.reduce(function(ie,re){return ie[re]=Cn(u,{placement:re,boundary:k,rootBoundary:S,padding:D})[Ot(re)],ie},{});return Object.keys(ne).sort(function(ie,re){return ne[ie]-ne[re]})}const Cr={name:"flip",enabled:!0,phase:"main",fn:function(u){var n=u.state,l=u.options,h=u.name;if(!n.modifiersData[h]._skip){for(var k=l.mainAxis,S=k===void 0||k,D=l.altAxis,N=D===void 0||D,G=l.fallbackPlacements,X=l.padding,Y=l.boundary,K=l.rootBoundary,ue=l.altBoundary,ne=l.flipVariations,ie=ne===void 0||ne,re=l.allowedAutoPlacements,ae=n.options.placement,xe=Ot(ae),Te=G||(xe!==ae&&ie?(function(Ae){if(Ot(Ae)===os)return[];var lt=ls(Ae);return[yr(Ae),lt,yr(lt)]})(ae):[ls(ae)]),pe=[ae].concat(Te).reduce(function(Ae,lt){return Ae.concat(Ot(lt)===os?Pl(n,{placement:lt,boundary:Y,rootBoundary:K,padding:X,flipVariations:ie,allowedAutoPlacements:re}):lt)},[]),_e=n.rects.reference,fe=n.rects.popper,me=new Map,ye=!0,Se=pe[0],we=0;we<pe.length;we++){var Ue=pe[we],_t=Ot(Ue),Tt=En(Ue)===Qt,at=[rt,pt].indexOf(_t)>=0,Et=at?"width":"height",Ct=Cn(n,{placement:Ue,boundary:Y,rootBoundary:K,altBoundary:ue,padding:X}),Ne=at?Tt?mt:it:Tt?pt:rt;_e[Et]>fe[Et]&&(Ne=ls(Ne));var qt=ls(Ne),Lt=[];if(S&&Lt.push(Ct[_t]<=0),N&&Lt.push(Ct[Ne]<=0,Ct[qt]<=0),Lt.every(function(Ae){return Ae})){Se=Ue,ye=!1;break}me.set(Ue,Lt)}if(ye)for(var An=function(Ae){var lt=pe.find(function(xt){var Ht=me.get(xt);if(Ht)return Ht.slice(0,Ae).every(function(_s){return _s})});if(lt)return Se=lt,"break"},Xe=ie?3:1;Xe>0&&An(Xe)!=="break";Xe--);n.placement!==Se&&(n.modifiersData[h]._skip=!0,n.placement=Se,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function xr(u,n,l){return l===void 0&&(l={x:0,y:0}),{top:u.top-n.height-l.y,right:u.right-n.width+l.x,bottom:u.bottom-n.height+l.y,left:u.left-n.width-l.x}}function Sr(u){return[rt,mt,pt,it].some(function(n){return u[n]>=0})}const Ar={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(u){var n=u.state,l=u.name,h=n.rects.reference,k=n.rects.popper,S=n.modifiersData.preventOverflow,D=Cn(n,{elementContext:"reference"}),N=Cn(n,{altBoundary:!0}),G=xr(D,h),X=xr(N,k,S),Y=Sr(G),K=Sr(X);n.modifiersData[l]={referenceClippingOffsets:G,popperEscapeOffsets:X,isReferenceHidden:Y,hasPopperEscaped:K},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":Y,"data-popper-escaped":K})}},Tr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(u){var n=u.state,l=u.options,h=u.name,k=l.offset,S=k===void 0?[0,0]:k,D=Gs.reduce(function(Y,K){return Y[K]=(function(ue,ne,ie){var re=Ot(ue),ae=[it,rt].indexOf(re)>=0?-1:1,xe=typeof ie=="function"?ie(Object.assign({},ne,{placement:ue})):ie,Te=xe[0],pe=xe[1];return Te=Te||0,pe=(pe||0)*ae,[it,mt].indexOf(re)>=0?{x:pe,y:Te}:{x:Te,y:pe}})(K,n.rects,S),Y},{}),N=D[n.placement],G=N.x,X=N.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=G,n.modifiersData.popperOffsets.y+=X),n.modifiersData[h]=D}},Zs={name:"popperOffsets",enabled:!0,phase:"read",fn:function(u){var n=u.state,l=u.name;n.modifiersData[l]=Er({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})},data:{}},Pr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(u){var n=u.state,l=u.options,h=u.name,k=l.mainAxis,S=k===void 0||k,D=l.altAxis,N=D!==void 0&&D,G=l.boundary,X=l.rootBoundary,Y=l.altBoundary,K=l.padding,ue=l.tether,ne=ue===void 0||ue,ie=l.tetherOffset,re=ie===void 0?0:ie,ae=Cn(n,{boundary:G,rootBoundary:X,padding:K,altBoundary:Y}),xe=Ot(n.placement),Te=En(n.placement),pe=!Te,_e=Ks(xe),fe=_e==="x"?"y":"x",me=n.modifiersData.popperOffsets,ye=n.rects.reference,Se=n.rects.popper,we=typeof re=="function"?re(Object.assign({},n.rects,{placement:n.placement})):re,Ue=typeof we=="number"?{mainAxis:we,altAxis:we}:Object.assign({mainAxis:0,altAxis:0},we),_t=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Tt={x:0,y:0};if(me){if(S){var at,Et=_e==="y"?rt:it,Ct=_e==="y"?pt:mt,Ne=_e==="y"?"height":"width",qt=me[_e],Lt=qt+ae[Et],An=qt-ae[Ct],Xe=ne?-Se[Ne]/2:0,Ae=Te===Qt?ye[Ne]:Se[Ne],lt=Te===Qt?-Se[Ne]:-ye[Ne],xt=n.elements.arrow,Ht=ne&&xt?zs(xt):{width:0,height:0},_s=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},mi=_s[Et],gi=_s[Ct],vs=Un(0,ye[Ne],Ht[Ne]),au=pe?ye[Ne]/2-Xe-vs-mi-Ue.mainAxis:Ae-vs-mi-Ue.mainAxis,lu=pe?-ye[Ne]/2+Xe+vs+gi+Ue.mainAxis:lt+vs+gi+Ue.mainAxis,po=n.elements.arrow&&Gn(n.elements.arrow),cu=po?_e==="y"?po.clientTop||0:po.clientLeft||0:0,_i=(at=_t?.[_e])!=null?at:0,uu=qt+lu-_i,vi=Un(ne?rs(Lt,qt+au-_i-cu):Lt,qt,ne?Yt(An,uu):An);me[_e]=vi,Tt[_e]=vi-qt}if(N){var bi,du=_e==="x"?rt:it,fu=_e==="x"?pt:mt,an=me[fe],bs=fe==="y"?"height":"width",yi=an+ae[du],wi=an-ae[fu],mo=[rt,it].indexOf(xe)!==-1,ki=(bi=_t?.[fe])!=null?bi:0,Ei=mo?yi:an-ye[bs]-Se[bs]-ki+Ue.altAxis,Ci=mo?an+ye[bs]+Se[bs]-ki-Ue.altAxis:wi,xi=ne&&mo?(function(hu,pu,go){var Si=Un(hu,pu,go);return Si>go?go:Si})(Ei,an,Ci):Un(ne?Ei:yi,an,ne?Ci:wi);me[fe]=xi,Tt[fe]=xi-an}n.modifiersData[h]=Tt}},requiresIfExists:["offset"]};function Rl(u,n,l){l===void 0&&(l=!1);var h,k,S=wt(n),D=wt(n)&&(function(K){var ue=K.getBoundingClientRect(),ne=wn(ue.width)/K.offsetWidth||1,ie=wn(ue.height)/K.offsetHeight||1;return ne!==1||ie!==1})(n),N=zt(n),G=kn(u,D,l),X={scrollLeft:0,scrollTop:0},Y={x:0,y:0};return(S||!S&&!l)&&((It(n)!=="body"||Xs(N))&&(X=(h=n)!==gt(h)&&wt(h)?{scrollLeft:(k=h).scrollLeft,scrollTop:k.scrollTop}:Ws(h)),wt(n)?((Y=kn(n,!0)).x+=n.clientLeft,Y.y+=n.clientTop):N&&(Y.x=Qs(N))),{x:G.left+X.scrollLeft-Y.x,y:G.top+X.scrollTop-Y.y,width:G.width,height:G.height}}function Dl(u){var n=new Map,l=new Set,h=[];function k(S){l.add(S.name),[].concat(S.requires||[],S.requiresIfExists||[]).forEach(function(D){if(!l.has(D)){var N=n.get(D);N&&k(N)}}),h.push(S)}return u.forEach(function(S){n.set(S.name,S)}),u.forEach(function(S){l.has(S.name)||k(S)}),h}var Rr={placement:"bottom",modifiers:[],strategy:"absolute"};function Dr(){for(var u=arguments.length,n=new Array(u),l=0;l<u;l++)n[l]=arguments[l];return!n.some(function(h){return!(h&&typeof h.getBoundingClientRect=="function")})}function cs(u){u===void 0&&(u={});var n=u,l=n.defaultModifiers,h=l===void 0?[]:l,k=n.defaultOptions,S=k===void 0?Rr:k;return function(D,N,G){G===void 0&&(G=S);var X,Y,K={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rr,S),modifiersData:{},elements:{reference:D,popper:N},attributes:{},styles:{}},ue=[],ne=!1,ie={state:K,setOptions:function(ae){var xe=typeof ae=="function"?ae(K.options):ae;re(),K.options=Object.assign({},S,K.options,xe),K.scrollParents={reference:Xt(D)?Bn(D):D.contextElement?Bn(D.contextElement):[],popper:Bn(N)};var Te,pe,_e=(function(fe){var me=Dl(fe);return fr.reduce(function(ye,Se){return ye.concat(me.filter(function(we){return we.phase===Se}))},[])})((Te=[].concat(h,K.options.modifiers),pe=Te.reduce(function(fe,me){var ye=fe[me.name];return fe[me.name]=ye?Object.assign({},ye,me,{options:Object.assign({},ye.options,me.options),data:Object.assign({},ye.data,me.data)}):me,fe},{}),Object.keys(pe).map(function(fe){return pe[fe]})));return K.orderedModifiers=_e.filter(function(fe){return fe.enabled}),K.orderedModifiers.forEach(function(fe){var me=fe.name,ye=fe.options,Se=ye===void 0?{}:ye,we=fe.effect;if(typeof we=="function"){var Ue=we({state:K,name:me,instance:ie,options:Se});ue.push(Ue||function(){})}}),ie.update()},forceUpdate:function(){if(!ne){var ae=K.elements,xe=ae.reference,Te=ae.popper;if(Dr(xe,Te)){K.rects={reference:Rl(xe,Gn(Te),K.options.strategy==="fixed"),popper:zs(Te)},K.reset=!1,K.placement=K.options.placement,K.orderedModifiers.forEach(function(we){return K.modifiersData[we.name]=Object.assign({},we.data)});for(var pe=0;pe<K.orderedModifiers.length;pe++)if(K.reset!==!0){var _e=K.orderedModifiers[pe],fe=_e.fn,me=_e.options,ye=me===void 0?{}:me,Se=_e.name;typeof fe=="function"&&(K=fe({state:K,options:ye,name:Se,instance:ie})||K)}else K.reset=!1,pe=-1}}},update:(X=function(){return new Promise(function(ae){ie.forceUpdate(),ae(K)})},function(){return Y||(Y=new Promise(function(ae){Promise.resolve().then(function(){Y=void 0,ae(X())})})),Y}),destroy:function(){re(),ne=!0}};if(!Dr(D,N))return ie;function re(){ue.forEach(function(ae){return ae()}),ue=[]}return ie.setOptions(G).then(function(ae){!ne&&G.onFirstUpdate&&G.onFirstUpdate(ae)}),ie}}var Il=cs(),Ol=cs({defaultModifiers:[Js,Zs,Hs,Bs]}),eo=cs({defaultModifiers:[Js,Zs,Hs,Bs,Tr,Cr,Pr,vr,Ar]});const Ir=Object.freeze(Object.defineProperty({__proto__:null,afterMain:lr,afterRead:rr,afterWrite:dr,applyStyles:Bs,arrow:vr,auto:os,basePlacements:vn,beforeMain:ir,beforeRead:sr,beforeWrite:cr,bottom:pt,clippingParents:tr,computeStyles:Hs,createPopper:eo,createPopperBase:Il,createPopperLite:Ol,detectOverflow:Cn,end:bn,eventListeners:Js,flip:Cr,hide:Ar,left:it,main:ar,modifierPhases:fr,offset:Tr,placements:Gs,popper:yn,popperGenerator:cs,popperOffsets:Zs,preventOverflow:Pr,read:or,reference:nr,right:mt,start:Qt,top:rt,variationPlacements:js,viewport:Ms,write:ur},Symbol.toStringTag,{value:"Module"})),Or="dropdown",Zt=".bs.dropdown",to=".data-api",ql="ArrowUp",qr="ArrowDown",Ll=`hide${Zt}`,$l=`hidden${Zt}`,Nl=`show${Zt}`,Fl=`shown${Zt}`,Lr=`click${Zt}${to}`,$r=`keydown${Zt}${to}`,Ml=`keyup${Zt}${to}`,xn="show",en='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',jl=`${en}.${xn}`,us=".dropdown-menu",Gl=y()?"top-end":"top-start",Ul=y()?"top-start":"top-end",Bl=y()?"bottom-end":"bottom-start",Vl=y()?"bottom-start":"bottom-end",zl=y()?"left-start":"right-start",Kl=y()?"right-start":"left-start",Hl={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Jl={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class At extends Le{constructor(n,l){super(n,l),this._popper=null,this._parent=this._element.parentNode,this._menu=A.next(this._element,us)[0]||A.prev(this._element,us)[0]||A.findOne(us,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Hl}static get DefaultType(){return Jl}static get NAME(){return Or}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!O.trigger(this._element,Nl,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const l of[].concat(...document.body.children))O.on(l,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(xn),this._element.classList.add(xn),O.trigger(this._element,Fl,n)}}hide(){if(m(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!O.trigger(this._element,Ll,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))O.off(l,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(xn),this._element.classList.remove(xn),this._element.setAttribute("aria-expanded","false"),Ge.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,$l,n)}}_getConfig(n){if(typeof(n=super._getConfig(n)).reference=="object"&&!c(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError(`${Or.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(Ir===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let n=this._element;this._config.reference==="parent"?n=this._parent:c(this._config.reference)?n=d(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const l=this._getPopperConfig();this._popper=eo(n,this._menu,l)}_isShown(){return this._menu.classList.contains(xn)}_getPlacement(){const n=this._parent;if(n.classList.contains("dropend"))return zl;if(n.classList.contains("dropstart"))return Kl;if(n.classList.contains("dropup-center"))return"top";if(n.classList.contains("dropdown-center"))return"bottom";const l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains("dropup")?l?Ul:Gl:l?Vl:Bl}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(l=>Number.parseInt(l,10)):typeof n=="function"?l=>n(l,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ge.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...x(this._config.popperConfig,[void 0,n])}}_selectMenuItem({key:n,target:l}){const h=A.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(k=>f(k));h.length&&q(h,l,n===qr,!h.includes(l)).focus()}static jQueryInterface(n){return this.each(function(){const l=At.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}static clearMenus(n){if(n.button===2||n.type==="keyup"&&n.key!=="Tab")return;const l=A.find(jl);for(const h of l){const k=At.getInstance(h);if(!k||k._config.autoClose===!1)continue;const S=n.composedPath(),D=S.includes(k._menu);if(S.includes(k._element)||k._config.autoClose==="inside"&&!D||k._config.autoClose==="outside"&&D||k._menu.contains(n.target)&&(n.type==="keyup"&&n.key==="Tab"||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const N={relatedTarget:k._element};n.type==="click"&&(N.clickEvent=n),k._completeHide(N)}}static dataApiKeydownHandler(n){const l=/input|textarea/i.test(n.target.tagName),h=n.key==="Escape",k=[ql,qr].includes(n.key);if(!k&&!h||l&&!h)return;n.preventDefault();const S=this.matches(en)?this:A.prev(this,en)[0]||A.next(this,en)[0]||A.findOne(en,n.delegateTarget.parentNode),D=At.getOrCreateInstance(S);if(k)return n.stopPropagation(),D.show(),void D._selectMenuItem(n);D._isShown()&&(n.stopPropagation(),D.hide(),S.focus())}}O.on(document,$r,en,At.dataApiKeydownHandler),O.on(document,$r,us,At.dataApiKeydownHandler),O.on(document,Lr,At.clearMenus),O.on(document,Ml,At.clearMenus),O.on(document,Lr,en,function(u){u.preventDefault(),At.getOrCreateInstance(this).toggle()}),E(At);const Nr="backdrop",Fr="show",Mr=`mousedown.bs.${Nr}`,Wl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ql={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class jr extends Ve{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return Wl}static get DefaultType(){return Ql}static get NAME(){return Nr}show(n){if(!this._config.isVisible)return void x(n);this._append();const l=this._getElement();this._config.isAnimated&&p(l),l.classList.add(Fr),this._emulateAnimation(()=>{x(n)})}hide(n){this._config.isVisible?(this._getElement().classList.remove(Fr),this._emulateAnimation(()=>{this.dispose(),x(n)})):x(n)}dispose(){this._isAppended&&(O.off(this._element,Mr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add("fade"),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=d(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),O.on(n,Mr,()=>{x(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){R(n,this._getElement(),this._config.isAnimated)}}const ds=".bs.focustrap",Xl=`focusin${ds}`,Yl=`keydown.tab${ds}`,Gr="backward",Zl={autofocus:!0,trapElement:null},ec={autofocus:"boolean",trapElement:"element"};class Ur extends Ve{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Zl}static get DefaultType(){return ec}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,ds),O.on(document,Xl,n=>this._handleFocusin(n)),O.on(document,Yl,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,O.off(document,ds))}_handleFocusin(n){const{trapElement:l}=this._config;if(n.target===document||n.target===l||l.contains(n.target))return;const h=A.focusableChildren(l);h.length===0?l.focus():this._lastTabNavDirection===Gr?h[h.length-1].focus():h[0].focus()}_handleKeydown(n){n.key==="Tab"&&(this._lastTabNavDirection=n.shiftKey?Gr:"forward")}}const Br=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vr=".sticky-top",fs="padding-right",zr="margin-right";class no{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,fs,l=>l+n),this._setElementAttributes(Br,fs,l=>l+n),this._setElementAttributes(Vr,zr,l=>l-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,fs),this._resetElementAttributes(Br,fs),this._resetElementAttributes(Vr,zr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,l,h){const k=this.getWidth();this._applyManipulationCallback(n,S=>{if(S!==this._element&&window.innerWidth>S.clientWidth+k)return;this._saveInitialAttribute(S,l);const D=window.getComputedStyle(S).getPropertyValue(l);S.style.setProperty(l,`${h(Number.parseFloat(D))}px`)})}_saveInitialAttribute(n,l){const h=n.style.getPropertyValue(l);h&&Ge.setDataAttribute(n,l,h)}_resetElementAttributes(n,l){this._applyManipulationCallback(n,h=>{const k=Ge.getDataAttribute(h,l);k!==null?(Ge.removeDataAttribute(h,l),h.style.setProperty(l,k)):h.style.removeProperty(l)})}_applyManipulationCallback(n,l){if(c(n))l(n);else for(const h of A.find(n,this._element))l(h)}}const kt=".bs.modal",tc=`hide${kt}`,nc=`hidePrevented${kt}`,Kr=`hidden${kt}`,Hr=`show${kt}`,sc=`shown${kt}`,oc=`resize${kt}`,rc=`click.dismiss${kt}`,ic=`mousedown.dismiss${kt}`,ac=`keydown.dismiss${kt}`,lc=`click${kt}.data-api`,Jr="modal-open",Wr="show",so="modal-static",cc={backdrop:!0,focus:!0,keyboard:!0},uc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class tn extends Le{constructor(n,l){super(n,l),this._dialog=A.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new no,this._addEventListeners()}static get Default(){return cc}static get DefaultType(){return uc}static get NAME(){return"modal"}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||O.trigger(this._element,Hr,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Jr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){this._isShown&&!this._isTransitioning&&(O.trigger(this._element,tc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Wr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){O.off(window,kt),O.off(this._dialog,kt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new jr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ur({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=A.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),p(this._element),this._element.classList.add(Wr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,sc,{relatedTarget:n})},this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,ac,n=>{n.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),O.on(window,oc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,ic,n=>{O.one(this._element,rc,l=>{this._element===n.target&&this._element===l.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Jr),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,Kr)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(O.trigger(this._element,nc).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(so)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(so),this._queueCallback(()=>{this._element.classList.remove(so),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),h=l>0;if(h&&!n){const k=y()?"paddingLeft":"paddingRight";this._element.style[k]=`${l}px`}if(!h&&n){const k=y()?"paddingRight":"paddingLeft";this._element.style[k]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,l){return this.each(function(){const h=tn.getOrCreateInstance(this,n);if(typeof n=="string"){if(h[n]===void 0)throw new TypeError(`No method named "${n}"`);h[n](l)}})}}O.on(document,lc,'[data-bs-toggle="modal"]',function(u){const n=A.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&u.preventDefault(),O.one(n,Hr,h=>{h.defaultPrevented||O.one(n,Kr,()=>{f(this)&&this.focus()})});const l=A.findOne(".modal.show");l&&tn.getInstance(l).hide(),tn.getOrCreateInstance(n).toggle(this)}),Q(tn),E(tn);const Gt=".bs.offcanvas",Qr=".data-api",dc=`load${Gt}${Qr}`,Xr="show",Yr="showing",Zr="hiding",ei=".offcanvas.show",fc=`show${Gt}`,hc=`shown${Gt}`,pc=`hide${Gt}`,ti=`hidePrevented${Gt}`,ni=`hidden${Gt}`,mc=`resize${Gt}`,gc=`click${Gt}${Qr}`,_c=`keydown.dismiss${Gt}`,vc={backdrop:!0,keyboard:!0,scroll:!1},bc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ut extends Le{constructor(n,l){super(n,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return vc}static get DefaultType(){return bc}static get NAME(){return"offcanvas"}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||O.trigger(this._element,fc,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new no().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Yr),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Xr),this._element.classList.remove(Yr),O.trigger(this._element,hc,{relatedTarget:n})},this._element,!0))}hide(){this._isShown&&(O.trigger(this._element,pc).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Zr),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Xr,Zr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new no().reset(),O.trigger(this._element,ni)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=!!this._config.backdrop;return new jr({className:"offcanvas-backdrop",isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?()=>{this._config.backdrop!=="static"?this.hide():O.trigger(this._element,ti)}:null})}_initializeFocusTrap(){return new Ur({trapElement:this._element})}_addEventListeners(){O.on(this._element,_c,n=>{n.key==="Escape"&&(this._config.keyboard?this.hide():O.trigger(this._element,ti))})}static jQueryInterface(n){return this.each(function(){const l=Ut.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n](this)}})}}O.on(document,gc,'[data-bs-toggle="offcanvas"]',function(u){const n=A.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),m(this))return;O.one(n,ni,()=>{f(this)&&this.focus()});const l=A.findOne(ei);l&&l!==n&&Ut.getInstance(l).hide(),Ut.getOrCreateInstance(n).toggle(this)}),O.on(window,dc,()=>{for(const u of A.find(ei))Ut.getOrCreateInstance(u).show()}),O.on(window,mc,()=>{for(const u of A.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&Ut.getOrCreateInstance(u).hide()}),Q(Ut),E(Ut);const si={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},yc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),wc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,kc=(u,n)=>{const l=u.nodeName.toLowerCase();return n.includes(l)?!yc.has(l)||!!wc.test(u.nodeValue):n.filter(h=>h instanceof RegExp).some(h=>h.test(l))},Ec={allowList:si,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Cc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},xc={entry:"(string|element|function|null)",selector:"(string|element)"};class Sc extends Ve{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return Ec}static get DefaultType(){return Cc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[k,S]of Object.entries(this._config.content))this._setContent(n,S,k);const l=n.children[0],h=this._resolvePossibleFunction(this._config.extraClass);return h&&l.classList.add(...h.split(" ")),l}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[l,h]of Object.entries(n))super._typeCheckConfig({selector:l,entry:h},xc)}_setContent(n,l,h){const k=A.findOne(h,n);k&&((l=this._resolvePossibleFunction(l))?c(l)?this._putElementInTemplate(d(l),k):this._config.html?k.innerHTML=this._maybeSanitize(l):k.textContent=l:k.remove())}_maybeSanitize(n){return this._config.sanitize?(function(l,h,k){if(!l.length)return l;if(k&&typeof k=="function")return k(l);const S=new window.DOMParser().parseFromString(l,"text/html"),D=[].concat(...S.body.querySelectorAll("*"));for(const N of D){const G=N.nodeName.toLowerCase();if(!Object.keys(h).includes(G)){N.remove();continue}const X=[].concat(...N.attributes),Y=[].concat(h["*"]||[],h[G]||[]);for(const K of X)kc(K,Y)||N.removeAttribute(K.nodeName)}return S.body.innerHTML})(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return x(n,[void 0,this])}_putElementInTemplate(n,l){if(this._config.html)return l.innerHTML="",void l.append(n);l.textContent=n.textContent}}const Ac=new Set(["sanitize","allowList","sanitizeFn"]),oo="fade",hs="show",Tc=".tooltip-inner",oi=".modal",ri="hide.bs.modal",Vn="hover",ro="focus",io="click",Pc={AUTO:"auto",TOP:"top",RIGHT:y()?"left":"right",BOTTOM:"bottom",LEFT:y()?"right":"left"},Rc={allowList:si,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Dc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class nn extends Le{constructor(n,l){if(Ir===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(n,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Rc}static get DefaultType(){return Dc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(oi),ri,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const n=O.trigger(this._element,this.constructor.eventName("show")),l=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!l)return;this._disposePopper();const h=this._getTipElement();this._element.setAttribute("aria-describedby",h.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(h),O.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(h),h.classList.add(hs),"ontouchstart"in document.documentElement)for(const S of[].concat(...document.body.children))O.on(S,"mouseover",_);this._queueCallback(()=>{O.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!O.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(hs),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))O.off(n,"mouseover",_);this._activeTrigger[io]=!1,this._activeTrigger[ro]=!1,this._activeTrigger[Vn]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const l=this._getTemplateFactory(n).toHtml();if(!l)return null;l.classList.remove(oo,hs),l.classList.add(`bs-${this.constructor.NAME}-auto`);const h=(k=>{do k+=Math.floor(1e6*Math.random());while(document.getElementById(k));return k})(this.constructor.NAME).toString();return l.setAttribute("id",h),this._isAnimated()&&l.classList.add(oo),l}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new Sc({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Tc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(oo)}_isShown(){return this.tip&&this.tip.classList.contains(hs)}_createPopper(n){const l=x(this._config.placement,[this,n,this._element]),h=Pc[l.toUpperCase()];return eo(this._element,n,this._getPopperConfig(h))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(l=>Number.parseInt(l,10)):typeof n=="function"?l=>n(l,this._element):n}_resolvePossibleFunction(n){return x(n,[this._element,this._element])}_getPopperConfig(n){const l={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:h=>{this._getTipElement().setAttribute("data-popper-placement",h.state.placement)}}]};return{...l,...x(this._config.popperConfig,[void 0,l])}}_setListeners(){const n=this._config.trigger.split(" ");for(const l of n)if(l==="click")O.on(this._element,this.constructor.eventName("click"),this._config.selector,h=>{const k=this._initializeOnDelegatedTarget(h);k._activeTrigger[io]=!(k._isShown()&&k._activeTrigger[io]),k.toggle()});else if(l!=="manual"){const h=l===Vn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),k=l===Vn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");O.on(this._element,h,this._config.selector,S=>{const D=this._initializeOnDelegatedTarget(S);D._activeTrigger[S.type==="focusin"?ro:Vn]=!0,D._enter()}),O.on(this._element,k,this._config.selector,S=>{const D=this._initializeOnDelegatedTarget(S);D._activeTrigger[S.type==="focusout"?ro:Vn]=D._element.contains(S.relatedTarget),D._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(oi),ri,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,l){clearTimeout(this._timeout),this._timeout=setTimeout(n,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const l=Ge.getDataAttributes(this._element);for(const h of Object.keys(l))Ac.has(h)&&delete l[h];return n={...l,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:d(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[l,h]of Object.entries(this._config))this.constructor.Default[l]!==h&&(n[l]=h);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const l=nn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}}E(nn);const Ic=".popover-header",Oc=".popover-body",qc={...nn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Lc={...nn.DefaultType,content:"(null|string|element|function)"};class ps extends nn{static get Default(){return qc}static get DefaultType(){return Lc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ic]:this._getTitle(),[Oc]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const l=ps.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n]()}})}}E(ps);const ao=".bs.scrollspy",$c=`activate${ao}`,ii=`click${ao}`,Nc=`load${ao}.data-api`,Sn="active",lo="[href]",ai=".nav-link",Fc=`${ai}, .nav-item > ${ai}, .list-group-item`,Mc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},jc={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class zn extends Le{constructor(n,l){super(n,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Mc}static get DefaultType(){return jc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=d(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(l=>Number.parseFloat(l))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(O.off(this._config.target,ii),O.on(this._config.target,ii,lo,n=>{const l=this._observableSections.get(n.target.hash);if(l){n.preventDefault();const h=this._rootElement||window,k=l.offsetTop-this._element.offsetTop;if(h.scrollTo)return void h.scrollTo({top:k,behavior:"smooth"});h.scrollTop=k}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),n)}_observerCallback(n){const l=D=>this._targetLinks.get(`#${D.target.id}`),h=D=>{this._previousScrollData.visibleEntryTop=D.target.offsetTop,this._process(l(D))},k=(this._rootElement||document.documentElement).scrollTop,S=k>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=k;for(const D of n){if(!D.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(D));continue}const N=D.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(S&&N){if(h(D),!k)return}else S||N||h(D)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=A.find(lo,this._config.target);for(const l of n){if(!l.hash||m(l))continue;const h=A.findOne(decodeURI(l.hash),this._element);f(h)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,h))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(Sn),this._activateParents(n),O.trigger(this._element,$c,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains("dropdown-item"))A.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(Sn);else for(const l of A.parents(n,".nav, .list-group"))for(const h of A.prev(l,Fc))h.classList.add(Sn)}_clearActiveClass(n){n.classList.remove(Sn);const l=A.find(`${lo}.${Sn}`,n);for(const h of l)h.classList.remove(Sn)}static jQueryInterface(n){return this.each(function(){const l=zn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}})}}O.on(window,Nc,()=>{for(const u of A.find('[data-bs-spy="scroll"]'))zn.getOrCreateInstance(u)}),E(zn);const sn=".bs.tab",Gc=`hide${sn}`,Uc=`hidden${sn}`,Bc=`show${sn}`,Vc=`shown${sn}`,zc=`click${sn}`,Kc=`keydown${sn}`,Hc=`load${sn}`,Jc="ArrowLeft",li="ArrowRight",Wc="ArrowUp",ci="ArrowDown",co="Home",ui="End",on="active",di="fade",uo="show",fi=".dropdown-toggle",fo=`:not(${fi})`,hi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ho=`.nav-link${fo}, .list-group-item${fo}, [role="tab"]${fo}, ${hi}`,Qc=`.${on}[data-bs-toggle="tab"], .${on}[data-bs-toggle="pill"], .${on}[data-bs-toggle="list"]`;class rn extends Le{constructor(n){super(n),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,Kc,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const n=this._element;if(this._elemIsActive(n))return;const l=this._getActiveElem(),h=l?O.trigger(l,Gc,{relatedTarget:n}):null;O.trigger(n,Bc,{relatedTarget:l}).defaultPrevented||h&&h.defaultPrevented||(this._deactivate(l,n),this._activate(n,l))}_activate(n,l){n&&(n.classList.add(on),this._activate(A.getElementFromSelector(n)),this._queueCallback(()=>{n.getAttribute("role")==="tab"?(n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),O.trigger(n,Vc,{relatedTarget:l})):n.classList.add(uo)},n,n.classList.contains(di)))}_deactivate(n,l){n&&(n.classList.remove(on),n.blur(),this._deactivate(A.getElementFromSelector(n)),this._queueCallback(()=>{n.getAttribute("role")==="tab"?(n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),O.trigger(n,Uc,{relatedTarget:l})):n.classList.remove(uo)},n,n.classList.contains(di)))}_keydown(n){if(![Jc,li,Wc,ci,co,ui].includes(n.key))return;n.stopPropagation(),n.preventDefault();const l=this._getChildren().filter(k=>!m(k));let h;if([co,ui].includes(n.key))h=l[n.key===co?0:l.length-1];else{const k=[li,ci].includes(n.key);h=q(l,n.target,k,!0)}h&&(h.focus({preventScroll:!0}),rn.getOrCreateInstance(h).show())}_getChildren(){return A.find(ho,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,l){this._setAttributeIfNotExists(n,"role","tablist");for(const h of l)this._setInitialAttributesOnChild(h)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const l=this._elemIsActive(n),h=this._getOuterElement(n);n.setAttribute("aria-selected",l),h!==n&&this._setAttributeIfNotExists(h,"role","presentation"),l||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const l=A.getElementFromSelector(n);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,l){const h=this._getOuterElement(n);if(!h.classList.contains("dropdown"))return;const k=(S,D)=>{const N=A.findOne(S,h);N&&N.classList.toggle(D,l)};k(fi,on),k(".dropdown-menu",uo),h.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(n,l,h){n.hasAttribute(l)||n.setAttribute(l,h)}_elemIsActive(n){return n.classList.contains(on)}_getInnerElement(n){return n.matches(ho)?n:A.findOne(ho,n)}_getOuterElement(n){return n.closest(".nav-item, .list-group-item")||n}static jQueryInterface(n){return this.each(function(){const l=rn.getOrCreateInstance(this);if(typeof n=="string"){if(l[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError(`No method named "${n}"`);l[n]()}})}}O.on(document,zc,hi,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),m(this)||rn.getOrCreateInstance(this).show()}),O.on(window,Hc,()=>{for(const u of A.find(Qc))rn.getOrCreateInstance(u)}),E(rn);const Kt=".bs.toast",Xc=`mouseover${Kt}`,Yc=`mouseout${Kt}`,Zc=`focusin${Kt}`,eu=`focusout${Kt}`,tu=`hide${Kt}`,nu=`hidden${Kt}`,su=`show${Kt}`,ou=`shown${Kt}`,pi="hide",ms="show",gs="showing",ru={animation:"boolean",autohide:"boolean",delay:"number"},iu={animation:!0,autohide:!0,delay:5e3};class Kn extends Le{constructor(n,l){super(n,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return iu}static get DefaultType(){return ru}static get NAME(){return"toast"}show(){O.trigger(this._element,su).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(pi),p(this._element),this._element.classList.add(ms,gs),this._queueCallback(()=>{this._element.classList.remove(gs),O.trigger(this._element,ou),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(O.trigger(this._element,tu).defaultPrevented||(this._element.classList.add(gs),this._queueCallback(()=>{this._element.classList.add(pi),this._element.classList.remove(gs,ms),O.trigger(this._element,nu)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ms),super.dispose()}isShown(){return this._element.classList.contains(ms)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,l){switch(n.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const h=n.relatedTarget;this._element===h||this._element.contains(h)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,Xc,n=>this._onInteraction(n,!0)),O.on(this._element,Yc,n=>this._onInteraction(n,!1)),O.on(this._element,Zc,n=>this._onInteraction(n,!0)),O.on(this._element,eu,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const l=Kn.getOrCreateInstance(this,n);if(typeof n=="string"){if(l[n]===void 0)throw new TypeError(`No method named "${n}"`);l[n](this)}})}}return Q(Kn),E(Kn),{Alert:Ee,Button:se,Carousel:mn,Collapse:_n,Dropdown:At,Modal:tn,Offcanvas:Ut,Popover:ps,ScrollSpy:zn,Tab:rn,Toast:Kn,Tooltip:nn}})});export default o1();
